// Generated by Haxe 3.4.4 (git build master @ 99b08bb)
var $hx_exports = typeof exports != "undefined" ? exports : typeof window != "undefined" ? window : typeof self != "undefined" ? self : this;
$hx_exports["kha"] = $hx_exports["kha"] || {};
$hx_exports["kha"]["input"] = $hx_exports["kha"]["input"] || {};
;$hx_exports["kha"]["_Color"] = $hx_exports["kha"]["_Color"] || {};
var $global = typeof window != "undefined" ? window : typeof global != "undefined" ? global : typeof self != "undefined" ? self : this;
var $hxClasses = $hxClasses || {},$estr = function() { return js_Boot.__string_rec(this,''); };
function $extend(from, fields) {
	function Inherit() {} Inherit.prototype = from; var proto = new Inherit();
	for (var name in fields) proto[name] = fields[name];
	if( fields.toString !== Object.prototype.toString ) proto.toString = fields.toString;
	return proto;
}
var HxOverrides = $hxClasses["HxOverrides"] = function() { };
HxOverrides.__name__ = ["HxOverrides"];
HxOverrides.strDate = function(s) {
	var _g = s.length;
	switch(_g) {
	case 8:
		var k = s.split(":");
		var d = new Date();
		d["setTime"](0);
		d["setUTCHours"](k[0]);
		d["setUTCMinutes"](k[1]);
		d["setUTCSeconds"](k[2]);
		return d;
	case 10:
		var k1 = s.split("-");
		return new Date(k1[0],k1[1] - 1,k1[2],0,0,0);
	case 19:
		var k2 = s.split(" ");
		var y = k2[0].split("-");
		var t = k2[1].split(":");
		return new Date(y[0],y[1] - 1,y[2],t[0],t[1],t[2]);
	default:
		throw new js__$Boot_HaxeError("Invalid date format : " + s);
	}
};
HxOverrides.cca = function(s,index) {
	var x = s.charCodeAt(index);
	if(x != x) {
		return undefined;
	}
	return x;
};
HxOverrides.substr = function(s,pos,len) {
	if(len == null) {
		len = s.length;
	} else if(len < 0) {
		if(pos == 0) {
			len = s.length + len;
		} else {
			return "";
		}
	}
	return s.substr(pos,len);
};
HxOverrides.remove = function(a,obj) {
	var i = a.indexOf(obj);
	if(i == -1) {
		return false;
	}
	a.splice(i,1);
	return true;
};
HxOverrides.iter = function(a) {
	return { cur : 0, arr : a, hasNext : function() {
		return this.cur < this.arr.length;
	}, next : function() {
		return this.arr[this.cur++];
	}};
};
var Lambda = $hxClasses["Lambda"] = function() { };
Lambda.__name__ = ["Lambda"];
Lambda.array = function(it) {
	var a = [];
	var i = $iterator(it)();
	while(i.hasNext()) {
		var i1 = i.next();
		a.push(i1);
	}
	return a;
};
var List = $hxClasses["List"] = function() {
	this.length = 0;
};
List.__name__ = ["List"];
List.prototype = {
	h: null
	,q: null
	,length: null
	,add: function(item) {
		var x = new _$List_ListNode(item,null);
		if(this.h == null) {
			this.h = x;
		} else {
			this.q.next = x;
		}
		this.q = x;
		this.length++;
	}
	,push: function(item) {
		var x = new _$List_ListNode(item,this.h);
		this.h = x;
		if(this.q == null) {
			this.q = x;
		}
		this.length++;
	}
	,first: function() {
		if(this.h == null) {
			return null;
		} else {
			return this.h.item;
		}
	}
	,iterator: function() {
		return new _$List_ListIterator(this.h);
	}
	,__class__: List
};
var _$List_ListNode = $hxClasses["_List.ListNode"] = function(item,next) {
	this.item = item;
	this.next = next;
};
_$List_ListNode.__name__ = ["_List","ListNode"];
_$List_ListNode.prototype = {
	item: null
	,next: null
	,__class__: _$List_ListNode
};
var _$List_ListIterator = $hxClasses["_List.ListIterator"] = function(head) {
	this.head = head;
};
_$List_ListIterator.__name__ = ["_List","ListIterator"];
_$List_ListIterator.prototype = {
	head: null
	,hasNext: function() {
		return this.head != null;
	}
	,next: function() {
		var val = this.head.item;
		this.head = this.head.next;
		return val;
	}
	,__class__: _$List_ListIterator
};
var Main = $hxClasses["Main"] = function() { };
Main.__name__ = ["Main"];
Main.loadLib = function(name) {
	kha_Assets.loadBlobFromPath(name,function(b) {
		(1, eval)(b.toString());
		Main.state--;
		Main.start();
	});
};
Main.loadLibAmmo = function(name) {
	kha_Assets.loadBlobFromPath(name,function(b) {
		var print = function(s) {
			haxe_Log.trace(s,{ fileName : "Main.hx", lineNumber : 17, className : "Main", methodName : "loadLibAmmo"});
		};
		var loaded = function() {
			Main.state--;
			Main.start();
		};
		(1, eval)(b.toString());
		Ammo({print:print}).then(loaded);
	});
};
Main.main = function() {
	iron_object_BoneAnimation.skinMaxBones = 8;
	iron_object_LampObject.cascadeCount = 4;
	iron_object_LampObject.cascadeSplitFactor = 0.800000011920929;
	Main.state = 1;
	Main.state++;
	Main.loadLibAmmo("ammo.js");
	Main.state--;
	Main.start();
};
Main.start = function() {
	if(Main.state > 0) {
		return;
	}
	if(armory_data_Config.raw == null) {
		armory_data_Config.raw = { };
	}
	var config = armory_data_Config.raw;
	if(config.window_mode == null) {
		config.window_mode = 0;
	}
	if(config.window_resizable == null) {
		config.window_resizable = false;
	}
	if(config.window_minimizable == null) {
		config.window_minimizable = true;
	}
	if(config.window_maximizable == null) {
		config.window_maximizable = false;
	}
	if(config.window_w == null) {
		config.window_w = 840;
	}
	if(config.window_h == null) {
		config.window_h = 1008;
	}
	if(config.window_msaa == null) {
		config.window_msaa = 1;
	}
	if(config.window_vsync == null) {
		config.window_vsync = true;
	}
	armory_object_Uniforms.register();
	var windowMode = config.window_mode == 0 ? kha_WindowMode.Window : config.window_mode == 1 ? kha_WindowMode.BorderlessWindow : kha_WindowMode.Fullscreen;
	if(windowMode == kha_WindowMode.Fullscreen) {
		windowMode = kha_WindowMode.BorderlessWindow;
		config.window_w = kha_DisplayImpl.width(0);
		config.window_h = kha_DisplayImpl.height(0);
	} else {
		config.window_w = Math.min(config.window_w,kha_DisplayImpl.width(0)) | 0;
		config.window_h = Math.min(config.window_h,kha_DisplayImpl.height(0)) | 0;
	}
	kha_System.init({ title : "untitled", width : config.window_w, height : config.window_h, samplesPerPixel : config.window_msaa, vSync : config.window_vsync, windowMode : windowMode, resizable : config.window_resizable, maximizable : config.window_maximizable, minimizable : config.window_minimizable},function() {
		iron_App.init(function() {
			iron_Scene.setActive("Scene",function(object) {
				object.addTrait(new armory_trait_internal_SpaceArmory());
				iron_RenderPath.setActive(armory_renderpath_RenderPathCreator.get());
			});
		});
	});
};
Math.__name__ = ["Math"];
var Reflect = $hxClasses["Reflect"] = function() { };
Reflect.__name__ = ["Reflect"];
Reflect.field = function(o,field) {
	try {
		return o[field];
	} catch( e ) {
		return null;
	}
};
Reflect.getProperty = function(o,field) {
	var tmp;
	if(o == null) {
		return null;
	} else {
		var tmp1;
		if(o.__properties__) {
			tmp = o.__properties__["get_" + field];
			tmp1 = tmp;
		} else {
			tmp1 = false;
		}
		if(tmp1) {
			return o[tmp]();
		} else {
			return o[field];
		}
	}
};
Reflect.setProperty = function(o,field,value) {
	var tmp;
	var tmp1;
	if(o.__properties__) {
		tmp = o.__properties__["set_" + field];
		tmp1 = tmp;
	} else {
		tmp1 = false;
	}
	if(tmp1) {
		o[tmp](value);
	} else {
		o[field] = value;
	}
};
Reflect.fields = function(o) {
	var a = [];
	if(o != null) {
		var hasOwnProperty = Object.prototype.hasOwnProperty;
		for( var f in o ) {
		if(f != "__id__" && f != "hx__closures__" && hasOwnProperty.call(o,f)) {
			a.push(f);
		}
		}
	}
	return a;
};
Reflect.isFunction = function(f) {
	if(typeof(f) == "function") {
		return !(f.__name__ || f.__ename__);
	} else {
		return false;
	}
};
Reflect.deleteField = function(o,field) {
	if(!Object.prototype.hasOwnProperty.call(o,field)) {
		return false;
	}
	delete(o[field]);
	return true;
};
Reflect.copy = function(o) {
	var o2 = { };
	var _g = 0;
	var _g1 = Reflect.fields(o);
	while(_g < _g1.length) {
		var f = _g1[_g];
		++_g;
		o2[f] = Reflect.field(o,f);
	}
	return o2;
};
var Std = $hxClasses["Std"] = function() { };
Std.__name__ = ["Std"];
Std.string = function(s) {
	return js_Boot.__string_rec(s,"");
};
Std.parseInt = function(x) {
	var v = parseInt(x,10);
	if(v == 0 && (HxOverrides.cca(x,1) == 120 || HxOverrides.cca(x,1) == 88)) {
		v = parseInt(x);
	}
	if(isNaN(v)) {
		return null;
	}
	return v;
};
Std.random = function(x) {
	if(x <= 0) {
		return 0;
	} else {
		return Math.floor(Math.random() * x);
	}
};
var StringBuf = $hxClasses["StringBuf"] = function() {
	this.b = "";
};
StringBuf.__name__ = ["StringBuf"];
StringBuf.prototype = {
	b: null
	,__class__: StringBuf
};
var StringTools = $hxClasses["StringTools"] = function() { };
StringTools.__name__ = ["StringTools"];
StringTools.endsWith = function(s,end) {
	var elen = end.length;
	var slen = s.length;
	if(slen >= elen) {
		return HxOverrides.substr(s,slen - elen,elen) == end;
	} else {
		return false;
	}
};
StringTools.replace = function(s,sub,by) {
	return s.split(sub).join(by);
};
var ValueType = $hxClasses["ValueType"] = { __ename__ : ["ValueType"], __constructs__ : ["TNull","TInt","TFloat","TBool","TObject","TFunction","TClass","TEnum","TUnknown"] };
ValueType.TNull = ["TNull",0];
ValueType.TNull.toString = $estr;
ValueType.TNull.__enum__ = ValueType;
ValueType.TInt = ["TInt",1];
ValueType.TInt.toString = $estr;
ValueType.TInt.__enum__ = ValueType;
ValueType.TFloat = ["TFloat",2];
ValueType.TFloat.toString = $estr;
ValueType.TFloat.__enum__ = ValueType;
ValueType.TBool = ["TBool",3];
ValueType.TBool.toString = $estr;
ValueType.TBool.__enum__ = ValueType;
ValueType.TObject = ["TObject",4];
ValueType.TObject.toString = $estr;
ValueType.TObject.__enum__ = ValueType;
ValueType.TFunction = ["TFunction",5];
ValueType.TFunction.toString = $estr;
ValueType.TFunction.__enum__ = ValueType;
ValueType.TClass = function(c) { var $x = ["TClass",6,c]; $x.__enum__ = ValueType; $x.toString = $estr; return $x; };
ValueType.TEnum = function(e) { var $x = ["TEnum",7,e]; $x.__enum__ = ValueType; $x.toString = $estr; return $x; };
ValueType.TUnknown = ["TUnknown",8];
ValueType.TUnknown.toString = $estr;
ValueType.TUnknown.__enum__ = ValueType;
var Type = $hxClasses["Type"] = function() { };
Type.__name__ = ["Type"];
Type.getClassName = function(c) {
	var a = c.__name__;
	if(a == null) {
		return null;
	}
	return a.join(".");
};
Type.getEnumName = function(e) {
	var a = e.__ename__;
	return a.join(".");
};
Type.resolveClass = function(name) {
	var cl = $hxClasses[name];
	if(cl == null || !cl.__name__) {
		return null;
	}
	return cl;
};
Type.resolveEnum = function(name) {
	var e = $hxClasses[name];
	if(e == null || !e.__ename__) {
		return null;
	}
	return e;
};
Type.createInstance = function(cl,args) {
	var _g = args.length;
	switch(_g) {
	case 0:
		return new cl();
	case 1:
		return new cl(args[0]);
	case 2:
		return new cl(args[0],args[1]);
	case 3:
		return new cl(args[0],args[1],args[2]);
	case 4:
		return new cl(args[0],args[1],args[2],args[3]);
	case 5:
		return new cl(args[0],args[1],args[2],args[3],args[4]);
	case 6:
		return new cl(args[0],args[1],args[2],args[3],args[4],args[5]);
	case 7:
		return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6]);
	case 8:
		return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7]);
	case 9:
		return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8]);
	case 10:
		return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9]);
	case 11:
		return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9],args[10]);
	case 12:
		return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9],args[10],args[11]);
	case 13:
		return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9],args[10],args[11],args[12]);
	case 14:
		return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9],args[10],args[11],args[12],args[13]);
	default:
		throw new js__$Boot_HaxeError("Too many arguments");
	}
};
Type.createEmptyInstance = function(cl) {
	function empty() {}; empty.prototype = cl.prototype;
	return new empty();
};
Type.createEnum = function(e,constr,params) {
	var f = Reflect.field(e,constr);
	if(f == null) {
		throw new js__$Boot_HaxeError("No such constructor " + constr);
	}
	if(Reflect.isFunction(f)) {
		if(params == null) {
			throw new js__$Boot_HaxeError("Constructor " + constr + " need parameters");
		}
		return f.apply(e,params);
	}
	if(params != null && params.length != 0) {
		throw new js__$Boot_HaxeError("Constructor " + constr + " does not need parameters");
	}
	return f;
};
Type.getInstanceFields = function(c) {
	var a = [];
	for(var i in c.prototype) a.push(i);
	HxOverrides.remove(a,"__class__");
	HxOverrides.remove(a,"__properties__");
	return a;
};
Type["typeof"] = function(v) {
	var _g = typeof(v);
	switch(_g) {
	case "boolean":
		return ValueType.TBool;
	case "function":
		if(v.__name__ || v.__ename__) {
			return ValueType.TObject;
		}
		return ValueType.TFunction;
	case "number":
		if(Math.ceil(v) == v % 2147483648.0) {
			return ValueType.TInt;
		}
		return ValueType.TFloat;
	case "object":
		if(v == null) {
			return ValueType.TNull;
		}
		var e = v.__enum__;
		if(e != null) {
			return ValueType.TEnum(e);
		}
		var c = js_Boot.getClass(v);
		if(c != null) {
			return ValueType.TClass(c);
		}
		return ValueType.TObject;
	case "string":
		return ValueType.TClass(String);
	case "undefined":
		return ValueType.TNull;
	default:
		return ValueType.TUnknown;
	}
};
var _$UInt_UInt_$Impl_$ = $hxClasses["_UInt.UInt_Impl_"] = {};
_$UInt_UInt_$Impl_$.__name__ = ["_UInt","UInt_Impl_"];
_$UInt_UInt_$Impl_$.gt = function(a,b) {
	var aNeg = a < 0;
	var bNeg = b < 0;
	if(aNeg != bNeg) {
		return aNeg;
	} else {
		return a > b;
	}
};
_$UInt_UInt_$Impl_$.gte = function(a,b) {
	var aNeg = a < 0;
	var bNeg = b < 0;
	if(aNeg != bNeg) {
		return aNeg;
	} else {
		return a >= b;
	}
};
_$UInt_UInt_$Impl_$.toFloat = function(this1) {
	var $int = this1;
	if($int < 0) {
		return 4294967296.0 + $int;
	} else {
		return $int + 0.0;
	}
};
var iron_Trait = $hxClasses["iron.Trait"] = function() {
	this._render2D = null;
	this._render = null;
	this._lateUpdate = null;
	this._update = null;
	this._remove = null;
	this._init = null;
	this._add = null;
	this.name = "";
};
iron_Trait.__name__ = ["iron","Trait"];
iron_Trait.prototype = {
	name: null
	,object: null
	,_add: null
	,_init: null
	,_remove: null
	,_update: null
	,_lateUpdate: null
	,_render: null
	,_render2D: null
	,remove: function() {
		this.object.removeTrait(this);
	}
	,notifyOnAdd: function(f) {
		if(this._add == null) {
			this._add = [];
		}
		this._add.push(f);
	}
	,notifyOnInit: function(f) {
		if(this._init == null) {
			this._init = [];
		}
		this._init.push(f);
		iron_App.notifyOnInit(f);
	}
	,notifyOnRemove: function(f) {
		if(this._remove == null) {
			this._remove = [];
		}
		this._remove.push(f);
	}
	,notifyOnUpdate: function(f) {
		if(this._update == null) {
			this._update = [];
		}
		this._update.push(f);
		iron_App.notifyOnUpdate(f);
	}
	,removeUpdate: function(f) {
		HxOverrides.remove(this._update,f);
		iron_App.removeUpdate(f);
	}
	,notifyOnLateUpdate: function(f) {
		if(this._lateUpdate == null) {
			this._lateUpdate = [];
		}
		this._lateUpdate.push(f);
		iron_App.notifyOnLateUpdate(f);
	}
	,removeLateUpdate: function(f) {
		HxOverrides.remove(this._lateUpdate,f);
		iron_App.removeLateUpdate(f);
	}
	,notifyOnRender: function(f) {
		if(this._render == null) {
			this._render = [];
		}
		this._render.push(f);
		iron_App.notifyOnRender(f);
	}
	,removeRender: function(f) {
		HxOverrides.remove(this._render,f);
		iron_App.removeRender(f);
	}
	,notifyOnRender2D: function(f) {
		if(this._render2D == null) {
			this._render2D = [];
		}
		this._render2D.push(f);
		iron_App.notifyOnRender2D(f);
	}
	,removeRender2D: function(f) {
		HxOverrides.remove(this._render2D,f);
		iron_App.removeRender2D(f);
	}
	,__class__: iron_Trait
};
var armory_logicnode_LogicTree = $hxClasses["armory.logicnode.LogicTree"] = function() {
	this.loopBreak = false;
	iron_Trait.call(this);
};
armory_logicnode_LogicTree.__name__ = ["armory","logicnode","LogicTree"];
armory_logicnode_LogicTree.__super__ = iron_Trait;
armory_logicnode_LogicTree.prototype = $extend(iron_Trait.prototype,{
	loopBreak: null
	,add: function() {
	}
	,__class__: armory_logicnode_LogicTree
});
var arm_node_Obstacles = $hxClasses["arm.node.Obstacles"] = function() {
	armory_logicnode_LogicTree.call(this);
	this.notifyOnAdd($bind(this,this.add));
};
arm_node_Obstacles.__name__ = ["arm","node","Obstacles"];
arm_node_Obstacles.__super__ = armory_logicnode_LogicTree;
arm_node_Obstacles.prototype = $extend(armory_logicnode_LogicTree.prototype,{
	add: function() {
		var _SetVariable = new armory_logicnode_SetVariableNode(this);
		var _SpawnObject = new armory_logicnode_SpawnObjectNode(this);
		var _OnVolumeTrigger = new armory_logicnode_OnVolumeTriggerNode(this);
		_OnVolumeTrigger.property0 = "Enter";
		_OnVolumeTrigger.addInput(new armory_logicnode_ObjectNode(this,"Player"),0);
		_OnVolumeTrigger.addInput(new armory_logicnode_ObjectNode(this,"Check"),0);
		var _Sleep = new armory_logicnode_SleepNode(this);
		_Sleep.addInput(_OnVolumeTrigger,0);
		_Sleep.addInput(new armory_logicnode_FloatNode(this,0.009999999776482582),0);
		var _SetLocation = new armory_logicnode_SetLocationNode(this);
		_SetLocation.addInput(_Sleep,0);
		_SetLocation.addInput(new armory_logicnode_ObjectNode(this,"Check"),0);
		var _VectorMath_001 = new armory_logicnode_VectorMathNode(this);
		_VectorMath_001.property0 = "Add";
		var _GetLocation = new armory_logicnode_GetLocationNode(this);
		_GetLocation.addInput(new armory_logicnode_ObjectNode(this,"Check"),0);
		_GetLocation.addOutputs([_VectorMath_001]);
		_VectorMath_001.addInput(_GetLocation,0);
		_VectorMath_001.addInput(new armory_logicnode_VectorNode(this,0.0,15.0,0.0),0);
		_VectorMath_001.addOutputs([_SetLocation]);
		_VectorMath_001.addOutputs([new armory_logicnode_FloatNode(this,0.0)]);
		_SetLocation.addInput(_VectorMath_001,0);
		_SetLocation.addOutputs([new armory_logicnode_NullNode(this)]);
		_Sleep.addOutputs([_SetLocation]);
		_OnVolumeTrigger.addOutputs([_Sleep,_SpawnObject]);
		_SpawnObject.addInput(_OnVolumeTrigger,0);
		_SpawnObject.addInput(new armory_logicnode_ObjectNode(this,"Obstacle"),0);
		var _Transform = new armory_logicnode_TransformNode(this);
		var _Vector = new armory_logicnode_VectorNode(this);
		var _SeparateXYZ = new armory_logicnode_SeparateVectorNode(this);
		var _Vector_001 = new armory_logicnode_VectorNode(this);
		_Vector_001.addInput(new armory_logicnode_FloatNode(this,0.0),0);
		_Vector_001.addInput(new armory_logicnode_FloatNode(this,15.0),0);
		_Vector_001.addInput(new armory_logicnode_FloatNode(this,0.0),0);
		_Vector_001.addOutputs([_SeparateXYZ,_Vector_001]);
		_SeparateXYZ.addInput(_Vector_001,0);
		_SeparateXYZ.addOutputs([_Vector]);
		var _Math = new armory_logicnode_MathNode(this);
		_Math.property0 = "Add";
		_Math.property1 = "false";
		_Math.addInput(_SeparateXYZ,1);
		_Math.addInput(new armory_logicnode_FloatNode(this,15.0),0);
		_Math.addOutputs([_Vector]);
		_SeparateXYZ.addOutputs([_Math]);
		_SeparateXYZ.addOutputs([new armory_logicnode_FloatNode(this,0.0)]);
		_Vector.addInput(_SeparateXYZ,0);
		_Vector.addInput(_Math,0);
		var _Random_Float_ = new armory_logicnode_RandomFloatNode(this);
		_Random_Float_.addInput(new armory_logicnode_FloatNode(this,-7.809999942779541),0);
		_Random_Float_.addInput(new armory_logicnode_FloatNode(this,6.139999866485596),0);
		_Random_Float_.addOutputs([_Vector]);
		_Vector.addInput(_Random_Float_,0);
		_Vector.addOutputs([_Transform,_Vector]);
		_Transform.addInput(_Vector,0);
		_Transform.addInput(new armory_logicnode_VectorNode(this,0.0,0.0,0.0),0);
		_Transform.addInput(new armory_logicnode_VectorNode(this,1.0,1.0,1.0),0);
		_Transform.addOutputs([_SpawnObject]);
		_SpawnObject.addInput(_Transform,0);
		var _ArrayAdd = new armory_logicnode_ArrayAddNode(this);
		_ArrayAdd.addInput(_SpawnObject,0);
		var _Array_Object_ = new armory_logicnode_ArrayObjectNode(this);
		var _ArrayShift = new armory_logicnode_ArrayShiftNode(this);
		_ArrayShift.addInput(_Array_Object_,0);
		var _RemoveObject = new armory_logicnode_RemoveObjectNode(this);
		var _IsTrue = new armory_logicnode_IsTrueNode(this);
		var _Sleep_001 = new armory_logicnode_SleepNode(this);
		_Sleep_001.addInput(_ArrayAdd,0);
		_Sleep_001.addInput(new armory_logicnode_FloatNode(this,4.0),0);
		_Sleep_001.addOutputs([_IsTrue]);
		_IsTrue.addInput(_Sleep_001,0);
		var _GetProperty = new armory_logicnode_GetPropertyNode(this);
		var _GlobalObject = new armory_logicnode_GlobalObjectNode(this);
		_GlobalObject.addOutputs([_GetProperty]);
		_GetProperty.addInput(_GlobalObject,0);
		_GetProperty.addInput(new armory_logicnode_StringNode(this,"Playable"),0);
		_GetProperty.addOutputs([_IsTrue]);
		_IsTrue.addInput(_GetProperty,0);
		_IsTrue.addOutputs([_RemoveObject]);
		_RemoveObject.addInput(_IsTrue,0);
		_RemoveObject.addInput(_ArrayShift,0);
		_RemoveObject.addOutputs([new armory_logicnode_NullNode(this)]);
		_ArrayShift.addOutputs([_RemoveObject]);
		_Array_Object_.addOutputs([_ArrayAdd,_ArrayShift]);
		_Array_Object_.addOutputs([new armory_logicnode_IntegerNode(this,0)]);
		_ArrayAdd.addInput(_Array_Object_,0);
		_ArrayAdd.addInput(_SpawnObject,1);
		_ArrayAdd.addOutputs([_Sleep_001]);
		_SpawnObject.addOutputs([_ArrayAdd,_SetVariable]);
		_SpawnObject.addOutputs([_ArrayAdd]);
		_SetVariable.addInput(_SpawnObject,0);
		_SetVariable.addInput(_Vector_001,0);
		_SetVariable.addInput(_Vector,0);
		_SetVariable.addOutputs([new armory_logicnode_NullNode(this)]);
	}
	,__class__: arm_node_Obstacles
});
var arm_node_Player = $hxClasses["arm.node.Player"] = function() {
	armory_logicnode_LogicTree.call(this);
	this.notifyOnAdd($bind(this,this.add));
};
arm_node_Player.__name__ = ["arm","node","Player"];
arm_node_Player.__super__ = armory_logicnode_LogicTree;
arm_node_Player.prototype = $extend(armory_logicnode_LogicTree.prototype,{
	add: function() {
		var _Shutdown = new armory_logicnode_ShutdownNode(this);
		var _OnEvent = new armory_logicnode_OnEventNode(this);
		_OnEvent.set_property0("Quit");
		_OnEvent.addOutputs([_Shutdown]);
		_Shutdown.addInput(_OnEvent,0);
		_Shutdown.addOutputs([new armory_logicnode_NullNode(this)]);
		var _SetScene = new armory_logicnode_SetSceneNode(this);
		var _OnEvent_001 = new armory_logicnode_OnEventNode(this);
		_OnEvent_001.set_property0("Restart");
		_OnEvent_001.addOutputs([_SetScene]);
		_SetScene.addInput(_OnEvent_001,0);
		var _Scene = new armory_logicnode_SceneNode(this);
		_Scene.property0 = "Scene";
		_Scene.addOutputs([_SetScene]);
		_SetScene.addInput(_Scene,0);
		_SetScene.addOutputs([new armory_logicnode_NullNode(this)]);
		_SetScene.addOutputs([new armory_logicnode_ObjectNode(this,"")]);
		var _CanvasSetText_001 = new armory_logicnode_CanvasSetTextNode(this);
		var _SetVariable = new armory_logicnode_SetVariableNode(this);
		var _OnVolumeTrigger = new armory_logicnode_OnVolumeTriggerNode(this);
		_OnVolumeTrigger.property0 = "Enter";
		_OnVolumeTrigger.addInput(new armory_logicnode_ObjectNode(this,"Player"),0);
		_OnVolumeTrigger.addInput(new armory_logicnode_ObjectNode(this,"Check"),0);
		_OnVolumeTrigger.addOutputs([_SetVariable]);
		_SetVariable.addInput(_OnVolumeTrigger,0);
		var _Integer = new armory_logicnode_IntegerNode(this);
		_Integer.addInput(new armory_logicnode_IntegerNode(this,0),0);
		var _Math_003 = new armory_logicnode_MathNode(this);
		_Math_003.property0 = "Add";
		_Math_003.property1 = "false";
		_Math_003.addInput(_Integer,0);
		_Math_003.addInput(new armory_logicnode_FloatNode(this,1.0),0);
		_Math_003.addOutputs([_SetVariable]);
		_Integer.addOutputs([_SetVariable,_Math_003,_CanvasSetText_001]);
		_SetVariable.addInput(_Integer,0);
		_SetVariable.addInput(_Math_003,0);
		_SetVariable.addOutputs([_CanvasSetText_001]);
		_CanvasSetText_001.addInput(_SetVariable,0);
		_CanvasSetText_001.addInput(new armory_logicnode_StringNode(this,"SC"),0);
		_CanvasSetText_001.addInput(_Integer,0);
		_CanvasSetText_001.addOutputs([new armory_logicnode_NullNode(this)]);
		var _ApplyImpulse = new armory_logicnode_ApplyImpulseNode(this);
		var _IsTrue_002 = new armory_logicnode_IsTrueNode(this);
		var _OnKeyboard = new armory_logicnode_OnKeyboardNode(this);
		_OnKeyboard.property0 = "Started";
		_OnKeyboard.property1 = "space";
		_OnKeyboard.addOutputs([_IsTrue_002]);
		_IsTrue_002.addInput(_OnKeyboard,0);
		var _GetProperty = new armory_logicnode_GetPropertyNode(this);
		var _GlobalObject_001 = new armory_logicnode_GlobalObjectNode(this);
		_GlobalObject_001.addOutputs([_GetProperty]);
		_GetProperty.addInput(_GlobalObject_001,0);
		_GetProperty.addInput(new armory_logicnode_StringNode(this,"Playable"),0);
		var _IsTrue_001 = new armory_logicnode_IsTrueNode(this);
		var _OnUpdate = new armory_logicnode_OnUpdateNode(this);
		_OnUpdate.addOutputs([_IsTrue_001]);
		_IsTrue_001.addInput(_OnUpdate,0);
		_IsTrue_001.addInput(_GetProperty,0);
		var _TranslateObject = new armory_logicnode_TranslateObjectNode(this);
		_TranslateObject.addInput(_IsTrue_001,0);
		_TranslateObject.addInput(new armory_logicnode_ObjectNode(this,"Player"),0);
		_TranslateObject.addInput(new armory_logicnode_VectorNode(this,0.0,0.09999999403953552,0.0),0);
		_TranslateObject.addOutputs([new armory_logicnode_NullNode(this)]);
		var _TranslateObject_001 = new armory_logicnode_TranslateObjectNode(this);
		_TranslateObject_001.addInput(_IsTrue_001,0);
		_TranslateObject_001.addInput(new armory_logicnode_ObjectNode(this,"Camera"),0);
		_TranslateObject_001.addInput(new armory_logicnode_VectorNode(this,0.0,0.09999999403953552,0.0),0);
		_TranslateObject_001.addOutputs([new armory_logicnode_NullNode(this)]);
		_IsTrue_001.addOutputs([_TranslateObject,_TranslateObject_001]);
		_GetProperty.addOutputs([_IsTrue_002,_IsTrue_001]);
		_IsTrue_002.addInput(_GetProperty,0);
		_IsTrue_002.addOutputs([_ApplyImpulse]);
		_ApplyImpulse.addInput(_IsTrue_002,0);
		_ApplyImpulse.addInput(new armory_logicnode_ObjectNode(this,"Player"),0);
		_ApplyImpulse.addInput(new armory_logicnode_VectorNode(this,0.0,0.0,45.0),0);
		_ApplyImpulse.addOutputs([new armory_logicnode_NullNode(this)]);
		var _SetRotation = new armory_logicnode_SetRotationNode(this);
		var _OnUpdate_001 = new armory_logicnode_OnUpdateNode(this);
		_OnUpdate_001.addOutputs([_SetRotation]);
		_SetRotation.addInput(_OnUpdate_001,0);
		_SetRotation.addInput(new armory_logicnode_ObjectNode(this,"Player"),0);
		var _Vector = new armory_logicnode_VectorNode(this);
		var _Math_002 = new armory_logicnode_MathNode(this);
		_Math_002.property0 = "Multiply";
		_Math_002.property1 = "false";
		var _Math_001 = new armory_logicnode_MathNode(this);
		_Math_001.property0 = "Divide";
		_Math_001.property1 = "false";
		var _Math = new armory_logicnode_MathNode(this);
		_Math.property0 = "Power";
		_Math.property1 = "false";
		var _SeparateXYZ = new armory_logicnode_SeparateVectorNode(this);
		var _GetVelocity = new armory_logicnode_GetVelocityNode(this);
		_GetVelocity.addInput(new armory_logicnode_ObjectNode(this,"Player"),0);
		_GetVelocity.addOutputs([_SeparateXYZ]);
		_GetVelocity.addOutputs([new armory_logicnode_VectorNode(this,0.0,0.0,0.0)]);
		_SeparateXYZ.addInput(_GetVelocity,0);
		_SeparateXYZ.addOutputs([new armory_logicnode_FloatNode(this,0.0)]);
		_SeparateXYZ.addOutputs([new armory_logicnode_FloatNode(this,0.0)]);
		_SeparateXYZ.addOutputs([_Math]);
		_Math.addInput(_SeparateXYZ,2);
		_Math.addInput(new armory_logicnode_FloatNode(this,2.0),0);
		_Math.addOutputs([_Math_001]);
		_Math_001.addInput(_Math,0);
		_Math_001.addInput(new armory_logicnode_FloatNode(this,250.0),0);
		_Math_001.addOutputs([_Math_002]);
		_Math_002.addInput(_Math_001,0);
		_Math_002.addInput(new armory_logicnode_FloatNode(this,-1.0),0);
		_Math_002.addOutputs([_Vector]);
		_Vector.addInput(_Math_002,0);
		_Vector.addInput(new armory_logicnode_FloatNode(this,0.0),0);
		_Vector.addInput(new armory_logicnode_FloatNode(this,0.0),0);
		_Vector.addOutputs([_SetRotation]);
		_SetRotation.addInput(_Vector,0);
		_SetRotation.addOutputs([new armory_logicnode_NullNode(this)]);
		var _SetProperty = new armory_logicnode_SetPropertyNode(this);
		var _CanvasSetText = new armory_logicnode_CanvasSetTextNode(this);
		var _Merge = new armory_logicnode_MergeNode(this);
		var _IsNotNone = new armory_logicnode_IsNotNoneNode(this);
		var _OnUpdate_002 = new armory_logicnode_OnUpdateNode(this);
		var _Gate = new armory_logicnode_GateNode(this);
		_Gate.property0 = "Greater Equal";
		_Gate.addInput(_OnUpdate_002,0);
		var _SeparateXYZ_001 = new armory_logicnode_SeparateVectorNode(this);
		var _GetLocation = new armory_logicnode_GetLocationNode(this);
		_GetLocation.addInput(new armory_logicnode_ObjectNode(this,"Player"),0);
		_GetLocation.addOutputs([_SeparateXYZ_001]);
		_SeparateXYZ_001.addInput(_GetLocation,0);
		_SeparateXYZ_001.addOutputs([new armory_logicnode_FloatNode(this,0.0)]);
		_SeparateXYZ_001.addOutputs([new armory_logicnode_FloatNode(this,0.0)]);
		var _Gate_001 = new armory_logicnode_GateNode(this);
		_Gate_001.property0 = "Less Equal";
		_Gate_001.addInput(_OnUpdate_002,0);
		_Gate_001.addInput(_SeparateXYZ_001,2);
		var _Float_001 = new armory_logicnode_FloatNode(this);
		_Float_001.addInput(new armory_logicnode_FloatNode(this,-13.0),0);
		_Float_001.addOutputs([_Gate_001]);
		_Gate_001.addInput(_Float_001,0);
		_Gate_001.addOutputs([_Merge]);
		_Gate_001.addOutputs([new armory_logicnode_NullNode(this)]);
		_SeparateXYZ_001.addOutputs([_Gate,_Gate_001]);
		_Gate.addInput(_SeparateXYZ_001,2);
		var _Float = new armory_logicnode_FloatNode(this);
		_Float.addInput(new armory_logicnode_FloatNode(this,10.0),0);
		_Float.addOutputs([_Gate]);
		_Gate.addInput(_Float,0);
		_Gate.addOutputs([_Merge]);
		_Gate.addOutputs([new armory_logicnode_NullNode(this)]);
		_OnUpdate_002.addOutputs([_IsNotNone,_Gate,_Gate_001]);
		_IsNotNone.addInput(_OnUpdate_002,0);
		var _GetFirstContact = new armory_logicnode_GetFirstContactNode(this);
		_GetFirstContact.addInput(new armory_logicnode_ObjectNode(this,"Player"),0);
		_GetFirstContact.addOutputs([_IsNotNone]);
		_IsNotNone.addInput(_GetFirstContact,0);
		_IsNotNone.addOutputs([_Merge]);
		_Merge.addInput(_IsNotNone,0);
		_Merge.addInput(_Gate,0);
		_Merge.addInput(_Gate_001,0);
		_Merge.addOutputs([_CanvasSetText]);
		_CanvasSetText.addInput(_Merge,0);
		_CanvasSetText.addInput(new armory_logicnode_StringNode(this,"GO"),0);
		_CanvasSetText.addInput(new armory_logicnode_StringNode(this,"Game Over"),0);
		_CanvasSetText.addOutputs([_SetProperty]);
		_SetProperty.addInput(_CanvasSetText,0);
		var _GlobalObject = new armory_logicnode_GlobalObjectNode(this);
		var _SetProperty_001 = new armory_logicnode_SetPropertyNode(this);
		var _OnInit = new armory_logicnode_OnInitNode(this);
		_OnInit.addOutputs([_SetProperty_001]);
		_SetProperty_001.addInput(_OnInit,0);
		_SetProperty_001.addInput(_GlobalObject,0);
		_SetProperty_001.addInput(new armory_logicnode_StringNode(this,"Playable"),0);
		var _Boolean_001 = new armory_logicnode_BooleanNode(this);
		_Boolean_001.addInput(new armory_logicnode_BooleanNode(this,true),0);
		_Boolean_001.addOutputs([_SetProperty_001]);
		_SetProperty_001.addInput(_Boolean_001,0);
		_SetProperty_001.addOutputs([new armory_logicnode_NullNode(this)]);
		_GlobalObject.addOutputs([_SetProperty,_SetProperty_001]);
		_SetProperty.addInput(_GlobalObject,0);
		_SetProperty.addInput(new armory_logicnode_StringNode(this,"Playable"),0);
		var _Boolean = new armory_logicnode_BooleanNode(this);
		_Boolean.addInput(new armory_logicnode_BooleanNode(this,false),0);
		_Boolean.addOutputs([_SetProperty]);
		_SetProperty.addInput(_Boolean,0);
		_SetProperty.addOutputs([new armory_logicnode_NullNode(this)]);
	}
	,__class__: arm_node_Player
});
var armory_data_Config = $hxClasses["armory.data.Config"] = function() { };
armory_data_Config.__name__ = ["armory","data","Config"];
armory_data_Config.load = function(done) {
	iron_data_Data.getBlob("config.arm",function(blob) {
		armory_data_Config.raw = JSON.parse(blob.toString());
		done();
	});
};
armory_data_Config.save = function() {
	var bytes = haxe_io_Bytes.ofString(JSON.stringify(armory_data_Config.raw));
	Krom.fileSaveBytes("./config.arm",bytes.b.bufferValue);
};
armory_data_Config.reset = function() {
};
var armory_logicnode_LogicNode = $hxClasses["armory.logicnode.LogicNode"] = function(tree) {
	this.outputs = [];
	this.inputs = [];
	this.tree = tree;
};
armory_logicnode_LogicNode.__name__ = ["armory","logicnode","LogicNode"];
armory_logicnode_LogicNode.prototype = {
	tree: null
	,inputs: null
	,outputs: null
	,addInput: function(node,from) {
		this.inputs.push(new armory_logicnode_LogicNodeInput(node,from));
	}
	,addOutputs: function(nodes) {
		this.outputs.push(nodes);
	}
	,run: function() {
		var _g = 0;
		var _g1 = this.outputs;
		while(_g < _g1.length) {
			var ar = _g1[_g];
			++_g;
			var _g2 = 0;
			while(_g2 < ar.length) {
				var o = ar[_g2];
				++_g2;
				o.run();
			}
		}
	}
	,runOutputs: function(i) {
		var _g = 0;
		var _g1 = this.outputs[i];
		while(_g < _g1.length) {
			var o = _g1[_g];
			++_g;
			o.run();
		}
	}
	,get: function(from) {
		return this;
	}
	,set: function(value) {
	}
	,__class__: armory_logicnode_LogicNode
};
var armory_logicnode_ActiveCameraNode = $hxClasses["armory.logicnode.ActiveCameraNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ActiveCameraNode.__name__ = ["armory","logicnode","ActiveCameraNode"];
armory_logicnode_ActiveCameraNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ActiveCameraNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		return iron_Scene.active.camera;
	}
	,__class__: armory_logicnode_ActiveCameraNode
});
var armory_logicnode_ActiveSceneNode = $hxClasses["armory.logicnode.ActiveSceneNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ActiveSceneNode.__name__ = ["armory","logicnode","ActiveSceneNode"];
armory_logicnode_ActiveSceneNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ActiveSceneNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		return iron_Scene.active.raw.name;
	}
	,__class__: armory_logicnode_ActiveSceneNode
});
var armory_logicnode_AddGroupNode = $hxClasses["armory.logicnode.AddGroupNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_AddGroupNode.__name__ = ["armory","logicnode","AddGroupNode"];
armory_logicnode_AddGroupNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_AddGroupNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var groupName = this.inputs[1].get();
		var _this = iron_Scene.active.groups;
		if((__map_reserved[groupName] != null ? _this.getReserved(groupName) : _this.h[groupName]) == null) {
			var _this1 = iron_Scene.active.groups;
			var value = [];
			if(__map_reserved[groupName] != null) {
				_this1.setReserved(groupName,value);
			} else {
				_this1.h[groupName] = value;
			}
		}
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_AddGroupNode
});
var armory_logicnode_AddTraitNode = $hxClasses["armory.logicnode.AddTraitNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_AddTraitNode.__name__ = ["armory","logicnode","AddTraitNode"];
armory_logicnode_AddTraitNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_AddTraitNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var object = this.inputs[1].get();
		var trait = this.inputs[2].get();
		if(object == null) {
			return;
		}
		object.addTrait(trait);
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_AddTraitNode
});
var armory_logicnode_AlternateNode = $hxClasses["armory.logicnode.AlternateNode"] = function(tree) {
	this.b = true;
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_AlternateNode.__name__ = ["armory","logicnode","AlternateNode"];
armory_logicnode_AlternateNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_AlternateNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	b: null
	,run: function() {
		if(this.b) {
			this.runOutputs(0);
		} else {
			this.runOutputs(1);
		}
		this.b = !this.b;
	}
	,__class__: armory_logicnode_AlternateNode
});
var armory_logicnode_AnimActionNode = $hxClasses["armory.logicnode.AnimActionNode"] = function(tree,value) {
	if(value == null) {
		value = "";
	}
	armory_logicnode_LogicNode.call(this,tree);
	this.value = value;
};
armory_logicnode_AnimActionNode.__name__ = ["armory","logicnode","AnimActionNode"];
armory_logicnode_AnimActionNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_AnimActionNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	value: null
	,get: function(from) {
		if(this.inputs.length > 0) {
			return this.inputs[0].get();
		}
		return this.value;
	}
	,set: function(value) {
		if(this.inputs.length > 0) {
			this.inputs[0].set(value);
		} else {
			this.value = value;
		}
	}
	,__class__: armory_logicnode_AnimActionNode
});
var armory_logicnode_AnimationStateNode = $hxClasses["armory.logicnode.AnimationStateNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_AnimationStateNode.__name__ = ["armory","logicnode","AnimationStateNode"];
armory_logicnode_AnimationStateNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_AnimationStateNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var object = this.inputs[0].get();
		if(object == null) {
			return null;
		}
		var animation = object.animation;
		if(animation == null) {
			animation = object.getParentArmature(object.name);
		}
		if(from == 0) {
			return !animation.paused;
		} else if(from == 1) {
			return animation.action;
		} else {
			return animation.currentFrame();
		}
	}
	,__class__: armory_logicnode_AnimationStateNode
});
var armory_logicnode_AppendTransformNode = $hxClasses["armory.logicnode.AppendTransformNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_AppendTransformNode.__name__ = ["armory","logicnode","AppendTransformNode"];
armory_logicnode_AppendTransformNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_AppendTransformNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var object = this.inputs[1].get();
		var matrix = this.inputs[2].get();
		if(object == null) {
			return;
		}
		object.transform.multMatrix(matrix);
		var rigidBody = object.getTrait(armory_trait_physics_bullet_RigidBody);
		if(rigidBody != null) {
			rigidBody.syncTransform();
		}
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_AppendTransformNode
});
var armory_logicnode_ApplyForceAtLocationNode = $hxClasses["armory.logicnode.ApplyForceAtLocationNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ApplyForceAtLocationNode.__name__ = ["armory","logicnode","ApplyForceAtLocationNode"];
armory_logicnode_ApplyForceAtLocationNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ApplyForceAtLocationNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var object = this.inputs[1].get();
		var force = this.inputs[2].get();
		var location = this.inputs[3].get();
		if(object == null) {
			return;
		}
		var rb = object.getTrait(armory_trait_physics_bullet_RigidBody);
		rb.applyForce(force,location);
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_ApplyForceAtLocationNode
});
var armory_logicnode_ApplyForceNode = $hxClasses["armory.logicnode.ApplyForceNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ApplyForceNode.__name__ = ["armory","logicnode","ApplyForceNode"];
armory_logicnode_ApplyForceNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ApplyForceNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var object = this.inputs[1].get();
		var force = this.inputs[2].get();
		if(object == null) {
			return;
		}
		var rb = object.getTrait(armory_trait_physics_bullet_RigidBody);
		rb.applyForce(force);
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_ApplyForceNode
});
var armory_logicnode_ApplyImpulseAtLocationNode = $hxClasses["armory.logicnode.ApplyImpulseAtLocationNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ApplyImpulseAtLocationNode.__name__ = ["armory","logicnode","ApplyImpulseAtLocationNode"];
armory_logicnode_ApplyImpulseAtLocationNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ApplyImpulseAtLocationNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var object = this.inputs[1].get();
		var impulse = this.inputs[2].get();
		var location = this.inputs[3].get();
		if(object == null) {
			return;
		}
		var rb = object.getTrait(armory_trait_physics_bullet_RigidBody);
		rb.applyImpulse(impulse,location);
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_ApplyImpulseAtLocationNode
});
var armory_logicnode_ApplyImpulseNode = $hxClasses["armory.logicnode.ApplyImpulseNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ApplyImpulseNode.__name__ = ["armory","logicnode","ApplyImpulseNode"];
armory_logicnode_ApplyImpulseNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ApplyImpulseNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var object = this.inputs[1].get();
		var impulse = this.inputs[2].get();
		if(object == null) {
			return;
		}
		var rb = object.getTrait(armory_trait_physics_bullet_RigidBody);
		rb.applyImpulse(impulse);
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_ApplyImpulseNode
});
var armory_logicnode_ArrayAddNode = $hxClasses["armory.logicnode.ArrayAddNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ArrayAddNode.__name__ = ["armory","logicnode","ArrayAddNode"];
armory_logicnode_ArrayAddNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ArrayAddNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var ar = this.inputs[1].get();
		var value = this.inputs[2].get();
		ar.push(value);
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_ArrayAddNode
});
var armory_logicnode_ArrayAddUniqueNode = $hxClasses["armory.logicnode.ArrayAddUniqueNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ArrayAddUniqueNode.__name__ = ["armory","logicnode","ArrayAddUniqueNode"];
armory_logicnode_ArrayAddUniqueNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ArrayAddUniqueNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var ar = this.inputs[1].get();
		var value = this.inputs[2].get();
		if(ar.indexOf(value) == -1) {
			ar.push(value);
		}
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_ArrayAddUniqueNode
});
var armory_logicnode_ArrayBooleanNode = $hxClasses["armory.logicnode.ArrayBooleanNode"] = function(tree) {
	this.initialized = false;
	this.value = [];
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ArrayBooleanNode.__name__ = ["armory","logicnode","ArrayBooleanNode"];
armory_logicnode_ArrayBooleanNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ArrayBooleanNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	value: null
	,initialized: null
	,get: function(from) {
		if(!this.initialized) {
			this.initialized = true;
			var _g = 0;
			var _g1 = this.inputs;
			while(_g < _g1.length) {
				var inp = _g1[_g];
				++_g;
				var val = inp.get();
				this.value.push(val);
			}
		}
		if(from == 0) {
			return this.value;
		} else {
			return this.value.length;
		}
	}
	,set: function(value) {
		this.value = value;
	}
	,__class__: armory_logicnode_ArrayBooleanNode
});
var armory_logicnode_ArrayColorNode = $hxClasses["armory.logicnode.ArrayColorNode"] = function(tree) {
	this.initialized = false;
	this.value = [];
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ArrayColorNode.__name__ = ["armory","logicnode","ArrayColorNode"];
armory_logicnode_ArrayColorNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ArrayColorNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	value: null
	,initialized: null
	,get: function(from) {
		if(!this.initialized) {
			this.initialized = true;
			var _g = 0;
			var _g1 = this.inputs;
			while(_g < _g1.length) {
				var inp = _g1[_g];
				++_g;
				var val = inp.get();
				this.value.push(val);
			}
		}
		if(from == 0) {
			return this.value;
		} else {
			return this.value.length;
		}
	}
	,set: function(value) {
		this.value = value;
	}
	,__class__: armory_logicnode_ArrayColorNode
});
var armory_logicnode_ArrayFloatNode = $hxClasses["armory.logicnode.ArrayFloatNode"] = function(tree) {
	this.initialized = false;
	this.value = [];
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ArrayFloatNode.__name__ = ["armory","logicnode","ArrayFloatNode"];
armory_logicnode_ArrayFloatNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ArrayFloatNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	value: null
	,initialized: null
	,get: function(from) {
		if(!this.initialized) {
			this.initialized = true;
			var _g = 0;
			var _g1 = this.inputs;
			while(_g < _g1.length) {
				var inp = _g1[_g];
				++_g;
				var val = inp.get();
				this.value.push(val);
			}
		}
		if(from == 0) {
			return this.value;
		} else {
			return this.value.length;
		}
	}
	,set: function(value) {
		this.value = value;
	}
	,__class__: armory_logicnode_ArrayFloatNode
});
var armory_logicnode_ArrayGetNode = $hxClasses["armory.logicnode.ArrayGetNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ArrayGetNode.__name__ = ["armory","logicnode","ArrayGetNode"];
armory_logicnode_ArrayGetNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ArrayGetNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var ar = this.inputs[0].get();
		var i = this.inputs[1].get();
		if(i < 0) {
			i = ar.length + i;
		}
		if(i < 0 || i > ar.length - 1) {
			var o = this.tree;
			var className = Type.getClassName(o == null ? null : js_Boot.getClass(o));
			var traitName = className.substring(className.lastIndexOf(".") + 1);
			var objectName = this.tree.object.name;
			haxe_Log.trace("Logic error (object: " + objectName + ", trait: " + traitName + "): Array Get - index out of range",{ fileName : "ArrayGetNode.hx", lineNumber : 17, className : "armory.logicnode.ArrayGetNode", methodName : "get"});
			return null;
		}
		return ar[i];
	}
	,__class__: armory_logicnode_ArrayGetNode
});
var armory_logicnode_ArrayIntegerNode = $hxClasses["armory.logicnode.ArrayIntegerNode"] = function(tree) {
	this.initialized = false;
	this.value = [];
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ArrayIntegerNode.__name__ = ["armory","logicnode","ArrayIntegerNode"];
armory_logicnode_ArrayIntegerNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ArrayIntegerNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	value: null
	,initialized: null
	,get: function(from) {
		if(!this.initialized) {
			this.initialized = true;
			var _g = 0;
			var _g1 = this.inputs;
			while(_g < _g1.length) {
				var inp = _g1[_g];
				++_g;
				var val = inp.get();
				this.value.push(val);
			}
		}
		if(from == 0) {
			return this.value;
		} else {
			return this.value.length;
		}
	}
	,set: function(value) {
		this.value = value;
	}
	,__class__: armory_logicnode_ArrayIntegerNode
});
var armory_logicnode_ArrayLengthNode = $hxClasses["armory.logicnode.ArrayLengthNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ArrayLengthNode.__name__ = ["armory","logicnode","ArrayLengthNode"];
armory_logicnode_ArrayLengthNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ArrayLengthNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var ar = this.inputs[0].get();
		if(ar != null) {
			return ar.length;
		} else {
			return 0;
		}
	}
	,__class__: armory_logicnode_ArrayLengthNode
});
var armory_logicnode_ArrayLoopNode = $hxClasses["armory.logicnode.ArrayLoopNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ArrayLoopNode.__name__ = ["armory","logicnode","ArrayLoopNode"];
armory_logicnode_ArrayLoopNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ArrayLoopNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	value: null
	,run: function() {
		var ar = this.inputs[1].get();
		var _g = 0;
		while(_g < ar.length) {
			var val = ar[_g];
			++_g;
			this.value = val;
			this.runOutputs(0);
		}
		this.runOutputs(2);
	}
	,get: function(from) {
		return this.value;
	}
	,__class__: armory_logicnode_ArrayLoopNode
});
var armory_logicnode_ArrayNode = $hxClasses["armory.logicnode.ArrayNode"] = function(tree) {
	this.initialized = false;
	this.value = [];
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ArrayNode.__name__ = ["armory","logicnode","ArrayNode"];
armory_logicnode_ArrayNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ArrayNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	value: null
	,initialized: null
	,get: function(from) {
		if(!this.initialized) {
			this.initialized = true;
			var _g = 0;
			var _g1 = this.inputs;
			while(_g < _g1.length) {
				var inp = _g1[_g];
				++_g;
				var val = inp.get();
				this.value.push(val);
			}
		}
		if(from == 0) {
			return this.value;
		} else {
			return this.value.length;
		}
	}
	,set: function(value) {
		this.value = value;
	}
	,__class__: armory_logicnode_ArrayNode
});
var armory_logicnode_ArrayObjectNode = $hxClasses["armory.logicnode.ArrayObjectNode"] = function(tree) {
	this.initialized = false;
	this.value = [];
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ArrayObjectNode.__name__ = ["armory","logicnode","ArrayObjectNode"];
armory_logicnode_ArrayObjectNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ArrayObjectNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	value: null
	,initialized: null
	,get: function(from) {
		if(!this.initialized) {
			this.initialized = true;
			var _g = 0;
			var _g1 = this.inputs;
			while(_g < _g1.length) {
				var inp = _g1[_g];
				++_g;
				var val = inp.get();
				this.value.push(val);
			}
		}
		if(from == 0) {
			return this.value;
		} else {
			return this.value.length;
		}
	}
	,set: function(value) {
		this.value = value;
	}
	,__class__: armory_logicnode_ArrayObjectNode
});
var armory_logicnode_ArrayPopNode = $hxClasses["armory.logicnode.ArrayPopNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ArrayPopNode.__name__ = ["armory","logicnode","ArrayPopNode"];
armory_logicnode_ArrayPopNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ArrayPopNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var ar = this.inputs[0].get();
		return ar.pop();
	}
	,__class__: armory_logicnode_ArrayPopNode
});
var armory_logicnode_ArrayRemoveNode = $hxClasses["armory.logicnode.ArrayRemoveNode"] = function(tree) {
	this.removedValue = null;
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ArrayRemoveNode.__name__ = ["armory","logicnode","ArrayRemoveNode"];
armory_logicnode_ArrayRemoveNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ArrayRemoveNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	removedValue: null
	,run: function() {
		var ar = this.inputs[1].get();
		var i = this.inputs[2].get();
		if(i < 0) {
			i = ar.length + i;
		}
		this.removedValue = ar[i];
		ar.splice(i,1);
		this.runOutputs(0);
	}
	,get: function(from) {
		return this.removedValue;
	}
	,__class__: armory_logicnode_ArrayRemoveNode
});
var armory_logicnode_ArrayRemoveValueNode = $hxClasses["armory.logicnode.ArrayRemoveValueNode"] = function(tree) {
	this.removedValue = null;
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ArrayRemoveValueNode.__name__ = ["armory","logicnode","ArrayRemoveValueNode"];
armory_logicnode_ArrayRemoveValueNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ArrayRemoveValueNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	removedValue: null
	,run: function() {
		var ar = this.inputs[1].get();
		var val = this.inputs[2].get();
		this.removedValue = val;
		HxOverrides.remove(ar,val);
		this.runOutputs(0);
	}
	,get: function(from) {
		return this.removedValue;
	}
	,__class__: armory_logicnode_ArrayRemoveValueNode
});
var armory_logicnode_ArraySetNode = $hxClasses["armory.logicnode.ArraySetNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ArraySetNode.__name__ = ["armory","logicnode","ArraySetNode"];
armory_logicnode_ArraySetNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ArraySetNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var ar = this.inputs[1].get();
		var i = this.inputs[2].get();
		var value = this.inputs[3].get();
		if(i < 0) {
			ar[ar.length + i] = value;
		} else {
			ar[i] = value;
		}
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_ArraySetNode
});
var armory_logicnode_ArrayShiftNode = $hxClasses["armory.logicnode.ArrayShiftNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ArrayShiftNode.__name__ = ["armory","logicnode","ArrayShiftNode"];
armory_logicnode_ArrayShiftNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ArrayShiftNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var ar = this.inputs[0].get();
		return ar.shift();
	}
	,__class__: armory_logicnode_ArrayShiftNode
});
var armory_logicnode_ArrayStringNode = $hxClasses["armory.logicnode.ArrayStringNode"] = function(tree) {
	this.initialized = false;
	this.value = [];
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ArrayStringNode.__name__ = ["armory","logicnode","ArrayStringNode"];
armory_logicnode_ArrayStringNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ArrayStringNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	value: null
	,initialized: null
	,get: function(from) {
		if(!this.initialized) {
			this.initialized = true;
			var _g = 0;
			var _g1 = this.inputs;
			while(_g < _g1.length) {
				var inp = _g1[_g];
				++_g;
				var val = inp.get();
				this.value.push(val);
			}
		}
		if(from == 0) {
			return this.value;
		} else {
			return this.value.length;
		}
	}
	,set: function(value) {
		this.value = value;
	}
	,__class__: armory_logicnode_ArrayStringNode
});
var armory_logicnode_ArrayVectorNode = $hxClasses["armory.logicnode.ArrayVectorNode"] = function(tree) {
	this.initialized = false;
	this.value = [];
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ArrayVectorNode.__name__ = ["armory","logicnode","ArrayVectorNode"];
armory_logicnode_ArrayVectorNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ArrayVectorNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	value: null
	,initialized: null
	,get: function(from) {
		if(!this.initialized) {
			this.initialized = true;
			var _g = 0;
			var _g1 = this.inputs;
			while(_g < _g1.length) {
				var inp = _g1[_g];
				++_g;
				var val = inp.get();
				this.value.push(val);
			}
		}
		if(from == 0) {
			return this.value;
		} else {
			return this.value.length;
		}
	}
	,set: function(value) {
		this.value = value;
	}
	,__class__: armory_logicnode_ArrayVectorNode
});
var armory_logicnode_BooleanNode = $hxClasses["armory.logicnode.BooleanNode"] = function(tree,value) {
	if(value == null) {
		value = false;
	}
	armory_logicnode_LogicNode.call(this,tree);
	this.value = value;
};
armory_logicnode_BooleanNode.__name__ = ["armory","logicnode","BooleanNode"];
armory_logicnode_BooleanNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_BooleanNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	value: null
	,get: function(from) {
		if(this.inputs.length > 0) {
			return this.inputs[0].get();
		}
		return this.value;
	}
	,set: function(value) {
		if(this.inputs.length > 0) {
			this.inputs[0].set(value);
		} else {
			this.value = value;
		}
	}
	,__class__: armory_logicnode_BooleanNode
});
var armory_logicnode_BranchNode = $hxClasses["armory.logicnode.BranchNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_BranchNode.__name__ = ["armory","logicnode","BranchNode"];
armory_logicnode_BranchNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_BranchNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var b = this.inputs[1].get();
		if(b) {
			this.runOutputs(0);
		} else {
			this.runOutputs(1);
		}
	}
	,__class__: armory_logicnode_BranchNode
});
var armory_logicnode_CallFunctionNode = $hxClasses["armory.logicnode.CallFunctionNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_CallFunctionNode.__name__ = ["armory","logicnode","CallFunctionNode"];
armory_logicnode_CallFunctionNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_CallFunctionNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	result: null
	,run: function() {
		var object = this.inputs[1].get();
		var funName = this.inputs[2].get();
		this.result = Reflect.field(object,funName).apply(object,null);
		this.runOutputs(0);
	}
	,get: function(from) {
		return this.result;
	}
	,__class__: armory_logicnode_CallFunctionNode
});
var armory_logicnode_CallGroupNode = $hxClasses["armory.logicnode.CallGroupNode"] = function(tree) {
	this.callTree = null;
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_CallGroupNode.__name__ = ["armory","logicnode","CallGroupNode"];
armory_logicnode_CallGroupNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_CallGroupNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,callTree: null
	,run: function() {
		if(this.callTree == null) {
			var classType = Type.resolveClass(this.property0);
			this.callTree = Type.createInstance(classType,[]);
			this.callTree.object = this.tree.object;
			this.callTree.add();
		}
		if(this.callTree._init != null) {
			this.callTree._init[0]();
		}
		this.runOutputs(0);
	}
	,__class__: armory_logicnode_CallGroupNode
});
var armory_logicnode_CallStaticFunctionNode = $hxClasses["armory.logicnode.CallStaticFunctionNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_CallStaticFunctionNode.__name__ = ["armory","logicnode","CallStaticFunctionNode"];
armory_logicnode_CallStaticFunctionNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_CallStaticFunctionNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	result: null
	,run: function() {
		var path = this.inputs[1].get();
		if(path != "") {
			var dotIndex = path.lastIndexOf(".");
			var classPath = HxOverrides.substr(path,0,dotIndex);
			var classType = Type.resolveClass(classPath);
			var funName = HxOverrides.substr(path,dotIndex + 1,null);
			this.result = Reflect.field(classType,funName).apply(classType,[this.tree]);
		}
		this.runOutputs(0);
	}
	,get: function(from) {
		return this.result;
	}
	,__class__: armory_logicnode_CallStaticFunctionNode
});
var armory_logicnode_CanvasSetTextNode = $hxClasses["armory.logicnode.CanvasSetTextNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_CanvasSetTextNode.__name__ = ["armory","logicnode","CanvasSetTextNode"];
armory_logicnode_CanvasSetTextNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_CanvasSetTextNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	canvas: null
	,element: null
	,text: null
	,update: function() {
		if(!this.canvas.get_ready()) {
			return;
		}
		this.tree.removeUpdate($bind(this,this.update));
		this.canvas.getElement(this.element).text = Std.string(this.text);
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,run: function() {
		this.element = this.inputs[1].get();
		this.text = this.inputs[2].get();
		this.canvas = iron_Scene.active.getTrait(armory_trait_internal_CanvasScript);
		this.tree.notifyOnUpdate($bind(this,this.update));
		this.update();
	}
	,__class__: armory_logicnode_CanvasSetTextNode
});
var armory_logicnode_CastPhysicsRayNode = $hxClasses["armory.logicnode.CastPhysicsRayNode"] = function(tree) {
	this.v = new iron_math_Vec4();
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_CastPhysicsRayNode.__name__ = ["armory","logicnode","CastPhysicsRayNode"];
armory_logicnode_CastPhysicsRayNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_CastPhysicsRayNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	v: null
	,get: function(from) {
		var vfrom = this.inputs[0].get();
		var vto = this.inputs[1].get();
		var physics = armory_trait_physics_bullet_PhysicsWorld.active;
		var rb = physics.rayCast(vfrom,vto);
		if(from == 0) {
			if(rb != null) {
				return rb.object;
			}
		} else {
			var hitPointWorld = rb != null ? physics.hitPointWorld : null;
			this.v.set(hitPointWorld.x,hitPointWorld.y,hitPointWorld.z);
			return this.v;
		}
		return null;
	}
	,__class__: armory_logicnode_CastPhysicsRayNode
});
var armory_logicnode_ClearParentNode = $hxClasses["armory.logicnode.ClearParentNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ClearParentNode.__name__ = ["armory","logicnode","ClearParentNode"];
armory_logicnode_ClearParentNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ClearParentNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var object = this.inputs[1].get();
		var keepTransform = this.inputs[2].get();
		if(object == null || object.parent == null) {
			return;
		}
		object.parent.removeChild(object,keepTransform);
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_ClearParentNode
});
var armory_logicnode_ColorNode = $hxClasses["armory.logicnode.ColorNode"] = function(tree,r,g,b,a) {
	if(a == null) {
		a = 1.0;
	}
	if(b == null) {
		b = 0.8;
	}
	if(g == null) {
		g = 0.8;
	}
	if(r == null) {
		r = 0.8;
	}
	this.value = new iron_math_Vec4();
	armory_logicnode_LogicNode.call(this,tree);
	this.value.set(r,g,b,a);
};
armory_logicnode_ColorNode.__name__ = ["armory","logicnode","ColorNode"];
armory_logicnode_ColorNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ColorNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	value: null
	,get: function(from) {
		if(this.inputs.length > 0) {
			return this.inputs[0].get();
		}
		return this.value;
	}
	,set: function(value) {
		if(this.inputs.length > 0) {
			this.inputs[0].set(value);
		} else {
			this.value = value;
		}
	}
	,__class__: armory_logicnode_ColorNode
});
var armory_logicnode_CompareNode = $hxClasses["armory.logicnode.CompareNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_CompareNode.__name__ = ["armory","logicnode","CompareNode"];
armory_logicnode_CompareNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_CompareNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,get: function(from) {
		var v1 = this.inputs[0].get();
		var v2 = this.inputs[1].get();
		var r = false;
		var _g = this.property0;
		switch(_g) {
		case "Equal":
			r = v1 == v2;
			break;
		case "Greater Than":
			r = v1 > v2;
			break;
		case "Greater Than or Equal":
			r = v1 >= v2;
			break;
		case "Less Than":
			r = v1 < v2;
			break;
		case "Less Than or Equal":
			r = v1 <= v2;
			break;
		case "Not Equal":
			r = v1 != v2;
			break;
		}
		return r;
	}
	,__class__: armory_logicnode_CompareNode
});
var armory_logicnode_DisplayInfoNode = $hxClasses["armory.logicnode.DisplayInfoNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_DisplayInfoNode.__name__ = ["armory","logicnode","DisplayInfoNode"];
armory_logicnode_DisplayInfoNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_DisplayInfoNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		if(from == 0) {
			return kha_DisplayImpl.width(0);
		} else {
			return kha_DisplayImpl.height(0);
		}
	}
	,__class__: armory_logicnode_DisplayInfoNode
});
var armory_logicnode_DynamicNode = $hxClasses["armory.logicnode.DynamicNode"] = function(tree,value) {
	armory_logicnode_LogicNode.call(this,tree);
	this.value = value;
};
armory_logicnode_DynamicNode.__name__ = ["armory","logicnode","DynamicNode"];
armory_logicnode_DynamicNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_DynamicNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	value: null
	,get: function(from) {
		return this.value;
	}
	,set: function(value) {
		this.value = value;
	}
	,__class__: armory_logicnode_DynamicNode
});
var armory_logicnode_ExpressionNode = $hxClasses["armory.logicnode.ExpressionNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ExpressionNode.__name__ = ["armory","logicnode","ExpressionNode"];
armory_logicnode_ExpressionNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ExpressionNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,result: null
	,run: function() {
		this.runOutputs(0);
	}
	,get: function(from) {
		return this.result;
	}
	,__class__: armory_logicnode_ExpressionNode
});
var armory_logicnode_FloatNode = $hxClasses["armory.logicnode.FloatNode"] = function(tree,value) {
	if(value == null) {
		value = 0.0;
	}
	armory_logicnode_LogicNode.call(this,tree);
	this.value = value;
};
armory_logicnode_FloatNode.__name__ = ["armory","logicnode","FloatNode"];
armory_logicnode_FloatNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_FloatNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	value: null
	,get: function(from) {
		if(this.inputs.length > 0) {
			return this.inputs[0].get();
		}
		return this.value;
	}
	,set: function(value) {
		if(this.inputs.length > 0) {
			this.inputs[0].set(value);
		} else {
			this.value = value;
		}
	}
	,__class__: armory_logicnode_FloatNode
});
var armory_logicnode_GamepadCoordsNode = $hxClasses["armory.logicnode.GamepadCoordsNode"] = function(tree) {
	this.coords = new iron_math_Vec4();
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_GamepadCoordsNode.__name__ = ["armory","logicnode","GamepadCoordsNode"];
armory_logicnode_GamepadCoordsNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_GamepadCoordsNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	coords: null
	,get: function(from) {
		var num = this.inputs[0].get();
		var gamepad = iron_system_Input.getGamepad(num);
		if(from == 0) {
			this.coords.x = gamepad.leftStick.x;
			this.coords.y = gamepad.leftStick.y;
			return this.coords;
		} else if(from == 1) {
			this.coords.x = gamepad.rightStick.x;
			this.coords.y = gamepad.rightStick.y;
			return this.coords;
		} else if(from == 2) {
			this.coords.x = gamepad.leftStick.movementX;
			this.coords.y = gamepad.leftStick.movementY;
			return this.coords;
		} else if(from == 3) {
			this.coords.x = gamepad.rightStick.movementX;
			this.coords.y = gamepad.rightStick.movementY;
			return this.coords;
		}
		return null;
	}
	,__class__: armory_logicnode_GamepadCoordsNode
});
var armory_logicnode_GamepadNode = $hxClasses["armory.logicnode.GamepadNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_GamepadNode.__name__ = ["armory","logicnode","GamepadNode"];
armory_logicnode_GamepadNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_GamepadNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,property1: null
	,get: function(from) {
		var num = this.inputs[0].get();
		var gamepad = iron_system_Input.getGamepad(num);
		var _g = this.property0;
		switch(_g) {
		case "Down":
			return gamepad.down(this.property1);
		case "Released":
			if(gamepad.released(this.property1)) {
				return 1.0;
			} else {
				return 0.0;
			}
			break;
		case "Started":
			if(gamepad.started(this.property1)) {
				return 1.0;
			} else {
				return 0.0;
			}
			break;
		}
		return 0.0;
	}
	,__class__: armory_logicnode_GamepadNode
});
var armory_logicnode_GateNode = $hxClasses["armory.logicnode.GateNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_GateNode.__name__ = ["armory","logicnode","GateNode"];
armory_logicnode_GateNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_GateNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,run: function() {
		var v1 = this.inputs[1].get();
		var v2 = this.inputs[2].get();
		var cond = false;
		var _g = this.property0;
		switch(_g) {
		case "And":
			cond = true;
			var _g1 = 1;
			var _g2 = this.inputs.length;
			while(_g1 < _g2) {
				var i = _g1++;
				if(!this.inputs[i].get()) {
					cond = false;
					break;
				}
			}
			break;
		case "Equal":
			cond = v1 == v2;
			break;
		case "Greater":
			cond = v1 > v2;
			break;
		case "Greater Equal":
			cond = v1 >= v2;
			break;
		case "Less":
			cond = v1 < v2;
			break;
		case "Less Equal":
			cond = v1 <= v2;
			break;
		case "Not Equal":
			cond = v1 != v2;
			break;
		case "Or":
			var _g11 = 1;
			var _g3 = this.inputs.length;
			while(_g11 < _g3) {
				var i1 = _g11++;
				if(this.inputs[i1].get()) {
					cond = true;
					break;
				}
			}
			break;
		}
		if(cond) {
			this.runOutputs(0);
		} else {
			this.runOutputs(1);
		}
	}
	,__class__: armory_logicnode_GateNode
});
var armory_logicnode_GetCameraFovNode = $hxClasses["armory.logicnode.GetCameraFovNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_GetCameraFovNode.__name__ = ["armory","logicnode","GetCameraFovNode"];
armory_logicnode_GetCameraFovNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_GetCameraFovNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var camera = this.inputs[0].get();
		if(camera == null) {
			return 0.0;
		}
		return camera.data.raw.fov;
	}
	,__class__: armory_logicnode_GetCameraFovNode
});
var armory_logicnode_GetChildNode = $hxClasses["armory.logicnode.GetChildNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_GetChildNode.__name__ = ["armory","logicnode","GetChildNode"];
armory_logicnode_GetChildNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_GetChildNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var object = this.inputs[0].get();
		var childName = this.inputs[1].get();
		if(object == null) {
			return null;
		}
		return object.getChild(childName);
	}
	,__class__: armory_logicnode_GetChildNode
});
var armory_logicnode_GetChildrenNode = $hxClasses["armory.logicnode.GetChildrenNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_GetChildrenNode.__name__ = ["armory","logicnode","GetChildrenNode"];
armory_logicnode_GetChildrenNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_GetChildrenNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var object = this.inputs[0].get();
		if(object == null) {
			return null;
		}
		return object.children;
	}
	,__class__: armory_logicnode_GetChildrenNode
});
var armory_logicnode_GetContactsNode = $hxClasses["armory.logicnode.GetContactsNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_GetContactsNode.__name__ = ["armory","logicnode","GetContactsNode"];
armory_logicnode_GetContactsNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_GetContactsNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var object = this.inputs[0].get();
		if(object == null) {
			return null;
		}
		var physics = armory_trait_physics_bullet_PhysicsWorld.active;
		var rbs = physics.getContacts(object.getTrait(armory_trait_physics_bullet_RigidBody));
		var obs = [];
		if(rbs != null) {
			var _g = 0;
			while(_g < rbs.length) {
				var rb = rbs[_g];
				++_g;
				if(rb != null) {
					obs.push(rb.object);
				}
			}
		}
		return obs;
	}
	,__class__: armory_logicnode_GetContactsNode
});
var armory_logicnode_GetDistanceNode = $hxClasses["armory.logicnode.GetDistanceNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_GetDistanceNode.__name__ = ["armory","logicnode","GetDistanceNode"];
armory_logicnode_GetDistanceNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_GetDistanceNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var object1 = this.inputs[0].get();
		var object2 = this.inputs[1].get();
		var _this = object1.transform.world;
		var v1 = new iron_math_Vec4(_this.self._30,_this.self._31,_this.self._32,_this.self._33);
		var _this1 = object2.transform.world;
		var v2 = new iron_math_Vec4(_this1.self._30,_this1.self._31,_this1.self._32,_this1.self._33);
		var vx = v1.x - v2.x;
		var vy = v1.y - v2.y;
		var vz = v1.z - v2.z;
		return Math.sqrt(vx * vx + vy * vy + vz * vz);
	}
	,__class__: armory_logicnode_GetDistanceNode
});
var armory_logicnode_GetFirstContactNode = $hxClasses["armory.logicnode.GetFirstContactNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_GetFirstContactNode.__name__ = ["armory","logicnode","GetFirstContactNode"];
armory_logicnode_GetFirstContactNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_GetFirstContactNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var object = this.inputs[0].get();
		var physics = armory_trait_physics_bullet_PhysicsWorld.active;
		var rbs = physics.getContacts(object.getTrait(armory_trait_physics_bullet_RigidBody));
		if(rbs != null && rbs.length > 0) {
			return rbs[0].object;
		}
		return null;
	}
	,__class__: armory_logicnode_GetFirstContactNode
});
var armory_logicnode_GetGravityNode = $hxClasses["armory.logicnode.GetGravityNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_GetGravityNode.__name__ = ["armory","logicnode","GetGravityNode"];
armory_logicnode_GetGravityNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_GetGravityNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var physics = armory_trait_physics_bullet_PhysicsWorld.active;
		return physics.world.getGravity();
	}
	,__class__: armory_logicnode_GetGravityNode
});
var armory_logicnode_GetGroupNode = $hxClasses["armory.logicnode.GetGroupNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_GetGroupNode.__name__ = ["armory","logicnode","GetGroupNode"];
armory_logicnode_GetGroupNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_GetGroupNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var groupName = this.inputs[0].get();
		var _this = iron_Scene.active.groups;
		if(__map_reserved[groupName] != null) {
			return _this.getReserved(groupName);
		} else {
			return _this.h[groupName];
		}
	}
	,__class__: armory_logicnode_GetGroupNode
});
var armory_logicnode_GetLocationNode = $hxClasses["armory.logicnode.GetLocationNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_GetLocationNode.__name__ = ["armory","logicnode","GetLocationNode"];
armory_logicnode_GetLocationNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_GetLocationNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var object = this.inputs[0].get();
		if(object == null) {
			return null;
		}
		var _this = object.transform.world;
		return new iron_math_Vec4(_this.self._30,_this.self._31,_this.self._32,_this.self._33);
	}
	,__class__: armory_logicnode_GetLocationNode
});
var armory_logicnode_GetMaterialNode = $hxClasses["armory.logicnode.GetMaterialNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_GetMaterialNode.__name__ = ["armory","logicnode","GetMaterialNode"];
armory_logicnode_GetMaterialNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_GetMaterialNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var object = this.inputs[0].get();
		if(object == null) {
			return null;
		}
		return object.materials[0];
	}
	,__class__: armory_logicnode_GetMaterialNode
});
var armory_logicnode_GetMeshNode = $hxClasses["armory.logicnode.GetMeshNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_GetMeshNode.__name__ = ["armory","logicnode","GetMeshNode"];
armory_logicnode_GetMeshNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_GetMeshNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var object = this.inputs[0].get();
		if(object == null) {
			return null;
		}
		return object.data;
	}
	,__class__: armory_logicnode_GetMeshNode
});
var armory_logicnode_GetNameNode = $hxClasses["armory.logicnode.GetNameNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_GetNameNode.__name__ = ["armory","logicnode","GetNameNode"];
armory_logicnode_GetNameNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_GetNameNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var object = this.inputs[0].get();
		if(object == null) {
			return "";
		}
		return object.name;
	}
	,__class__: armory_logicnode_GetNameNode
});
var armory_logicnode_GetNativePropertyNode = $hxClasses["armory.logicnode.GetNativePropertyNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_GetNativePropertyNode.__name__ = ["armory","logicnode","GetNativePropertyNode"];
armory_logicnode_GetNativePropertyNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_GetNativePropertyNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var object = this.inputs[0].get();
		var property = this.inputs[1].get();
		if(object == null) {
			return null;
		}
		return Reflect.getProperty(object,property);
	}
	,__class__: armory_logicnode_GetNativePropertyNode
});
var armory_logicnode_GetObjectNode = $hxClasses["armory.logicnode.GetObjectNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_GetObjectNode.__name__ = ["armory","logicnode","GetObjectNode"];
armory_logicnode_GetObjectNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_GetObjectNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var objectName = this.inputs[0].get();
		return iron_Scene.active.getChild(objectName);
	}
	,__class__: armory_logicnode_GetObjectNode
});
var armory_logicnode_GetParentNode = $hxClasses["armory.logicnode.GetParentNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_GetParentNode.__name__ = ["armory","logicnode","GetParentNode"];
armory_logicnode_GetParentNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_GetParentNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var object = this.inputs[0].get();
		if(object == null) {
			return null;
		}
		return object.parent;
	}
	,__class__: armory_logicnode_GetParentNode
});
var armory_logicnode_GetPropertyNode = $hxClasses["armory.logicnode.GetPropertyNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_GetPropertyNode.__name__ = ["armory","logicnode","GetPropertyNode"];
armory_logicnode_GetPropertyNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_GetPropertyNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var object = this.inputs[0].get();
		var property = this.inputs[1].get();
		if(object == null || object.properties == null) {
			return null;
		}
		var _this = object.properties;
		if(__map_reserved[property] != null) {
			return _this.getReserved(property);
		} else {
			return _this.h[property];
		}
	}
	,__class__: armory_logicnode_GetPropertyNode
});
var armory_logicnode_GetRotationNode = $hxClasses["armory.logicnode.GetRotationNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_GetRotationNode.__name__ = ["armory","logicnode","GetRotationNode"];
armory_logicnode_GetRotationNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_GetRotationNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var object = this.inputs[0].get();
		if(object == null) {
			return null;
		}
		return object.transform.rot.getEuler();
	}
	,__class__: armory_logicnode_GetRotationNode
});
var armory_logicnode_GetScaleNode = $hxClasses["armory.logicnode.GetScaleNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_GetScaleNode.__name__ = ["armory","logicnode","GetScaleNode"];
armory_logicnode_GetScaleNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_GetScaleNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var object = this.inputs[0].get();
		if(object == null) {
			return null;
		}
		return object.transform.scale;
	}
	,__class__: armory_logicnode_GetScaleNode
});
var armory_logicnode_GetStaticPropertyNode = $hxClasses["armory.logicnode.GetStaticPropertyNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_GetStaticPropertyNode.__name__ = ["armory","logicnode","GetStaticPropertyNode"];
armory_logicnode_GetStaticPropertyNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_GetStaticPropertyNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var className = this.inputs[0].get();
		var property = this.inputs[1].get();
		var cl = Type.resolveClass(className);
		if(cl == null) {
			return null;
		}
		return Reflect.getProperty(cl,property);
	}
	,__class__: armory_logicnode_GetStaticPropertyNode
});
var armory_logicnode_GetTraitNode = $hxClasses["armory.logicnode.GetTraitNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_GetTraitNode.__name__ = ["armory","logicnode","GetTraitNode"];
armory_logicnode_GetTraitNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_GetTraitNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var object = this.inputs[0].get();
		var name = this.inputs[1].get();
		if(object == null) {
			return null;
		}
		return null;
	}
	,__class__: armory_logicnode_GetTraitNode
});
var armory_logicnode_GetTransformNode = $hxClasses["armory.logicnode.GetTransformNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_GetTransformNode.__name__ = ["armory","logicnode","GetTransformNode"];
armory_logicnode_GetTransformNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_GetTransformNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var object = this.inputs[0].get();
		if(object == null) {
			return null;
		}
		return object.transform.world;
	}
	,__class__: armory_logicnode_GetTransformNode
});
var armory_logicnode_GetVelocityNode = $hxClasses["armory.logicnode.GetVelocityNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_GetVelocityNode.__name__ = ["armory","logicnode","GetVelocityNode"];
armory_logicnode_GetVelocityNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_GetVelocityNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var object = this.inputs[0].get();
		if(object == null) {
			return null;
		}
		var rb = object.getTrait(armory_trait_physics_bullet_RigidBody);
		if(rb != null) {
			if(from == 0) {
				return rb.getLinearVelocity();
			} else if(from == 1) {
				return rb.getAngularVelocity();
			}
		}
		return null;
	}
	,__class__: armory_logicnode_GetVelocityNode
});
var armory_logicnode_GetVisibleNode = $hxClasses["armory.logicnode.GetVisibleNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_GetVisibleNode.__name__ = ["armory","logicnode","GetVisibleNode"];
armory_logicnode_GetVisibleNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_GetVisibleNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var object = this.inputs[0].get();
		var tmp = object == null;
		return object.visible;
	}
	,__class__: armory_logicnode_GetVisibleNode
});
var armory_logicnode_GlobalObjectNode = $hxClasses["armory.logicnode.GlobalObjectNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_GlobalObjectNode.__name__ = ["armory","logicnode","GlobalObjectNode"];
armory_logicnode_GlobalObjectNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_GlobalObjectNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		return iron_Scene.global;
	}
	,__class__: armory_logicnode_GlobalObjectNode
});
var armory_logicnode_GoToLocationNode = $hxClasses["armory.logicnode.GoToLocationNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_GoToLocationNode.__name__ = ["armory","logicnode","GoToLocationNode"];
armory_logicnode_GoToLocationNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_GoToLocationNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var object = this.inputs[1].get();
		var location = this.inputs[2].get();
		if(location == null) {
			return;
		}
		if(object == null) {
			return;
		}
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_GoToLocationNode
});
var armory_logicnode_GroupNode = $hxClasses["armory.logicnode.GroupNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_GroupNode.__name__ = ["armory","logicnode","GroupNode"];
armory_logicnode_GroupNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_GroupNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,get: function(from) {
		var key = this.property0;
		var _this = iron_Scene.active.groups;
		if(__map_reserved[key] != null) {
			return _this.getReserved(key);
		} else {
			return _this.h[key];
		}
	}
	,__class__: armory_logicnode_GroupNode
});
var armory_logicnode_GroupOutputNode = $hxClasses["armory.logicnode.GroupOutputNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_GroupOutputNode.__name__ = ["armory","logicnode","GroupOutputNode"];
armory_logicnode_GroupOutputNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_GroupOutputNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_GroupOutputNode
});
var armory_logicnode_HasContactNode = $hxClasses["armory.logicnode.HasContactNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_HasContactNode.__name__ = ["armory","logicnode","HasContactNode"];
armory_logicnode_HasContactNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_HasContactNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var object1 = this.inputs[0].get();
		var object2 = this.inputs[1].get();
		var physics = armory_trait_physics_bullet_PhysicsWorld.active;
		var rb2 = object2.getTrait(armory_trait_physics_bullet_RigidBody);
		var rbs = physics.getContacts(object1.getTrait(armory_trait_physics_bullet_RigidBody));
		if(rbs != null) {
			var _g = 0;
			while(_g < rbs.length) {
				var rb = rbs[_g];
				++_g;
				if(rb == rb2) {
					return true;
				}
			}
		}
		return false;
	}
	,__class__: armory_logicnode_HasContactNode
});
var armory_logicnode_IntegerNode = $hxClasses["armory.logicnode.IntegerNode"] = function(tree,value) {
	if(value == null) {
		value = 0;
	}
	armory_logicnode_LogicNode.call(this,tree);
	this.value = value;
};
armory_logicnode_IntegerNode.__name__ = ["armory","logicnode","IntegerNode"];
armory_logicnode_IntegerNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_IntegerNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	value: null
	,get: function(from) {
		if(this.inputs.length > 0) {
			return this.inputs[0].get();
		}
		return this.value;
	}
	,set: function(value) {
		if(this.inputs.length > 0) {
			this.inputs[0].set(value);
		} else {
			this.value = value;
		}
	}
	,__class__: armory_logicnode_IntegerNode
});
var armory_logicnode_InverseNode = $hxClasses["armory.logicnode.InverseNode"] = function(tree) {
	this.c = false;
	armory_logicnode_LogicNode.call(this,tree);
	tree.notifyOnUpdate($bind(this,this.update));
};
armory_logicnode_InverseNode.__name__ = ["armory","logicnode","InverseNode"];
armory_logicnode_InverseNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_InverseNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	c: null
	,run: function() {
		this.c = true;
	}
	,update: function() {
		if(!this.c) {
			armory_logicnode_LogicNode.prototype.run.call(this);
		}
		this.c = false;
	}
	,__class__: armory_logicnode_InverseNode
});
var armory_logicnode_IsFalseNode = $hxClasses["armory.logicnode.IsFalseNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_IsFalseNode.__name__ = ["armory","logicnode","IsFalseNode"];
armory_logicnode_IsFalseNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_IsFalseNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var v1 = this.inputs[1].get();
		if(!v1) {
			armory_logicnode_LogicNode.prototype.run.call(this);
		}
	}
	,__class__: armory_logicnode_IsFalseNode
});
var armory_logicnode_IsNoneNode = $hxClasses["armory.logicnode.IsNoneNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_IsNoneNode.__name__ = ["armory","logicnode","IsNoneNode"];
armory_logicnode_IsNoneNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_IsNoneNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var v1 = this.inputs[1].get();
		if(v1 == null) {
			armory_logicnode_LogicNode.prototype.run.call(this);
		}
	}
	,__class__: armory_logicnode_IsNoneNode
});
var armory_logicnode_IsNotNoneNode = $hxClasses["armory.logicnode.IsNotNoneNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_IsNotNoneNode.__name__ = ["armory","logicnode","IsNotNoneNode"];
armory_logicnode_IsNotNoneNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_IsNotNoneNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var v1 = this.inputs[1].get();
		if(v1 != null) {
			armory_logicnode_LogicNode.prototype.run.call(this);
		}
	}
	,__class__: armory_logicnode_IsNotNoneNode
});
var armory_logicnode_IsTrueNode = $hxClasses["armory.logicnode.IsTrueNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_IsTrueNode.__name__ = ["armory","logicnode","IsTrueNode"];
armory_logicnode_IsTrueNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_IsTrueNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var v1 = this.inputs[1].get();
		if(v1) {
			armory_logicnode_LogicNode.prototype.run.call(this);
		}
	}
	,__class__: armory_logicnode_IsTrueNode
});
var armory_logicnode_KeyboardNode = $hxClasses["armory.logicnode.KeyboardNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_KeyboardNode.__name__ = ["armory","logicnode","KeyboardNode"];
armory_logicnode_KeyboardNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_KeyboardNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,property1: null
	,get: function(from) {
		var keyboard = iron_system_Input.getKeyboard();
		var _g = this.property0;
		switch(_g) {
		case "Down":
			return keyboard.down(this.property1);
		case "Released":
			return keyboard.released(this.property1);
		case "Started":
			return keyboard.started(this.property1);
		}
		return false;
	}
	,__class__: armory_logicnode_KeyboardNode
});
var armory_logicnode_LogicNodeInput = $hxClasses["armory.logicnode.LogicNodeInput"] = function(node,from) {
	this.node = node;
	this.from = from;
};
armory_logicnode_LogicNodeInput.__name__ = ["armory","logicnode","LogicNodeInput"];
armory_logicnode_LogicNodeInput.prototype = {
	node: null
	,from: null
	,get: function() {
		return this.node.get(this.from);
	}
	,set: function(value) {
		this.node.set(value);
	}
	,__class__: armory_logicnode_LogicNodeInput
};
var armory_logicnode_LoopBreakNode = $hxClasses["armory.logicnode.LoopBreakNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_LoopBreakNode.__name__ = ["armory","logicnode","LoopBreakNode"];
armory_logicnode_LoopBreakNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_LoopBreakNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		this.tree.loopBreak = true;
	}
	,__class__: armory_logicnode_LoopBreakNode
});
var armory_logicnode_LoopNode = $hxClasses["armory.logicnode.LoopNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_LoopNode.__name__ = ["armory","logicnode","LoopNode"];
armory_logicnode_LoopNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_LoopNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	index: null
	,run: function() {
		this.index = 0;
		var from = this.inputs[1].get();
		var to = this.inputs[2].get();
		var _g1 = from;
		var _g = to;
		while(_g1 < _g) {
			var i = _g1++;
			this.index = i;
			this.runOutputs(0);
			if(this.tree.loopBreak) {
				this.tree.loopBreak = false;
				break;
			}
		}
		this.runOutputs(2);
	}
	,get: function(from) {
		return this.index;
	}
	,__class__: armory_logicnode_LoopNode
});
var armory_logicnode_MaterialNode = $hxClasses["armory.logicnode.MaterialNode"] = function(tree) {
	this.value = null;
	var _gthis = this;
	armory_logicnode_LogicNode.call(this,tree);
	iron_Scene.active.notifyOnInit(function() {
		_gthis.get(0);
	});
};
armory_logicnode_MaterialNode.__name__ = ["armory","logicnode","MaterialNode"];
armory_logicnode_MaterialNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_MaterialNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,value: null
	,get: function(from) {
		var _gthis = this;
		if(this.property0 != null) {
			iron_data_Data.getMaterial(iron_Scene.active.raw.name,this.property0,function(mat) {
				_gthis.value = mat;
			});
		}
		return this.value;
	}
	,set: function(value) {
		this.value = value;
	}
	,__class__: armory_logicnode_MaterialNode
});
var armory_logicnode_MathNode = $hxClasses["armory.logicnode.MathNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_MathNode.__name__ = ["armory","logicnode","MathNode"];
armory_logicnode_MathNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_MathNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,property1: null
	,get: function(from) {
		var v1 = this.inputs[0].get();
		var v2 = this.inputs[1].get();
		var f = 0.0;
		var _g = this.property0;
		switch(_g) {
		case "Abs":
			f = Math.abs(v1);
			break;
		case "Add":
			f = v1 + v2;
			break;
		case "Arccosine":
			f = Math.acos(v1);
			break;
		case "Arcsine":
			f = Math.asin(v1);
			break;
		case "Arctangent":
			f = Math.atan(v1);
			break;
		case "Cosine":
			f = Math.cos(v1);
			break;
		case "Divide":
			f = v1 / v2;
			break;
		case "Greater Than":
			if(v1 > v2) {
				f = 1.0;
			} else {
				f = 0.0;
			}
			break;
		case "Less Than":
			if(v1 < v2) {
				f = 1.0;
			} else {
				f = 0.0;
			}
			break;
		case "Logarithm":
			f = Math.log(v1);
			break;
		case "Max":
			f = Math.max(v1,v2);
			break;
		case "Min":
			f = Math.min(v1,v2);
			break;
		case "Modulo":
			f = v1 % v2;
			break;
		case "Multiply":
			f = v1 * v2;
			break;
		case "Power":
			f = Math.pow(v1,v2);
			break;
		case "Round":
			f = Math.round(v1);
			break;
		case "Sine":
			f = Math.sin(v1);
			break;
		case "Subtract":
			f = v1 - v2;
			break;
		case "Tangent":
			f = Math.tan(v1);
			break;
		}
		if(this.property1 == "true") {
			if(f < 0.0) {
				f = 0.0;
			} else if(f > 1.0) {
				f = 1.0;
			} else {
				f = f;
			}
		}
		return f;
	}
	,__class__: armory_logicnode_MathNode
});
var armory_logicnode_MatrixMathNode = $hxClasses["armory.logicnode.MatrixMathNode"] = function(tree) {
	this.m = iron_math_Mat4.identity();
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_MatrixMathNode.__name__ = ["armory","logicnode","MatrixMathNode"];
armory_logicnode_MatrixMathNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_MatrixMathNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,m: null
	,get: function(from) {
		var m1 = this.inputs[0].get();
		var m2 = this.inputs[1].get();
		this.m.setFrom(m1);
		var _g = this.property0;
		if(_g == "Multiply") {
			this.m.multmat2(m2);
		}
		return this.m;
	}
	,__class__: armory_logicnode_MatrixMathNode
});
var armory_logicnode_MergeNode = $hxClasses["armory.logicnode.MergeNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_MergeNode.__name__ = ["armory","logicnode","MergeNode"];
armory_logicnode_MergeNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_MergeNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_MergeNode
});
var armory_logicnode_MeshNode = $hxClasses["armory.logicnode.MeshNode"] = function(tree) {
	this.value = null;
	var _gthis = this;
	armory_logicnode_LogicNode.call(this,tree);
	iron_Scene.active.notifyOnInit(function() {
		_gthis.get(0);
	});
};
armory_logicnode_MeshNode.__name__ = ["armory","logicnode","MeshNode"];
armory_logicnode_MeshNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_MeshNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,value: null
	,get: function(from) {
		var _gthis = this;
		iron_data_Data.getMesh("mesh_" + this.property0,this.property0,function(mesh) {
			_gthis.value = mesh;
		});
		return this.value;
	}
	,set: function(value) {
		this.value = value;
	}
	,__class__: armory_logicnode_MeshNode
});
var armory_logicnode_MixNode = $hxClasses["armory.logicnode.MixNode"] = function(tree) {
	this.ease = null;
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_MixNode.__name__ = ["armory","logicnode","MixNode"];
armory_logicnode_MixNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_MixNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,property1: null
	,property2: null
	,ease: null
	,init: function() {
		var _g = this.property0;
		switch(_g) {
		case "Back":
			this.ease = this.property1 == "In" ? iron_system_Tween.easeBackIn : this.property1 == "Out" ? iron_system_Tween.easeBackOut : iron_system_Tween.easeBackInOut;
			break;
		case "Circ":
			this.ease = this.property1 == "In" ? iron_system_Tween.easeCircIn : this.property1 == "Out" ? iron_system_Tween.easeCircOut : iron_system_Tween.easeCircInOut;
			break;
		case "Cubic":
			this.ease = this.property1 == "In" ? iron_system_Tween.easeCubicIn : this.property1 == "Out" ? iron_system_Tween.easeCubicOut : iron_system_Tween.easeCubicInOut;
			break;
		case "Expo":
			this.ease = this.property1 == "In" ? iron_system_Tween.easeExpoIn : this.property1 == "Out" ? iron_system_Tween.easeExpoOut : iron_system_Tween.easeExpoInOut;
			break;
		case "Linear":
			this.ease = iron_system_Tween.easeLinear;
			break;
		case "Quad":
			this.ease = this.property1 == "In" ? iron_system_Tween.easeQuadIn : this.property1 == "Out" ? iron_system_Tween.easeQuadOut : iron_system_Tween.easeQuadInOut;
			break;
		case "Quart":
			this.ease = this.property1 == "In" ? iron_system_Tween.easeQuartIn : this.property1 == "Out" ? iron_system_Tween.easeQuartOut : iron_system_Tween.easeQuartInOut;
			break;
		case "Quint":
			this.ease = this.property1 == "In" ? iron_system_Tween.easeQuintIn : this.property1 == "Out" ? iron_system_Tween.easeQuintOut : iron_system_Tween.easeQuintInOut;
			break;
		case "Sine":
			this.ease = this.property1 == "In" ? iron_system_Tween.easeSineIn : this.property1 == "Out" ? iron_system_Tween.easeSineOut : iron_system_Tween.easeSineInOut;
			break;
		default:
			this.ease = iron_system_Tween.easeLinear;
		}
	}
	,get: function(from) {
		if(this.ease == null) {
			this.init();
		}
		var k = this.inputs[0].get();
		var v1 = this.inputs[1].get();
		var v2 = this.inputs[2].get();
		var f = v1 + (v2 - v1) * this.ease(k);
		if(this.property1 == "true") {
			if(f < 0.0) {
				f = 0.0;
			} else if(f > 1.0) {
				f = 1.0;
			} else {
				f = f;
			}
		}
		return f;
	}
	,__class__: armory_logicnode_MixNode
});
var armory_logicnode_MouseCoordsNode = $hxClasses["armory.logicnode.MouseCoordsNode"] = function(tree) {
	this.coords = new iron_math_Vec4();
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_MouseCoordsNode.__name__ = ["armory","logicnode","MouseCoordsNode"];
armory_logicnode_MouseCoordsNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_MouseCoordsNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	coords: null
	,get: function(from) {
		var mouse = iron_system_Input.getMouse();
		if(from == 0) {
			this.coords.x = mouse.x;
			this.coords.y = mouse.y;
			return this.coords;
		} else if(from == 1) {
			this.coords.x = mouse.movementX;
			this.coords.y = mouse.movementY;
			return this.coords;
		} else {
			return mouse.wheelDelta;
		}
	}
	,__class__: armory_logicnode_MouseCoordsNode
});
var armory_logicnode_MouseNode = $hxClasses["armory.logicnode.MouseNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_MouseNode.__name__ = ["armory","logicnode","MouseNode"];
armory_logicnode_MouseNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_MouseNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,property1: null
	,get: function(from) {
		var mouse = iron_system_Input.getMouse();
		var _g = this.property0;
		switch(_g) {
		case "Down":
			return mouse.down(this.property1);
		case "Moved":
			return mouse.moved;
		case "Released":
			return mouse.released(this.property1);
		case "Started":
			return mouse.started(this.property1);
		}
		return false;
	}
	,__class__: armory_logicnode_MouseNode
});
var armory_logicnode_NavigableLocationNode = $hxClasses["armory.logicnode.NavigableLocationNode"] = function(tree) {
	var _gthis = this;
	armory_logicnode_LogicNode.call(this,tree);
	iron_Scene.active.notifyOnInit(function() {
		_gthis.get(0);
	});
};
armory_logicnode_NavigableLocationNode.__name__ = ["armory","logicnode","NavigableLocationNode"];
armory_logicnode_NavigableLocationNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_NavigableLocationNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	loc: null
	,get: function(from) {
		return this.loc;
	}
	,__class__: armory_logicnode_NavigableLocationNode
});
var armory_logicnode_NoneNode = $hxClasses["armory.logicnode.NoneNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_NoneNode.__name__ = ["armory","logicnode","NoneNode"];
armory_logicnode_NoneNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_NoneNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		return null;
	}
	,__class__: armory_logicnode_NoneNode
});
var armory_logicnode_NotNode = $hxClasses["armory.logicnode.NotNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_NotNode.__name__ = ["armory","logicnode","NotNode"];
armory_logicnode_NotNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_NotNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,get: function(from) {
		var v1 = this.inputs[0].get();
		return !v1;
	}
	,__class__: armory_logicnode_NotNode
});
var armory_logicnode_NullNode = $hxClasses["armory.logicnode.NullNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_NullNode.__name__ = ["armory","logicnode","NullNode"];
armory_logicnode_NullNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_NullNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		return null;
	}
	,__class__: armory_logicnode_NullNode
});
var armory_logicnode_ObjectNode = $hxClasses["armory.logicnode.ObjectNode"] = function(tree,objectName) {
	if(objectName == null) {
		objectName = "";
	}
	this.objectName = objectName;
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ObjectNode.__name__ = ["armory","logicnode","ObjectNode"];
armory_logicnode_ObjectNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ObjectNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	objectName: null
	,value: null
	,get: function(from) {
		if(this.inputs.length > 0) {
			return this.inputs[0].get();
		}
		this.value = this.objectName != "" ? iron_Scene.active.getChild(this.objectName) : this.tree.object;
		return this.value;
	}
	,set: function(value) {
		if(this.inputs.length > 0) {
			this.inputs[0].set(value);
		} else {
			this.value = value;
		}
	}
	,__class__: armory_logicnode_ObjectNode
});
var armory_logicnode_OnActionMarkerNode = $hxClasses["armory.logicnode.OnActionMarkerNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
	tree.notifyOnInit($bind(this,this.init));
};
armory_logicnode_OnActionMarkerNode.__name__ = ["armory","logicnode","OnActionMarkerNode"];
armory_logicnode_OnActionMarkerNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_OnActionMarkerNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	init: function() {
		var object = this.inputs[0].get();
		var marker = this.inputs[1].get();
		if(object == null) {
			return;
		}
		var animation = object.animation;
		if(animation == null) {
			animation = object.getParentArmature(object.name);
		}
		animation.notifyOnMarker(marker,$bind(this,this.run));
	}
	,__class__: armory_logicnode_OnActionMarkerNode
});
var armory_logicnode_OnContactNode = $hxClasses["armory.logicnode.OnContactNode"] = function(tree) {
	this.lastContact = false;
	armory_logicnode_LogicNode.call(this,tree);
	tree.notifyOnUpdate($bind(this,this.update));
};
armory_logicnode_OnContactNode.__name__ = ["armory","logicnode","OnContactNode"];
armory_logicnode_OnContactNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_OnContactNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,lastContact: null
	,update: function() {
		var object1 = this.inputs[0].get();
		var object2 = this.inputs[1].get();
		if(object1 == null) {
			object1 = this.tree.object;
		}
		if(object2 == null) {
			object2 = this.tree.object;
		}
		var contact = false;
		var physics = armory_trait_physics_bullet_PhysicsWorld.active;
		var rb2 = object2.getTrait(armory_trait_physics_bullet_RigidBody);
		var rbs = physics.getContacts(object1.getTrait(armory_trait_physics_bullet_RigidBody));
		if(rbs != null) {
			var _g = 0;
			while(_g < rbs.length) {
				var rb = rbs[_g];
				++_g;
				if(rb == rb2) {
					contact = true;
					break;
				}
			}
		}
		var b = false;
		var _g1 = this.property0;
		switch(_g1) {
		case "Begin":
			if(contact) {
				b = !this.lastContact;
			} else {
				b = false;
			}
			break;
		case "End":
			if(!contact) {
				b = this.lastContact;
			} else {
				b = false;
			}
			break;
		case "Overlap":
			b = contact;
			break;
		}
		this.lastContact = contact;
		if(b) {
			this.run();
		}
	}
	,__class__: armory_logicnode_OnContactNode
});
var armory_logicnode_OnEventNode = $hxClasses["armory.logicnode.OnEventNode"] = function(tree) {
	this.listener = null;
	armory_logicnode_LogicNode.call(this,tree);
	tree.notifyOnRemove($bind(this,this.onRemove));
};
armory_logicnode_OnEventNode.__name__ = ["armory","logicnode","OnEventNode"];
armory_logicnode_OnEventNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_OnEventNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	_property0: null
	,listener: null
	,get_property0: function() {
		return this._property0;
	}
	,set_property0: function(s) {
		this.listener = armory_system_Event.add(s,$bind(this,this.onEvent),this.tree.object.uid);
		return this._property0 = s;
	}
	,onEvent: function() {
		this.run();
	}
	,onRemove: function() {
		if(this.listener != null) {
			armory_system_Event.removeListener(this.listener);
		}
	}
	,__class__: armory_logicnode_OnEventNode
	,__properties__: {set_property0:"set_property0",get_property0:"get_property0"}
});
var armory_logicnode_OnGamepadNode = $hxClasses["armory.logicnode.OnGamepadNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
	tree.notifyOnUpdate($bind(this,this.update));
};
armory_logicnode_OnGamepadNode.__name__ = ["armory","logicnode","OnGamepadNode"];
armory_logicnode_OnGamepadNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_OnGamepadNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,property1: null
	,update: function() {
		var num = this.inputs[0].get();
		var gamepad = iron_system_Input.getGamepad(num);
		if(gamepad == null) {
			return;
		}
		var b = false;
		var _g = this.property0;
		switch(_g) {
		case "Down":
			b = gamepad.down(this.property1) > 0.0;
			break;
		case "Released":
			b = gamepad.released(this.property1);
			break;
		case "Started":
			b = gamepad.started(this.property1);
			break;
		}
		if(b) {
			this.run();
		}
	}
	,__class__: armory_logicnode_OnGamepadNode
});
var armory_logicnode_OnInitNode = $hxClasses["armory.logicnode.OnInitNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
	tree.notifyOnInit($bind(this,this.init));
};
armory_logicnode_OnInitNode.__name__ = ["armory","logicnode","OnInitNode"];
armory_logicnode_OnInitNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_OnInitNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	init: function() {
		if(armory_trait_physics_bullet_PhysicsWorld.active == null) {
			this.run();
		} else {
			armory_trait_physics_bullet_PhysicsWorld.active.notifyOnPreUpdate($bind(this,this.physics_init));
		}
	}
	,physics_init: function() {
		armory_trait_physics_bullet_PhysicsWorld.active.removePreUpdate($bind(this,this.physics_init));
		this.run();
	}
	,__class__: armory_logicnode_OnInitNode
});
var armory_logicnode_OnKeyboardNode = $hxClasses["armory.logicnode.OnKeyboardNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
	tree.notifyOnUpdate($bind(this,this.update));
};
armory_logicnode_OnKeyboardNode.__name__ = ["armory","logicnode","OnKeyboardNode"];
armory_logicnode_OnKeyboardNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_OnKeyboardNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,property1: null
	,update: function() {
		var keyboard = iron_system_Input.getKeyboard();
		var b = false;
		var _g = this.property0;
		switch(_g) {
		case "Down":
			b = keyboard.down(this.property1);
			break;
		case "Released":
			b = keyboard.released(this.property1);
			break;
		case "Started":
			b = keyboard.started(this.property1);
			break;
		}
		if(b) {
			this.run();
		}
	}
	,__class__: armory_logicnode_OnKeyboardNode
});
var armory_logicnode_OnMouseNode = $hxClasses["armory.logicnode.OnMouseNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
	tree.notifyOnUpdate($bind(this,this.update));
};
armory_logicnode_OnMouseNode.__name__ = ["armory","logicnode","OnMouseNode"];
armory_logicnode_OnMouseNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_OnMouseNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,property1: null
	,update: function() {
		var mouse = iron_system_Input.getMouse();
		var b = false;
		var _g = this.property0;
		switch(_g) {
		case "Down":
			b = mouse.down(this.property1);
			break;
		case "Moved":
			b = mouse.moved;
			break;
		case "Released":
			b = mouse.released(this.property1);
			break;
		case "Started":
			b = mouse.started(this.property1);
			break;
		}
		if(b) {
			this.run();
		}
	}
	,__class__: armory_logicnode_OnMouseNode
});
var armory_logicnode_OnSurfaceNode = $hxClasses["armory.logicnode.OnSurfaceNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
	tree.notifyOnUpdate($bind(this,this.update));
};
armory_logicnode_OnSurfaceNode.__name__ = ["armory","logicnode","OnSurfaceNode"];
armory_logicnode_OnSurfaceNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_OnSurfaceNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,update: function() {
		var surface = iron_system_Input.getSurface();
		var b = false;
		var _g = this.property0;
		switch(_g) {
		case "Moved":
			b = surface.moved;
			break;
		case "Released":
			b = surface.released();
			break;
		case "Started":
			b = surface.started();
			break;
		case "Touched":
			b = surface.down();
			break;
		}
		if(b) {
			this.run();
		}
	}
	,__class__: armory_logicnode_OnSurfaceNode
});
var armory_logicnode_OnTimerNode = $hxClasses["armory.logicnode.OnTimerNode"] = function(tree) {
	this.repeat = false;
	this.duration = 0.0;
	armory_logicnode_LogicNode.call(this,tree);
	tree.notifyOnUpdate($bind(this,this.update));
};
armory_logicnode_OnTimerNode.__name__ = ["armory","logicnode","OnTimerNode"];
armory_logicnode_OnTimerNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_OnTimerNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	duration: null
	,repeat: null
	,update: function() {
		if(this.duration <= 0.0) {
			this.duration = this.inputs[0].get();
			this.repeat = this.inputs[1].get();
		}
		this.duration -= 0.016666666666666666 * iron_system_Time.scale;
		if(this.duration <= 0.0) {
			if(!this.repeat) {
				this.tree.removeUpdate($bind(this,this.update));
			}
			this.run();
		}
	}
	,__class__: armory_logicnode_OnTimerNode
});
var armory_logicnode_OnUpdateNode = $hxClasses["armory.logicnode.OnUpdateNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
	tree.notifyOnUpdate($bind(this,this.update));
};
armory_logicnode_OnUpdateNode.__name__ = ["armory","logicnode","OnUpdateNode"];
armory_logicnode_OnUpdateNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_OnUpdateNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	update: function() {
		this.run();
	}
	,__class__: armory_logicnode_OnUpdateNode
});
var armory_logicnode_OnVirtualButtonNode = $hxClasses["armory.logicnode.OnVirtualButtonNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
	tree.notifyOnUpdate($bind(this,this.update));
};
armory_logicnode_OnVirtualButtonNode.__name__ = ["armory","logicnode","OnVirtualButtonNode"];
armory_logicnode_OnVirtualButtonNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_OnVirtualButtonNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,property1: null
	,update: function() {
		var vb = iron_system_Input.getVirtualButton(this.property1);
		if(vb == null) {
			return;
		}
		var b = false;
		var _g = this.property0;
		switch(_g) {
		case "Down":
			b = vb.down;
			break;
		case "Released":
			b = vb.released;
			break;
		case "Started":
			b = vb.started;
			break;
		}
		if(b) {
			this.run();
		}
	}
	,__class__: armory_logicnode_OnVirtualButtonNode
});
var armory_logicnode_OnVolumeTriggerNode = $hxClasses["armory.logicnode.OnVolumeTriggerNode"] = function(tree) {
	this.l2 = new iron_math_Vec4();
	this.l1 = new iron_math_Vec4();
	this.lastOverlap = false;
	armory_logicnode_LogicNode.call(this,tree);
	tree.notifyOnUpdate($bind(this,this.update));
};
armory_logicnode_OnVolumeTriggerNode.__name__ = ["armory","logicnode","OnVolumeTriggerNode"];
armory_logicnode_OnVolumeTriggerNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_OnVolumeTriggerNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,lastOverlap: null
	,l1: null
	,l2: null
	,update: function() {
		var object = this.inputs[0].get();
		var volume = this.inputs[1].get();
		if(object == null) {
			return;
		}
		if(volume == null) {
			volume = this.tree.object;
		}
		var t1 = object.transform;
		var t2 = volume.transform;
		this.l1.set(t1.world.self._30,t1.world.self._31,t1.world.self._32);
		this.l2.set(t2.world.self._30,t2.world.self._31,t2.world.self._32);
		var d1 = t1.dim;
		var d2 = t2.dim;
		var overlap = this.l1.x + d1.x / 2 > this.l2.x - d2.x / 2 && this.l1.x - d1.x / 2 < this.l2.x + d2.x / 2 && this.l1.y + d1.y / 2 > this.l2.y - d2.y / 2 && this.l1.y - d1.y / 2 < this.l2.y + d2.y / 2 && this.l1.z + d1.z / 2 > this.l2.z - d2.z / 2 && this.l1.z - d1.z / 2 < this.l2.z + d2.z / 2;
		var b = false;
		var _g = this.property0;
		switch(_g) {
		case "Enter":
			if(overlap) {
				b = !this.lastOverlap;
			} else {
				b = false;
			}
			break;
		case "Leave":
			if(!overlap) {
				b = this.lastOverlap;
			} else {
				b = false;
			}
			break;
		case "Overlap":
			b = overlap;
			break;
		}
		this.lastOverlap = overlap;
		if(b) {
			this.run();
		}
	}
	,__class__: armory_logicnode_OnVolumeTriggerNode
});
var armory_logicnode_PauseActionNode = $hxClasses["armory.logicnode.PauseActionNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_PauseActionNode.__name__ = ["armory","logicnode","PauseActionNode"];
armory_logicnode_PauseActionNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_PauseActionNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var object = this.inputs[1].get();
		if(object == null) {
			return;
		}
		var animation = object.animation;
		if(animation == null) {
			animation = object.getParentArmature(object.name);
		}
		animation.pause();
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_PauseActionNode
});
var armory_logicnode_PauseTilesheetNode = $hxClasses["armory.logicnode.PauseTilesheetNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_PauseTilesheetNode.__name__ = ["armory","logicnode","PauseTilesheetNode"];
armory_logicnode_PauseTilesheetNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_PauseTilesheetNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var object = this.inputs[1].get();
		if(object == null) {
			return;
		}
		object.tilesheet.pause();
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_PauseTilesheetNode
});
var armory_logicnode_PickLocationNode = $hxClasses["armory.logicnode.PickLocationNode"] = function(tree) {
	this.loc = new iron_math_Vec4();
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_PickLocationNode.__name__ = ["armory","logicnode","PickLocationNode"];
armory_logicnode_PickLocationNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_PickLocationNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	loc: null
	,get: function(from) {
		var object = this.inputs[0].get();
		var coords = this.inputs[1].get();
		var tmp = object == null;
		var physics = armory_trait_physics_bullet_PhysicsWorld.active;
		var b = physics.pickClosest(coords.x,coords.y);
		var rb = object.getTrait(armory_trait_physics_bullet_RigidBody);
		if(rb != null && b == rb) {
			var p = physics.hitPointWorld;
			this.loc.set(p.x,p.y,p.z);
			return this.loc;
		}
		return null;
	}
	,__class__: armory_logicnode_PickLocationNode
});
var armory_logicnode_PickObjectNode = $hxClasses["armory.logicnode.PickObjectNode"] = function(tree) {
	this.v = new iron_math_Vec4();
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_PickObjectNode.__name__ = ["armory","logicnode","PickObjectNode"];
armory_logicnode_PickObjectNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_PickObjectNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	v: null
	,get: function(from) {
		var coords = this.inputs[0].get();
		var physics = armory_trait_physics_bullet_PhysicsWorld.active;
		var rb = physics.pickClosest(coords.x,coords.y);
		if(rb == null) {
			return null;
		}
		if(from == 0) {
			return rb.object;
		} else {
			return this.v.set(physics.hitPointWorld.x,physics.hitPointWorld.y,physics.hitPointWorld.z);
		}
	}
	,__class__: armory_logicnode_PickObjectNode
});
var armory_logicnode_PlayActionNode = $hxClasses["armory.logicnode.PlayActionNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_PlayActionNode.__name__ = ["armory","logicnode","PlayActionNode"];
armory_logicnode_PlayActionNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_PlayActionNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var _gthis = this;
		var object = this.inputs[1].get();
		var action = this.inputs[2].get();
		var blendTime = this.inputs.length > 3 ? this.inputs[3].get() : 0.2;
		if(object == null) {
			return;
		}
		var animation = object.animation;
		if(animation == null) {
			animation = object.getParentArmature(object.name);
		}
		animation.play(action,function() {
			_gthis.runOutputs(1);
		},blendTime);
		this.runOutputs(0);
	}
	,__class__: armory_logicnode_PlayActionNode
});
var armory_logicnode_PlaySoundNode = $hxClasses["armory.logicnode.PlaySoundNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_PlaySoundNode.__name__ = ["armory","logicnode","PlaySoundNode"];
armory_logicnode_PlaySoundNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_PlaySoundNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var object = js_Boot.__cast(this.inputs[1].get() , iron_object_SpeakerObject);
		object.play();
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_PlaySoundNode
});
var armory_logicnode_PlaySoundRawNode = $hxClasses["armory.logicnode.PlaySoundRawNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_PlaySoundRawNode.__name__ = ["armory","logicnode","PlaySoundRawNode"];
armory_logicnode_PlaySoundRawNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_PlaySoundRawNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,run: function() {
		iron_data_Data.getSound(this.property0,function(sound) {
			iron_system_Audio.play(sound,false);
		});
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_PlaySoundRawNode
});
var armory_logicnode_PlayTilesheetNode = $hxClasses["armory.logicnode.PlayTilesheetNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_PlayTilesheetNode.__name__ = ["armory","logicnode","PlayTilesheetNode"];
armory_logicnode_PlayTilesheetNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_PlayTilesheetNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var _gthis = this;
		var object = this.inputs[1].get();
		var action = this.inputs[2].get();
		if(object == null) {
			return;
		}
		object.tilesheet.play(action,function() {
			_gthis.runOutputs(1);
		});
		this.runOutputs(0);
	}
	,__class__: armory_logicnode_PlayTilesheetNode
});
var armory_logicnode_PrintNode = $hxClasses["armory.logicnode.PrintNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_PrintNode.__name__ = ["armory","logicnode","PrintNode"];
armory_logicnode_PrintNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_PrintNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var value = this.inputs[1].get();
		haxe_Log.trace(value,{ fileName : "PrintNode.hx", lineNumber : 12, className : "armory.logicnode.PrintNode", methodName : "run"});
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_PrintNode
});
var armory_logicnode_QuaternionNode = $hxClasses["armory.logicnode.QuaternionNode"] = function(tree,x,y,z,w) {
	this.value = new iron_math_Quat();
	armory_logicnode_LogicNode.call(this,tree);
	if(x != null) {
		this.addInput(new armory_logicnode_FloatNode(tree,x),0);
		this.addInput(new armory_logicnode_FloatNode(tree,y),0);
		this.addInput(new armory_logicnode_FloatNode(tree,z),0);
		this.addInput(new armory_logicnode_FloatNode(tree,w),0);
	}
};
armory_logicnode_QuaternionNode.__name__ = ["armory","logicnode","QuaternionNode"];
armory_logicnode_QuaternionNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_QuaternionNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	value: null
	,get: function(from) {
		this.value.x = this.inputs[0].get();
		this.value.y = this.inputs[1].get();
		this.value.z = this.inputs[2].get();
		this.value.w = this.inputs[3].get();
		return this.value;
	}
	,set: function(value) {
		this.value = value;
	}
	,__class__: armory_logicnode_QuaternionNode
});
var armory_logicnode_RandomBooleanNode = $hxClasses["armory.logicnode.RandomBooleanNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_RandomBooleanNode.__name__ = ["armory","logicnode","RandomBooleanNode"];
armory_logicnode_RandomBooleanNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_RandomBooleanNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		return Std.random(2) == 0;
	}
	,__class__: armory_logicnode_RandomBooleanNode
});
var armory_logicnode_RandomColorNode = $hxClasses["armory.logicnode.RandomColorNode"] = function(tree) {
	this.v = new iron_math_Vec4();
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_RandomColorNode.__name__ = ["armory","logicnode","RandomColorNode"];
armory_logicnode_RandomColorNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_RandomColorNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	v: null
	,get: function(from) {
		var r = Math.random();
		var g = Math.random();
		var b = Math.random();
		this.v.set(r,g,b);
		return this.v;
	}
	,__class__: armory_logicnode_RandomColorNode
});
var armory_logicnode_RandomFloatNode = $hxClasses["armory.logicnode.RandomFloatNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_RandomFloatNode.__name__ = ["armory","logicnode","RandomFloatNode"];
armory_logicnode_RandomFloatNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_RandomFloatNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var min = this.inputs[0].get();
		var max = this.inputs[1].get();
		return min + Math.random() * (max - min);
	}
	,__class__: armory_logicnode_RandomFloatNode
});
var armory_logicnode_RandomIntegerNode = $hxClasses["armory.logicnode.RandomIntegerNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_RandomIntegerNode.__name__ = ["armory","logicnode","RandomIntegerNode"];
armory_logicnode_RandomIntegerNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_RandomIntegerNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var min = this.inputs[0].get();
		var max = this.inputs[1].get();
		return min + Std.random(max - min);
	}
	,__class__: armory_logicnode_RandomIntegerNode
});
var armory_logicnode_RandomVectorNode = $hxClasses["armory.logicnode.RandomVectorNode"] = function(tree) {
	this.v = new iron_math_Vec4();
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_RandomVectorNode.__name__ = ["armory","logicnode","RandomVectorNode"];
armory_logicnode_RandomVectorNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_RandomVectorNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	v: null
	,get: function(from) {
		var min = this.inputs[0].get();
		var max = this.inputs[1].get();
		var x = min.x + Math.random() * (max.x - min.x);
		var y = min.y + Math.random() * (max.y - min.y);
		var z = min.z + Math.random() * (max.z - min.z);
		this.v.set(x,y,z);
		return this.v;
	}
	,__class__: armory_logicnode_RandomVectorNode
});
var armory_logicnode_ReadStorageNode = $hxClasses["armory.logicnode.ReadStorageNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ReadStorageNode.__name__ = ["armory","logicnode","ReadStorageNode"];
armory_logicnode_ReadStorageNode.parseArg = function(str) {
	if(str == "true") {
		return true;
	} else if(str == "false") {
		return false;
	} else if(str.charAt(0) == "'") {
		return StringTools.replace(str,"'","");
	} else if(str.charAt(0) == "[") {
		str = StringTools.replace(str,"[","");
		str = StringTools.replace(str,"]","");
		str = StringTools.replace(str," ","");
		var ar = [];
		var s = str.split(",");
		var _g = 0;
		while(_g < s.length) {
			var childStr = s[_g];
			++_g;
			ar.push(armory_logicnode_ReadStorageNode.parseArg(childStr));
		}
		return ar;
	} else {
		var f = parseFloat(str);
		var i = Std.parseInt(str);
		if(f == i) {
			return i;
		} else {
			return f;
		}
	}
};
armory_logicnode_ReadStorageNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ReadStorageNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var key = this.inputs[0].get();
		var data = iron_system_Storage.get_data();
		if(data == null) {
			return null;
		}
		var value = Reflect.field(data,key);
		if(value == null) {
			value = armory_logicnode_ReadStorageNode.parseArg(this.inputs[1].get());
		}
		return value;
	}
	,__class__: armory_logicnode_ReadStorageNode
});
var armory_logicnode_RemoveActiveSceneNode = $hxClasses["armory.logicnode.RemoveActiveSceneNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_RemoveActiveSceneNode.__name__ = ["armory","logicnode","RemoveActiveSceneNode"];
armory_logicnode_RemoveActiveSceneNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_RemoveActiveSceneNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		iron_Scene.active.remove();
		this.runOutputs(0);
	}
	,__class__: armory_logicnode_RemoveActiveSceneNode
});
var armory_logicnode_RemoveGroupNode = $hxClasses["armory.logicnode.RemoveGroupNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_RemoveGroupNode.__name__ = ["armory","logicnode","RemoveGroupNode"];
armory_logicnode_RemoveGroupNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_RemoveGroupNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var groupName = this.inputs[1].get();
		iron_Scene.active.groups.remove(groupName);
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_RemoveGroupNode
});
var armory_logicnode_RemoveObjectNode = $hxClasses["armory.logicnode.RemoveObjectNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_RemoveObjectNode.__name__ = ["armory","logicnode","RemoveObjectNode"];
armory_logicnode_RemoveObjectNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_RemoveObjectNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var object = this.inputs[1].get();
		if(object == null) {
			return;
		}
		object.remove();
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_RemoveObjectNode
});
var armory_logicnode_RemoveTraitNode = $hxClasses["armory.logicnode.RemoveTraitNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_RemoveTraitNode.__name__ = ["armory","logicnode","RemoveTraitNode"];
armory_logicnode_RemoveTraitNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_RemoveTraitNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var trait = this.inputs[1].get();
		trait.remove();
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_RemoveTraitNode
});
var armory_logicnode_ResumeActionNode = $hxClasses["armory.logicnode.ResumeActionNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ResumeActionNode.__name__ = ["armory","logicnode","ResumeActionNode"];
armory_logicnode_ResumeActionNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ResumeActionNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var object = this.inputs[1].get();
		if(object == null) {
			return;
		}
		var animation = object.animation;
		if(animation == null) {
			animation = object.getParentArmature(object.name);
		}
		animation.resume();
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_ResumeActionNode
});
var armory_logicnode_ResumeTilesheetNode = $hxClasses["armory.logicnode.ResumeTilesheetNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ResumeTilesheetNode.__name__ = ["armory","logicnode","ResumeTilesheetNode"];
armory_logicnode_ResumeTilesheetNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ResumeTilesheetNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var object = this.inputs[1].get();
		if(object == null) {
			return;
		}
		object.tilesheet.resume();
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_ResumeTilesheetNode
});
var armory_logicnode_RotateObjectNode = $hxClasses["armory.logicnode.RotateObjectNode"] = function(tree) {
	this.q = new iron_math_Quat();
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_RotateObjectNode.__name__ = ["armory","logicnode","RotateObjectNode"];
armory_logicnode_RotateObjectNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_RotateObjectNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	q: null
	,run: function() {
		var object = this.inputs[1].get();
		var vec = this.inputs[2].get();
		if(object == null) {
			return;
		}
		this.q.fromEuler(vec.x,vec.y,vec.z);
		object.transform.rot.mult(this.q);
		object.transform.buildMatrix();
		var rigidBody = object.getTrait(armory_trait_physics_bullet_RigidBody);
		if(rigidBody != null) {
			rigidBody.syncTransform();
		}
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_RotateObjectNode
});
var armory_logicnode_ScaleObjectNode = $hxClasses["armory.logicnode.ScaleObjectNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ScaleObjectNode.__name__ = ["armory","logicnode","ScaleObjectNode"];
armory_logicnode_ScaleObjectNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ScaleObjectNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var object = this.inputs[1].get();
		var vec = this.inputs[2].get();
		if(object == null) {
			return;
		}
		object.transform.scale.add(vec);
		object.transform.buildMatrix();
		var rigidBody = object.getTrait(armory_trait_physics_bullet_RigidBody);
		if(rigidBody != null) {
			rigidBody.syncTransform();
		}
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_ScaleObjectNode
});
var armory_logicnode_SceneNode = $hxClasses["armory.logicnode.SceneNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SceneNode.__name__ = ["armory","logicnode","SceneNode"];
armory_logicnode_SceneNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SceneNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,get: function(from) {
		return this.property0;
	}
	,set: function(value) {
		this.property0 = value;
	}
	,__class__: armory_logicnode_SceneNode
});
var armory_logicnode_SceneRootNode = $hxClasses["armory.logicnode.SceneRootNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SceneRootNode.__name__ = ["armory","logicnode","SceneRootNode"];
armory_logicnode_SceneRootNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SceneRootNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		return iron_Scene.active.root;
	}
	,__class__: armory_logicnode_SceneRootNode
});
var armory_logicnode_ScreenToWorldSpaceNode = $hxClasses["armory.logicnode.ScreenToWorldSpaceNode"] = function(tree) {
	this.m = iron_math_Mat4.identity();
	this.v = new iron_math_Vec4();
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ScreenToWorldSpaceNode.__name__ = ["armory","logicnode","ScreenToWorldSpaceNode"];
armory_logicnode_ScreenToWorldSpaceNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ScreenToWorldSpaceNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,v: null
	,m: null
	,get: function(from) {
		var v1 = this.inputs[0].get();
		var cam = iron_Scene.active.camera;
		this.v.setFrom(v1);
		this.m.getInverse(cam.P);
		this.v.applyproj(this.m);
		this.m.getInverse(cam.V);
		this.v.applyproj(this.m);
		return this.v;
	}
	,__class__: armory_logicnode_ScreenToWorldSpaceNode
});
var armory_logicnode_ScriptNode = $hxClasses["armory.logicnode.ScriptNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ScriptNode.__name__ = ["armory","logicnode","ScriptNode"];
armory_logicnode_ScriptNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ScriptNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,result: null
	,run: function() {
		var v = this.inputs[1].get();
		this.runOutputs(0);
	}
	,get: function(from) {
		return this.result;
	}
	,__class__: armory_logicnode_ScriptNode
});
var armory_logicnode_SelfNode = $hxClasses["armory.logicnode.SelfNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SelfNode.__name__ = ["armory","logicnode","SelfNode"];
armory_logicnode_SelfNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SelfNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		return this.tree.object;
	}
	,__class__: armory_logicnode_SelfNode
});
var armory_logicnode_SelfTraitNode = $hxClasses["armory.logicnode.SelfTraitNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SelfTraitNode.__name__ = ["armory","logicnode","SelfTraitNode"];
armory_logicnode_SelfTraitNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SelfTraitNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		return this.tree;
	}
	,__class__: armory_logicnode_SelfTraitNode
});
var armory_logicnode_SendEventNode = $hxClasses["armory.logicnode.SendEventNode"] = function(tree) {
	this.entries = null;
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SendEventNode.__name__ = ["armory","logicnode","SendEventNode"];
armory_logicnode_SendEventNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SendEventNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	entries: null
	,run: function() {
		var name = this.inputs[1].get();
		if(this.entries == null) {
			var all = armory_system_Event.get(name);
			if(all != null) {
				this.entries = [];
				var _g = 0;
				while(_g < all.length) {
					var e = all[_g];
					++_g;
					if(e.mask == this.tree.object.uid) {
						this.entries.push(e);
					}
				}
			}
		}
		var _g1 = 0;
		var _g11 = this.entries;
		while(_g1 < _g11.length) {
			var e1 = _g11[_g1];
			++_g1;
			e1.onEvent();
		}
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_SendEventNode
});
var armory_logicnode_SendGlobalEventNode = $hxClasses["armory.logicnode.SendGlobalEventNode"] = function(tree) {
	this.entries = null;
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SendGlobalEventNode.__name__ = ["armory","logicnode","SendGlobalEventNode"];
armory_logicnode_SendGlobalEventNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SendGlobalEventNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	entries: null
	,run: function() {
		var name = this.inputs[1].get();
		if(this.entries == null) {
			this.entries = armory_system_Event.get(name);
		}
		if(this.entries == null) {
			return;
		}
		var _g = 0;
		var _g1 = this.entries;
		while(_g < _g1.length) {
			var e = _g1[_g];
			++_g;
			e.onEvent();
		}
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_SendGlobalEventNode
});
var armory_logicnode_SensorCoordsNode = $hxClasses["armory.logicnode.SensorCoordsNode"] = function(tree) {
	this.coords = new iron_math_Vec4();
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SensorCoordsNode.__name__ = ["armory","logicnode","SensorCoordsNode"];
armory_logicnode_SensorCoordsNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SensorCoordsNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	coords: null
	,get: function(from) {
		var sensor = iron_system_Input.getSensor();
		this.coords.x = sensor.x;
		this.coords.y = sensor.y;
		this.coords.z = sensor.z;
		return this.coords;
	}
	,__class__: armory_logicnode_SensorCoordsNode
});
var armory_logicnode_SeparateColorNode = $hxClasses["armory.logicnode.SeparateColorNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SeparateColorNode.__name__ = ["armory","logicnode","SeparateColorNode"];
armory_logicnode_SeparateColorNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SeparateColorNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var vector = this.inputs[0].get();
		if(from == 0) {
			return vector.x;
		} else if(from == 1) {
			return vector.y;
		} else {
			return vector.z;
		}
	}
	,__class__: armory_logicnode_SeparateColorNode
});
var armory_logicnode_SeparateTransformNode = $hxClasses["armory.logicnode.SeparateTransformNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SeparateTransformNode.__name__ = ["armory","logicnode","SeparateTransformNode"];
armory_logicnode_SeparateTransformNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SeparateTransformNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var matrix = this.inputs[0].get();
		var loc = new iron_math_Vec4();
		var rot = new iron_math_Quat();
		var scale = new iron_math_Vec4();
		matrix.decompose(loc,rot,scale);
		if(from == 0) {
			return loc;
		} else if(from == 1) {
			return rot.getEuler();
		} else {
			return scale;
		}
	}
	,__class__: armory_logicnode_SeparateTransformNode
});
var armory_logicnode_SeparateVectorNode = $hxClasses["armory.logicnode.SeparateVectorNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SeparateVectorNode.__name__ = ["armory","logicnode","SeparateVectorNode"];
armory_logicnode_SeparateVectorNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SeparateVectorNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		var vector = this.inputs[0].get();
		if(from == 0) {
			return vector.x;
		} else if(from == 1) {
			return vector.y;
		} else {
			return vector.z;
		}
	}
	,__class__: armory_logicnode_SeparateVectorNode
});
var armory_logicnode_SequenceNode = $hxClasses["armory.logicnode.SequenceNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SequenceNode.__name__ = ["armory","logicnode","SequenceNode"];
armory_logicnode_SequenceNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SequenceNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_SequenceNode
});
var armory_logicnode_SetActionSpeedNode = $hxClasses["armory.logicnode.SetActionSpeedNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SetActionSpeedNode.__name__ = ["armory","logicnode","SetActionSpeedNode"];
armory_logicnode_SetActionSpeedNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SetActionSpeedNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var object = this.inputs[1].get();
		var speed = this.inputs[2].get();
		if(object == null) {
			return;
		}
		var animation = object.animation;
		if(animation == null) {
			animation = object.getParentArmature(object.name);
		}
		animation.speed = speed;
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_SetActionSpeedNode
});
var armory_logicnode_SetCameraFovNode = $hxClasses["armory.logicnode.SetCameraFovNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SetCameraFovNode.__name__ = ["armory","logicnode","SetCameraFovNode"];
armory_logicnode_SetCameraFovNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SetCameraFovNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var camera = this.inputs[1].get();
		var fov = this.inputs[2].get();
		if(camera == null) {
			return;
		}
		camera.data.raw.fov = fov;
		camera.buildProjection();
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_SetCameraFovNode
});
var armory_logicnode_SetGravityNode = $hxClasses["armory.logicnode.SetGravityNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SetGravityNode.__name__ = ["armory","logicnode","SetGravityNode"];
armory_logicnode_SetGravityNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SetGravityNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var gravity = this.inputs[1].get();
		var physics = armory_trait_physics_bullet_PhysicsWorld.active;
		physics.setGravity(gravity);
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_SetGravityNode
});
var armory_logicnode_SetLocationNode = $hxClasses["armory.logicnode.SetLocationNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SetLocationNode.__name__ = ["armory","logicnode","SetLocationNode"];
armory_logicnode_SetLocationNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SetLocationNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var object = this.inputs[1].get();
		var vec = this.inputs[2].get();
		if(object == null) {
			return;
		}
		object.transform.loc.setFrom(vec);
		object.transform.buildMatrix();
		var rigidBody = object.getTrait(armory_trait_physics_bullet_RigidBody);
		if(rigidBody != null) {
			rigidBody.syncTransform();
		}
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_SetLocationNode
});
var armory_logicnode_SetMaterialNode = $hxClasses["armory.logicnode.SetMaterialNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SetMaterialNode.__name__ = ["armory","logicnode","SetMaterialNode"];
armory_logicnode_SetMaterialNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SetMaterialNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var object = this.inputs[1].get();
		var mat = this.inputs[2].get();
		if(object == null) {
			return;
		}
		object.materials[0] = mat;
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_SetMaterialNode
});
var armory_logicnode_SetMeshNode = $hxClasses["armory.logicnode.SetMeshNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SetMeshNode.__name__ = ["armory","logicnode","SetMeshNode"];
armory_logicnode_SetMeshNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SetMeshNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var object = this.inputs[1].get();
		var mesh = this.inputs[2].get();
		if(object == null) {
			return;
		}
		object.data = mesh;
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_SetMeshNode
});
var armory_logicnode_SetMouseLockNode = $hxClasses["armory.logicnode.SetMouseLockNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SetMouseLockNode.__name__ = ["armory","logicnode","SetMouseLockNode"];
armory_logicnode_SetMouseLockNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SetMouseLockNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var lock = this.inputs[1].get();
		var mouse = iron_system_Input.getMouse();
		if(lock) {
			mouse.lock();
		} else {
			mouse.unlock();
		}
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_SetMouseLockNode
});
var armory_logicnode_SetNameNode = $hxClasses["armory.logicnode.SetNameNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SetNameNode.__name__ = ["armory","logicnode","SetNameNode"];
armory_logicnode_SetNameNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SetNameNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var object = this.inputs[1].get();
		var name = this.inputs[2].get();
		if(object == null) {
			return;
		}
		object.name = name;
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_SetNameNode
});
var armory_logicnode_SetNativePropertyNode = $hxClasses["armory.logicnode.SetNativePropertyNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SetNativePropertyNode.__name__ = ["armory","logicnode","SetNativePropertyNode"];
armory_logicnode_SetNativePropertyNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SetNativePropertyNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var object = this.inputs[1].get();
		var property = this.inputs[2].get();
		var value = this.inputs[3].get();
		if(object == null) {
			return;
		}
		Reflect.setProperty(object,property,value);
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_SetNativePropertyNode
});
var armory_logicnode_SetParentBoneNode = $hxClasses["armory.logicnode.SetParentBoneNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SetParentBoneNode.__name__ = ["armory","logicnode","SetParentBoneNode"];
armory_logicnode_SetParentBoneNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SetParentBoneNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var object = this.inputs[1].get();
		var parent = this.inputs[2].get();
		var bone = this.inputs[3].get();
		if(object == null || parent == null) {
			return;
		}
		if(object.parent != parent) {
			object.parent.removeChild(object,false);
			parent.addChild(object,false);
		}
		var banim = object.getParentArmature(object.parent.name);
		banim.addBoneChild(bone,object);
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_SetParentBoneNode
});
var armory_logicnode_SetParentNode = $hxClasses["armory.logicnode.SetParentNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SetParentNode.__name__ = ["armory","logicnode","SetParentNode"];
armory_logicnode_SetParentNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SetParentNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var object = this.inputs[1].get();
		var parent;
		var isUnparent = false;
		if(js_Boot.__instanceof(this.inputs[2].node,armory_logicnode_ObjectNode)) {
			var parentNode = js_Boot.__cast(this.inputs[2].node , armory_logicnode_ObjectNode);
			isUnparent = parentNode.objectName == "";
		}
		if(isUnparent) {
			parent = iron_Scene.active.root;
		} else {
			parent = this.inputs[2].get();
		}
		if(object == null || parent == null || object.parent == parent) {
			return;
		}
		object.parent.removeChild(object,isUnparent);
		parent.addChild(object,!isUnparent);
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_SetParentNode
});
var armory_logicnode_SetPropertyNode = $hxClasses["armory.logicnode.SetPropertyNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SetPropertyNode.__name__ = ["armory","logicnode","SetPropertyNode"];
armory_logicnode_SetPropertyNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SetPropertyNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var object = this.inputs[1].get();
		var property = this.inputs[2].get();
		var value = this.inputs[3].get();
		if(object == null) {
			return;
		}
		if(object.properties == null) {
			object.properties = new haxe_ds_StringMap();
		}
		var _this = object.properties;
		var value1 = value;
		if(__map_reserved[property] != null) {
			_this.setReserved(property,value1);
		} else {
			_this.h[property] = value1;
		}
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_SetPropertyNode
});
var armory_logicnode_SetRotationNode = $hxClasses["armory.logicnode.SetRotationNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SetRotationNode.__name__ = ["armory","logicnode","SetRotationNode"];
armory_logicnode_SetRotationNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SetRotationNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var object = this.inputs[1].get();
		var vec = this.inputs[2].get();
		if(object == null) {
			return;
		}
		object.transform.rot.fromEuler(vec.x,vec.y,vec.z);
		object.transform.buildMatrix();
		var rigidBody = object.getTrait(armory_trait_physics_bullet_RigidBody);
		if(rigidBody != null) {
			rigidBody.syncTransform();
		}
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_SetRotationNode
});
var armory_logicnode_SetScaleNode = $hxClasses["armory.logicnode.SetScaleNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SetScaleNode.__name__ = ["armory","logicnode","SetScaleNode"];
armory_logicnode_SetScaleNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SetScaleNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var object = this.inputs[1].get();
		var vec = this.inputs[2].get();
		if(object == null) {
			return;
		}
		object.transform.scale.setFrom(vec);
		object.transform.buildMatrix();
		var rigidBody = object.getTrait(armory_trait_physics_bullet_RigidBody);
		if(rigidBody != null) {
			rigidBody.syncTransform();
		}
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_SetScaleNode
});
var armory_logicnode_SetSceneNode = $hxClasses["armory.logicnode.SetSceneNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SetSceneNode.__name__ = ["armory","logicnode","SetSceneNode"];
armory_logicnode_SetSceneNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SetSceneNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	root: null
	,run: function() {
		var _gthis = this;
		var sceneName = this.inputs[1].get();
		iron_Scene.setActive(sceneName,function(o) {
			_gthis.root = o;
			_gthis.runOutputs(0);
		});
	}
	,get: function(from) {
		return this.root;
	}
	,__class__: armory_logicnode_SetSceneNode
});
var armory_logicnode_SetStaticPropertyNode = $hxClasses["armory.logicnode.SetStaticPropertyNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SetStaticPropertyNode.__name__ = ["armory","logicnode","SetStaticPropertyNode"];
armory_logicnode_SetStaticPropertyNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SetStaticPropertyNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var className = this.inputs[1].get();
		var property = this.inputs[2].get();
		var value = this.inputs[3].get();
		var cl = Type.resolveClass(className);
		if(cl == null) {
			return;
		}
		cl[property] = value;
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_SetStaticPropertyNode
});
var armory_logicnode_SetTimeScaleNode = $hxClasses["armory.logicnode.SetTimeScaleNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SetTimeScaleNode.__name__ = ["armory","logicnode","SetTimeScaleNode"];
armory_logicnode_SetTimeScaleNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SetTimeScaleNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var f = this.inputs[1].get();
		iron_system_Time.scale = f;
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_SetTimeScaleNode
});
var armory_logicnode_SetTransformNode = $hxClasses["armory.logicnode.SetTransformNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SetTransformNode.__name__ = ["armory","logicnode","SetTransformNode"];
armory_logicnode_SetTransformNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SetTransformNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var object = this.inputs[1].get();
		var matrix = this.inputs[2].get();
		if(object == null) {
			return;
		}
		object.transform.setMatrix(matrix);
		var rigidBody = object.getTrait(armory_trait_physics_bullet_RigidBody);
		if(rigidBody != null) {
			rigidBody.syncTransform();
		}
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_SetTransformNode
});
var armory_logicnode_SetVariableNode = $hxClasses["armory.logicnode.SetVariableNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SetVariableNode.__name__ = ["armory","logicnode","SetVariableNode"];
armory_logicnode_SetVariableNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SetVariableNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var variable = this.inputs[1];
		var value = this.inputs[2].get();
		variable.set(value);
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_SetVariableNode
});
var armory_logicnode_SetVelocityNode = $hxClasses["armory.logicnode.SetVelocityNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SetVelocityNode.__name__ = ["armory","logicnode","SetVelocityNode"];
armory_logicnode_SetVelocityNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SetVelocityNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var object = this.inputs[1].get();
		var linear = this.inputs[2].get();
		var linearFactor = this.inputs[3].get();
		var angular = this.inputs[4].get();
		var angularFactor = this.inputs[5].get();
		if(object == null) {
			return;
		}
		var rb = object.getTrait(armory_trait_physics_bullet_RigidBody);
		rb.activate();
		rb.setLinearVelocity(linear.x,linear.y,linear.z);
		rb.setLinearFactor(linearFactor.x,linearFactor.y,linearFactor.z);
		rb.setAngularVelocity(angular.x,angular.y,angular.z);
		rb.setAngularFactor(angularFactor.x,angularFactor.y,angularFactor.z);
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_SetVelocityNode
});
var armory_logicnode_SetVisibleNode = $hxClasses["armory.logicnode.SetVisibleNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SetVisibleNode.__name__ = ["armory","logicnode","SetVisibleNode"];
armory_logicnode_SetVisibleNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SetVisibleNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var object = this.inputs[1].get();
		var visible = this.inputs[2].get();
		if(object == null) {
			return;
		}
		object.visible = visible;
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_SetVisibleNode
});
var armory_logicnode_ShutdownNode = $hxClasses["armory.logicnode.ShutdownNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ShutdownNode.__name__ = ["armory","logicnode","ShutdownNode"];
armory_logicnode_ShutdownNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ShutdownNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		kha_System.requestShutdown();
	}
	,__class__: armory_logicnode_ShutdownNode
});
var armory_logicnode_SleepNode = $hxClasses["armory.logicnode.SleepNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SleepNode.__name__ = ["armory","logicnode","SleepNode"];
armory_logicnode_SleepNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SleepNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var time = this.inputs[1].get();
		iron_system_Tween.timer(time,$bind(this,this.done));
	}
	,done: function() {
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_SleepNode
});
var armory_logicnode_SpawnObjectNode = $hxClasses["armory.logicnode.SpawnObjectNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SpawnObjectNode.__name__ = ["armory","logicnode","SpawnObjectNode"];
armory_logicnode_SpawnObjectNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SpawnObjectNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	object: null
	,run: function() {
		var _gthis = this;
		var objectName = "";
		var objectInput = this.inputs[1].get();
		if(objectInput == null) {
			objectName = (js_Boot.__cast(this.inputs[1].node , armory_logicnode_ObjectNode)).objectName;
		} else {
			objectName = objectInput.name;
		}
		if(objectName == "") {
			objectName = this.tree.object.name;
		}
		var matrix = this.inputs[2].get();
		iron_Scene.active.spawnObject(objectName,null,function(o) {
			_gthis.object = o;
			if(matrix != null) {
				_gthis.object.transform.setMatrix(matrix);
				var rigidBody = _gthis.object.getTrait(armory_trait_physics_bullet_RigidBody);
				if(rigidBody != null) {
					_gthis.object.transform.buildMatrix();
					rigidBody.syncTransform();
				}
			}
			_gthis.object.visible = true;
			_gthis.runOutputs(0);
		});
	}
	,get: function(from) {
		return this.object;
	}
	,__class__: armory_logicnode_SpawnObjectNode
});
var armory_logicnode_SpawnSceneNode = $hxClasses["armory.logicnode.SpawnSceneNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SpawnSceneNode.__name__ = ["armory","logicnode","SpawnSceneNode"];
armory_logicnode_SpawnSceneNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SpawnSceneNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	root: null
	,run: function() {
		var _gthis = this;
		var sceneName = this.inputs[1].get();
		var matrix = this.inputs[2].get();
		iron_Scene.active.addScene(sceneName,null,function(o) {
			_gthis.root = o;
			if(matrix != null) {
				_gthis.root.transform.setMatrix(matrix);
				_gthis.root.transform.buildMatrix();
			}
			_gthis.runOutputs(0);
		});
	}
	,get: function(from) {
		return this.root;
	}
	,__class__: armory_logicnode_SpawnSceneNode
});
var armory_logicnode_StringNode = $hxClasses["armory.logicnode.StringNode"] = function(tree,value) {
	if(value == null) {
		value = "";
	}
	armory_logicnode_LogicNode.call(this,tree);
	this.value = value;
};
armory_logicnode_StringNode.__name__ = ["armory","logicnode","StringNode"];
armory_logicnode_StringNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_StringNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	value: null
	,get: function(from) {
		if(this.inputs.length > 0) {
			return this.inputs[0].get();
		}
		return this.value;
	}
	,set: function(value) {
		if(this.inputs.length > 0) {
			this.inputs[0].set(value);
		} else {
			this.value = value;
		}
	}
	,__class__: armory_logicnode_StringNode
});
var armory_logicnode_SurfaceCoordsNode = $hxClasses["armory.logicnode.SurfaceCoordsNode"] = function(tree) {
	this.coords = new iron_math_Vec4();
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SurfaceCoordsNode.__name__ = ["armory","logicnode","SurfaceCoordsNode"];
armory_logicnode_SurfaceCoordsNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SurfaceCoordsNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	coords: null
	,get: function(from) {
		var surface = iron_system_Input.getSurface();
		if(from == 0) {
			this.coords.x = surface.x;
			this.coords.y = surface.y;
			return this.coords;
		} else if(from == 1) {
			this.coords.x = surface.movementX;
			this.coords.y = surface.movementY;
			return this.coords;
		} else {
			return surface.wheelDelta;
		}
	}
	,__class__: armory_logicnode_SurfaceCoordsNode
});
var armory_logicnode_SurfaceNode = $hxClasses["armory.logicnode.SurfaceNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_SurfaceNode.__name__ = ["armory","logicnode","SurfaceNode"];
armory_logicnode_SurfaceNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_SurfaceNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,get: function(from) {
		var surface = iron_system_Input.getSurface();
		var _g = this.property0;
		switch(_g) {
		case "Moved":
			return surface.moved;
		case "Released":
			return $bind(surface,surface.released);
		case "Started":
			return $bind(surface,surface.started);
		case "Touched":
			return $bind(surface,surface.down);
		}
		return false;
	}
	,__class__: armory_logicnode_SurfaceNode
});
var armory_logicnode_TimeNode = $hxClasses["armory.logicnode.TimeNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_TimeNode.__name__ = ["armory","logicnode","TimeNode"];
armory_logicnode_TimeNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_TimeNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		if(from == 0) {
			return kha_Scheduler.time();
		} else {
			return 0.016666666666666666 * iron_system_Time.scale;
		}
	}
	,__class__: armory_logicnode_TimeNode
});
var armory_logicnode_ToBoolNode = $hxClasses["armory.logicnode.ToBoolNode"] = function(tree) {
	this.b = false;
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_ToBoolNode.__name__ = ["armory","logicnode","ToBoolNode"];
armory_logicnode_ToBoolNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_ToBoolNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	value: null
	,b: null
	,run: function() {
		this.b = true;
	}
	,get: function(from) {
		this.value = this.b;
		this.b = false;
		return this.value;
	}
	,__class__: armory_logicnode_ToBoolNode
});
var armory_logicnode_TraitNode = $hxClasses["armory.logicnode.TraitNode"] = function(tree) {
	this.value = null;
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_TraitNode.__name__ = ["armory","logicnode","TraitNode"];
armory_logicnode_TraitNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_TraitNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,value: null
	,get: function(from) {
		return this.value;
	}
	,set: function(value) {
		this.value = value;
	}
	,__class__: armory_logicnode_TraitNode
});
var iron_math_Vec4 = $hxClasses["iron.math.Vec4"] = function(x,y,z,w) {
	if(w == null) {
		w = 1.0;
	}
	if(z == null) {
		z = 0.0;
	}
	if(y == null) {
		y = 0.0;
	}
	if(x == null) {
		x = 0.0;
	}
	this.quat = new iron_math_Quat();
	this.x = x;
	this.y = y;
	this.z = z;
	this.w = w;
};
iron_math_Vec4.__name__ = ["iron","math","Vec4"];
iron_math_Vec4.lerp = function(v1,v2,t) {
	var target = new iron_math_Vec4();
	target.x = v2.x + (v1.x - v2.x) * t;
	target.y = v2.y + (v1.y - v2.y) * t;
	target.z = v2.z + (v1.z - v2.z) * t;
	return target;
};
iron_math_Vec4.distance = function(v1,v2) {
	var vx = v1.x - v2.x;
	var vy = v1.y - v2.y;
	var vz = v1.z - v2.z;
	return Math.sqrt(vx * vx + vy * vy + vz * vz);
};
iron_math_Vec4.distancef = function(v1x,v1y,v1z,v2x,v2y,v2z) {
	var vx = v1x - v2x;
	var vy = v1y - v2y;
	var vz = v1z - v2z;
	return Math.sqrt(vx * vx + vy * vy + vz * vz);
};
iron_math_Vec4.xAxis = function() {
	return new iron_math_Vec4(1.0,0.0,0.0);
};
iron_math_Vec4.yAxis = function() {
	return new iron_math_Vec4(0.0,1.0,0.0);
};
iron_math_Vec4.zAxis = function() {
	return new iron_math_Vec4(0.0,0.0,1.0);
};
iron_math_Vec4.one = function() {
	return new iron_math_Vec4(1.0,1.0,1.0);
};
iron_math_Vec4.zero = function() {
	return new iron_math_Vec4(0.0,0.0,0.0,0.0);
};
iron_math_Vec4.back = function() {
	return new iron_math_Vec4(0.0,-1.0,0.0);
};
iron_math_Vec4.forward = function() {
	return new iron_math_Vec4(0.0,1.0,0.0);
};
iron_math_Vec4.down = function() {
	return new iron_math_Vec4(0.0,0.0,-1.0);
};
iron_math_Vec4.up = function() {
	return new iron_math_Vec4(0.0,0.0,1.0);
};
iron_math_Vec4.left = function() {
	return new iron_math_Vec4(-1.0,0.0,0.0);
};
iron_math_Vec4.right = function() {
	return new iron_math_Vec4(1.0,0.0,0.0);
};
iron_math_Vec4.negativeInfinity = function() {
	return new iron_math_Vec4(-Infinity,-Infinity,-Infinity,-Infinity);
};
iron_math_Vec4.positiveInfinity = function() {
	return new iron_math_Vec4(Infinity,Infinity,Infinity,Infinity);
};
iron_math_Vec4.prototype = {
	x: null
	,y: null
	,z: null
	,w: null
	,cross: function(v) {
		var x2 = this.y * v.z - this.z * v.y;
		var y2 = this.z * v.x - this.x * v.z;
		var z2 = this.x * v.y - this.y * v.x;
		this.x = x2;
		this.y = y2;
		this.z = z2;
		return this;
	}
	,crossvecs: function(a,b) {
		var x2 = a.y * b.z - a.z * b.y;
		var y2 = a.z * b.x - a.x * b.z;
		var z2 = a.x * b.y - a.y * b.x;
		this.x = x2;
		this.y = y2;
		this.z = z2;
		return this;
	}
	,set: function(x,y,z,w) {
		if(w == null) {
			w = 1.0;
		}
		this.x = x;
		this.y = y;
		this.z = z;
		this.w = w;
		return this;
	}
	,add: function(v) {
		this.x += v.x;
		this.y += v.y;
		this.z += v.z;
		return this;
	}
	,addf: function(x,y,z) {
		this.x += x;
		this.y += y;
		this.z += z;
		return this;
	}
	,addvecs: function(a,b) {
		this.x = a.x + b.x;
		this.y = a.y + b.y;
		this.z = a.z + b.z;
		return this;
	}
	,subvecs: function(a,b) {
		this.x = a.x - b.x;
		this.y = a.y - b.y;
		this.z = a.z - b.z;
		return this;
	}
	,normalize: function() {
		var n = Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);
		if(n > 0.0) {
			var invN = 1.0 / n;
			this.x *= invN;
			this.y *= invN;
			this.z *= invN;
		}
		return this;
	}
	,normalizeTo: function(newLength) {
		var v = this.normalize();
		v = this.mult(newLength);
		return v;
	}
	,mult: function(f) {
		this.x *= f;
		this.y *= f;
		this.z *= f;
		return this;
	}
	,dot: function(v) {
		return this.x * v.x + this.y * v.y + this.z * v.z;
	}
	,setFrom: function(v) {
		this.x = v.x;
		this.y = v.y;
		this.z = v.z;
		return this;
	}
	,clone: function() {
		return new iron_math_Vec4(this.x,this.y,this.z,this.w);
	}
	,applyproj: function(m) {
		var x = this.x;
		var y = this.y;
		var z = this.z;
		var d = 1.0 / (m.self._03 * x + m.self._13 * y + m.self._23 * z + m.self._33);
		this.x = (m.self._00 * x + m.self._10 * y + m.self._20 * z + m.self._30) * d;
		this.y = (m.self._01 * x + m.self._11 * y + m.self._21 * z + m.self._31) * d;
		this.z = (m.self._02 * x + m.self._12 * y + m.self._22 * z + m.self._32) * d;
		return this;
	}
	,applymat: function(m) {
		var x = this.x;
		var y = this.y;
		var z = this.z;
		this.x = m.self._00 * x + m.self._10 * y + m.self._20 * z + m.self._30;
		this.y = m.self._01 * x + m.self._11 * y + m.self._21 * z + m.self._31;
		this.z = m.self._02 * x + m.self._12 * y + m.self._22 * z + m.self._32;
		return this;
	}
	,applymat4: function(m) {
		var x = this.x;
		var y = this.y;
		var z = this.z;
		var w = this.w;
		this.x = m.self._00 * x + m.self._10 * y + m.self._20 * z + m.self._30 * w;
		this.y = m.self._01 * x + m.self._11 * y + m.self._21 * z + m.self._31 * w;
		this.z = m.self._02 * x + m.self._12 * y + m.self._22 * z + m.self._32 * w;
		this.w = m.self._03 * x + m.self._13 * y + m.self._23 * z + m.self._33 * w;
		return this;
	}
	,quat: null
	,applyAxisAngle: function(axis,angle) {
		this.quat.fromAxisAngle(axis,angle);
		return this.applyQuat(this.quat);
	}
	,applyQuat: function(q) {
		var ix = q.w * this.x + q.y * this.z - q.z * this.y;
		var iy = q.w * this.y + q.z * this.x - q.x * this.z;
		var iz = q.w * this.z + q.x * this.y - q.y * this.x;
		var iw = -q.x * this.x - q.y * this.y - q.z * this.z;
		this.x = ix * q.w + iw * -q.x + iy * -q.z - iz * -q.y;
		this.y = iy * q.w + iw * -q.y + iz * -q.x - ix * -q.z;
		this.z = iz * q.w + iw * -q.z + ix * -q.y - iy * -q.x;
		return this;
	}
	,equals: function(v) {
		if(this.x == v.x && this.y == v.y) {
			return this.z == v.z;
		} else {
			return false;
		}
	}
	,length: function() {
		return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);
	}
	,sub: function(v) {
		this.x -= v.x;
		this.y -= v.y;
		this.z -= v.z;
		return this;
	}
	,distanceTo: function(p) {
		return Math.sqrt((p.x - this.x) * (p.x - this.x) + (p.y - this.y) * (p.y - this.y) + (p.z - this.z) * (p.z - this.z));
	}
	,reflect: function(n) {
		var d = this.dot(n);
		this.x -= 2.0 * d * n.x;
		this.y -= 2.0 * d * n.y;
		this.z -= 2.0 * d * n.z;
		return this;
	}
	,clamp: function(fmin,fmax) {
		var n = Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);
		var v = this;
		if(n < fmin) {
			var v1 = this.normalize();
			v1 = this.mult(fmin);
			v = v1;
		} else if(n > fmax) {
			var v2 = this.normalize();
			v2 = this.mult(fmax);
			v = v2;
		}
		return v;
	}
	,toString: function() {
		return "(" + this.x + ", " + this.y + ", " + this.z + ", " + this.w + ")";
	}
	,__class__: iron_math_Vec4
};
var iron_math_Quat = $hxClasses["iron.math.Quat"] = function(x,y,z,w) {
	if(w == null) {
		w = 1.0;
	}
	if(z == null) {
		z = 0.0;
	}
	if(y == null) {
		y = 0.0;
	}
	if(x == null) {
		x = 0.0;
	}
	this.x = x;
	this.y = y;
	this.z = z;
	this.w = w;
};
iron_math_Quat.__name__ = ["iron","math","Quat"];
iron_math_Quat.identity = function() {
	return new iron_math_Quat(0.0,0.0,0.0,1.0);
};
iron_math_Quat.lerp = function(q1,q2,ratio) {
	var c = new iron_math_Quat();
	var ca = new iron_math_Quat();
	ca.setFrom(q1);
	var dot = q1.dot(q2);
	if(dot < 0.0) {
		ca.w = -ca.w;
		ca.x = -ca.x;
		ca.y = -ca.y;
		ca.z = -ca.z;
	}
	c.x = ca.x + (q2.x - ca.x) * ratio;
	c.y = ca.y + (q2.y - ca.y) * ratio;
	c.z = ca.z + (q2.z - ca.z) * ratio;
	c.w = ca.w + (q2.w - ca.w) * ratio;
	c.normalize();
	return c;
};
iron_math_Quat.slerp = function(q1,q2,v) {
	var c = new iron_math_Quat();
	var cosHalfTheta = q1.dot(q2);
	if(Math.abs(cosHalfTheta) >= 1) {
		c.x = q1.x;
		c.y = q1.y;
		c.z = q1.z;
		c.w = q1.w;
		return c;
	}
	var halfTheta = Math.acos(cosHalfTheta);
	var invSinHalfTheta = 1 / Math.sqrt(1 - cosHalfTheta * cosHalfTheta);
	if(Math.abs(invSinHalfTheta) > 1e3) {
		return iron_math_Quat.lerp(q1,q2,0.5);
	}
	var a = Math.sin((1 - v) * halfTheta) * invSinHalfTheta;
	var b = Math.sin(v * halfTheta) * invSinHalfTheta * (cosHalfTheta < 0 ? -1 : 1);
	c.x = q1.x * a + q2.x * b;
	c.y = q1.y * a + q2.y * b;
	c.z = q1.z * a + q2.z * b;
	c.w = q1.w * a + q2.w * b;
	return c;
};
iron_math_Quat.prototype = {
	x: null
	,y: null
	,z: null
	,w: null
	,set: function(x,y,z,w) {
		this.x = x;
		this.y = y;
		this.z = z;
		this.w = w;
	}
	,fromAxisAngle: function(axis,angle) {
		var s = Math.sin(angle * 0.5);
		this.x = axis.x * s;
		this.y = axis.y * s;
		this.z = axis.z * s;
		this.w = Math.cos(angle * 0.5);
		this.normalize();
	}
	,toAxisAngle: function(axis) {
		this.normalize();
		var angle = 2 * Math.acos(this.w);
		var s = Math.sqrt(1 - this.w * this.w);
		if(s < 0.001) {
			axis.x = this.x;
			axis.y = this.y;
			axis.z = this.z;
		} else {
			axis.x = this.x / s;
			axis.y = this.y / s;
			axis.z = this.z / s;
		}
		return angle;
	}
	,fromRotationMat: function(m) {
		var m11 = m.self._00;
		var m12 = m.self._10;
		var m13 = m.self._20;
		var m21 = m.self._01;
		var m22 = m.self._11;
		var m23 = m.self._21;
		var m31 = m.self._02;
		var m32 = m.self._12;
		var m33 = m.self._22;
		var tr = m11 + m22 + m33;
		var s = 0.0;
		if(tr > 0) {
			s = 0.5 / Math.sqrt(tr + 1.0);
			this.w = 0.25 / s;
			this.x = (m32 - m23) * s;
			this.y = (m13 - m31) * s;
			this.z = (m21 - m12) * s;
		} else if(m11 > m22 && m11 > m33) {
			s = 2.0 * Math.sqrt(1.0 + m11 - m22 - m33);
			this.w = (m32 - m23) / s;
			this.x = 0.25 * s;
			this.y = (m12 + m21) / s;
			this.z = (m13 + m31) / s;
		} else if(m22 > m33) {
			s = 2.0 * Math.sqrt(1.0 + m22 - m11 - m33);
			this.w = (m13 - m31) / s;
			this.x = (m12 + m21) / s;
			this.y = 0.25 * s;
			this.z = (m23 + m32) / s;
		} else {
			s = 2.0 * Math.sqrt(1.0 + m33 - m11 - m22);
			this.w = (m21 - m12) / s;
			this.x = (m13 + m31) / s;
			this.y = (m23 + m32) / s;
			this.z = 0.25 * s;
		}
		return this;
	}
	,mult: function(q) {
		this.multquats(this,q);
	}
	,multquats: function(q1,q2) {
		var x2 = q1.x * q2.w + q1.w * q2.x + q1.y * q2.z - q1.z * q2.y;
		var y2 = q1.w * q2.y - q1.x * q2.z + q1.y * q2.w + q1.z * q2.x;
		var z2 = q1.w * q2.z + q1.x * q2.y - q1.y * q2.x + q1.z * q2.w;
		var w2 = q1.w * q2.w - q1.x * q2.x - q1.y * q2.y - q1.z * q2.z;
		this.x = x2;
		this.y = y2;
		this.z = z2;
		this.w = w2;
	}
	,normalize: function() {
		var l = Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);
		if(l == 0.0) {
			this.x = 0;
			this.y = 0;
			this.z = 0;
			this.w = 0;
		} else {
			l = 1.0 / l;
			this.x *= l;
			this.y *= l;
			this.z *= l;
			this.w *= l;
		}
	}
	,setFrom: function(q) {
		this.x = q.x;
		this.y = q.y;
		this.z = q.z;
		this.w = q.w;
	}
	,getEuler: function() {
		var roll = NaN;
		var yaw = 0.0;
		var pitch = 0.0;
		var test = this.x * this.y + this.z * this.w;
		if(test > 0.499) {
			roll = 2 * Math.atan2(this.x,this.w);
			yaw = 1.5707963267948966;
			pitch = 0;
		}
		if(test < -0.499) {
			roll = -2 * Math.atan2(this.x,this.w);
			yaw = -1.5707963267948966;
			pitch = 0;
		}
		if(isNaN(roll)) {
			var sqx = this.x * this.x;
			var sqy = this.y * this.y;
			var sqz = this.z * this.z;
			roll = Math.atan2(2 * this.y * this.w - 2 * this.x * this.z,1.0 - 2 * sqy - 2 * sqz);
			yaw = Math.asin(2 * test);
			pitch = Math.atan2(2 * this.x * this.w - 2 * this.y * this.z,1.0 - 2 * sqx - 2 * sqz);
		}
		return new iron_math_Vec4(pitch,roll,yaw);
	}
	,fromEuler: function(x,y,z) {
		var c1 = Math.cos(x / 2);
		var c2 = Math.cos(y / 2);
		var c3 = Math.cos(z / 2);
		var s1 = Math.sin(x / 2);
		var s2 = Math.sin(y / 2);
		var s3 = Math.sin(z / 2);
		this.x = s1 * c2 * c3 + c1 * s2 * s3;
		this.y = c1 * s2 * c3 + s1 * c2 * s3;
		this.z = c1 * c2 * s3 - s1 * s2 * c3;
		this.w = c1 * c2 * c3 - s1 * s2 * s3;
		return this;
	}
	,toMat: function(m) {
		var x2 = this.x + this.x;
		var y2 = this.y + this.y;
		var z2 = this.z + this.z;
		var xx = this.x * x2;
		var xy = this.x * y2;
		var xz = this.x * z2;
		var yy = this.y * y2;
		var yz = this.y * z2;
		var zz = this.z * z2;
		var wx = this.w * x2;
		var wy = this.w * y2;
		var wz = this.w * z2;
		m.self._00 = 1 - (yy + zz);
		m.self._10 = xy - wz;
		m.self._20 = xz + wy;
		m.self._01 = xy + wz;
		m.self._11 = 1 - (xx + zz);
		m.self._21 = yz - wx;
		m.self._02 = xz - wy;
		m.self._12 = yz + wx;
		m.self._22 = 1 - (xx + yy);
		m.self._03 = 0;
		m.self._13 = 0;
		m.self._23 = 0;
		m.self._30 = 0;
		m.self._31 = 0;
		m.self._32 = 0;
		m.self._33 = 1;
		return m;
	}
	,dot: function(q) {
		return this.x * q.x + this.y * q.y + this.z * q.z + this.w * q.w;
	}
	,fromTo: function(v1,v2) {
		var a = iron_math_Quat.helpVec0;
		var dot = v1.dot(v2);
		if(dot < -0.999999) {
			a.crossvecs(iron_math_Vec4.xAxis(),v1);
			if(Math.sqrt(a.x * a.x + a.y * a.y + a.z * a.z) < 0.000001) {
				a.crossvecs(iron_math_Vec4.yAxis(),v1);
			}
			a.normalize();
			this.fromAxisAngle(a,3.14159265358979323846);
		} else if(dot > 0.999999) {
			this.x = 0;
			this.y = 0;
			this.z = 0;
			this.w = 1;
		} else {
			a.crossvecs(v1,v2);
			this.x = a.x;
			this.y = a.y;
			this.z = a.z;
			this.w = 1 + dot;
			this.normalize();
		}
	}
	,toString: function() {
		return this.x + ", " + this.y + ", " + this.z + ", " + this.w;
	}
	,__class__: iron_math_Quat
};
var armory_logicnode_TransformNode = $hxClasses["armory.logicnode.TransformNode"] = function(tree) {
	this.value = iron_math_Mat4.identity();
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_TransformNode.__name__ = ["armory","logicnode","TransformNode"];
armory_logicnode_TransformNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_TransformNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	value: null
	,get: function(from) {
		var loc = this.inputs[0].get();
		var rot = this.inputs[1].get();
		armory_logicnode_TransformNode.q.fromEuler(rot.x,rot.y,rot.z);
		var scale = this.inputs[2].get();
		this.value.compose(loc,armory_logicnode_TransformNode.q,scale);
		return this.value;
	}
	,set: function(value) {
		this.value = value;
	}
	,__class__: armory_logicnode_TransformNode
});
var armory_logicnode_TranslateObjectNode = $hxClasses["armory.logicnode.TranslateObjectNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_TranslateObjectNode.__name__ = ["armory","logicnode","TranslateObjectNode"];
armory_logicnode_TranslateObjectNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_TranslateObjectNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var object = this.inputs[1].get();
		var vec = this.inputs[2].get();
		if(object == null) {
			return;
		}
		object.transform.loc.add(vec);
		object.transform.buildMatrix();
		var rigidBody = object.getTrait(armory_trait_physics_bullet_RigidBody);
		if(rigidBody != null) {
			rigidBody.syncTransform();
		}
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_TranslateObjectNode
});
var armory_logicnode_TranslateOnLocalAxisNode = $hxClasses["armory.logicnode.TranslateOnLocalAxisNode"] = function(tree) {
	this.vec = new iron_math_Vec4();
	this.loc = new iron_math_Vec4();
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_TranslateOnLocalAxisNode.__name__ = ["armory","logicnode","TranslateOnLocalAxisNode"];
armory_logicnode_TranslateOnLocalAxisNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_TranslateOnLocalAxisNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	loc: null
	,vec: null
	,run: function() {
		var object = this.inputs[1].get();
		var sp = this.inputs[2].get();
		var l = this.inputs[3].get();
		var ini = this.inputs[4].get();
		if(object == null) {
			return;
		}
		if(l == 1) {
			var _this = object.transform.world;
			this.loc.setFrom(new iron_math_Vec4(_this.self._10,_this.self._11,_this.self._12));
		} else if(l == 2) {
			var _this1 = object.transform.world;
			this.loc.setFrom(new iron_math_Vec4(_this1.self._20,_this1.self._21,_this1.self._22));
		} else if(l == 3) {
			var _this2 = object.transform.world;
			this.loc.setFrom(new iron_math_Vec4(_this2.self._00,_this2.self._01,_this2.self._02));
		}
		if(ini) {
			this.loc.x = -this.loc.x;
			this.loc.y = -this.loc.y;
			this.loc.z = -this.loc.z;
		}
		this.vec.x = this.loc.x * sp;
		this.vec.y = this.loc.y * sp;
		this.vec.z = this.loc.z * sp;
		object.transform.loc.add(this.vec);
		object.transform.buildMatrix();
		var rigidBody = object.getTrait(armory_trait_physics_bullet_RigidBody);
		if(rigidBody != null) {
			rigidBody.syncTransform();
		}
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_TranslateOnLocalAxisNode
});
var armory_logicnode_VectorClampToSizeNode = $hxClasses["armory.logicnode.VectorClampToSizeNode"] = function(tree) {
	this.v = new iron_math_Vec4();
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_VectorClampToSizeNode.__name__ = ["armory","logicnode","VectorClampToSizeNode"];
armory_logicnode_VectorClampToSizeNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_VectorClampToSizeNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	v: null
	,get: function(from) {
		this.v = this.inputs[0].get();
		var fmin = this.inputs[1].get();
		var fmax = this.inputs[2].get();
		this.v.clamp(fmin,fmax);
		return this.v;
	}
	,__class__: armory_logicnode_VectorClampToSizeNode
});
var armory_logicnode_VectorFromTransformNode = $hxClasses["armory.logicnode.VectorFromTransformNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_VectorFromTransformNode.__name__ = ["armory","logicnode","VectorFromTransformNode"];
armory_logicnode_VectorFromTransformNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_VectorFromTransformNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,get: function(from) {
		var m = this.inputs[0].get();
		var _g = this.property0;
		switch(_g) {
		case "Look":
			return new iron_math_Vec4(m.self._10,m.self._11,m.self._12);
		case "Quaternion":
			return m.getQuat();
		case "Right":
			return new iron_math_Vec4(m.self._00,m.self._01,m.self._02);
		case "Up":
			return new iron_math_Vec4(m.self._20,m.self._21,m.self._22);
		}
		return null;
	}
	,__class__: armory_logicnode_VectorFromTransformNode
});
var armory_logicnode_VectorMathNode = $hxClasses["armory.logicnode.VectorMathNode"] = function(tree) {
	this.v = new iron_math_Vec4();
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_VectorMathNode.__name__ = ["armory","logicnode","VectorMathNode"];
armory_logicnode_VectorMathNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_VectorMathNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,v: null
	,get: function(from) {
		var v1 = this.inputs[0].get();
		var v2 = this.inputs[1].get();
		this.v.setFrom(v1);
		var f = 0.0;
		var _g = this.property0;
		switch(_g) {
		case "Add":
			this.v.add(v2);
			break;
		case "Average":
			this.v.add(v2);
			this.v.x *= 0.5;
			this.v.y *= 0.5;
			this.v.z *= 0.5;
			break;
		case "Cross Product":
			this.v.cross(v2);
			break;
		case "Dot Product":
			f = this.v.dot(v2);
			this.v.set(f,f,f);
			break;
		case "Length":
			var _this = this.v;
			f = Math.sqrt(_this.x * _this.x + _this.y * _this.y + _this.z * _this.z);
			break;
		case "Multiply":
			this.v.x *= v2.x;
			this.v.y *= v2.y;
			this.v.z *= v2.z;
			break;
		case "Normalize":
			this.v.normalize();
			break;
		case "Subtract":
			this.v.sub(v2);
			break;
		}
		if(from == 0) {
			return this.v;
		} else {
			return f;
		}
	}
	,__class__: armory_logicnode_VectorMathNode
});
var armory_logicnode_VectorMixNode = $hxClasses["armory.logicnode.VectorMixNode"] = function(tree) {
	this.ease = null;
	this.v = new iron_math_Vec4();
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_VectorMixNode.__name__ = ["armory","logicnode","VectorMixNode"];
armory_logicnode_VectorMixNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_VectorMixNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,property1: null
	,property2: null
	,v: null
	,ease: null
	,init: function() {
		var _g = this.property0;
		switch(_g) {
		case "Back":
			this.ease = this.property1 == "In" ? iron_system_Tween.easeBackIn : this.property1 == "Out" ? iron_system_Tween.easeBackOut : iron_system_Tween.easeBackInOut;
			break;
		case "Circ":
			this.ease = this.property1 == "In" ? iron_system_Tween.easeCircIn : this.property1 == "Out" ? iron_system_Tween.easeCircOut : iron_system_Tween.easeCircInOut;
			break;
		case "Cubic":
			this.ease = this.property1 == "In" ? iron_system_Tween.easeCubicIn : this.property1 == "Out" ? iron_system_Tween.easeCubicOut : iron_system_Tween.easeCubicInOut;
			break;
		case "Expo":
			this.ease = this.property1 == "In" ? iron_system_Tween.easeExpoIn : this.property1 == "Out" ? iron_system_Tween.easeExpoOut : iron_system_Tween.easeExpoInOut;
			break;
		case "Linear":
			this.ease = iron_system_Tween.easeLinear;
			break;
		case "Quad":
			this.ease = this.property1 == "In" ? iron_system_Tween.easeQuadIn : this.property1 == "Out" ? iron_system_Tween.easeQuadOut : iron_system_Tween.easeQuadInOut;
			break;
		case "Quart":
			this.ease = this.property1 == "In" ? iron_system_Tween.easeQuartIn : this.property1 == "Out" ? iron_system_Tween.easeQuartOut : iron_system_Tween.easeQuartInOut;
			break;
		case "Quint":
			this.ease = this.property1 == "In" ? iron_system_Tween.easeQuintIn : this.property1 == "Out" ? iron_system_Tween.easeQuintOut : iron_system_Tween.easeQuintInOut;
			break;
		case "Sine":
			this.ease = this.property1 == "In" ? iron_system_Tween.easeSineIn : this.property1 == "Out" ? iron_system_Tween.easeSineOut : iron_system_Tween.easeSineInOut;
			break;
		default:
			this.ease = iron_system_Tween.easeLinear;
		}
	}
	,get: function(from) {
		if(this.ease == null) {
			this.init();
		}
		var k = this.inputs[0].get();
		var v1 = this.inputs[1].get();
		var v2 = this.inputs[2].get();
		var f = this.ease(k);
		this.v.x = v1.x + (v2.x - v1.x) * f;
		this.v.y = v1.y + (v2.y - v1.y) * f;
		this.v.z = v1.z + (v2.z - v1.z) * f;
		if(this.property1 == "true") {
			this.v.x = this.v.x < 0.0 ? 0.0 : this.v.x > 1.0 ? 1.0 : this.v.x;
			this.v.y = this.v.y < 0.0 ? 0.0 : this.v.y > 1.0 ? 1.0 : this.v.y;
			this.v.z = this.v.z < 0.0 ? 0.0 : this.v.z > 1.0 ? 1.0 : this.v.z;
		}
		return this.v;
	}
	,__class__: armory_logicnode_VectorMixNode
});
var armory_logicnode_VectorNode = $hxClasses["armory.logicnode.VectorNode"] = function(tree,x,y,z) {
	this.value = new iron_math_Vec4();
	armory_logicnode_LogicNode.call(this,tree);
	if(x != null) {
		this.addInput(new armory_logicnode_FloatNode(tree,x),0);
		this.addInput(new armory_logicnode_FloatNode(tree,y),0);
		this.addInput(new armory_logicnode_FloatNode(tree,z),0);
	}
};
armory_logicnode_VectorNode.__name__ = ["armory","logicnode","VectorNode"];
armory_logicnode_VectorNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_VectorNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	value: null
	,get: function(from) {
		this.value.x = this.inputs[0].get();
		this.value.y = this.inputs[1].get();
		this.value.z = this.inputs[2].get();
		return this.value;
	}
	,set: function(value) {
		this.inputs[0].set(value.x);
		this.inputs[1].set(value.y);
		this.inputs[2].set(value.z);
	}
	,__class__: armory_logicnode_VectorNode
});
var armory_logicnode_VirtualButtonNode = $hxClasses["armory.logicnode.VirtualButtonNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_VirtualButtonNode.__name__ = ["armory","logicnode","VirtualButtonNode"];
armory_logicnode_VirtualButtonNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_VirtualButtonNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,property1: null
	,get: function(from) {
		var vb = iron_system_Input.getVirtualButton(this.property1);
		if(vb == null) {
			return false;
		}
		var _g = this.property0;
		switch(_g) {
		case "Down":
			return vb.down;
		case "Released":
			return vb.released;
		case "Started":
			return vb.started;
		}
		return false;
	}
	,__class__: armory_logicnode_VirtualButtonNode
});
var armory_logicnode_VolumeTriggerNode = $hxClasses["armory.logicnode.VolumeTriggerNode"] = function(tree) {
	this.l2 = new iron_math_Vec4();
	this.l1 = new iron_math_Vec4();
	this.lastOverlap = false;
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_VolumeTriggerNode.__name__ = ["armory","logicnode","VolumeTriggerNode"];
armory_logicnode_VolumeTriggerNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_VolumeTriggerNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,lastOverlap: null
	,l1: null
	,l2: null
	,get: function(from) {
		var object = this.inputs[0].get();
		var volume = this.inputs[1].get();
		if(object == null) {
			return false;
		}
		if(volume == null) {
			volume = this.tree.object;
		}
		var t1 = object.transform;
		var t2 = volume.transform;
		this.l1.set(t1.world.self._30,t1.world.self._31,t1.world.self._32);
		this.l2.set(t2.world.self._30,t2.world.self._31,t2.world.self._32);
		var d1 = t1.dim;
		var d2 = t2.dim;
		var overlap = this.l1.x + d1.x / 2 > this.l2.x - d2.x / 2 && this.l1.x - d1.x / 2 < this.l2.x + d2.x / 2 && this.l1.y + d1.y / 2 > this.l2.y - d2.y / 2 && this.l1.y - d1.y / 2 < this.l2.y + d2.y / 2 && this.l1.z + d1.z / 2 > this.l2.z - d2.z / 2 && this.l1.z - d1.z / 2 < this.l2.z + d2.z / 2;
		var b = false;
		var _g = this.property0;
		switch(_g) {
		case "Enter":
			if(overlap) {
				b = !this.lastOverlap;
			} else {
				b = false;
			}
			break;
		case "Leave":
			if(!overlap) {
				b = this.lastOverlap;
			} else {
				b = false;
			}
			break;
		case "Overlap":
			b = overlap;
			break;
		}
		this.lastOverlap = overlap;
		return b;
	}
	,__class__: armory_logicnode_VolumeTriggerNode
});
var armory_logicnode_WhileNode = $hxClasses["armory.logicnode.WhileNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_WhileNode.__name__ = ["armory","logicnode","WhileNode"];
armory_logicnode_WhileNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_WhileNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var b = this.inputs[1].get();
		while(b) {
			this.runOutputs(0);
			b = this.inputs[1].get();
			if(this.tree.loopBreak) {
				this.tree.loopBreak = false;
				break;
			}
		}
		this.runOutputs(1);
	}
	,__class__: armory_logicnode_WhileNode
});
var armory_logicnode_WindowInfoNode = $hxClasses["armory.logicnode.WindowInfoNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_WindowInfoNode.__name__ = ["armory","logicnode","WindowInfoNode"];
armory_logicnode_WindowInfoNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_WindowInfoNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	get: function(from) {
		if(from == 0) {
			return kha_System.windowWidth();
		} else {
			return kha_System.windowHeight();
		}
	}
	,__class__: armory_logicnode_WindowInfoNode
});
var armory_logicnode_WorldToScreenSpaceNode = $hxClasses["armory.logicnode.WorldToScreenSpaceNode"] = function(tree) {
	this.v = new iron_math_Vec4();
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_WorldToScreenSpaceNode.__name__ = ["armory","logicnode","WorldToScreenSpaceNode"];
armory_logicnode_WorldToScreenSpaceNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_WorldToScreenSpaceNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	property0: null
	,v: null
	,get: function(from) {
		var v1 = this.inputs[0].get();
		var cam = iron_Scene.active.camera;
		this.v.setFrom(v1);
		this.v.applyproj(cam.V);
		this.v.applyproj(cam.P);
		return this.v;
	}
	,__class__: armory_logicnode_WorldToScreenSpaceNode
});
var armory_logicnode_WriteStorageNode = $hxClasses["armory.logicnode.WriteStorageNode"] = function(tree) {
	armory_logicnode_LogicNode.call(this,tree);
};
armory_logicnode_WriteStorageNode.__name__ = ["armory","logicnode","WriteStorageNode"];
armory_logicnode_WriteStorageNode.__super__ = armory_logicnode_LogicNode;
armory_logicnode_WriteStorageNode.prototype = $extend(armory_logicnode_LogicNode.prototype,{
	run: function() {
		var key = this.inputs[1].get();
		var value = this.inputs[2].get();
		var data = iron_system_Storage.get_data();
		if(data == null) {
			return;
		}
		data[key] = value;
		iron_system_Storage.save();
		armory_logicnode_LogicNode.prototype.run.call(this);
	}
	,__class__: armory_logicnode_WriteStorageNode
});
var armory_object_Uniforms = $hxClasses["armory.object.Uniforms"] = function() { };
armory_object_Uniforms.__name__ = ["armory","object","Uniforms"];
armory_object_Uniforms.register = function() {
	iron_object_Uniforms.externalTextureLinks = [armory_object_Uniforms.externalTextureLink];
	iron_object_Uniforms.externalVec3Links = [armory_object_Uniforms.externalVec3Link];
	iron_object_Uniforms.externalFloatLinks = [armory_object_Uniforms.externalFloatLink];
};
armory_object_Uniforms.externalTextureLink = function(tulink) {
	if(tulink == "_smaaSearch") {
		var _this = iron_Scene.active.embedded;
		if(__map_reserved["smaa_search.png"] != null) {
			return _this.getReserved("smaa_search.png");
		} else {
			return _this.h["smaa_search.png"];
		}
	} else if(tulink == "_smaaArea") {
		var _this1 = iron_Scene.active.embedded;
		if(__map_reserved["smaa_area.png"] != null) {
			return _this1.getReserved("smaa_area.png");
		} else {
			return _this1.h["smaa_area.png"];
		}
	} else if(tulink == "_lensTexture") {
		var _this2 = iron_Scene.active.embedded;
		if(__map_reserved["lenstexture.jpg"] != null) {
			return _this2.getReserved("lenstexture.jpg");
		} else {
			return _this2.h["lenstexture.jpg"];
		}
	} else if(tulink == "_lutTexture") {
		var _this3 = iron_Scene.active.embedded;
		if(__map_reserved["luttexture.jpg"] != null) {
			return _this3.getReserved("luttexture.jpg");
		} else {
			return _this3.h["luttexture.jpg"];
		}
	} else if(tulink == "_cloudsTexture") {
		var _this4 = iron_Scene.active.embedded;
		if(__map_reserved["cloudstexture.png"] != null) {
			return _this4.getReserved("cloudstexture.png");
		} else {
			return _this4.h["cloudstexture.png"];
		}
	}
	return null;
};
armory_object_Uniforms.externalVec3Link = function(clink) {
	var v = null;
	if(clink == "_hosekA") {
		if(armory_renderpath_HosekWilkie.data == null) {
			armory_renderpath_HosekWilkie.init(iron_Scene.active.world);
		}
		if(armory_renderpath_HosekWilkie.data != null) {
			v = iron_object_Uniforms.helpVec;
			v.x = armory_renderpath_HosekWilkie.data.A.x;
			v.y = armory_renderpath_HosekWilkie.data.A.y;
			v.z = armory_renderpath_HosekWilkie.data.A.z;
		}
	} else if(clink == "_hosekB") {
		if(armory_renderpath_HosekWilkie.data == null) {
			armory_renderpath_HosekWilkie.init(iron_Scene.active.world);
		}
		if(armory_renderpath_HosekWilkie.data != null) {
			v = iron_object_Uniforms.helpVec;
			v.x = armory_renderpath_HosekWilkie.data.B.x;
			v.y = armory_renderpath_HosekWilkie.data.B.y;
			v.z = armory_renderpath_HosekWilkie.data.B.z;
		}
	} else if(clink == "_hosekC") {
		if(armory_renderpath_HosekWilkie.data == null) {
			armory_renderpath_HosekWilkie.init(iron_Scene.active.world);
		}
		if(armory_renderpath_HosekWilkie.data != null) {
			v = iron_object_Uniforms.helpVec;
			v.x = armory_renderpath_HosekWilkie.data.C.x;
			v.y = armory_renderpath_HosekWilkie.data.C.y;
			v.z = armory_renderpath_HosekWilkie.data.C.z;
		}
	} else if(clink == "_hosekD") {
		if(armory_renderpath_HosekWilkie.data == null) {
			armory_renderpath_HosekWilkie.init(iron_Scene.active.world);
		}
		if(armory_renderpath_HosekWilkie.data != null) {
			v = iron_object_Uniforms.helpVec;
			v.x = armory_renderpath_HosekWilkie.data.D.x;
			v.y = armory_renderpath_HosekWilkie.data.D.y;
			v.z = armory_renderpath_HosekWilkie.data.D.z;
		}
	} else if(clink == "_hosekE") {
		if(armory_renderpath_HosekWilkie.data == null) {
			armory_renderpath_HosekWilkie.init(iron_Scene.active.world);
		}
		if(armory_renderpath_HosekWilkie.data != null) {
			v = iron_object_Uniforms.helpVec;
			v.x = armory_renderpath_HosekWilkie.data.E.x;
			v.y = armory_renderpath_HosekWilkie.data.E.y;
			v.z = armory_renderpath_HosekWilkie.data.E.z;
		}
	} else if(clink == "_hosekF") {
		if(armory_renderpath_HosekWilkie.data == null) {
			armory_renderpath_HosekWilkie.init(iron_Scene.active.world);
		}
		if(armory_renderpath_HosekWilkie.data != null) {
			v = iron_object_Uniforms.helpVec;
			v.x = armory_renderpath_HosekWilkie.data.F.x;
			v.y = armory_renderpath_HosekWilkie.data.F.y;
			v.z = armory_renderpath_HosekWilkie.data.F.z;
		}
	} else if(clink == "_hosekG") {
		if(armory_renderpath_HosekWilkie.data == null) {
			armory_renderpath_HosekWilkie.init(iron_Scene.active.world);
		}
		if(armory_renderpath_HosekWilkie.data != null) {
			v = iron_object_Uniforms.helpVec;
			v.x = armory_renderpath_HosekWilkie.data.G.x;
			v.y = armory_renderpath_HosekWilkie.data.G.y;
			v.z = armory_renderpath_HosekWilkie.data.G.z;
		}
	} else if(clink == "_hosekH") {
		if(armory_renderpath_HosekWilkie.data == null) {
			armory_renderpath_HosekWilkie.init(iron_Scene.active.world);
		}
		if(armory_renderpath_HosekWilkie.data != null) {
			v = iron_object_Uniforms.helpVec;
			v.x = armory_renderpath_HosekWilkie.data.H.x;
			v.y = armory_renderpath_HosekWilkie.data.H.y;
			v.z = armory_renderpath_HosekWilkie.data.H.z;
		}
	} else if(clink == "_hosekI") {
		if(armory_renderpath_HosekWilkie.data == null) {
			armory_renderpath_HosekWilkie.init(iron_Scene.active.world);
		}
		if(armory_renderpath_HosekWilkie.data != null) {
			v = iron_object_Uniforms.helpVec;
			v.x = armory_renderpath_HosekWilkie.data.I.x;
			v.y = armory_renderpath_HosekWilkie.data.I.y;
			v.z = armory_renderpath_HosekWilkie.data.I.z;
		}
	} else if(clink == "_hosekZ") {
		if(armory_renderpath_HosekWilkie.data == null) {
			armory_renderpath_HosekWilkie.init(iron_Scene.active.world);
		}
		if(armory_renderpath_HosekWilkie.data != null) {
			v = iron_object_Uniforms.helpVec;
			v.x = armory_renderpath_HosekWilkie.data.Z.x;
			v.y = armory_renderpath_HosekWilkie.data.Z.y;
			v.z = armory_renderpath_HosekWilkie.data.Z.z;
		}
	} else {
		var tmp = clink == "_cameraPositionSnap";
	}
	return v;
};
armory_object_Uniforms.externalFloatLink = function(clink) {
	return 0.0;
};
var armory_renderpath_HosekWilkieRadianceData = $hxClasses["armory.renderpath.HosekWilkieRadianceData"] = function(sunTheta,turbidity,albedo,normalizedSunY) {
	this.Z = new kha_math_FastVector3();
	this.I = new kha_math_FastVector3();
	this.H = new kha_math_FastVector3();
	this.G = new kha_math_FastVector3();
	this.F = new kha_math_FastVector3();
	this.E = new kha_math_FastVector3();
	this.D = new kha_math_FastVector3();
	this.C = new kha_math_FastVector3();
	this.B = new kha_math_FastVector3();
	this.A = new kha_math_FastVector3();
	var _g = 0;
	while(_g < 3) {
		var i = _g++;
		this.setVector(this.A,i,this.evaluate(armory_renderpath_HosekWilkieData.datasetsRGB[i],0,9,turbidity,albedo,sunTheta));
		this.setVector(this.B,i,this.evaluate(armory_renderpath_HosekWilkieData.datasetsRGB[i],1,9,turbidity,albedo,sunTheta));
		this.setVector(this.C,i,this.evaluate(armory_renderpath_HosekWilkieData.datasetsRGB[i],2,9,turbidity,albedo,sunTheta));
		this.setVector(this.D,i,this.evaluate(armory_renderpath_HosekWilkieData.datasetsRGB[i],3,9,turbidity,albedo,sunTheta));
		this.setVector(this.E,i,this.evaluate(armory_renderpath_HosekWilkieData.datasetsRGB[i],4,9,turbidity,albedo,sunTheta));
		this.setVector(this.F,i,this.evaluate(armory_renderpath_HosekWilkieData.datasetsRGB[i],5,9,turbidity,albedo,sunTheta));
		this.setVector(this.G,i,this.evaluate(armory_renderpath_HosekWilkieData.datasetsRGB[i],6,9,turbidity,albedo,sunTheta));
		this.setVector(this.H,i,this.evaluate(armory_renderpath_HosekWilkieData.datasetsRGB[i],8,9,turbidity,albedo,sunTheta));
		this.setVector(this.I,i,this.evaluate(armory_renderpath_HosekWilkieData.datasetsRGB[i],7,9,turbidity,albedo,sunTheta));
		this.setVector(this.Z,i,this.evaluate(armory_renderpath_HosekWilkieData.datasetsRGBRad[i],0,1,turbidity,albedo,sunTheta));
	}
	if(normalizedSunY != 0.0) {
		var S = this.hosek_wilkie(Math.cos(sunTheta),0,1.0,this.A,this.B,this.C,this.D,this.E,this.F,this.G,this.H,this.I);
		S.x *= this.Z.x;
		S.y *= this.Z.y;
		S.z *= this.Z.z;
		var v_z;
		var v_y;
		var v_x = 0.2126;
		v_y = 0.7152;
		v_z = 0.0722;
		var dotS = S.x * v_x + S.y * v_y + S.z * v_z;
		this.Z.x /= dotS;
		this.Z.y /= dotS;
		this.Z.z /= dotS;
		var _this = this.Z;
		this.Z = new kha_math_FastVector3(_this.x * normalizedSunY,_this.y * normalizedSunY,_this.z * normalizedSunY);
	}
};
armory_renderpath_HosekWilkieRadianceData.__name__ = ["armory","renderpath","HosekWilkieRadianceData"];
armory_renderpath_HosekWilkieRadianceData.prototype = {
	A: null
	,B: null
	,C: null
	,D: null
	,E: null
	,F: null
	,G: null
	,H: null
	,I: null
	,Z: null
	,evaluateSpline: function(spline,index,stride,value) {
		return Math.pow(1 - value,5) * spline[index + 0 * stride] + 5 * Math.pow(1 - value,4) * Math.pow(value,1) * spline[index + stride] + 10 * Math.pow(1 - value,3) * Math.pow(value,2) * spline[index + 2 * stride] + 10 * Math.pow(1 - value,2) * Math.pow(value,3) * spline[index + 3 * stride] + 5 * Math.pow(1 - value,1) * Math.pow(value,4) * spline[index + 4 * stride] + Math.pow(value,5) * spline[index + 5 * stride];
	}
	,clamp: function(n,lower,upper) {
		if(n <= lower) {
			return lower;
		} else if(n >= upper) {
			return upper;
		} else {
			return n;
		}
	}
	,clampF: function(n,lower,upper) {
		if(n <= lower) {
			return lower;
		} else if(n >= upper) {
			return upper;
		} else {
			return n;
		}
	}
	,evaluate: function(dataset,index,stride,turbidity,albedo,sunTheta) {
		var elevationK = Math.pow(Math.max(0.0,1.0 - sunTheta / (Math.PI / 2.0)),0.33333333333333331);
		var turbidity0 = this.clamp(turbidity | 0,1,10);
		var turbidity1 = Math.min(turbidity0 + 1,10) | 0;
		var turbidityK = this.clampF(turbidity - turbidity0,0.0,1.0);
		var datasetA0Index = index;
		var datasetA1Index = index + stride * 6 * 10;
		var a0t0 = this.evaluateSpline(dataset,datasetA0Index + stride * 6 * (turbidity0 - 1),stride,elevationK);
		var a1t0 = this.evaluateSpline(dataset,datasetA1Index + stride * 6 * (turbidity0 - 1),stride,elevationK);
		var a0t1 = this.evaluateSpline(dataset,datasetA0Index + stride * 6 * (turbidity1 - 1),stride,elevationK);
		var a1t1 = this.evaluateSpline(dataset,datasetA1Index + stride * 6 * (turbidity1 - 1),stride,elevationK);
		return a0t0 * (1 - albedo) * (1 - turbidityK) + a1t0 * albedo * (1 - turbidityK) + a0t1 * (1 - albedo) * turbidityK + a1t1 * albedo * turbidityK;
	}
	,hosek_wilkie: function(cos_theta,gamma,cos_gamma,A,B,C,D,E,F,G,H,I) {
		var val = 1.0 + cos_gamma * cos_gamma;
		var chix = val / Math.pow(1.0 + H.x * H.x - 2.0 * cos_gamma * H.x,1.5);
		var chiy = val / Math.pow(1.0 + H.y * H.y - 2.0 * cos_gamma * H.y,1.5);
		var chiz = val / Math.pow(1.0 + H.z * H.z - 2.0 * cos_gamma * H.z,1.5);
		var chi_z;
		var chi_y;
		var chi_x = chix;
		chi_y = chiy;
		chi_z = chiz;
		var vx = (1.0 + A.x * Math.exp(B.x / (cos_theta + 0.01))) * (C.x + D.x * Math.exp(E.x * gamma) + F.x * (cos_gamma * cos_gamma) + G.x * chi_x + I.x * Math.sqrt(Math.max(0.0,cos_theta)));
		var vy = (1.0 + A.y * Math.exp(B.y / (cos_theta + 0.01))) * (C.y + D.y * Math.exp(E.y * gamma) + F.y * (cos_gamma * cos_gamma) + G.y * chi_y + I.y * Math.sqrt(Math.max(0.0,cos_theta)));
		var vz = (1.0 + A.z * Math.exp(B.z / (cos_theta + 0.01))) * (C.z + D.z * Math.exp(E.z * gamma) + F.z * (cos_gamma * cos_gamma) + G.z * chi_z + I.z * Math.sqrt(Math.max(0.0,cos_theta)));
		return new kha_math_FastVector3(vx,vy,vz);
	}
	,setVector: function(v,index,f) {
		if(index == 0) {
			v.x = f;
		} else if(index == 1) {
			v.y = f;
		} else {
			v.z = f;
		}
	}
	,__class__: armory_renderpath_HosekWilkieRadianceData
};
var armory_renderpath_HosekWilkie = $hxClasses["armory.renderpath.HosekWilkie"] = function() { };
armory_renderpath_HosekWilkie.__name__ = ["armory","renderpath","HosekWilkie"];
armory_renderpath_HosekWilkie.recompute = function(sunPositionX,turbidity,albedo,normalizedSunY) {
	armory_renderpath_HosekWilkie.data = new armory_renderpath_HosekWilkieRadianceData(sunPositionX,turbidity,albedo,normalizedSunY);
};
armory_renderpath_HosekWilkie.init = function(world) {
	if(world == null || world.raw.sun_direction == null) {
		return;
	}
	var dir = world.raw.sun_direction;
	armory_renderpath_HosekWilkie.sunDirection = new kha_math_FastVector3(dir[0],-dir[1],dir[2]);
	var sunPositionX = Math.acos(armory_renderpath_HosekWilkie.sunDirection.z);
	var turbidity = world.raw.turbidity;
	var albedo = world.raw.ground_albedo;
	armory_renderpath_HosekWilkie.recompute(sunPositionX,turbidity,albedo,1.15);
};
var armory_renderpath_HosekWilkieData = $hxClasses["armory.renderpath.HosekWilkieData"] = function() { };
armory_renderpath_HosekWilkieData.__name__ = ["armory","renderpath","HosekWilkieData"];
var armory_renderpath_Inc = $hxClasses["armory.renderpath.Inc"] = function() { };
armory_renderpath_Inc.__name__ = ["armory","renderpath","Inc"];
armory_renderpath_Inc.init = function(_path) {
	armory_renderpath_Inc.path = _path;
};
armory_renderpath_Inc.bindShadowMap = function() {
	var target = armory_renderpath_Inc.shadowMapName();
	if(target == "shadowMapCube") {
		armory_renderpath_Inc.path.bindTarget("shadowMapCube","shadowMapCube");
	} else {
		armory_renderpath_Inc.path.bindTarget("shadowMap","shadowMap");
	}
};
armory_renderpath_Inc.shadowMapName = function() {
	var _this = armory_renderpath_Inc.path;
	if((iron_Scene.active.lamps.length > 0 ? iron_Scene.active.lamps[armory_renderpath_Inc.path.currentLampIndex] : null).data.raw.shadowmap_cube) {
		return "shadowMapCube";
	} else {
		return "shadowMap";
	}
};
armory_renderpath_Inc.getShadowMap = function() {
	var target = armory_renderpath_Inc.shadowMapName();
	var _this = armory_renderpath_Inc.path.renderTargets;
	var rt = __map_reserved[target] != null ? _this.getReserved(target) : _this.h[target];
	if(rt == null) {
		var _this1 = armory_renderpath_Inc.path;
		if((iron_Scene.active.lamps.length > 0 ? iron_Scene.active.lamps[armory_renderpath_Inc.path.currentLampIndex] : null).data.raw.shadowmap_cube) {
			var _this2 = armory_renderpath_Inc.path;
			var size = (iron_Scene.active.lamps.length > 0 ? iron_Scene.active.lamps[armory_renderpath_Inc.path.currentLampIndex] : null).data.raw.shadowmap_size | 0;
			var t = new iron_RenderTargetRaw();
			t.name = target;
			t.width = size;
			t.height = size;
			t.format = "DEPTH16";
			t.is_cubemap = true;
			rt = armory_renderpath_Inc.path.createRenderTarget(t);
		} else {
			var _this3 = armory_renderpath_Inc.path;
			var sizew = (iron_Scene.active.lamps.length > 0 ? iron_Scene.active.lamps[armory_renderpath_Inc.path.currentLampIndex] : null).data.raw.shadowmap_size;
			var sizeh = sizew;
			sizew = sizeh * iron_object_LampObject.cascadeCount;
			var t1 = new iron_RenderTargetRaw();
			t1.name = target;
			t1.width = sizew;
			t1.height = sizeh;
			t1.format = "DEPTH16";
			rt = armory_renderpath_Inc.path.createRenderTarget(t1);
		}
	}
	return target;
};
armory_renderpath_Inc.initTranslucency = function() {
	armory_renderpath_Inc.path.createDepthBuffer("main","DEPTH24");
	var t = new iron_RenderTargetRaw();
	t.name = "accum";
	t.width = 0;
	t.height = 0;
	t.displayp = null;
	t.format = "RGBA64";
	var ss = 1;
	if(ss != 1) {
		t.scale = ss;
	}
	t.depth_buffer = "main";
	armory_renderpath_Inc.path.createRenderTarget(t);
	var t1 = new iron_RenderTargetRaw();
	t1.name = "revealage";
	t1.width = 0;
	t1.height = 0;
	t1.displayp = null;
	t1.format = "RGBA64";
	var ss1 = 1;
	if(ss1 != 1) {
		t1.scale = ss1;
	}
	t1.depth_buffer = "main";
	armory_renderpath_Inc.path.createRenderTarget(t1);
	armory_renderpath_Inc.path.loadShader("shader_datas/translucent_resolve/translucent_resolve");
};
armory_renderpath_Inc.drawTranslucency = function(target) {
	armory_renderpath_Inc.path.setTarget("accum");
	armory_renderpath_Inc.path.clearTarget(-16777216);
	armory_renderpath_Inc.path.setTarget("revealage");
	armory_renderpath_Inc.path.clearTarget(-1);
	armory_renderpath_Inc.path.setTarget("accum",["revealage"]);
	armory_renderpath_Inc.bindShadowMap();
	armory_renderpath_Inc.path.drawMeshes("translucent");
	armory_renderpath_Inc.path.setTarget(target);
	armory_renderpath_Inc.path.bindTarget("accum","gbuffer0");
	armory_renderpath_Inc.path.bindTarget("revealage","gbuffer1");
	armory_renderpath_Inc.path.drawShader("shader_datas/translucent_resolve/translucent_resolve");
};
armory_renderpath_Inc.getShadowmapSize = function() {
	return 1024;
};
armory_renderpath_Inc.getVoxelRes = function() {
	return 0;
};
armory_renderpath_Inc.getVoxelResZ = function() {
	return 0.0;
};
armory_renderpath_Inc.getSuperSampling = function() {
	return 1;
};
armory_renderpath_Inc.getHdrFormat = function() {
	return "RGBA64";
};
armory_renderpath_Inc.getDisplayp = function() {
	return null;
};
armory_renderpath_Inc.getRenderCaptureFormat = function() {
	return "RGBA32";
};
armory_renderpath_Inc.drawShadowMap = function(l) {
	var faces = l.data.raw.shadowmap_cube ? 6 : 1;
	var _g1 = 0;
	var _g = faces;
	while(_g1 < _g) {
		var j = _g1++;
		if(faces > 1) {
			armory_renderpath_Inc.path.currentFace = j;
		}
		armory_renderpath_Inc.path.setTarget(armory_renderpath_Inc.getShadowMap());
		armory_renderpath_Inc.path.clearTarget(null,1.0);
		armory_renderpath_Inc.path.drawMeshes("shadowmap");
	}
	armory_renderpath_Inc.path.currentFace = -1;
};
var armory_renderpath_RenderPathCreator = $hxClasses["armory.renderpath.RenderPathCreator"] = function() { };
armory_renderpath_RenderPathCreator.__name__ = ["armory","renderpath","RenderPathCreator"];
armory_renderpath_RenderPathCreator.get = function() {
	armory_renderpath_RenderPathCreator.path = new iron_RenderPath();
	armory_renderpath_Inc.init(armory_renderpath_RenderPathCreator.path);
	armory_renderpath_RenderPathDeferred.init(armory_renderpath_RenderPathCreator.path);
	armory_renderpath_RenderPathCreator.path.commands = armory_renderpath_RenderPathDeferred.commands;
	return armory_renderpath_RenderPathCreator.path;
};
var armory_renderpath_RenderPathDeferred = $hxClasses["armory.renderpath.RenderPathDeferred"] = function() { };
armory_renderpath_RenderPathDeferred.__name__ = ["armory","renderpath","RenderPathDeferred"];
armory_renderpath_RenderPathDeferred.init = function(_path) {
	armory_renderpath_RenderPathDeferred.path = _path;
	armory_renderpath_RenderPathDeferred.path.loadShader("shader_datas/world_pass/world_pass");
	armory_renderpath_Inc.initTranslucency();
	armory_renderpath_RenderPathDeferred.path.createDepthBuffer("main","DEPTH24");
	var t = new iron_RenderTargetRaw();
	t.name = "tex";
	t.width = 0;
	t.height = 0;
	t.displayp = null;
	t.format = "RGBA64";
	var ss = 1;
	if(ss != 1) {
		t.scale = ss;
	}
	t.depth_buffer = "main";
	armory_renderpath_RenderPathDeferred.path.createRenderTarget(t);
	var t1 = new iron_RenderTargetRaw();
	t1.name = "buf";
	t1.width = 0;
	t1.height = 0;
	t1.displayp = null;
	t1.format = "RGBA64";
	var ss1 = 1;
	if(ss1 != 1) {
		t1.scale = ss1;
	}
	armory_renderpath_RenderPathDeferred.path.createRenderTarget(t1);
	armory_renderpath_RenderPathDeferred.path.createDepthBuffer("main","DEPTH24");
	var t2 = new iron_RenderTargetRaw();
	t2.name = "gbuffer0";
	t2.width = 0;
	t2.height = 0;
	t2.displayp = null;
	t2.format = "RGBA64";
	var ss2 = 1;
	if(ss2 != 1) {
		t2.scale = ss2;
	}
	t2.depth_buffer = "main";
	armory_renderpath_RenderPathDeferred.path.createRenderTarget(t2);
	var t3 = new iron_RenderTargetRaw();
	t3.name = "gbuffer1";
	t3.width = 0;
	t3.height = 0;
	t3.displayp = null;
	t3.format = "RGBA64";
	var ss3 = 1;
	if(ss3 != 1) {
		t3.scale = ss3;
	}
	armory_renderpath_RenderPathDeferred.path.createRenderTarget(t3);
	armory_renderpath_RenderPathDeferred.path.loadShader("shader_datas/deferred_indirect/deferred_indirect");
	armory_renderpath_RenderPathDeferred.path.loadShader("shader_datas/deferred_light/deferred_light");
	armory_renderpath_RenderPathDeferred.path.loadShader("shader_datas/deferred_light_quad/deferred_light_quad");
	armory_renderpath_RenderPathDeferred.path.loadShader("shader_datas/ssao_pass/ssao_pass");
	armory_renderpath_RenderPathDeferred.path.loadShader("shader_datas/blur_edge_pass/blur_edge_pass_x");
	armory_renderpath_RenderPathDeferred.path.loadShader("shader_datas/blur_edge_pass/blur_edge_pass_y");
	var t4 = new iron_RenderTargetRaw();
	t4.name = "bufa";
	t4.width = 0;
	t4.height = 0;
	t4.displayp = null;
	t4.format = "RGBA32";
	var ss4 = 1;
	if(ss4 != 1) {
		t4.scale = ss4;
	}
	armory_renderpath_RenderPathDeferred.path.createRenderTarget(t4);
	var t5 = new iron_RenderTargetRaw();
	t5.name = "bufb";
	t5.width = 0;
	t5.height = 0;
	t5.displayp = null;
	t5.format = "RGBA32";
	var ss5 = 1;
	if(ss5 != 1) {
		t5.scale = ss5;
	}
	armory_renderpath_RenderPathDeferred.path.createRenderTarget(t5);
	armory_renderpath_RenderPathDeferred.path.loadShader("shader_datas/compositor_pass/compositor_pass");
};
armory_renderpath_RenderPathDeferred.commands = function() {
	armory_renderpath_RenderPathDeferred.path.setTarget("gbuffer0",["gbuffer1"]);
	armory_renderpath_RenderPathDeferred.path.clearTarget(null,1.0);
	armory_renderpath_RenderPathDeferred.path.drawMeshes("mesh");
	armory_renderpath_RenderPathDeferred.path.setTarget("bufa");
	armory_renderpath_RenderPathDeferred.path.bindTarget("_main","gbufferD");
	armory_renderpath_RenderPathDeferred.path.bindTarget("gbuffer0","gbuffer0");
	armory_renderpath_RenderPathDeferred.path.drawShader("shader_datas/ssao_pass/ssao_pass");
	armory_renderpath_RenderPathDeferred.path.setTarget("bufb");
	armory_renderpath_RenderPathDeferred.path.bindTarget("bufa","tex");
	armory_renderpath_RenderPathDeferred.path.bindTarget("gbuffer0","gbuffer0");
	armory_renderpath_RenderPathDeferred.path.drawShader("shader_datas/blur_edge_pass/blur_edge_pass_x");
	armory_renderpath_RenderPathDeferred.path.setTarget("bufa");
	armory_renderpath_RenderPathDeferred.path.bindTarget("bufb","tex");
	armory_renderpath_RenderPathDeferred.path.bindTarget("gbuffer0","gbuffer0");
	armory_renderpath_RenderPathDeferred.path.drawShader("shader_datas/blur_edge_pass/blur_edge_pass_y");
	armory_renderpath_RenderPathDeferred.path.setTarget("tex");
	armory_renderpath_RenderPathDeferred.path.bindTarget("gbuffer0","gbuffer0");
	armory_renderpath_RenderPathDeferred.path.bindTarget("gbuffer1","gbuffer1");
	armory_renderpath_RenderPathDeferred.path.bindTarget("bufa","ssaotex");
	armory_renderpath_RenderPathDeferred.path.drawShader("shader_datas/deferred_indirect/deferred_indirect");
	var lamps = iron_Scene.active.lamps;
	var _g1 = 0;
	var _g = lamps.length;
	while(_g1 < _g) {
		var i = _g1++;
		var l = lamps[i];
		if(!l.visible) {
			continue;
		}
		armory_renderpath_RenderPathDeferred.path.currentLampIndex = i;
		if(armory_renderpath_RenderPathDeferred.path.lampCastShadow()) {
			armory_renderpath_Inc.drawShadowMap(l);
		}
		armory_renderpath_RenderPathDeferred.path.setTarget("tex");
		armory_renderpath_RenderPathDeferred.path.bindTarget("gbuffer0","gbuffer0");
		armory_renderpath_RenderPathDeferred.path.bindTarget("gbuffer1","gbuffer1");
		if(armory_renderpath_RenderPathDeferred.path.lampCastShadow()) {
			armory_renderpath_Inc.bindShadowMap();
		}
		if(armory_renderpath_RenderPathDeferred.path.lampIsSun()) {
			armory_renderpath_RenderPathDeferred.path.drawShader("shader_datas/deferred_light_quad/deferred_light_quad");
		} else {
			armory_renderpath_RenderPathDeferred.path.drawLampVolume("shader_datas/deferred_light/deferred_light");
		}
	}
	armory_renderpath_RenderPathDeferred.path.currentLampIndex = 0;
	armory_renderpath_RenderPathDeferred.path.drawSkydome("shader_datas/world_pass/world_pass");
	var hasLamp = iron_Scene.active.lamps.length > 0;
	if(hasLamp) {
		armory_renderpath_Inc.drawTranslucency("tex");
	}
	var framebuffer = "";
	armory_renderpath_RenderPathDeferred.path.setTarget(framebuffer);
	armory_renderpath_RenderPathDeferred.path.bindTarget("tex","tex");
	armory_renderpath_RenderPathDeferred.path.drawShader("shader_datas/compositor_pass/compositor_pass");
};
var armory_system_Event = $hxClasses["armory.system.Event"] = function() { };
armory_system_Event.__name__ = ["armory","system","Event"];
armory_system_Event.send = function(name,mask) {
	if(mask == null) {
		mask = -1;
	}
	var entries = armory_system_Event.get(name);
	if(entries != null) {
		var _g = 0;
		while(_g < entries.length) {
			var e = entries[_g];
			++_g;
			if(mask == -1 || mask == e.mask) {
				e.onEvent();
			}
		}
	}
};
armory_system_Event.get = function(name) {
	var _this = armory_system_Event.events;
	if(__map_reserved[name] != null) {
		return _this.getReserved(name);
	} else {
		return _this.h[name];
	}
};
armory_system_Event.add = function(name,onEvent,mask) {
	if(mask == null) {
		mask = -1;
	}
	var e = { name : name, onEvent : onEvent, mask : mask};
	var _this = armory_system_Event.events;
	var entries = __map_reserved[name] != null ? _this.getReserved(name) : _this.h[name];
	if(entries != null) {
		entries.push(e);
	} else {
		var _this1 = armory_system_Event.events;
		var value = [e];
		if(__map_reserved[name] != null) {
			_this1.setReserved(name,value);
		} else {
			_this1.h[name] = value;
		}
	}
	return e;
};
armory_system_Event.remove = function(name) {
	armory_system_Event.events.remove(name);
};
armory_system_Event.removeListener = function(event) {
	var key = event.name;
	var _this = armory_system_Event.events;
	var entries = __map_reserved[key] != null ? _this.getReserved(key) : _this.h[key];
	if(entries != null) {
		HxOverrides.remove(entries,event);
	}
};
var armory_trait_ArcBall = $hxClasses["armory.trait.ArcBall"] = function() {
	iron_Trait.call(this);
	this.notifyOnUpdate($bind(this,this.update));
};
armory_trait_ArcBall.__name__ = ["armory","trait","ArcBall"];
armory_trait_ArcBall.__super__ = iron_Trait;
armory_trait_ArcBall.prototype = $extend(iron_Trait.prototype,{
	update: function() {
		if(iron_system_Input.occupied) {
			return;
		}
		var mouse = iron_system_Input.getMouse();
		if(mouse.down()) {
			this.object.transform.rotate(new iron_math_Vec4(0,0,1),-mouse.movementX / 100);
			this.object.transform.buildMatrix();
			var _this = this.object.transform.world;
			this.object.transform.rotate(new iron_math_Vec4(_this.self._00,_this.self._01,_this.self._02),-mouse.movementY / 100);
			this.object.transform.buildMatrix();
		}
	}
	,__class__: armory_trait_ArcBall
});
var armory_trait_CameraTexture = $hxClasses["armory.trait.CameraTexture"] = function(cameraName) {
	iron_Trait.call(this);
	this.cameraName = cameraName;
	iron_Scene.active.notifyOnInit($bind(this,this.init));
};
armory_trait_CameraTexture.__name__ = ["armory","trait","CameraTexture"];
armory_trait_CameraTexture.__super__ = iron_Trait;
armory_trait_CameraTexture.prototype = $extend(iron_Trait.prototype,{
	cameraName: null
	,init: function() {
		var image = iron_Scene.active.getCamera(this.cameraName).data.renderTarget;
		var o = js_Boot.__cast(this.object , iron_object_MeshObject);
		o.materials[0].contexts[0].textures[0] = image;
	}
	,__class__: armory_trait_CameraTexture
});
var armory_trait_Character = $hxClasses["armory.trait.Character"] = function(actionIdle,actionMove) {
	this.framesIdle = 0;
	this.lastLoc = null;
	this.loc = new iron_math_Vec4();
	this.speed = 0.0;
	iron_Trait.call(this);
	if(actionIdle != null && actionMove != null) {
		this.actionIdle = actionIdle;
		this.actionMove = actionMove;
		this.currentAction = actionIdle;
	}
	this.notifyOnInit($bind(this,this.init));
};
armory_trait_Character.__name__ = ["armory","trait","Character"];
armory_trait_Character.__super__ = iron_Trait;
armory_trait_Character.prototype = $extend(iron_Trait.prototype,{
	actionIdle: null
	,actionMove: null
	,currentAction: null
	,animation: null
	,speed: null
	,loc: null
	,lastLoc: null
	,framesIdle: null
	,init: function() {
		this.animation = this.object.animation;
		if(this.animation == null) {
			if(this.object.children.length > 0) {
				this.animation = this.object.children[0].animation;
			}
		}
		if(this.animation == null) {
			return;
		}
		this.notifyOnUpdate($bind(this,this.update));
	}
	,update: function() {
		var tr = this.object.transform;
		this.loc.set(tr.world.self._30,tr.world.self._31,tr.world.self._32);
		if(this.lastLoc == null) {
			this.lastLoc = new iron_math_Vec4(this.loc.x,this.loc.y,this.loc.z);
		}
		var v1 = this.loc;
		var v2 = this.lastLoc;
		var vx = v1.x - v2.x;
		var vy = v1.y - v2.y;
		var vz = v1.z - v2.z;
		this.speed = Math.sqrt(vx * vx + vy * vy + vz * vz);
		this.lastLoc.setFrom(this.loc);
		if(this.speed == 0) {
			this.framesIdle++;
		} else {
			this.framesIdle = 0;
		}
		if(this.currentAction == this.actionIdle && this.framesIdle == 0) {
			this.currentAction = this.actionMove;
			if(this.actionMove != null) {
				this.animation.play(this.actionMove);
			}
		} else if(this.currentAction == this.actionMove && this.framesIdle > 2) {
			this.currentAction = this.actionIdle;
			if(this.actionIdle != null) {
				this.animation.play(this.actionIdle);
			}
		}
	}
	,__class__: armory_trait_Character
});
var armory_trait_internal_CameraController = $hxClasses["armory.trait.internal.CameraController"] = function() {
	this.jump = false;
	this.moveRight = false;
	this.moveLeft = false;
	this.moveBackward = false;
	this.moveForward = false;
	var _gthis = this;
	iron_Trait.call(this);
	iron_Scene.active.notifyOnInit(function() {
		_gthis.transform = _gthis.object.transform;
		_gthis.body = _gthis.object.getTrait(armory_trait_physics_bullet_RigidBody);
		_gthis.camera = js_Boot.__cast(_gthis.object.getChildOfType(iron_object_CameraObject) , iron_object_CameraObject);
	});
	this.notifyOnUpdate(function() {
		var keyboard = iron_system_Input.getKeyboard();
		_gthis.moveForward = keyboard.down("w");
		_gthis.moveRight = keyboard.down("d");
		_gthis.moveBackward = keyboard.down("s");
		_gthis.moveLeft = keyboard.down("a");
		_gthis.jump = keyboard.started("space");
	});
};
armory_trait_internal_CameraController.__name__ = ["armory","trait","internal","CameraController"];
armory_trait_internal_CameraController.__super__ = iron_Trait;
armory_trait_internal_CameraController.prototype = $extend(iron_Trait.prototype,{
	transform: null
	,body: null
	,camera: null
	,moveForward: null
	,moveBackward: null
	,moveLeft: null
	,moveRight: null
	,jump: null
	,__class__: armory_trait_internal_CameraController
});
var armory_trait_FirstPersonController = $hxClasses["armory.trait.FirstPersonController"] = function() {
	this.dir = new iron_math_Vec4();
	this.zVec = iron_math_Vec4.zAxis();
	this.xVec = iron_math_Vec4.xAxis();
	armory_trait_internal_CameraController.call(this);
	iron_Scene.active.notifyOnInit($bind(this,this.init));
};
armory_trait_FirstPersonController.__name__ = ["armory","trait","FirstPersonController"];
armory_trait_FirstPersonController.__super__ = armory_trait_internal_CameraController;
armory_trait_FirstPersonController.prototype = $extend(armory_trait_internal_CameraController.prototype,{
	head: null
	,init: function() {
		this.head = this.object.getChildOfType(iron_object_CameraObject);
		armory_trait_physics_bullet_PhysicsWorld.active.notifyOnPreUpdate($bind(this,this.preUpdate));
		this.notifyOnUpdate($bind(this,this.update));
		this.notifyOnRemove($bind(this,this.removed));
	}
	,xVec: null
	,zVec: null
	,preUpdate: function() {
		if(iron_system_Input.occupied || !this.body.ready) {
			return;
		}
		var mouse = iron_system_Input.getMouse();
		var kb = iron_system_Input.getKeyboard();
		if(mouse.started() && !mouse.locked) {
			mouse.lock();
		} else if(kb.started("esc") && mouse.locked) {
			mouse.unlock();
		}
		if(mouse.locked || mouse.down()) {
			this.head.transform.rotate(this.xVec,-mouse.movementY / 250 * 2.0);
			this.transform.rotate(this.zVec,-mouse.movementX / 250 * 2.0);
			this.body.syncTransform();
		}
	}
	,removed: function() {
		armory_trait_physics_bullet_PhysicsWorld.active.removePreUpdate($bind(this,this.preUpdate));
	}
	,dir: null
	,update: function() {
		if(!this.body.ready) {
			return;
		}
		if(this.jump) {
			this.body.applyImpulse(new iron_math_Vec4(0,0,16));
			this.jump = false;
		}
		this.dir.set(0,0,0);
		if(this.moveForward) {
			var _this = this.transform.world;
			this.dir.add(new iron_math_Vec4(_this.self._10,_this.self._11,_this.self._12));
		}
		if(this.moveBackward) {
			var _this1 = this.transform.world;
			this.dir.add(new iron_math_Vec4(_this1.self._10,_this1.self._11,_this1.self._12).mult(-1));
		}
		if(this.moveLeft) {
			var _this2 = this.transform.world;
			this.dir.add(new iron_math_Vec4(_this2.self._00,_this2.self._01,_this2.self._02).mult(-1));
		}
		if(this.moveRight) {
			var _this3 = this.transform.world;
			this.dir.add(new iron_math_Vec4(_this3.self._00,_this3.self._01,_this3.self._02));
		}
		var btvec = this.body.getLinearVelocity();
		this.body.setLinearVelocity(0.0,0.0,btvec.z - 1.0);
		if(this.moveForward || this.moveBackward || this.moveLeft || this.moveRight) {
			this.dir.mult(6);
			this.body.activate();
			this.body.setLinearVelocity(this.dir.x,this.dir.y,btvec.z - 1.0);
		}
		this.body.setAngularFactor(0,0,0);
		this.camera.buildMatrix();
	}
	,__class__: armory_trait_FirstPersonController
});
var armory_trait_FollowCamera = $hxClasses["armory.trait.FollowCamera"] = function() {
	this.disabled = false;
	this.lerpSpeed = 0.1;
	this.lerp = true;
	var _gthis = this;
	iron_Trait.call(this);
	this.notifyOnInit(function() {
		_gthis.targetObj = iron_Scene.active.getChild(_gthis.target);
		if(_gthis.targetObj == null) {
			_gthis.disabled = true;
			haxe_Log.trace("FollowCamera error, unable to set target object",{ fileName : "FollowCamera.hx", lineNumber : 34, className : "armory.trait.FollowCamera", methodName : "new"});
		}
		if(js_Boot.__instanceof(_gthis.object,iron_object_CameraObject)) {
			_gthis.disabled = true;
			haxe_Log.trace("FollowCamera error, this trait should not be placed directly on a camera objet. It should be placed on another object such as an Empty. The camera should be placed as a child to the Empty object with offset, creating a camera boom.",{ fileName : "FollowCamera.hx", lineNumber : 39, className : "armory.trait.FollowCamera", methodName : "new"});
		}
	});
	this.notifyOnLateUpdate(function() {
		if(!_gthis.disabled) {
			if(_gthis.targetObj != null) {
				if(_gthis.lerp) {
					var _this = _gthis.targetObj.transform.world;
					var vec = new iron_math_Vec4(_this.self._30,_this.self._31,_this.self._32,_this.self._33);
					var _this1 = _gthis.object.transform.world;
					var vec1 = iron_math_Vec4.lerp(vec,new iron_math_Vec4(_this1.self._30,_this1.self._31,_this1.self._32,_this1.self._33),_gthis.lerpSpeed);
					_gthis.object.transform.loc = vec1;
				} else {
					var _this2 = _gthis.targetObj.transform.world;
					var tmp = new iron_math_Vec4(_this2.self._30,_this2.self._31,_this2.self._32,_this2.self._33);
					_gthis.object.transform.loc = tmp;
				}
				_gthis.object.transform.buildMatrix();
			} else {
				_gthis.targetObj = iron_Scene.active.getChild(_gthis.target);
			}
		}
	});
};
armory_trait_FollowCamera.__name__ = ["armory","trait","FollowCamera"];
armory_trait_FollowCamera.__super__ = iron_Trait;
armory_trait_FollowCamera.prototype = $extend(iron_Trait.prototype,{
	target: null
	,lerp: null
	,lerpSpeed: null
	,targetObj: null
	,disabled: null
	,__class__: armory_trait_FollowCamera
});
var armory_trait_Macro = $hxClasses["armory.trait.Macro"] = function() { };
armory_trait_Macro.__name__ = ["armory","trait","Macro"];
var armory_trait_NavAgent = $hxClasses["armory.trait.NavAgent"] = function() {
	this.orient = new iron_math_Vec4();
	this.locAnim = null;
	this.rotAnim = null;
	this.index = 0;
	this.path = null;
	this.speed = 5;
	iron_Trait.call(this);
};
armory_trait_NavAgent.__name__ = ["armory","trait","NavAgent"];
armory_trait_NavAgent.__super__ = iron_Trait;
armory_trait_NavAgent.prototype = $extend(iron_Trait.prototype,{
	speed: null
	,path: null
	,index: null
	,rotAnim: null
	,locAnim: null
	,setPath: function(path) {
		if(this.rotAnim != null) {
			iron_system_Tween.stop(this.rotAnim);
		}
		if(this.locAnim != null) {
			iron_system_Tween.stop(this.locAnim);
		}
		this.path = path;
		this.index = 1;
		this.notifyOnUpdate($bind(this,this.update));
		this.go();
	}
	,shortAngle: function(from,to) {
		if(from < 0) {
			from += Math.PI * 2;
		}
		if(to < 0) {
			to += Math.PI * 2;
		}
		var delta = Math.abs(from - to);
		if(delta > Math.PI) {
			to = Math.PI * 2 - delta;
		}
		return to;
	}
	,orient: null
	,go: function() {
		var _gthis = this;
		if(this.path == null || this.index >= this.path.length) {
			return;
		}
		var p = this.path[this.index];
		var v1 = this.object.transform.loc;
		var vx = v1.x - p.x;
		var vy = v1.y - p.y;
		var vz = v1.z - p.z;
		var dist = Math.sqrt(vx * vx + vy * vy + vz * vz);
		this.orient.subvecs(p,this.object.transform.loc);
		var targetAngle = Math.atan2(this.orient.y,this.orient.x) + Math.PI / 2;
		this.locAnim = iron_system_Tween.to({ target : this.object.transform.loc, props : { x : p.x, y : p.y}, duration : dist / this.speed, done : function() {
			_gthis.index++;
			if(_gthis.index < _gthis.path.length) {
				_gthis.go();
			} else {
				_gthis.removeUpdate($bind(_gthis,_gthis.update));
			}
		}});
		var q = new iron_math_Quat();
		this.rotAnim = iron_system_Tween.to({ target : this.object.transform, props : { rot : q.fromEuler(0,0,targetAngle)}, duration : 0.4});
	}
	,update: function() {
		this.object.transform.buildMatrix();
	}
	,__class__: armory_trait_NavAgent
});
var armory_trait_NavCrowd = $hxClasses["armory.trait.NavCrowd"] = function() {
	iron_Trait.call(this);
};
armory_trait_NavCrowd.__name__ = ["armory","trait","NavCrowd"];
armory_trait_NavCrowd.__super__ = iron_Trait;
armory_trait_NavCrowd.prototype = $extend(iron_Trait.prototype,{
	__class__: armory_trait_NavCrowd
});
var armory_trait_NavMesh = $hxClasses["armory.trait.NavMesh"] = function() {
	iron_Trait.call(this);
};
armory_trait_NavMesh.__name__ = ["armory","trait","NavMesh"];
armory_trait_NavMesh.__super__ = iron_Trait;
armory_trait_NavMesh.prototype = $extend(iron_Trait.prototype,{
	__class__: armory_trait_NavMesh
});
var armory_trait_PhysicsBreak = $hxClasses["armory.trait.PhysicsBreak"] = function() {
	iron_Trait.call(this);
	if(armory_trait_PhysicsBreak.breaker == null) {
		armory_trait_PhysicsBreak.breaker = new armory_trait_ConvexBreaker();
	}
	this.notifyOnInit($bind(this,this.init));
};
armory_trait_PhysicsBreak.__name__ = ["armory","trait","PhysicsBreak"];
armory_trait_PhysicsBreak.__super__ = iron_Trait;
armory_trait_PhysicsBreak.prototype = $extend(iron_Trait.prototype,{
	body: null
	,init: function() {
		if(armory_trait_PhysicsBreak.physics == null) {
			armory_trait_PhysicsBreak.physics = armory_trait_physics_bullet_PhysicsWorld.active;
		}
		this.body = this.object.getTrait(armory_trait_physics_bullet_RigidBody);
		armory_trait_PhysicsBreak.breaker.initBreakableObject(this.object,this.body.mass,new iron_math_Vec4(),new iron_math_Vec4(),true);
		this.notifyOnUpdate($bind(this,this.update));
	}
	,update: function() {
		var ar = armory_trait_PhysicsBreak.physics.getContactPairs(this.body);
		if(ar != null) {
			var maxImpulse = 0.0;
			var impactPoint = null;
			var impactNormal = null;
			var _g = 0;
			while(_g < ar.length) {
				var p = ar[_g];
				++_g;
				if(maxImpulse < p.impulse) {
					maxImpulse = p.impulse;
					impactPoint = p.posB;
					impactNormal = p.nor;
				}
			}
			var fractureImpulse = 5.0;
			if(maxImpulse > fractureImpulse) {
				var radialIter = 1;
				var randIter = 1;
				var debris = armory_trait_PhysicsBreak.breaker.subdivideByImpact(this.object,impactPoint,impactNormal,radialIter,randIter);
				var numObjects = debris.length;
				var _g1 = 0;
				while(_g1 < debris.length) {
					var o = debris[_g1];
					++_g1;
					var ud = armory_trait_PhysicsBreak.breaker.userDataMap.h[o.__id__];
					var friction = 0.5;
					var margin = 0.06;
					o.addTrait(new armory_trait_physics_bullet_RigidBody(ud.mass,2,friction,margin));
					if((js_Boot.__cast(o , iron_object_MeshObject)).data.geom.positions.length < 600) {
						o.addTrait(new armory_trait_PhysicsBreak());
					}
				}
				this.object.remove();
			}
		}
	}
	,__class__: armory_trait_PhysicsBreak
});
var armory_trait_ConvexBreaker = $hxClasses["armory.trait.ConvexBreaker"] = function(minSizeForBreak,smallDelta) {
	if(smallDelta == null) {
		smallDelta = 0.0001;
	}
	if(minSizeForBreak == null) {
		minSizeForBreak = 1.4;
	}
	this.minSizeForBreak = minSizeForBreak;
	this.smallDelta = smallDelta;
	this.tempLine = new armory_trait_Line3();
	this.tempPlane = new armory_trait_Plane();
	this.tempPlane2 = new armory_trait_Plane();
	this.tempCM1 = new iron_math_Vec4();
	this.tempCM2 = new iron_math_Vec4();
	this.tempVec4 = new iron_math_Vec4();
	this.tempVec42 = new iron_math_Vec4();
	this.tempVec43 = new iron_math_Vec4();
	this.tempCutResult = new armory_trait_CutResult();
	this.segments = [];
	var n = 900;
	var _g1 = 0;
	var _g = n;
	while(_g1 < _g) {
		var i = _g1++;
		this.segments.push(false);
	}
	this.userDataMap = new haxe_ds_ObjectMap();
};
armory_trait_ConvexBreaker.__name__ = ["armory","trait","ConvexBreaker"];
armory_trait_ConvexBreaker.prototype = {
	minSizeForBreak: null
	,smallDelta: null
	,tempLine: null
	,tempPlane: null
	,tempPlane2: null
	,tempCM1: null
	,tempCM2: null
	,tempVec4: null
	,tempVec42: null
	,tempVec43: null
	,tempCutResult: null
	,segments: null
	,userDataMap: null
	,initBreakableObject: function(object,mass,velocity,angularVelocity,breakable) {
		var ar = object.data.geom.positions;
		var sc = object.transform.scale;
		var vertices = [];
		var _g1 = 0;
		var _g = ar.length / 3 | 0;
		while(_g1 < _g) {
			var i = _g1++;
			vertices.push(new iron_math_Vec4(ar[i * 3] * sc.x,ar[i * 3 + 1] * sc.y,ar[i * 3 + 2] * sc.z,0));
		}
		var ind = object.data.geom.indices[0];
		var faces = [];
		var _g11 = 0;
		var _g2 = ind.length / 3 | 0;
		while(_g11 < _g2) {
			var i1 = _g11++;
			var a = ind[i1 * 3];
			var b = ind[i1 * 3 + 1];
			var c = ind[i1 * 3 + 2];
			var _g21 = 0;
			while(_g21 < faces.length) {
				var f = faces[_g21];
				++_g21;
				var _this = vertices[a];
				var v = vertices[f.a];
				if(_this.x == v.x && _this.y == v.y && _this.z == v.z) {
					a = f.a;
				} else {
					var _this1 = vertices[a];
					var v1 = vertices[f.b];
					if(_this1.x == v1.x && _this1.y == v1.y && _this1.z == v1.z) {
						a = f.b;
					} else {
						var _this2 = vertices[a];
						var v2 = vertices[f.c];
						if(_this2.x == v2.x && _this2.y == v2.y && _this2.z == v2.z) {
							a = f.c;
						}
					}
				}
				var _this3 = vertices[b];
				var v3 = vertices[f.a];
				if(_this3.x == v3.x && _this3.y == v3.y && _this3.z == v3.z) {
					b = f.a;
				} else {
					var _this4 = vertices[b];
					var v4 = vertices[f.b];
					if(_this4.x == v4.x && _this4.y == v4.y && _this4.z == v4.z) {
						b = f.b;
					} else {
						var _this5 = vertices[b];
						var v5 = vertices[f.c];
						if(_this5.x == v5.x && _this5.y == v5.y && _this5.z == v5.z) {
							b = f.c;
						}
					}
				}
				var _this6 = vertices[c];
				var v6 = vertices[f.a];
				if(_this6.x == v6.x && _this6.y == v6.y && _this6.z == v6.z) {
					c = f.a;
				} else {
					var _this7 = vertices[c];
					var v7 = vertices[f.b];
					if(_this7.x == v7.x && _this7.y == v7.y && _this7.z == v7.z) {
						c = f.b;
					} else {
						var _this8 = vertices[c];
						var v8 = vertices[f.c];
						if(_this8.x == v8.x && _this8.y == v8.y && _this8.z == v8.z) {
							c = f.c;
						}
					}
				}
			}
			faces.push(new armory_trait_Face3(a,b,c));
		}
		var verts = [];
		var map = new haxe_ds_IntMap();
		var i2 = 0;
		var orderVert = function(fi) {
			var val = map.h[fi];
			if(val == null) {
				verts.push(vertices[fi]);
				map.h[fi] = i2;
				i2 += 1;
				return i2 - 1;
			} else {
				return val;
			}
		};
		var _g3 = 0;
		while(_g3 < faces.length) {
			var f1 = faces[_g3];
			++_g3;
			f1.a = orderVert(f1.a);
			f1.b = orderVert(f1.b);
			f1.c = orderVert(f1.c);
		}
		var userData = new armory_trait_UserData();
		userData.mass = mass;
		userData.velocity = velocity.clone();
		userData.angularVelocity = angularVelocity.clone();
		userData.breakable = breakable;
		userData.vertices = verts;
		userData.faces = faces;
		this.userDataMap.set(object,userData);
	}
	,subdivideByImpact: function(object,pointOfImpact,normal,maxRadialIterations,maxRandomIterations) {
		var _gthis = this;
		var debris = [];
		this.tempVec4.addvecs(pointOfImpact,normal);
		this.tempPlane.setFromCoplanarPoints(pointOfImpact,object.transform.loc,this.tempVec4);
		var maxTotalIterations = maxRandomIterations + maxRadialIterations;
		var scope = this;
		var subdivideRadial = null;
		subdivideRadial = function(subObject,startAngle,endAngle,numIterations) {
			if(Math.random() < numIterations * 0.05 || numIterations > maxTotalIterations) {
				debris.push(subObject);
				return;
			}
			var angle = Math.PI;
			if(numIterations == 0) {
				_gthis.tempPlane2.normal.setFrom(_gthis.tempPlane.normal);
				_gthis.tempPlane2.constant = _gthis.tempPlane.constant;
			} else if(numIterations <= maxRadialIterations) {
				angle = (endAngle - startAngle) * (0.2 + 0.6 * Math.random()) + startAngle;
				scope.tempVec42.setFrom(object.transform.loc).sub(pointOfImpact).applyAxisAngle(normal,angle).add(pointOfImpact);
				_gthis.tempPlane2.setFromCoplanarPoints(pointOfImpact,scope.tempVec4,scope.tempVec42);
			} else {
				angle = (0.5 * (numIterations & 1) + 0.2 * (2 - Math.random())) * Math.PI;
				scope.tempVec42.setFrom(pointOfImpact).sub(subObject.transform.loc).applyAxisAngle(normal,angle).add(subObject.transform.loc);
				scope.tempVec43.setFrom(normal).add(subObject.transform.loc);
				_gthis.tempPlane2.setFromCoplanarPoints(subObject.transform.loc,scope.tempVec43,scope.tempVec42);
			}
			scope.cutByPlane(subObject,_gthis.tempPlane2,scope.tempCutResult);
			var object1 = scope.tempCutResult.object1;
			var object2 = scope.tempCutResult.object2;
			if(object1 != null) {
				subdivideRadial(object1,startAngle,angle,numIterations + 1);
			}
			if(object2 != null) {
				subdivideRadial(object2,angle,endAngle,numIterations + 1);
			}
			HxOverrides.remove(iron_Scene.active.meshes,subObject);
		};
		var subdivideRadial1 = subdivideRadial;
		subdivideRadial1(object,0,2 * Math.PI,0);
		return debris;
	}
	,transformFreeVector: function(v,m) {
		var x = v.x;
		var y = v.y;
		var z = v.z;
		v.x = m.self._00 * x + m.self._10 * y + m.self._20 * z;
		v.y = m.self._01 * x + m.self._11 * y + m.self._21 * z;
		v.z = m.self._02 * x + m.self._12 * y + m.self._22 * z;
		return v;
	}
	,transformFreeVectorInverse: function(v,m) {
		var x = v.x;
		var y = v.y;
		var z = v.z;
		v.x = m.self._00 * x + m.self._01 * y + m.self._02 * z;
		v.y = m.self._10 * x + m.self._11 * y + m.self._12 * z;
		v.z = m.self._20 * x + m.self._21 * y + m.self._22 * z;
		return v;
	}
	,transformTiedVectorInverse: function(v,m) {
		var x = v.x;
		var y = v.y;
		var z = v.z;
		v.x = m.self._00 * x + m.self._01 * y + m.self._02 * z - m.self._30;
		v.y = m.self._10 * x + m.self._11 * y + m.self._12 * z - m.self._31;
		v.z = m.self._20 * x + m.self._21 * y + m.self._22 * z - m.self._32;
		return v;
	}
	,transformPlaneToLocalSpace: function(plane,m,resultPlane) {
		resultPlane.normal.setFrom(plane.normal);
		resultPlane.constant = plane.constant;
		var v1 = new iron_math_Vec4();
		var referencePoint = this.transformTiedVectorInverse(plane.coplanarPoint(v1),m);
		this.transformFreeVectorInverse(resultPlane.normal,m);
		resultPlane.constant = -referencePoint.dot(resultPlane.normal);
	}
	,cutByPlane: function(object,plane,output) {
		var userData = this.userDataMap.h[object.__id__];
		var points = userData.vertices;
		var faces = userData.faces;
		var numPoints = points.length;
		var points1 = [];
		var points2 = [];
		var delta = this.smallDelta;
		var _g1 = 0;
		var _g = numPoints;
		while(_g1 < _g) {
			var i = _g1++;
			points[i].w = 0;
		}
		var numPointPairs = numPoints * numPoints;
		var _g11 = 0;
		var _g2 = numPointPairs;
		while(_g11 < _g2) {
			var i1 = _g11++;
			this.segments[i1] = false;
		}
		var _g12 = 0;
		var _g3 = faces.length - 1;
		while(_g12 < _g3) {
			var i2 = _g12++;
			var face1 = faces[i2];
			var _g31 = i2 + 1;
			var _g21 = faces.length;
			while(_g31 < _g21) {
				var j = _g31++;
				var face2 = faces[j];
				var coplanar = 1 - face1.normal.dot(face2.normal) < delta;
				if(coplanar) {
					var a1 = face1.a;
					var b1 = face1.b;
					var c1 = face1.c;
					var a2 = face2.a;
					var b2 = face2.b;
					var c2 = face2.c;
					if(a1 == a2 || a1 == b2 || a1 == c2) {
						if(b1 == a2 || b1 == b2 || b1 == c2) {
							this.segments[a1 * numPoints + b1] = true;
							this.segments[b1 * numPoints + a1] = true;
						} else {
							this.segments[c1 * numPoints + a1] = true;
							this.segments[a1 * numPoints + c1] = true;
						}
					} else if(b1 == a2 || b1 == b2 || b1 == c2) {
						this.segments[c1 * numPoints + b1] = true;
						this.segments[b1 * numPoints + c1] = true;
					}
				}
			}
		}
		var localPlane = this.tempPlane;
		object.transform.buildMatrix();
		this.transformPlaneToLocalSpace(plane,object.transform.world,localPlane);
		var _g13 = 0;
		var _g4 = faces.length;
		while(_g13 < _g4) {
			var i3 = _g13++;
			var face = faces[i3];
			var _g22 = 0;
			while(_g22 < 3) {
				var segment = _g22++;
				var i0 = segment == 0 ? face.a : segment == 1 ? face.b : face.c;
				var i11 = segment == 0 ? face.b : segment == 1 ? face.c : face.a;
				var segmentState = this.segments[i0 * numPoints + i11];
				if(segmentState) {
					continue;
				}
				this.segments[i0 * numPoints + i11] = true;
				this.segments[i11 * numPoints + i0] = true;
				var p0 = points[i0];
				var p1 = points[i11];
				if(p0.w == 0) {
					var d = localPlane.distanceToPoint(p0);
					if(d > delta) {
						p0.w = 2;
						points2.push(p0);
					} else if(d < -delta) {
						p0.w = 1;
						points1.push(p0);
					} else {
						p0.w = 3;
						points1.push(p0);
						var p02 = p0.clone();
						p02.w = 3;
						points2.push(p02);
					}
				}
				if(p1.w == 0) {
					var d1 = localPlane.distanceToPoint(p1);
					if(d1 > delta) {
						p1.w = 2;
						points2.push(p1);
					} else if(d1 < -delta) {
						p1.w = 1;
						points1.push(p1);
					} else {
						p1.w = 3;
						points1.push(p1);
						var p1_2 = p1.clone();
						p1_2.w = 3;
						points2.push(p1_2);
					}
				}
				var mark0 = p0.w;
				var mark1 = p1.w;
				if(mark0 == 1 && mark1 == 2 || mark0 == 2 && mark1 == 1) {
					this.tempLine.start.setFrom(p0);
					this.tempLine.end.setFrom(p1);
					var intersection = localPlane.intersectLine(this.tempLine);
					if(intersection == null) {
						return 0;
					}
					intersection.w = 1;
					points1.push(intersection);
					var intersection_2 = intersection.clone();
					intersection_2.w = 2;
					points2.push(intersection_2);
				}
			}
		}
		var newMass = userData.mass * 0.5;
		this.tempCM1.set(0,0,0);
		var radius1 = 0.0;
		var numPoints1 = points1.length;
		if(numPoints1 > 0) {
			var _g14 = 0;
			var _g5 = numPoints1;
			while(_g14 < _g5) {
				var i4 = _g14++;
				this.tempCM1.add(points1[i4]);
			}
			this.tempCM1.mult(1.0 / numPoints1);
			var _g15 = 0;
			var _g6 = numPoints1;
			while(_g15 < _g6) {
				var i5 = _g15++;
				var p = points1[i5];
				p.sub(this.tempCM1);
				radius1 = Math.max(Math.max(radius1,p.x),Math.max(p.y,p.z));
			}
			this.tempCM1.add(object.transform.loc);
		}
		this.tempCM2.set(0,0,0);
		var radius2 = 0.0;
		var numPoints2 = points2.length;
		if(numPoints2 > 0) {
			var _g16 = 0;
			var _g7 = numPoints2;
			while(_g16 < _g7) {
				var i6 = _g16++;
				this.tempCM2.add(points2[i6]);
			}
			this.tempCM2.mult(1.0 / numPoints2);
			var _g17 = 0;
			var _g8 = numPoints2;
			while(_g17 < _g8) {
				var i7 = _g17++;
				var p2 = points2[i7];
				p2.sub(this.tempCM2);
				radius2 = Math.max(Math.max(radius2,p2.x),Math.max(p2.y,p2.z));
			}
			this.tempCM2.add(object.transform.loc);
		}
		var object1 = null;
		var object2 = null;
		var numObjects = 0;
		if(numPoints1 > 4) {
			var data1 = this.makeMeshData(points1);
			object1 = new iron_object_MeshObject(data1,object.materials);
			object1.transform.loc.setFrom(this.tempCM1);
			object1.transform.rot.setFrom(object.transform.rot);
			object1.transform.buildMatrix();
			this.initBreakableObject(object1,newMass,userData.velocity,userData.angularVelocity,2 * radius1 > this.minSizeForBreak);
			++numObjects;
		}
		if(numPoints2 > 4) {
			var data2 = this.makeMeshData(points2);
			object2 = new iron_object_MeshObject(data2,object.materials);
			object2.transform.loc.setFrom(this.tempCM2);
			object2.transform.rot.setFrom(object.transform.rot);
			object2.transform.buildMatrix();
			this.initBreakableObject(object2,newMass,userData.velocity,userData.angularVelocity,2 * radius2 > this.minSizeForBreak);
			++numObjects;
		}
		output.object1 = object1;
		output.object2 = object2;
		return numObjects;
	}
	,makeMeshData: function(points) {
		while(points.length > 50) points.pop();
		var cm = new armory_trait_ConvexHull(points);
		var pa = [];
		var na = [];
		var _g = 0;
		var _g1 = cm.vertices;
		while(_g < _g1.length) {
			var p = _g1[_g];
			++_g;
			pa.push(p.x);
			pa.push(p.y);
			pa.push(p.z);
			na.push(0.0);
			na.push(0.0);
			na.push(0.0);
		}
		var ind = [];
		var addFlatNormal = function(normal,fi) {
			if(na[fi * 3] != 0.0 || na[fi * 3 + 1] != 0.0 || na[fi * 3 + 2] != 0.0) {
				pa.push(pa[fi * 3]);
				pa.push(pa[fi * 3 + 1]);
				pa.push(pa[fi * 3 + 2]);
				na.push(normal.x);
				na.push(normal.y);
				na.push(normal.z);
				ind.push(pa.length / 3 - 1 | 0);
			} else {
				na[fi * 3] = normal.x;
				na[fi * 3 + 1] = normal.y;
				na[fi * 3 + 2] = normal.z;
				ind.push(fi);
			}
		};
		var _g2 = 0;
		var _g11 = cm.face3s;
		while(_g2 < _g11.length) {
			var f = _g11[_g2];
			++_g2;
			addFlatNormal(f.normal,f.a);
			addFlatNormal(f.normal,f.b);
			addFlatNormal(f.normal,f.c);
		}
		var this1 = new Float32Array(pa.length);
		var paa = this1;
		var _g12 = 0;
		var _g3 = pa.length;
		while(_g12 < _g3) {
			var i = _g12++;
			paa[i] = pa[i];
		}
		var this2 = new Float32Array(na.length);
		var naa = this2;
		var _g13 = 0;
		var _g4 = na.length;
		while(_g13 < _g4) {
			var i1 = _g13++;
			naa[i1] = na[i1];
		}
		var this3 = new Uint32Array(ind.length);
		var inda = this3;
		var _g14 = 0;
		var _g5 = ind.length;
		while(_g14 < _g5) {
			var i2 = _g14++;
			inda[i2] = ind[i2];
		}
		var pos = { attrib : "pos", size : 3, values : paa};
		var nor = { attrib : "nor", size : 3, values : naa};
		var indices = { material : 0, values : inda};
		var rawmesh = { name : "TempMesh" + armory_trait_ConvexBreaker.meshIndex++, vertex_arrays : [pos,nor], index_arrays : [indices]};
		var md = iron_data_MeshData.newSync(rawmesh);
		md.geom.calculateAABB();
		return md;
	}
	,__class__: armory_trait_ConvexBreaker
};
var armory_trait_UserData = $hxClasses["armory.trait.UserData"] = function() {
};
armory_trait_UserData.__name__ = ["armory","trait","UserData"];
armory_trait_UserData.prototype = {
	mass: null
	,velocity: null
	,angularVelocity: null
	,breakable: null
	,vertices: null
	,faces: null
	,__class__: armory_trait_UserData
};
var armory_trait_CutResult = $hxClasses["armory.trait.CutResult"] = function() {
	this.object2 = null;
	this.object1 = null;
};
armory_trait_CutResult.__name__ = ["armory","trait","CutResult"];
armory_trait_CutResult.prototype = {
	object1: null
	,object2: null
	,__class__: armory_trait_CutResult
};
var armory_trait_Line3 = $hxClasses["armory.trait.Line3"] = function() {
	this.start = new iron_math_Vec4();
	this.end = new iron_math_Vec4();
};
armory_trait_Line3.__name__ = ["armory","trait","Line3"];
armory_trait_Line3.prototype = {
	start: null
	,end: null
	,delta: function(result) {
		result.subvecs(this.end,this.start);
		return result;
	}
	,__class__: armory_trait_Line3
};
var armory_trait_Plane = $hxClasses["armory.trait.Plane"] = function() {
	this.constant = 0.0;
	this.normal = new iron_math_Vec4(1.0,0.0,0.0);
};
armory_trait_Plane.__name__ = ["armory","trait","Plane"];
armory_trait_Plane.prototype = {
	normal: null
	,constant: null
	,distanceToPoint: function(point) {
		return this.normal.dot(point) + this.constant;
	}
	,setFromCoplanarPoints: function(a,b,c) {
		var v1 = new iron_math_Vec4();
		var v2 = new iron_math_Vec4();
		var normal = v1.subvecs(c,b).cross(v2.subvecs(a,b)).normalize();
		this.set(normal,a);
		return this;
	}
	,set: function(normal,point) {
		this.normal.setFrom(normal);
		this.constant = -point.dot(this.normal);
		return this;
	}
	,coplanarPoint: function(result) {
		return result.setFrom(this.normal).mult(-this.constant);
	}
	,intersectLine: function(line) {
		var v1 = new iron_math_Vec4();
		var result = new iron_math_Vec4();
		var direction = line.delta(v1);
		var denominator = this.normal.dot(direction);
		if(denominator == 0) {
			if(this.distanceToPoint(line.start) == 0) {
				return result.setFrom(line.start);
			}
			return null;
		}
		var t = -(line.start.dot(this.normal) + this.constant) / denominator;
		if(t < 0 || t > 1) {
			return null;
		}
		return result.setFrom(direction).mult(t).add(line.start);
	}
	,__class__: armory_trait_Plane
};
var armory_trait_ConvexHull = $hxClasses["armory.trait.ConvexHull"] = function(vertices) {
	this.ab = new iron_math_Vec4();
	this.cb = new iron_math_Vec4();
	this.vertices = [];
	this.face3s = [];
	this.faces = [[0,1,2],[0,2,1]];
	var _g1 = 3;
	var _g = vertices.length;
	while(_g1 < _g) {
		var i = _g1++;
		this.addPoint(i,vertices);
	}
	var id = 0;
	var newId = [];
	var _g11 = 0;
	var _g2 = vertices.length;
	while(_g11 < _g2) {
		var i1 = _g11++;
		newId.push(-1);
	}
	var _g12 = 0;
	var _g3 = this.faces.length;
	while(_g12 < _g3) {
		var i2 = _g12++;
		var face = this.faces[i2];
		var _g21 = 0;
		while(_g21 < 3) {
			var j = _g21++;
			if(newId[face[j]] == -1) {
				newId[face[j]] = id++;
				this.vertices.push(vertices[face[j]]);
			}
			face[j] = newId[face[j]];
		}
	}
	var _g13 = 0;
	var _g4 = this.faces.length;
	while(_g13 < _g4) {
		var i3 = _g13++;
		this.face3s.push(new armory_trait_Face3(this.faces[i3][0],this.faces[i3][1],this.faces[i3][2]));
	}
	this.computeFaceNormals();
};
armory_trait_ConvexHull.__name__ = ["armory","trait","ConvexHull"];
armory_trait_ConvexHull.prototype = {
	faces: null
	,face3s: null
	,vertices: null
	,cb: null
	,ab: null
	,computeFaceNormals: function() {
		var _g1 = 0;
		var _g = this.face3s.length;
		while(_g1 < _g) {
			var f = _g1++;
			var face = this.face3s[f];
			var va = this.vertices[face.a];
			var vb = this.vertices[face.b];
			var vc = this.vertices[face.c];
			this.cb.subvecs(vc,vb);
			this.ab.subvecs(va,vb);
			this.cb.cross(this.ab);
			this.cb.normalize();
			face.normal.setFrom(this.cb);
		}
	}
	,addPoint: function(vertexId,vertices) {
		var vertex = vertices[vertexId].clone();
		var mag = Math.sqrt(vertex.x * vertex.x + vertex.y * vertex.y + vertex.z * vertex.z);
		vertex.x += mag * this.randomOffset();
		vertex.y += mag * this.randomOffset();
		vertex.z += mag * this.randomOffset();
		var hole = [];
		var f = 0;
		while(f < this.faces.length) {
			var face = this.faces[f];
			if(this.visible(face,vertex,vertices)) {
				var _g = 0;
				while(_g < 3) {
					var e = _g++;
					var edge = [face[e],face[(e + 1) % 3]];
					var boundary = true;
					var _g2 = 0;
					var _g1 = hole.length;
					while(_g2 < _g1) {
						var h = _g2++;
						if(this.equalEdge(hole[h],edge)) {
							hole[h] = hole[hole.length - 1];
							hole.pop();
							boundary = false;
							break;
						}
					}
					if(boundary) {
						hole.push(edge);
					}
				}
				this.faces[f] = this.faces[this.faces.length - 1];
				this.faces.pop();
			} else {
				++f;
			}
		}
		var _g11 = 0;
		var _g3 = hole.length;
		while(_g11 < _g3) {
			var h1 = _g11++;
			this.faces.push([hole[h1][0],hole[h1][1],vertexId]);
		}
	}
	,visible: function(face,vertex,vertices) {
		var va = vertices[face[0]];
		var vb = vertices[face[1]];
		var vc = vertices[face[2]];
		var n = this.normal(va,vb,vc);
		var dist = n.dot(va);
		return n.dot(vertex) >= dist;
	}
	,normal: function(va,vb,vc) {
		var cb = new iron_math_Vec4();
		var ab = new iron_math_Vec4();
		cb.subvecs(vc,vb);
		ab.subvecs(va,vb);
		cb.cross(ab);
		cb.normalize();
		return cb;
	}
	,equalEdge: function(ea,eb) {
		if(ea[0] == eb[1]) {
			return ea[1] == eb[0];
		} else {
			return false;
		}
	}
	,randomOffset: function() {
		return (Math.random() - 0.5) * 2 * 1e-6;
	}
	,__class__: armory_trait_ConvexHull
};
var armory_trait_Face3 = $hxClasses["armory.trait.Face3"] = function(a,b,c) {
	this.a = a;
	this.b = b;
	this.c = c;
	this.normal = new iron_math_Vec4();
};
armory_trait_Face3.__name__ = ["armory","trait","Face3"];
armory_trait_Face3.prototype = {
	a: null
	,b: null
	,c: null
	,normal: null
	,__class__: armory_trait_Face3
};
var kha_math_FastMatrix4 = $hxClasses["kha.math.FastMatrix4"] = function(_00,_10,_20,_30,_01,_11,_21,_31,_02,_12,_22,_32,_03,_13,_23,_33) {
	this._00 = _00;
	this._10 = _10;
	this._20 = _20;
	this._30 = _30;
	this._01 = _01;
	this._11 = _11;
	this._21 = _21;
	this._31 = _31;
	this._02 = _02;
	this._12 = _12;
	this._22 = _22;
	this._32 = _32;
	this._03 = _03;
	this._13 = _13;
	this._23 = _23;
	this._33 = _33;
};
kha_math_FastMatrix4.__name__ = ["kha","math","FastMatrix4"];
kha_math_FastMatrix4.fromMatrix4 = function(m) {
	return new kha_math_FastMatrix4(m._00,m._10,m._20,m._30,m._01,m._11,m._21,m._31,m._02,m._12,m._22,m._32,m._03,m._13,m._23,m._33);
};
kha_math_FastMatrix4.orthogonalProjection = function(left,right,bottom,top,zn,zf) {
	var tx = -(right + left) / (right - left);
	var ty = -(top + bottom) / (top - bottom);
	var tz = -(zf + zn) / (zf - zn);
	return new kha_math_FastMatrix4(2 / (right - left),0,0,tx,0,2 / (top - bottom),0,ty,0,0,-2 / (zf - zn),tz,0,0,0,1);
};
kha_math_FastMatrix4.perspectiveProjection = function(fovY,aspect,zn,zf) {
	var uh = 1.0 / Math.tan(fovY / 2);
	var uw = uh / aspect;
	return new kha_math_FastMatrix4(uw,0,0,0,0,uh,0,0,0,0,(zf + zn) / (zn - zf),2 * zf * zn / (zn - zf),0,0,-1,0);
};
kha_math_FastMatrix4.lookAt = function(eye,at,up) {
	var zaxis = new kha_math_FastVector3(at.x - eye.x,at.y - eye.y,at.z - eye.z);
	zaxis.set_length(1);
	var _x = zaxis.y * up.z - zaxis.z * up.y;
	var _y = zaxis.z * up.x - zaxis.x * up.z;
	var _z = zaxis.x * up.y - zaxis.y * up.x;
	var xaxis = new kha_math_FastVector3(_x,_y,_z);
	xaxis.set_length(1);
	var yaxis_z;
	var yaxis_y;
	var yaxis_x;
	var _x1 = xaxis.y * zaxis.z - xaxis.z * zaxis.y;
	var _y1 = xaxis.z * zaxis.x - xaxis.x * zaxis.z;
	var _z1 = xaxis.x * zaxis.y - xaxis.y * zaxis.x;
	yaxis_x = _x1;
	yaxis_y = _y1;
	yaxis_z = _z1;
	return new kha_math_FastMatrix4(xaxis.x,xaxis.y,xaxis.z,-(xaxis.x * eye.x + xaxis.y * eye.y + xaxis.z * eye.z),yaxis_x,yaxis_y,yaxis_z,-(yaxis_x * eye.x + yaxis_y * eye.y + yaxis_z * eye.z),-zaxis.x,-zaxis.y,-zaxis.z,zaxis.x * eye.x + zaxis.y * eye.y + zaxis.z * eye.z,0,0,0,1);
};
kha_math_FastMatrix4.prototype = {
	_00: null
	,_10: null
	,_20: null
	,_30: null
	,_01: null
	,_11: null
	,_21: null
	,_31: null
	,_02: null
	,_12: null
	,_22: null
	,_32: null
	,_03: null
	,_13: null
	,_23: null
	,_33: null
	,__class__: kha_math_FastMatrix4
};
var iron_math_Mat4 = $hxClasses["iron.math.Mat4"] = function(_00,_10,_20,_30,_01,_11,_21,_31,_02,_12,_22,_32,_03,_13,_23,_33) {
	this.self = new kha_math_FastMatrix4(_00,_10,_20,_30,_01,_11,_21,_31,_02,_12,_22,_32,_03,_13,_23,_33);
};
iron_math_Mat4.__name__ = ["iron","math","Mat4"];
iron_math_Mat4.identity = function() {
	return new iron_math_Mat4(1.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,1.0);
};
iron_math_Mat4.fromArray = function(a,offset) {
	if(offset == null) {
		offset = 0;
	}
	return new iron_math_Mat4(a[offset],a[1 + offset],a[2 + offset],a[3 + offset],a[4 + offset],a[5 + offset],a[6 + offset],a[7 + offset],a[8 + offset],a[9 + offset],a[10 + offset],a[11 + offset],a[12 + offset],a[13 + offset],a[14 + offset],a[15 + offset]);
};
iron_math_Mat4.fromFloat32Array = function(a,offset) {
	if(offset == null) {
		offset = 0;
	}
	return new iron_math_Mat4(a[offset],a[1 + offset],a[2 + offset],a[3 + offset],a[4 + offset],a[5 + offset],a[6 + offset],a[7 + offset],a[8 + offset],a[9 + offset],a[10 + offset],a[11 + offset],a[12 + offset],a[13 + offset],a[14 + offset],a[15 + offset]);
};
iron_math_Mat4.persp = function(fovY,aspect,zn,zf) {
	var uh = 1.0 / Math.tan(fovY / 2);
	var uw = uh / aspect;
	return new iron_math_Mat4(uw,0,0,0,0,uh,0,0,0,0,(zf + zn) / (zn - zf),2 * zf * zn / (zn - zf),0,0,-1,0);
};
iron_math_Mat4.ortho = function(left,right,bottom,top,near,far) {
	var rl = right - left;
	var tb = top - bottom;
	var fn = far - near;
	var tx = -(right + left) / rl;
	var ty = -(top + bottom) / tb;
	var tz = -(far + near) / fn;
	return new iron_math_Mat4(2 / rl,0,0,tx,0,2 / tb,0,ty,0,0,-2 / fn,tz,0,0,0,1);
};
iron_math_Mat4.lookAt = function(eye,center,up) {
	return iron_math_Mat4.identity().setLookAt(eye,center,up);
};
iron_math_Mat4.prototype = {
	self: null
	,compose: function(location,quaternion,sc) {
		this.fromQuaternion(quaternion);
		this.scale(sc);
		this.setLocation(location);
		return this;
	}
	,decompose: function(location,quaternion,scale) {
		iron_math_Mat4.helpVec.w = 0.0;
		var _this = iron_math_Mat4.helpVec.set(this.self._00,this.self._01,this.self._02);
		var sx = Math.sqrt(_this.x * _this.x + _this.y * _this.y + _this.z * _this.z);
		var _this1 = iron_math_Mat4.helpVec.set(this.self._10,this.self._11,this.self._12);
		var sy = Math.sqrt(_this1.x * _this1.x + _this1.y * _this1.y + _this1.z * _this1.z);
		var _this2 = iron_math_Mat4.helpVec.set(this.self._20,this.self._21,this.self._22);
		var sz = Math.sqrt(_this2.x * _this2.x + _this2.y * _this2.y + _this2.z * _this2.z);
		var _this3 = this.self;
		var m3 = _this3._12;
		var m4 = _this3._22;
		var m5 = _this3._32;
		var m6 = _this3._13;
		var m7 = _this3._23;
		var m8 = _this3._33;
		var c00 = _this3._11 * (m4 * m8 - m5 * m7) - _this3._21 * (m3 * m8 - m5 * m6) + _this3._31 * (m3 * m7 - m4 * m6);
		var m31 = _this3._12;
		var m41 = _this3._22;
		var m51 = _this3._32;
		var m61 = _this3._13;
		var m71 = _this3._23;
		var m81 = _this3._33;
		var c01 = _this3._10 * (m41 * m81 - m51 * m71) - _this3._20 * (m31 * m81 - m51 * m61) + _this3._30 * (m31 * m71 - m41 * m61);
		var m32 = _this3._11;
		var m42 = _this3._21;
		var m52 = _this3._31;
		var m62 = _this3._13;
		var m72 = _this3._23;
		var m82 = _this3._33;
		var c02 = _this3._10 * (m42 * m82 - m52 * m72) - _this3._20 * (m32 * m82 - m52 * m62) + _this3._30 * (m32 * m72 - m42 * m62);
		var m33 = _this3._11;
		var m43 = _this3._21;
		var m53 = _this3._31;
		var m63 = _this3._12;
		var m73 = _this3._22;
		var m83 = _this3._32;
		var c03 = _this3._10 * (m43 * m83 - m53 * m73) - _this3._20 * (m33 * m83 - m53 * m63) + _this3._30 * (m33 * m73 - m43 * m63);
		var det = _this3._00 * c00 - _this3._01 * c01 + _this3._02 * c02 - _this3._03 * c03;
		if(det < 0.0) {
			sx = -sx;
		}
		location.x = this.self._30;
		location.y = this.self._31;
		location.z = this.self._32;
		iron_math_Mat4.helpMat.self._00 = this.self._00;
		iron_math_Mat4.helpMat.self._10 = this.self._10;
		iron_math_Mat4.helpMat.self._20 = this.self._20;
		iron_math_Mat4.helpMat.self._30 = this.self._30;
		iron_math_Mat4.helpMat.self._01 = this.self._01;
		iron_math_Mat4.helpMat.self._11 = this.self._11;
		iron_math_Mat4.helpMat.self._21 = this.self._21;
		iron_math_Mat4.helpMat.self._31 = this.self._31;
		iron_math_Mat4.helpMat.self._02 = this.self._02;
		iron_math_Mat4.helpMat.self._12 = this.self._12;
		iron_math_Mat4.helpMat.self._22 = this.self._22;
		iron_math_Mat4.helpMat.self._32 = this.self._32;
		iron_math_Mat4.helpMat.self._03 = this.self._03;
		iron_math_Mat4.helpMat.self._13 = this.self._13;
		iron_math_Mat4.helpMat.self._23 = this.self._23;
		iron_math_Mat4.helpMat.self._33 = this.self._33;
		var invSX = 1.0 / sx;
		var invSY = 1.0 / sy;
		var invSZ = 1.0 / sz;
		var _g = iron_math_Mat4.helpMat;
		_g.self._00 *= invSX;
		var _g1 = iron_math_Mat4.helpMat;
		_g1.self._01 *= invSX;
		var _g2 = iron_math_Mat4.helpMat;
		_g2.self._02 *= invSX;
		iron_math_Mat4.helpMat.self._03 = 0.0;
		var _g3 = iron_math_Mat4.helpMat;
		_g3.self._10 *= invSY;
		var _g4 = iron_math_Mat4.helpMat;
		_g4.self._11 *= invSY;
		var _g5 = iron_math_Mat4.helpMat;
		_g5.self._12 *= invSY;
		iron_math_Mat4.helpMat.self._13 = 0.0;
		var _g6 = iron_math_Mat4.helpMat;
		_g6.self._20 *= invSZ;
		var _g7 = iron_math_Mat4.helpMat;
		_g7.self._21 *= invSZ;
		var _g8 = iron_math_Mat4.helpMat;
		_g8.self._22 *= invSZ;
		iron_math_Mat4.helpMat.self._23 = 0.0;
		iron_math_Mat4.helpMat.self._30 = 0.0;
		iron_math_Mat4.helpMat.self._31 = 0.0;
		iron_math_Mat4.helpMat.self._32 = 0.0;
		iron_math_Mat4.helpMat.self._33 = 0.0;
		quaternion.fromRotationMat(iron_math_Mat4.helpMat);
		scale.x = sx;
		scale.y = sy;
		scale.z = sz;
		return this;
	}
	,setLocation: function(v) {
		this.self._30 = v.x;
		this.self._31 = v.y;
		this.self._32 = v.z;
		return this;
	}
	,fromQuaternion: function(q) {
		var x = q.x;
		var y = q.y;
		var z = q.z;
		var w = q.w;
		var x2 = x + x;
		var y2 = y + y;
		var z2 = z + z;
		var xx = x * x2;
		var xy = x * y2;
		var xz = x * z2;
		var yy = y * y2;
		var yz = y * z2;
		var zz = z * z2;
		var wx = w * x2;
		var wy = w * y2;
		var wz = w * z2;
		this.self._00 = 1.0 - (yy + zz);
		this.self._10 = xy - wz;
		this.self._20 = xz + wy;
		this.self._01 = xy + wz;
		this.self._11 = 1.0 - (xx + zz);
		this.self._21 = yz - wx;
		this.self._02 = xz - wy;
		this.self._12 = yz + wx;
		this.self._22 = 1.0 - (xx + yy);
		this.self._03 = 0.0;
		this.self._13 = 0.0;
		this.self._23 = 0.0;
		this.self._30 = 0.0;
		this.self._31 = 0.0;
		this.self._32 = 0.0;
		this.self._33 = 1.0;
		return this;
	}
	,toArray: function() {
		return [this.self._00,this.self._10,this.self._20,this.self._30,this.self._01,this.self._11,this.self._21,this.self._31,this.self._02,this.self._12,this.self._22,this.self._32,this.self._03,this.self._13,this.self._23,this.self._33];
	}
	,setIdentity: function() {
		this.self._00 = 1.0;
		this.self._01 = 0.0;
		this.self._02 = 0.0;
		this.self._03 = 0.0;
		this.self._10 = 0.0;
		this.self._11 = 1.0;
		this.self._12 = 0.0;
		this.self._13 = 0.0;
		this.self._20 = 0.0;
		this.self._21 = 0.0;
		this.self._22 = 1.0;
		this.self._23 = 0.0;
		this.self._30 = 0.0;
		this.self._31 = 0.0;
		this.self._32 = 0.0;
		this.self._33 = 1.0;
		return this;
	}
	,initTranslate: function(x,y,z) {
		if(z == null) {
			z = 0.0;
		}
		if(y == null) {
			y = 0.0;
		}
		if(x == null) {
			x = 0.0;
		}
		this.self._00 = 1.0;
		this.self._01 = 0.0;
		this.self._02 = 0.0;
		this.self._03 = 0.0;
		this.self._10 = 0.0;
		this.self._11 = 1.0;
		this.self._12 = 0.0;
		this.self._13 = 0.0;
		this.self._20 = 0.0;
		this.self._21 = 0.0;
		this.self._22 = 1.0;
		this.self._23 = 0.0;
		this.self._30 = x;
		this.self._31 = y;
		this.self._32 = z;
		this.self._33 = 1.0;
	}
	,translate: function(x,y,z) {
		if(z == null) {
			z = 0.0;
		}
		if(y == null) {
			y = 0.0;
		}
		if(x == null) {
			x = 0.0;
		}
		var _g = this;
		_g.self._00 += x * this.self._03;
		var _g1 = this;
		_g1.self._01 += y * this.self._03;
		var _g2 = this;
		_g2.self._02 += z * this.self._03;
		var _g3 = this;
		_g3.self._10 += x * this.self._13;
		var _g4 = this;
		_g4.self._11 += y * this.self._13;
		var _g5 = this;
		_g5.self._12 += z * this.self._13;
		var _g6 = this;
		_g6.self._20 += x * this.self._23;
		var _g7 = this;
		_g7.self._21 += y * this.self._23;
		var _g8 = this;
		_g8.self._22 += z * this.self._23;
		var _g9 = this;
		_g9.self._30 += x * this.self._33;
		var _g10 = this;
		_g10.self._31 += y * this.self._33;
		var _g11 = this;
		_g11.self._32 += z * this.self._33;
	}
	,scale: function(v) {
		var _g = this;
		_g.self._00 *= v.x;
		var _g1 = this;
		_g1.self._01 *= v.x;
		var _g2 = this;
		_g2.self._02 *= v.x;
		var _g3 = this;
		_g3.self._03 *= v.x;
		var _g4 = this;
		_g4.self._10 *= v.y;
		var _g5 = this;
		_g5.self._11 *= v.y;
		var _g6 = this;
		_g6.self._12 *= v.y;
		var _g7 = this;
		_g7.self._13 *= v.y;
		var _g8 = this;
		_g8.self._20 *= v.z;
		var _g9 = this;
		_g9.self._21 *= v.z;
		var _g10 = this;
		_g10.self._22 *= v.z;
		var _g11 = this;
		_g11.self._23 *= v.z;
	}
	,multmat3x4: function(a,b) {
		var m11 = a.self._00;
		var m12 = a.self._01;
		var m13 = a.self._02;
		var m21 = a.self._10;
		var m22 = a.self._11;
		var m23 = a.self._12;
		var a31 = a.self._20;
		var a32 = a.self._21;
		var a33 = a.self._22;
		var a41 = a.self._30;
		var a42 = a.self._31;
		var a43 = a.self._32;
		var b11 = b.self._00;
		var b12 = b.self._01;
		var b13 = b.self._02;
		var b21 = b.self._10;
		var b22 = b.self._11;
		var b23 = b.self._12;
		var b31 = b.self._20;
		var b32 = b.self._21;
		var b33 = b.self._22;
		var b41 = b.self._30;
		var b42 = b.self._31;
		var b43 = b.self._32;
		this.self._00 = m11 * b11 + m12 * b21 + m13 * b31;
		this.self._01 = m11 * b12 + m12 * b22 + m13 * b32;
		this.self._02 = m11 * b13 + m12 * b23 + m13 * b33;
		this.self._03 = 0.0;
		this.self._10 = m21 * b11 + m22 * b21 + m23 * b31;
		this.self._11 = m21 * b12 + m22 * b22 + m23 * b32;
		this.self._12 = m21 * b13 + m22 * b23 + m23 * b33;
		this.self._13 = 0.0;
		this.self._20 = a31 * b11 + a32 * b21 + a33 * b31;
		this.self._21 = a31 * b12 + a32 * b22 + a33 * b32;
		this.self._22 = a31 * b13 + a32 * b23 + a33 * b33;
		this.self._23 = 0.0;
		this.self._30 = a41 * b11 + a42 * b21 + a43 * b31 + b41;
		this.self._31 = a41 * b12 + a42 * b22 + a43 * b32 + b42;
		this.self._32 = a41 * b13 + a42 * b23 + a43 * b33 + b43;
		this.self._33 = 1.0;
	}
	,multmat: function(m) {
		return new iron_math_Mat4(this.self._00 * m.self._00 + this.self._10 * m.self._01 + this.self._20 * m.self._02 + this.self._30 * m.self._03,this.self._00 * m.self._10 + this.self._10 * m.self._11 + this.self._20 * m.self._12 + this.self._30 * m.self._13,this.self._00 * m.self._20 + this.self._10 * m.self._21 + this.self._20 * m.self._22 + this.self._30 * m.self._23,this.self._00 * m.self._30 + this.self._10 * m.self._31 + this.self._20 * m.self._32 + this.self._30 * m.self._33,this.self._01 * m.self._00 + this.self._11 * m.self._01 + this.self._21 * m.self._02 + this.self._31 * m.self._03,this.self._01 * m.self._10 + this.self._11 * m.self._11 + this.self._21 * m.self._12 + this.self._31 * m.self._13,this.self._01 * m.self._20 + this.self._11 * m.self._21 + this.self._21 * m.self._22 + this.self._31 * m.self._23,this.self._01 * m.self._30 + this.self._11 * m.self._31 + this.self._21 * m.self._32 + this.self._31 * m.self._33,this.self._02 * m.self._00 + this.self._12 * m.self._01 + this.self._22 * m.self._02 + this.self._32 * m.self._03,this.self._02 * m.self._10 + this.self._12 * m.self._11 + this.self._22 * m.self._12 + this.self._32 * m.self._13,this.self._02 * m.self._20 + this.self._12 * m.self._21 + this.self._22 * m.self._22 + this.self._32 * m.self._23,this.self._02 * m.self._30 + this.self._12 * m.self._31 + this.self._22 * m.self._32 + this.self._32 * m.self._33,this.self._03 * m.self._00 + this.self._13 * m.self._01 + this.self._23 * m.self._02 + this.self._33 * m.self._03,this.self._03 * m.self._10 + this.self._13 * m.self._11 + this.self._23 * m.self._12 + this.self._33 * m.self._13,this.self._03 * m.self._20 + this.self._13 * m.self._21 + this.self._23 * m.self._22 + this.self._33 * m.self._23,this.self._03 * m.self._30 + this.self._13 * m.self._31 + this.self._23 * m.self._32 + this.self._33 * m.self._33);
	}
	,multmat2: function(m) {
		var a00 = this.self._00;
		var a01 = this.self._01;
		var a02 = this.self._02;
		var a03 = this.self._03;
		var a10 = this.self._10;
		var a11 = this.self._11;
		var a12 = this.self._12;
		var a13 = this.self._13;
		var a20 = this.self._20;
		var a21 = this.self._21;
		var a22 = this.self._22;
		var a23 = this.self._23;
		var a30 = this.self._30;
		var a31 = this.self._31;
		var a32 = this.self._32;
		var a33 = this.self._33;
		var b00 = m.self._00;
		var b01 = m.self._01;
		var b02 = m.self._02;
		var b03 = m.self._03;
		var b10 = m.self._10;
		var b11 = m.self._11;
		var b12 = m.self._12;
		var b13 = m.self._13;
		var b20 = m.self._20;
		var b21 = m.self._21;
		var b22 = m.self._22;
		var b23 = m.self._23;
		var b30 = m.self._30;
		var b31 = m.self._31;
		var b32 = m.self._32;
		var b33 = m.self._33;
		this.self._00 = a00 * b00 + a01 * b10 + a02 * b20 + a03 * b30;
		this.self._01 = a00 * b01 + a01 * b11 + a02 * b21 + a03 * b31;
		this.self._02 = a00 * b02 + a01 * b12 + a02 * b22 + a03 * b32;
		this.self._03 = a00 * b03 + a01 * b13 + a02 * b23 + a03 * b33;
		this.self._10 = a10 * b00 + a11 * b10 + a12 * b20 + a13 * b30;
		this.self._11 = a10 * b01 + a11 * b11 + a12 * b21 + a13 * b31;
		this.self._12 = a10 * b02 + a11 * b12 + a12 * b22 + a13 * b32;
		this.self._13 = a10 * b03 + a11 * b13 + a12 * b23 + a13 * b33;
		this.self._20 = a20 * b00 + a21 * b10 + a22 * b20 + a23 * b30;
		this.self._21 = a20 * b01 + a21 * b11 + a22 * b21 + a23 * b31;
		this.self._22 = a20 * b02 + a21 * b12 + a22 * b22 + a23 * b32;
		this.self._23 = a20 * b03 + a21 * b13 + a22 * b23 + a23 * b33;
		this.self._30 = a30 * b00 + a31 * b10 + a32 * b20 + a33 * b30;
		this.self._31 = a30 * b01 + a31 * b11 + a32 * b21 + a33 * b31;
		this.self._32 = a30 * b02 + a31 * b12 + a32 * b22 + a33 * b32;
		this.self._33 = a30 * b03 + a31 * b13 + a32 * b23 + a33 * b33;
		return this;
	}
	,multmats: function(a,b) {
		var a11 = a.self._00;
		var a12 = a.self._10;
		var a13 = a.self._20;
		var a14 = a.self._30;
		var a21 = a.self._01;
		var a22 = a.self._11;
		var a23 = a.self._21;
		var a24 = a.self._31;
		var a31 = a.self._02;
		var a32 = a.self._12;
		var a33 = a.self._22;
		var a34 = a.self._32;
		var a41 = a.self._03;
		var a42 = a.self._13;
		var a43 = a.self._23;
		var a44 = a.self._33;
		var b11 = b.self._00;
		var b12 = b.self._10;
		var b13 = b.self._20;
		var b14 = b.self._30;
		var b21 = b.self._01;
		var b22 = b.self._11;
		var b23 = b.self._21;
		var b24 = b.self._31;
		var b31 = b.self._02;
		var b32 = b.self._12;
		var b33 = b.self._22;
		var b34 = b.self._32;
		var b41 = b.self._03;
		var b42 = b.self._13;
		var b43 = b.self._23;
		var b44 = b.self._33;
		this.self._00 = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;
		this.self._10 = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;
		this.self._20 = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;
		this.self._30 = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;
		this.self._01 = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;
		this.self._11 = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;
		this.self._21 = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;
		this.self._31 = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;
		this.self._02 = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;
		this.self._12 = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;
		this.self._22 = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;
		this.self._32 = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;
		this.self._03 = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;
		this.self._13 = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;
		this.self._23 = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;
		this.self._33 = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;
		return this;
	}
	,getInverse: function(m) {
		var n11 = m.self._00;
		var n12 = m.self._10;
		var n13 = m.self._20;
		var n14 = m.self._30;
		var n21 = m.self._01;
		var n22 = m.self._11;
		var n23 = m.self._21;
		var n24 = m.self._31;
		var n31 = m.self._02;
		var n32 = m.self._12;
		var n33 = m.self._22;
		var n34 = m.self._32;
		var n41 = m.self._03;
		var n42 = m.self._13;
		var n43 = m.self._23;
		var n44 = m.self._33;
		this.self._00 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44;
		this.self._10 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44;
		this.self._20 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44;
		this.self._30 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;
		this.self._01 = n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44;
		this.self._11 = n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44;
		this.self._21 = n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44;
		this.self._31 = n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34;
		this.self._02 = n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44;
		this.self._12 = n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44;
		this.self._22 = n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44;
		this.self._32 = n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34;
		this.self._03 = n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43;
		this.self._13 = n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43;
		this.self._23 = n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43;
		this.self._33 = n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33;
		var det = n11 * this.self._00 + n21 * this.self._10 + n31 * this.self._20 + n41 * this.self._30;
		if(det == 0.0) {
			return this.setIdentity();
		}
		this.mult(1.0 / det);
		return this;
	}
	,transpose: function() {
		var tmp = this.self._01;
		this.self._01 = this.self._10;
		this.self._10 = tmp;
		tmp = this.self._02;
		this.self._02 = this.self._20;
		this.self._20 = tmp;
		tmp = this.self._03;
		this.self._03 = this.self._30;
		this.self._30 = tmp;
		tmp = this.self._12;
		this.self._12 = this.self._21;
		this.self._21 = tmp;
		tmp = this.self._13;
		this.self._13 = this.self._31;
		this.self._31 = tmp;
		tmp = this.self._23;
		this.self._23 = this.self._32;
		this.self._32 = tmp;
	}
	,transpose3x3: function() {
		var tmp = this.self._01;
		this.self._01 = this.self._10;
		this.self._10 = tmp;
		tmp = this.self._02;
		this.self._02 = this.self._20;
		this.self._20 = tmp;
		tmp = this.self._12;
		this.self._12 = this.self._21;
		this.self._21 = tmp;
	}
	,clone: function() {
		var m = iron_math_Mat4.identity();
		m.self._00 = this.self._00;
		m.self._01 = this.self._01;
		m.self._02 = this.self._02;
		m.self._03 = this.self._03;
		m.self._10 = this.self._10;
		m.self._11 = this.self._11;
		m.self._12 = this.self._12;
		m.self._13 = this.self._13;
		m.self._20 = this.self._20;
		m.self._21 = this.self._21;
		m.self._22 = this.self._22;
		m.self._23 = this.self._23;
		m.self._30 = this.self._30;
		m.self._31 = this.self._31;
		m.self._32 = this.self._32;
		m.self._33 = this.self._33;
		return m;
	}
	,init: function(_00,_10,_20,_30,_01,_11,_21,_31,_02,_12,_22,_32,_03,_13,_23,_33) {
		this.self._00 = _00;
		this.self._10 = _10;
		this.self._20 = _20;
		this.self._30 = _30;
		this.self._01 = _01;
		this.self._11 = _11;
		this.self._21 = _21;
		this.self._31 = _31;
		this.self._02 = _02;
		this.self._12 = _12;
		this.self._22 = _22;
		this.self._32 = _32;
		this.self._03 = _03;
		this.self._13 = _13;
		this.self._23 = _23;
		this.self._33 = _33;
	}
	,set: function(a,offset) {
		if(offset == null) {
			offset = 0;
		}
		this.self._00 = a[offset];
		this.self._10 = a[1 + offset];
		this.self._20 = a[2 + offset];
		this.self._30 = a[3 + offset];
		this.self._01 = a[4 + offset];
		this.self._11 = a[5 + offset];
		this.self._21 = a[6 + offset];
		this.self._31 = a[7 + offset];
		this.self._02 = a[8 + offset];
		this.self._12 = a[9 + offset];
		this.self._22 = a[10 + offset];
		this.self._32 = a[11 + offset];
		this.self._03 = a[12 + offset];
		this.self._13 = a[13 + offset];
		this.self._23 = a[14 + offset];
		this.self._33 = a[15 + offset];
	}
	,setF32: function(a,offset) {
		if(offset == null) {
			offset = 0;
		}
		this.self._00 = a[offset];
		this.self._10 = a[1 + offset];
		this.self._20 = a[2 + offset];
		this.self._30 = a[3 + offset];
		this.self._01 = a[4 + offset];
		this.self._11 = a[5 + offset];
		this.self._21 = a[6 + offset];
		this.self._31 = a[7 + offset];
		this.self._02 = a[8 + offset];
		this.self._12 = a[9 + offset];
		this.self._22 = a[10 + offset];
		this.self._32 = a[11 + offset];
		this.self._03 = a[12 + offset];
		this.self._13 = a[13 + offset];
		this.self._23 = a[14 + offset];
		this.self._33 = a[15 + offset];
	}
	,setFrom: function(m) {
		this.self._00 = m.self._00;
		this.self._01 = m.self._01;
		this.self._02 = m.self._02;
		this.self._03 = m.self._03;
		this.self._10 = m.self._10;
		this.self._11 = m.self._11;
		this.self._12 = m.self._12;
		this.self._13 = m.self._13;
		this.self._20 = m.self._20;
		this.self._21 = m.self._21;
		this.self._22 = m.self._22;
		this.self._23 = m.self._23;
		this.self._30 = m.self._30;
		this.self._31 = m.self._31;
		this.self._32 = m.self._32;
		this.self._33 = m.self._33;
		return this;
	}
	,getLoc: function() {
		return new iron_math_Vec4(this.self._30,this.self._31,this.self._32,this.self._33);
	}
	,getScale: function() {
		return new iron_math_Vec4(Math.sqrt(this.self._00 * this.self._00 + this.self._10 * this.self._10 + this.self._20 * this.self._20),Math.sqrt(this.self._01 * this.self._01 + this.self._11 * this.self._11 + this.self._21 * this.self._21),Math.sqrt(this.self._02 * this.self._02 + this.self._12 * this.self._12 + this.self._22 * this.self._22));
	}
	,mult: function(s) {
		var _g = this;
		_g.self._00 *= s;
		var _g1 = this;
		_g1.self._10 *= s;
		var _g2 = this;
		_g2.self._20 *= s;
		var _g3 = this;
		_g3.self._30 *= s;
		var _g4 = this;
		_g4.self._01 *= s;
		var _g5 = this;
		_g5.self._11 *= s;
		var _g6 = this;
		_g6.self._21 *= s;
		var _g7 = this;
		_g7.self._31 *= s;
		var _g8 = this;
		_g8.self._02 *= s;
		var _g9 = this;
		_g9.self._12 *= s;
		var _g10 = this;
		_g10.self._22 *= s;
		var _g11 = this;
		_g11.self._32 *= s;
		var _g12 = this;
		_g12.self._03 *= s;
		var _g13 = this;
		_g13.self._13 *= s;
		var _g14 = this;
		_g14.self._23 *= s;
		var _g15 = this;
		_g15.self._33 *= s;
		return this;
	}
	,toRotation: function() {
		var v1 = new iron_math_Vec4();
		var _this = v1.set(this.self._00,this.self._01,this.self._02);
		var scaleX = 1.0 / Math.sqrt(_this.x * _this.x + _this.y * _this.y + _this.z * _this.z);
		var _this1 = v1.set(this.self._10,this.self._11,this.self._12);
		var scaleY = 1.0 / Math.sqrt(_this1.x * _this1.x + _this1.y * _this1.y + _this1.z * _this1.z);
		var _this2 = v1.set(this.self._20,this.self._21,this.self._22);
		var scaleZ = 1.0 / Math.sqrt(_this2.x * _this2.x + _this2.y * _this2.y + _this2.z * _this2.z);
		this.self._00 *= scaleX;
		this.self._01 *= scaleX;
		this.self._02 *= scaleX;
		this.self._03 = 0.0;
		this.self._10 *= scaleY;
		this.self._11 *= scaleY;
		this.self._12 *= scaleY;
		this.self._13 = 0.0;
		this.self._20 *= scaleZ;
		this.self._21 *= scaleZ;
		this.self._22 *= scaleZ;
		this.self._23 = 0.0;
		this.self._30 = 0.0;
		this.self._31 = 0.0;
		this.self._32 = 0.0;
		this.self._33 = 1.0;
		return this;
	}
	,getQuat: function() {
		iron_math_Mat4.helpMat.setFrom(this);
		iron_math_Mat4.helpMat.toRotation();
		var q = new iron_math_Quat();
		var m11 = iron_math_Mat4.helpMat.self._00;
		var m12 = iron_math_Mat4.helpMat.self._10;
		var m13 = iron_math_Mat4.helpMat.self._20;
		var m21 = iron_math_Mat4.helpMat.self._01;
		var m22 = iron_math_Mat4.helpMat.self._11;
		var m23 = iron_math_Mat4.helpMat.self._21;
		var m31 = iron_math_Mat4.helpMat.self._02;
		var m32 = iron_math_Mat4.helpMat.self._12;
		var m33 = iron_math_Mat4.helpMat.self._22;
		var ftrace = m11 + m22 + m33;
		var s = 0.0;
		if(ftrace > 0.0) {
			s = 0.5 / Math.sqrt(ftrace + 1.0);
			q.w = 0.25 / s;
			q.x = (m32 - m23) * s;
			q.y = (m13 - m31) * s;
			q.z = (m21 - m12) * s;
		} else if(m11 > m22 && m11 > m33) {
			s = 2.0 * Math.sqrt(1.0 + m11 - m22 - m33);
			q.w = (m32 - m23) / s;
			q.x = 0.25 * s;
			q.y = (m12 + m21) / s;
			q.z = (m13 + m31) / s;
		} else if(m22 > m33) {
			s = 2.0 * Math.sqrt(1.0 + m22 - m11 - m33);
			q.w = (m13 - m31) / s;
			q.x = (m12 + m21) / s;
			q.y = 0.25 * s;
			q.z = (m23 + m32) / s;
		} else {
			s = 2.0 * Math.sqrt(1.0 + m33 - m11 - m22);
			q.w = (m21 - m12) / s;
			q.x = (m13 + m31) / s;
			q.y = (m23 + m32) / s;
			q.z = 0.25 * s;
		}
		return q;
	}
	,setLookAt: function(eye,center,up) {
		var f0 = center.x - eye.x;
		var f1 = center.y - eye.y;
		var f2 = center.z - eye.z;
		var n = 1.0 / Math.sqrt(f0 * f0 + f1 * f1 + f2 * f2);
		f0 *= n;
		f1 *= n;
		f2 *= n;
		var s0 = f1 * up.z - f2 * up.y;
		var s1 = f2 * up.x - f0 * up.z;
		var s2 = f0 * up.y - f1 * up.x;
		n = 1.0 / Math.sqrt(s0 * s0 + s1 * s1 + s2 * s2);
		s0 *= n;
		s1 *= n;
		s2 *= n;
		var u0 = s1 * f2 - s2 * f1;
		var u1 = s2 * f0 - s0 * f2;
		var u2 = s0 * f1 - s1 * f0;
		var d0 = -eye.x * s0 - eye.y * s1 - eye.z * s2;
		var d1 = -eye.x * u0 - eye.y * u1 - eye.z * u2;
		var d2 = eye.x * f0 + eye.y * f1 + eye.z * f2;
		this.self._00 = s0;
		this.self._10 = s1;
		this.self._20 = s2;
		this.self._30 = d0;
		this.self._01 = u0;
		this.self._11 = u1;
		this.self._21 = u2;
		this.self._31 = d1;
		this.self._02 = -f0;
		this.self._12 = -f1;
		this.self._22 = -f2;
		this.self._32 = d2;
		this.self._03 = 0.0;
		this.self._13 = 0.0;
		this.self._23 = 0.0;
		this.self._33 = 1.0;
		return this;
	}
	,applyQuat: function(q) {
		q.toMat(iron_math_Mat4.helpMat);
		this.multmat2(iron_math_Mat4.helpMat);
	}
	,write: function(ar,offset) {
		if(offset == null) {
			offset = 0;
		}
		ar[offset] = this.self._00;
		ar[offset + 1] = this.self._10;
		ar[offset + 2] = this.self._20;
		ar[offset + 3] = this.self._30;
		ar[offset + 4] = this.self._01;
		ar[offset + 5] = this.self._11;
		ar[offset + 6] = this.self._21;
		ar[offset + 7] = this.self._31;
		ar[offset + 8] = this.self._02;
		ar[offset + 9] = this.self._12;
		ar[offset + 10] = this.self._22;
		ar[offset + 11] = this.self._32;
		ar[offset + 12] = this.self._03;
		ar[offset + 13] = this.self._13;
		ar[offset + 14] = this.self._23;
		ar[offset + 15] = this.self._33;
	}
	,multvec: function(value) {
		var _this = this.self;
		var product = new kha_math_FastVector4();
		product.x = _this._00 * value.x + _this._10 * value.y + _this._20 * value.z + _this._30 * value.w;
		product.y = _this._01 * value.x + _this._11 * value.y + _this._21 * value.z + _this._31 * value.w;
		product.z = _this._02 * value.x + _this._12 * value.y + _this._22 * value.z + _this._32 * value.w;
		product.w = _this._03 * value.x + _this._13 * value.y + _this._23 * value.z + _this._33 * value.w;
		return product;
	}
	,right: function() {
		return new iron_math_Vec4(this.self._00,this.self._01,this.self._02);
	}
	,up: function() {
		return new iron_math_Vec4(this.self._20,this.self._21,this.self._22);
	}
	,look: function() {
		return new iron_math_Vec4(this.self._10,this.self._11,this.self._12);
	}
	,get__00: function() {
		return this.self._00;
	}
	,set__00: function(f) {
		return this.self._00 = f;
	}
	,get__01: function() {
		return this.self._01;
	}
	,set__01: function(f) {
		return this.self._01 = f;
	}
	,get__02: function() {
		return this.self._02;
	}
	,set__02: function(f) {
		return this.self._02 = f;
	}
	,get__03: function() {
		return this.self._03;
	}
	,set__03: function(f) {
		return this.self._03 = f;
	}
	,get__10: function() {
		return this.self._10;
	}
	,set__10: function(f) {
		return this.self._10 = f;
	}
	,get__11: function() {
		return this.self._11;
	}
	,set__11: function(f) {
		return this.self._11 = f;
	}
	,get__12: function() {
		return this.self._12;
	}
	,set__12: function(f) {
		return this.self._12 = f;
	}
	,get__13: function() {
		return this.self._13;
	}
	,set__13: function(f) {
		return this.self._13 = f;
	}
	,get__20: function() {
		return this.self._20;
	}
	,set__20: function(f) {
		return this.self._20 = f;
	}
	,get__21: function() {
		return this.self._21;
	}
	,set__21: function(f) {
		return this.self._21 = f;
	}
	,get__22: function() {
		return this.self._22;
	}
	,set__22: function(f) {
		return this.self._22 = f;
	}
	,get__23: function() {
		return this.self._23;
	}
	,set__23: function(f) {
		return this.self._23 = f;
	}
	,get__30: function() {
		return this.self._30;
	}
	,set__30: function(f) {
		return this.self._30 = f;
	}
	,get__31: function() {
		return this.self._31;
	}
	,set__31: function(f) {
		return this.self._31 = f;
	}
	,get__32: function() {
		return this.self._32;
	}
	,set__32: function(f) {
		return this.self._32 = f;
	}
	,get__33: function() {
		return this.self._33;
	}
	,set__33: function(f) {
		return this.self._33 = f;
	}
	,toString: function() {
		return "[[" + this.self._00 + ", " + this.self._10 + ", " + this.self._20 + ", " + this.self._30 + "], [" + this.self._01 + ", " + this.self._11 + ", " + this.self._21 + ", " + this.self._31 + "], [" + this.self._02 + ", " + this.self._12 + ", " + this.self._22 + ", " + this.self._32 + "], [" + this.self._03 + ", " + this.self._13 + ", " + this.self._23 + ", " + this.self._33 + "]]";
	}
	,__class__: iron_math_Mat4
	,__properties__: {set__33:"set__33",get__33:"get__33",set__32:"set__32",get__32:"get__32",set__31:"set__31",get__31:"get__31",set__30:"set__30",get__30:"get__30",set__23:"set__23",get__23:"get__23",set__22:"set__22",get__22:"get__22",set__21:"set__21",get__21:"get__21",set__20:"set__20",get__20:"get__20",set__13:"set__13",get__13:"get__13",set__12:"set__12",get__12:"get__12",set__11:"set__11",get__11:"get__11",set__10:"set__10",get__10:"get__10",set__03:"set__03",get__03:"get__03",set__02:"set__02",get__02:"get__02",set__01:"set__01",get__01:"get__01",set__00:"set__00",get__00:"get__00"}
};
var armory_trait_PhysicsDrag = $hxClasses["armory.trait.PhysicsDrag"] = function() {
	this.pickedBody = null;
	this.pickConstraint = null;
	iron_Trait.call(this);
	if(armory_trait_PhysicsDrag.first) {
		armory_trait_PhysicsDrag.first = false;
		this.notifyOnUpdate($bind(this,this.update));
	}
};
armory_trait_PhysicsDrag.__name__ = ["armory","trait","PhysicsDrag"];
armory_trait_PhysicsDrag.__super__ = iron_Trait;
armory_trait_PhysicsDrag.prototype = $extend(iron_Trait.prototype,{
	pickConstraint: null
	,pickDist: null
	,pickedBody: null
	,rayFrom: null
	,rayTo: null
	,update: function() {
		var physics = armory_trait_physics_bullet_PhysicsWorld.active;
		if(this.pickedBody != null) {
			this.pickedBody.activate();
		}
		var mouse = iron_system_Input.getMouse();
		if(mouse.started()) {
			var b = physics.pickClosest(mouse.x,mouse.y);
			if(b != null && b.mass > 0 && !b.body.isKinematicObject() && b.object.getTrait(armory_trait_PhysicsDrag) != null) {
				var mouse1 = iron_system_Input.getMouse();
				var camera = iron_Scene.active.camera;
				var _this = camera.transform.world;
				var v = new iron_math_Vec4(_this.self._30,_this.self._31,_this.self._32,_this.self._33);
				this.rayFrom = new Ammo.btVector3(v.x,v.y,v.z);
				iron_math_RayCaster.getDirection(armory_trait_PhysicsDrag.start,armory_trait_PhysicsDrag.end,mouse1.x,mouse1.y,camera);
				this.rayTo = new Ammo.btVector3(armory_trait_PhysicsDrag.end.x,armory_trait_PhysicsDrag.end.y,armory_trait_PhysicsDrag.end.z);
				this.pickedBody = b;
				armory_trait_PhysicsDrag.m.getInverse(b.object.transform.world);
				var hit = physics.hitPointWorld;
				armory_trait_PhysicsDrag.v.setFrom(hit);
				armory_trait_PhysicsDrag.v.applymat4(armory_trait_PhysicsDrag.m);
				var localPivot = new Ammo.btVector3(armory_trait_PhysicsDrag.v.x,armory_trait_PhysicsDrag.v.y,armory_trait_PhysicsDrag.v.z);
				var tr = new Ammo.btTransform();
				tr.setIdentity();
				tr.setOrigin(localPivot);
				this.pickConstraint = new Ammo.btGeneric6DofConstraint(b.body,tr,false);
				this.pickConstraint.setLinearLowerLimit(new Ammo.btVector3(0,0,0));
				this.pickConstraint.setLinearUpperLimit(new Ammo.btVector3(0,0,0));
				this.pickConstraint.setAngularLowerLimit(new Ammo.btVector3(-10,-10,-10));
				this.pickConstraint.setAngularUpperLimit(new Ammo.btVector3(10,10,10));
				physics.world.addConstraint(this.pickConstraint,false);
				var _this1 = armory_trait_PhysicsDrag.v.set(hit.x - this.rayFrom.x(),hit.y - this.rayFrom.y(),hit.z - this.rayFrom.z());
				this.pickDist = Math.sqrt(_this1.x * _this1.x + _this1.y * _this1.y + _this1.z * _this1.z);
				iron_system_Input.occupied = true;
			}
		} else if(mouse.released()) {
			if(this.pickConstraint != null) {
				physics.world.removeConstraint(this.pickConstraint);
				this.pickConstraint = null;
				this.pickedBody = null;
			}
			iron_system_Input.occupied = false;
		} else if(mouse.down()) {
			if(this.pickConstraint != null) {
				var mouse2 = iron_system_Input.getMouse();
				var camera1 = iron_Scene.active.camera;
				var _this2 = camera1.transform.world;
				var v1 = new iron_math_Vec4(_this2.self._30,_this2.self._31,_this2.self._32,_this2.self._33);
				this.rayFrom = new Ammo.btVector3(v1.x,v1.y,v1.z);
				iron_math_RayCaster.getDirection(armory_trait_PhysicsDrag.start,armory_trait_PhysicsDrag.end,mouse2.x,mouse2.y,camera1);
				this.rayTo = new Ammo.btVector3(armory_trait_PhysicsDrag.end.x,armory_trait_PhysicsDrag.end.y,armory_trait_PhysicsDrag.end.z);
				var dir = new Ammo.btVector3(this.rayTo.x() - this.rayFrom.x(),this.rayTo.y() - this.rayFrom.y(),this.rayTo.z() - this.rayFrom.z());
				dir.normalize();
				dir.setX(dir.x() * this.pickDist);
				dir.setY(dir.y() * this.pickDist);
				dir.setZ(dir.z() * this.pickDist);
				var newPivotB = new Ammo.btVector3(this.rayFrom.x() + dir.x(),this.rayFrom.y() + dir.y(),this.rayFrom.z() + dir.z());
				this.pickConstraint.getFrameOffsetA().setOrigin(newPivotB);
			}
		}
	}
	,setRays: function() {
		var mouse = iron_system_Input.getMouse();
		var camera = iron_Scene.active.camera;
		var _this = camera.transform.world;
		var v = new iron_math_Vec4(_this.self._30,_this.self._31,_this.self._32,_this.self._33);
		this.rayFrom = new Ammo.btVector3(v.x,v.y,v.z);
		iron_math_RayCaster.getDirection(armory_trait_PhysicsDrag.start,armory_trait_PhysicsDrag.end,mouse.x,mouse.y,camera);
		this.rayTo = new Ammo.btVector3(armory_trait_PhysicsDrag.end.x,armory_trait_PhysicsDrag.end.y,armory_trait_PhysicsDrag.end.z);
	}
	,__class__: armory_trait_PhysicsDrag
});
var armory_trait_SceneInstance = $hxClasses["armory.trait.SceneInstance"] = function(sceneName) {
	var _gthis = this;
	iron_Trait.call(this);
	this.notifyOnInit(function() {
		iron_Scene.active.addScene(_gthis.safeFilename(sceneName),_gthis.object,function(o) {
		});
	});
};
armory_trait_SceneInstance.__name__ = ["armory","trait","SceneInstance"];
armory_trait_SceneInstance.__super__ = iron_Trait;
armory_trait_SceneInstance.prototype = $extend(iron_Trait.prototype,{
	safeFilename: function(s) {
		s = StringTools.replace(s,".","_");
		s = StringTools.replace(s,"-","_");
		s = StringTools.replace(s," ","_");
		if(Std.parseInt(s.charAt(0)) != null) {
			s = "_" + s;
		}
		return s;
	}
	,__class__: armory_trait_SceneInstance
});
var armory_trait_SidescrollerController = $hxClasses["armory.trait.SidescrollerController"] = function(animObject,idle,run) {
	if(run == null) {
		run = "run";
	}
	if(idle == null) {
		idle = "idle";
	}
	if(animObject == null) {
		animObject = "";
	}
	this.dir = new iron_math_Vec4();
	armory_trait_internal_CameraController.call(this);
	this.animObject = animObject;
	this.idleAction = idle;
	this.runAction = run;
	this.currentAction = this.idleAction;
	iron_Scene.active.notifyOnInit($bind(this,this.init));
};
armory_trait_SidescrollerController.__name__ = ["armory","trait","SidescrollerController"];
armory_trait_SidescrollerController.__super__ = armory_trait_internal_CameraController;
armory_trait_SidescrollerController.prototype = $extend(armory_trait_internal_CameraController.prototype,{
	animObject: null
	,idleAction: null
	,runAction: null
	,currentAction: null
	,arm: null
	,init: function() {
		if(this.animObject == "") {
			this.arm = this.findAnimation(this.object);
		} else {
			this.arm = this.object.getChild(this.animObject);
		}
		this.notifyOnUpdate($bind(this,this.update));
	}
	,findAnimation: function(o) {
		if(o.animation != null) {
			return o;
		}
		var _g = 0;
		var _g1 = o.children;
		while(_g < _g1.length) {
			var c = _g1[_g];
			++_g;
			var co = this.findAnimation(c);
			if(co != null) {
				return co;
			}
		}
		return null;
	}
	,dir: null
	,update: function() {
		if(!this.body.ready) {
			return;
		}
		if(this.jump) {
			this.body.applyImpulse(new iron_math_Vec4(0,0,20));
			this.jump = false;
		}
		this.dir.set(0,0,0);
		if(this.moveLeft) {
			var _this = this.transform.world;
			this.dir.add(new iron_math_Vec4(_this.self._10,_this.self._11,_this.self._12).mult(-1));
		}
		if(this.moveRight) {
			var _this1 = this.transform.world;
			this.dir.add(new iron_math_Vec4(_this1.self._10,_this1.self._11,_this1.self._12));
		}
		var btvec = this.body.getLinearVelocity();
		this.body.setLinearVelocity(0.0,0.0,btvec.z - 1.0);
		if(this.moveLeft || this.moveRight) {
			if(this.currentAction != this.runAction) {
				this.arm.animation.play(this.runAction,null,0.2);
				this.currentAction = this.runAction;
			}
			this.dir.mult(-2.8);
			this.body.activate();
			this.body.setLinearVelocity(this.dir.x,this.dir.y,btvec.z - 1.0);
		} else if(this.currentAction != this.idleAction) {
			this.arm.animation.play(this.idleAction,null,0.2);
			this.currentAction = this.idleAction;
		}
		this.body.setAngularFactor(0,0,0);
		this.camera.buildMatrix();
	}
	,__class__: armory_trait_SidescrollerController
});
var armory_trait_SimpleMoveObject = $hxClasses["armory.trait.SimpleMoveObject"] = function() {
	this.speed = 0.1;
	var _gthis = this;
	iron_Trait.call(this);
	this.notifyOnInit(function() {
		_gthis.rb = _gthis.object.getTrait(armory_trait_physics_bullet_RigidBody);
		_gthis.keyboard = iron_system_Input.getKeyboard();
	});
	this.notifyOnUpdate(function() {
		var move = iron_math_Vec4.zero();
		if(_gthis.keyboard.down("d")) {
			move.x += _gthis.speed;
		}
		if(_gthis.keyboard.down("a")) {
			move.x -= _gthis.speed;
		}
		if(_gthis.keyboard.down("w")) {
			move.y += _gthis.speed;
		}
		if(_gthis.keyboard.down("s")) {
			move.y -= _gthis.speed;
		}
		if(_gthis.keyboard.down("q")) {
			move.z += _gthis.speed;
		}
		if(_gthis.keyboard.down("e")) {
			move.z -= _gthis.speed;
		}
		var v = iron_math_Vec4.zero();
		if(!(move.x == v.x && move.y == v.y && move.z == v.z)) {
			_gthis.moveObject(move);
		}
	});
};
armory_trait_SimpleMoveObject.__name__ = ["armory","trait","SimpleMoveObject"];
armory_trait_SimpleMoveObject.__super__ = iron_Trait;
armory_trait_SimpleMoveObject.prototype = $extend(iron_Trait.prototype,{
	speed: null
	,keyboard: null
	,rb: null
	,moveObject: function(vec) {
		if(this.rb != null) {
			this.rb.setLinearVelocity(0,0,0);
			this.rb.setAngularVelocity(0,0,0);
			this.rb.transform.translate(vec.x,vec.y,vec.z);
			this.rb.syncTransform();
		} else {
			this.object.transform.translate(vec.x,vec.y,vec.z);
		}
	}
	,__class__: armory_trait_SimpleMoveObject
});
var armory_trait_SimpleRotateObject = $hxClasses["armory.trait.SimpleRotateObject"] = function() {
	this.speed = 0.1;
	var _gthis = this;
	iron_Trait.call(this);
	this.notifyOnInit(function() {
		_gthis.rb = _gthis.object.getTrait(armory_trait_physics_bullet_RigidBody);
		_gthis.keyboard = iron_system_Input.getKeyboard();
	});
	this.notifyOnUpdate(function() {
		var rotate = iron_math_Vec4.zero();
		if(_gthis.keyboard.down("r")) {
			rotate.x += 1;
		}
		if(_gthis.keyboard.down("t")) {
			rotate.x -= 1;
		}
		if(_gthis.keyboard.down("f")) {
			rotate.y += 1;
		}
		if(_gthis.keyboard.down("g")) {
			rotate.y -= 1;
		}
		if(_gthis.keyboard.down("v")) {
			rotate.z += 1;
		}
		if(_gthis.keyboard.down("b")) {
			rotate.z -= 1;
		}
		var v = iron_math_Vec4.zero();
		if(!(rotate.x == v.x && rotate.y == v.y && rotate.z == v.z)) {
			_gthis.rotateObject(rotate);
		}
	});
};
armory_trait_SimpleRotateObject.__name__ = ["armory","trait","SimpleRotateObject"];
armory_trait_SimpleRotateObject.__super__ = iron_Trait;
armory_trait_SimpleRotateObject.prototype = $extend(iron_Trait.prototype,{
	speed: null
	,keyboard: null
	,rb: null
	,rotateObject: function(vec) {
		if(this.rb != null) {
			this.rb.setAngularVelocity(0,0,0);
			this.rb.transform.rotate(vec,this.speed);
			this.rb.syncTransform();
		} else {
			this.object.transform.rotate(vec,this.speed);
		}
	}
	,__class__: armory_trait_SimpleRotateObject
});
var armory_trait_SimpleScaleObject = $hxClasses["armory.trait.SimpleScaleObject"] = function() {
	this.speed = 0.1;
	var _gthis = this;
	iron_Trait.call(this);
	this.notifyOnInit(function() {
		_gthis.rb = _gthis.object.getTrait(armory_trait_physics_bullet_RigidBody);
		_gthis.character = _gthis.object.getTrait(armory_trait_physics_bullet_KinematicCharacterController);
		_gthis.keyboard = iron_system_Input.getKeyboard();
	});
	this.notifyOnUpdate(function() {
		var scale = iron_math_Vec4.zero();
		if(_gthis.keyboard.down("y")) {
			scale.x += _gthis.speed;
		}
		if(_gthis.keyboard.down("u")) {
			scale.x -= _gthis.speed;
		}
		if(_gthis.keyboard.down("h")) {
			scale.y += _gthis.speed;
		}
		if(_gthis.keyboard.down("j")) {
			scale.y -= _gthis.speed;
		}
		if(_gthis.keyboard.down("n")) {
			scale.z += _gthis.speed;
		}
		if(_gthis.keyboard.down("m")) {
			scale.z -= _gthis.speed;
		}
		if(_gthis.keyboard.down("z")) {
			scale.set(_gthis.speed,_gthis.speed,_gthis.speed);
		}
		if(_gthis.keyboard.down("x")) {
			scale.set(-_gthis.speed,-_gthis.speed,-_gthis.speed);
		}
		var v = iron_math_Vec4.zero();
		if(!(scale.x == v.x && scale.y == v.y && scale.z == v.z)) {
			_gthis.scaleObject(scale);
		}
	});
};
armory_trait_SimpleScaleObject.__name__ = ["armory","trait","SimpleScaleObject"];
armory_trait_SimpleScaleObject.__super__ = iron_Trait;
armory_trait_SimpleScaleObject.prototype = $extend(iron_Trait.prototype,{
	speed: null
	,keyboard: null
	,rb: null
	,character: null
	,scaleObject: function(vec) {
		var s = this.object.transform.scale;
		if(this.rb != null) {
			this.rb.transform.scale.set(s.x + vec.x,s.y + vec.y,s.z + vec.z);
			this.rb.syncTransform();
		} else if(this.character != null) {
			this.character.transform.scale.set(s.x + vec.x,s.y + vec.y,s.z + vec.z);
			this.character.syncTransform();
		} else {
			this.object.transform.scale.set(s.x + vec.x,s.y + vec.y,s.z + vec.z);
			this.object.transform.buildMatrix();
		}
	}
	,__class__: armory_trait_SimpleScaleObject
});
var armory_trait_ThirdPersonController = $hxClasses["armory.trait.ThirdPersonController"] = function(animObject,idle,run) {
	if(run == null) {
		run = "run";
	}
	if(idle == null) {
		idle = "idle";
	}
	if(animObject == null) {
		animObject = "";
	}
	this.dir = new iron_math_Vec4();
	this.zVec = iron_math_Vec4.zAxis();
	this.xVec = iron_math_Vec4.xAxis();
	armory_trait_internal_CameraController.call(this);
	this.animObject = animObject;
	this.idleAction = idle;
	this.runAction = run;
	this.currentAction = this.idleAction;
	iron_Scene.active.notifyOnInit($bind(this,this.init));
};
armory_trait_ThirdPersonController.__name__ = ["armory","trait","ThirdPersonController"];
armory_trait_ThirdPersonController.__super__ = armory_trait_internal_CameraController;
armory_trait_ThirdPersonController.prototype = $extend(armory_trait_internal_CameraController.prototype,{
	animObject: null
	,idleAction: null
	,runAction: null
	,currentAction: null
	,arm: null
	,findAnimation: function(o) {
		if(o.animation != null) {
			return o;
		}
		var _g = 0;
		var _g1 = o.children;
		while(_g < _g1.length) {
			var c = _g1[_g];
			++_g;
			var co = this.findAnimation(c);
			if(co != null) {
				return co;
			}
		}
		return null;
	}
	,init: function() {
		if(this.animObject == "") {
			this.arm = this.findAnimation(this.object);
		} else {
			this.arm = this.object.getChild(this.animObject);
		}
		armory_trait_physics_bullet_PhysicsWorld.active.notifyOnPreUpdate($bind(this,this.preUpdate));
		this.notifyOnUpdate($bind(this,this.update));
		this.notifyOnRemove($bind(this,this.removed));
	}
	,xVec: null
	,zVec: null
	,preUpdate: function() {
		if(iron_system_Input.occupied || !this.body.ready) {
			return;
		}
		var mouse = iron_system_Input.getMouse();
		if(mouse.down()) {
			this.camera.transform.rotate(this.xVec,mouse.movementY / 250);
			this.transform.rotate(this.zVec,-mouse.movementX / 250);
			this.camera.buildMatrix();
			this.body.syncTransform();
		}
	}
	,removed: function() {
		armory_trait_physics_bullet_PhysicsWorld.active.removePreUpdate($bind(this,this.preUpdate));
	}
	,dir: null
	,update: function() {
		if(!this.body.ready) {
			return;
		}
		if(this.jump) {
			this.body.applyImpulse(new iron_math_Vec4(0,0,20));
		}
		this.dir.set(0,0,0);
		if(this.moveForward) {
			var _this = this.transform.world;
			this.dir.add(new iron_math_Vec4(_this.self._10,_this.self._11,_this.self._12));
		}
		if(this.moveBackward) {
			var _this1 = this.transform.world;
			this.dir.add(new iron_math_Vec4(_this1.self._10,_this1.self._11,_this1.self._12).mult(-1));
		}
		if(this.moveLeft) {
			var _this2 = this.transform.world;
			this.dir.add(new iron_math_Vec4(_this2.self._00,_this2.self._01,_this2.self._02).mult(-1));
		}
		if(this.moveRight) {
			var _this3 = this.transform.world;
			this.dir.add(new iron_math_Vec4(_this3.self._00,_this3.self._01,_this3.self._02));
		}
		var btvec = this.body.getLinearVelocity();
		this.body.setLinearVelocity(0.0,0.0,btvec.z - 1.0);
		if(this.moveForward || this.moveBackward || this.moveLeft || this.moveRight) {
			if(this.currentAction != this.runAction) {
				this.arm.animation.play(this.runAction,null,0.2);
				this.currentAction = this.runAction;
			}
			this.dir.mult(-2.8);
			this.body.activate();
			this.body.setLinearVelocity(this.dir.x,this.dir.y,btvec.z - 1.0);
		} else if(this.currentAction != this.idleAction) {
			this.arm.animation.play(this.idleAction,null,0.2);
			this.currentAction = this.idleAction;
		}
		this.body.setAngularFactor(0,0,0);
		this.camera.buildMatrix();
	}
	,__class__: armory_trait_ThirdPersonController
});
var armory_trait_VRNavigation = $hxClasses["armory.trait.VRNavigation"] = function() {
	iron_Trait.call(this);
};
armory_trait_VRNavigation.__name__ = ["armory","trait","VRNavigation"];
armory_trait_VRNavigation.__super__ = iron_Trait;
armory_trait_VRNavigation.prototype = $extend(iron_Trait.prototype,{
	__class__: armory_trait_VRNavigation
});
var armory_trait_VehicleBody = $hxClasses["armory.trait.VehicleBody"] = function(wheelName1,wheelName2,wheelName3,wheelName4) {
	this.vehicleSteering = 0.0;
	this.breakingForce = 0.0;
	this.engineForce = 0.0;
	this.maxBreakingForce = 500.0;
	this.maxEngineForce = 3000.0;
	this.rollInfluence = 0.1;
	this.suspensionRestLength = 0.3;
	this.suspensionCompression = 4.4;
	this.suspensionDamping = 2.3;
	this.suspensionStiffness = 20.0;
	this.wheelFriction = 1000;
	this.chassis_mass = 600.0;
	this.vehicle = null;
	this.wheels = [];
	iron_Trait.call(this);
	this.wheelNames = [wheelName1,wheelName2,wheelName3,wheelName4];
	iron_Scene.active.notifyOnInit($bind(this,this.init));
};
armory_trait_VehicleBody.__name__ = ["armory","trait","VehicleBody"];
armory_trait_VehicleBody.__super__ = iron_Trait;
armory_trait_VehicleBody.prototype = $extend(iron_Trait.prototype,{
	physics: null
	,transform: null
	,camera: null
	,wheels: null
	,wheelNames: null
	,vehicle: null
	,carChassis: null
	,chassis_mass: null
	,wheelFriction: null
	,suspensionStiffness: null
	,suspensionDamping: null
	,suspensionCompression: null
	,suspensionRestLength: null
	,rollInfluence: null
	,maxEngineForce: null
	,maxBreakingForce: null
	,engineForce: null
	,breakingForce: null
	,vehicleSteering: null
	,init: function() {
		this.physics = armory_trait_physics_bullet_PhysicsWorld.active;
		this.transform = this.object.transform;
		this.camera = iron_Scene.active.camera;
		var _g = 0;
		var _g1 = this.wheelNames;
		while(_g < _g1.length) {
			var n = _g1[_g];
			++_g;
			this.wheels.push(iron_Scene.active.root.getChild(n));
		}
		var wheelDirectionCS0 = new Ammo.btVector3(0,0,-1);
		var wheelAxleCS = new Ammo.btVector3(1,0,0);
		var chassisShape = new Ammo.btBoxShape(new Ammo.btVector3(this.transform.dim.x / 2,this.transform.dim.y / 2,this.transform.dim.z / 2));
		var compound = new Ammo.btCompoundShape(true);
		var localTrans = new Ammo.btTransform();
		localTrans.setIdentity();
		localTrans.setOrigin(new Ammo.btVector3(0,0,1));
		compound.addChildShape(localTrans,chassisShape);
		this.carChassis = this.createRigidBody(this.chassis_mass,compound);
		var tuning = new Ammo.btVehicleTuning();
		var vehicleRayCaster = new Ammo.btDefaultVehicleRaycaster(this.physics.world);
		this.vehicle = new Ammo.btRaycastVehicle(tuning,this.carChassis,vehicleRayCaster);
		this.carChassis.setActivationState(4);
		var rightIndex = 0;
		var upIndex = 2;
		var forwardIndex = 1;
		this.vehicle.setCoordinateSystem(rightIndex,upIndex,forwardIndex);
		var _g11 = 0;
		var _g2 = this.wheels.length;
		while(_g11 < _g2) {
			var i = _g11++;
			var vehicleWheel = new armory_trait_VehicleWheel(i,this.wheels[i].transform,this.object.transform);
			this.vehicle.addWheel(vehicleWheel.getConnectionPoint(),wheelDirectionCS0,wheelAxleCS,this.suspensionRestLength,vehicleWheel.wheelRadius,tuning,vehicleWheel.isFrontWheel);
		}
		var _g12 = 0;
		var _g3 = this.vehicle.getNumWheels();
		while(_g12 < _g3) {
			var i1 = _g12++;
			var wheel = this.vehicle.getWheelInfo(i1);
			wheel.m_suspensionStiffness = this.suspensionStiffness;
			wheel.m_wheelsDampingRelaxation = this.suspensionDamping;
			wheel.m_wheelsDampingCompression = this.suspensionCompression;
			wheel.m_frictionSlip = this.wheelFriction;
			wheel.m_rollInfluence = this.rollInfluence;
		}
		this.physics.world.addAction(this.vehicle);
		this.notifyOnUpdate($bind(this,this.update));
	}
	,update: function() {
		if(this.vehicle == null) {
			return;
		}
		var keyboard = iron_system_Input.getKeyboard();
		var forward = keyboard.down("w");
		var backward = keyboard.down("s");
		var left = keyboard.down("a");
		var right = keyboard.down("d");
		var brake = keyboard.down("space");
		if(forward) {
			this.engineForce = this.maxEngineForce;
		} else if(backward) {
			this.engineForce = -this.maxEngineForce;
		} else if(brake) {
			this.breakingForce = 100;
		} else {
			this.engineForce = 0;
			this.breakingForce = 20;
		}
		if(left) {
			if(this.vehicleSteering < 0.3) {
				this.vehicleSteering += 0.016666666666666666;
			}
		} else if(right) {
			if(this.vehicleSteering > -0.3) {
				this.vehicleSteering -= 0.016666666666666666;
			}
		} else if(this.vehicleSteering != 0) {
			var step = Math.abs(this.vehicleSteering) < 0.016666666666666666 ? Math.abs(this.vehicleSteering) : 0.016666666666666666;
			if(this.vehicleSteering > 0) {
				this.vehicleSteering -= step;
			} else {
				this.vehicleSteering += step;
			}
		}
		this.vehicle.applyEngineForce(this.engineForce,2);
		this.vehicle.setBrake(this.breakingForce,2);
		this.vehicle.applyEngineForce(this.engineForce,3);
		this.vehicle.setBrake(this.breakingForce,3);
		this.vehicle.setSteeringValue(this.vehicleSteering,0);
		this.vehicle.setSteeringValue(this.vehicleSteering,1);
		var _g1 = 0;
		var _g = this.vehicle.getNumWheels();
		while(_g1 < _g) {
			var i = _g1++;
			this.vehicle.updateWheelTransform(i,true);
			var trans = this.vehicle.getWheelTransformWS(i);
			var p = trans.getOrigin();
			var q = trans.getRotation();
			this.wheels[i].transform.localOnly = true;
			this.wheels[i].transform.loc.set(p.x(),p.y(),p.z());
			var _this = this.wheels[i].transform.rot;
			var x = q.x();
			var y = q.y();
			var z = q.z();
			var w = q.w();
			_this.x = x;
			_this.y = y;
			_this.z = z;
			_this.w = w;
			this.wheels[i].transform.dirty = true;
		}
		var trans1 = this.carChassis.getWorldTransform();
		var p1 = trans1.getOrigin();
		var q1 = trans1.getRotation();
		this.transform.loc.set(p1.x(),p1.y(),p1.z());
		var _this1 = this.transform.rot;
		var x1 = q1.x();
		var y1 = q1.y();
		var z1 = q1.z();
		var w1 = q1.w();
		_this1.x = x1;
		_this1.y = y1;
		_this1.z = z1;
		_this1.w = w1;
		var _this2 = this.transform.world;
		var up = new iron_math_Vec4(_this2.self._20,_this2.self._21,_this2.self._22);
		this.transform.loc.add(up);
		this.transform.dirty = true;
		if(this.camera.parent != null) {
			this.camera.parent.transform.buildMatrix();
		}
		this.camera.buildMatrix();
	}
	,createRigidBody: function(mass,shape) {
		var localInertia = new Ammo.btVector3(0,0,0);
		shape.calculateLocalInertia(mass,localInertia);
		var centerOfMassOffset = new Ammo.btTransform();
		centerOfMassOffset.setIdentity();
		var startTransform = new Ammo.btTransform();
		startTransform.setIdentity();
		startTransform.setOrigin(new Ammo.btVector3(this.transform.loc.x,this.transform.loc.y,this.transform.loc.z));
		startTransform.setRotation(new Ammo.btQuaternion(this.transform.rot.x,this.transform.rot.y,this.transform.rot.z,this.transform.rot.w));
		var myMotionState = new Ammo.btDefaultMotionState(startTransform,centerOfMassOffset);
		var cInfo = new Ammo.btRigidBodyConstructionInfo(mass,myMotionState,shape,localInertia);
		var body = new Ammo.btRigidBody(cInfo);
		body.setLinearVelocity(new Ammo.btVector3(0,0,0));
		body.setAngularVelocity(new Ammo.btVector3(0,0,0));
		this.physics.world.addRigidBody(body);
		return body;
	}
	,__class__: armory_trait_VehicleBody
});
var armory_trait_VehicleWheel = $hxClasses["armory.trait.VehicleWheel"] = function(id,transform,vehicleTransform) {
	this.wheelRadius = transform.dim.z / 2;
	this.wheelWidth = transform.dim.x > transform.dim.y ? transform.dim.y : transform.dim.x;
	this.locX = transform.loc.x;
	this.locY = transform.loc.y;
	this.locZ = vehicleTransform.dim.z / 2 + transform.loc.z;
};
armory_trait_VehicleWheel.__name__ = ["armory","trait","VehicleWheel"];
armory_trait_VehicleWheel.prototype = {
	isFrontWheel: null
	,wheelRadius: null
	,wheelWidth: null
	,locX: null
	,locY: null
	,locZ: null
	,getConnectionPoint: function() {
		return new Ammo.btVector3(this.locX,this.locY,this.locZ);
	}
	,__class__: armory_trait_VehicleWheel
};
var armory_trait_VirtualGamepad = $hxClasses["armory.trait.VirtualGamepad"] = function() {
	this.o = 40;
	this.r = 100;
	this.rightLocked = false;
	this.leftLocked = false;
	this.rightStickYLast = 0;
	this.rightStickY = 0;
	this.rightStickXLast = 0;
	this.rightStickX = 0;
	this.leftStickYLast = 0;
	this.leftStickY = 0;
	this.leftStickXLast = 0;
	this.leftStickX = 0;
	this.rightPadY = 0;
	this.rightPadX = 0;
	this.leftPadY = 0;
	this.leftPadX = 0;
	var _gthis = this;
	iron_Trait.call(this);
	this.notifyOnInit(function() {
		_gthis.leftPadX = _gthis.r + _gthis.o;
		var tmp = kha_System.windowWidth() - _gthis.r;
		_gthis.rightPadX = tmp - _gthis.o;
		var tmp1 = kha_System.windowHeight() - _gthis.r;
		_gthis.leftPadY = _gthis.rightPadY = tmp1 - _gthis.o;
		_gthis.gamepad = new iron_system_Gamepad(0,true);
		iron_system_Input.gamepads.push(_gthis.gamepad);
		_gthis.notifyOnUpdate($bind(_gthis,_gthis.update));
		_gthis.notifyOnRender2D($bind(_gthis,_gthis.render2D));
	});
};
armory_trait_VirtualGamepad.__name__ = ["armory","trait","VirtualGamepad"];
armory_trait_VirtualGamepad.__super__ = iron_Trait;
armory_trait_VirtualGamepad.prototype = $extend(iron_Trait.prototype,{
	gamepad: null
	,leftPadX: null
	,leftPadY: null
	,rightPadX: null
	,rightPadY: null
	,leftStickX: null
	,leftStickXLast: null
	,leftStickY: null
	,leftStickYLast: null
	,rightStickX: null
	,rightStickXLast: null
	,rightStickY: null
	,rightStickYLast: null
	,leftLocked: null
	,rightLocked: null
	,r: null
	,o: null
	,update: function() {
		var mouse = iron_system_Input.getMouse();
		var tmp;
		if(mouse.started()) {
			var vx = mouse.x - this.leftPadX;
			var vy = mouse.y - this.leftPadY;
			tmp = Math.sqrt(vx * vx + vy * vy) <= this.r;
		} else {
			tmp = false;
		}
		if(tmp) {
			this.leftLocked = true;
		} else if(mouse.released()) {
			this.leftLocked = false;
		}
		var tmp1;
		if(mouse.started()) {
			var vx1 = mouse.x - this.rightPadX;
			var vy1 = mouse.y - this.rightPadY;
			tmp1 = Math.sqrt(vx1 * vx1 + vy1 * vy1) <= this.r;
		} else {
			tmp1 = false;
		}
		if(tmp1) {
			this.rightLocked = true;
		} else if(mouse.released()) {
			this.rightLocked = false;
		}
		if(this.leftLocked) {
			this.leftStickX = mouse.x - this.leftPadX | 0;
			this.leftStickY = mouse.y - this.leftPadY | 0;
			var l = Math.sqrt(this.leftStickX * this.leftStickX + this.leftStickY * this.leftStickY);
			if(l > this.r) {
				var x = this.r * (this.leftStickX / Math.sqrt(this.leftStickX * this.leftStickX + this.leftStickY * this.leftStickY));
				var y = this.r * (this.leftStickY / Math.sqrt(this.leftStickX * this.leftStickX + this.leftStickY * this.leftStickY));
				this.leftStickX = x | 0;
				this.leftStickY = y | 0;
			}
		} else {
			this.leftStickX = 0;
			this.leftStickY = 0;
		}
		if(this.rightLocked) {
			this.rightStickX = mouse.x - this.rightPadX | 0;
			this.rightStickY = mouse.y - this.rightPadY | 0;
			var l1 = Math.sqrt(this.rightStickX * this.rightStickX + this.rightStickY * this.rightStickY);
			if(l1 > this.r) {
				var x1 = this.r * (this.rightStickX / Math.sqrt(this.rightStickX * this.rightStickX + this.rightStickY * this.rightStickY));
				var y1 = this.r * (this.rightStickY / Math.sqrt(this.rightStickX * this.rightStickX + this.rightStickY * this.rightStickY));
				this.rightStickX = x1 | 0;
				this.rightStickY = y1 | 0;
			}
		} else {
			this.rightStickX = 0;
			this.rightStickY = 0;
		}
		if(this.leftStickX != this.leftStickXLast) {
			this.gamepad.axisListener(0,this.leftStickX / this.r);
		}
		if(this.leftStickY != this.leftStickYLast) {
			this.gamepad.axisListener(1,this.leftStickY / this.r);
		}
		if(this.rightStickX != this.rightStickXLast) {
			this.gamepad.axisListener(2,this.rightStickX / this.r);
		}
		if(this.rightStickY != this.rightStickYLast) {
			this.gamepad.axisListener(3,this.rightStickY / this.r);
		}
		this.leftStickXLast = this.leftStickX;
		this.leftStickYLast = this.leftStickY;
		this.rightStickXLast = this.rightStickX;
		this.rightStickYLast = this.rightStickY;
	}
	,render2D: function(g) {
		g.set_color(-5592406);
		kha_graphics2_GraphicsExtension.fillCircle(g,this.leftPadX,this.leftPadY,this.r);
		kha_graphics2_GraphicsExtension.fillCircle(g,this.rightPadX,this.rightPadY,this.r);
		var r2 = this.r / 2.2 | 0;
		g.set_color(-188);
		kha_graphics2_GraphicsExtension.fillCircle(g,this.leftPadX + this.leftStickX,this.leftPadY + this.leftStickY,r2);
		kha_graphics2_GraphicsExtension.fillCircle(g,this.rightPadX + this.rightStickX,this.rightPadY + this.rightStickY,r2);
		g.set_color(-1);
	}
	,__class__: armory_trait_VirtualGamepad
});
var armory_trait_WalkNavigation = $hxClasses["armory.trait.WalkNavigation"] = function(easing) {
	if(easing == null) {
		easing = true;
	}
	this.ease = 1.0;
	this.easing = true;
	this.yvec = new iron_math_Vec4();
	this.xvec = new iron_math_Vec4();
	this.dir = new iron_math_Vec4();
	iron_Trait.call(this);
	this.easing = easing;
	this.notifyOnInit($bind(this,this.init));
};
armory_trait_WalkNavigation.__name__ = ["armory","trait","WalkNavigation"];
armory_trait_WalkNavigation.__super__ = iron_Trait;
armory_trait_WalkNavigation.prototype = $extend(iron_Trait.prototype,{
	dir: null
	,xvec: null
	,yvec: null
	,easing: null
	,ease: null
	,camera: null
	,keyboard: null
	,gamepad: null
	,mouse: null
	,init: function() {
		this.keyboard = iron_system_Input.getKeyboard();
		this.gamepad = iron_system_Input.getGamepad();
		this.mouse = iron_system_Input.getMouse();
		try {
			this.camera = js_Boot.__cast(this.object , iron_object_CameraObject);
		} catch( msg ) {
			if (msg instanceof js__$Boot_HaxeError) msg = msg.val;
			if( js_Boot.__instanceof(msg,String) ) {
				haxe_Log.trace("Error occurred: " + msg + "\nWalkNavigation trait should be used with a camera object.",{ fileName : "WalkNavigation.hx", lineNumber : 41, className : "armory.trait.WalkNavigation", methodName : "init"});
			} else throw(msg);
		}
		if(this.camera != null) {
			this.notifyOnUpdate($bind(this,this.update));
		}
	}
	,update: function() {
		if(!armory_trait_WalkNavigation.enabled || iron_system_Input.occupied) {
			return;
		}
		var moveForward = this.keyboard.down("w") || this.keyboard.down("up");
		var moveBackward = this.keyboard.down("s") || this.keyboard.down("down");
		var strafeLeft = this.keyboard.down("a") || this.keyboard.down("left");
		var strafeRight = this.keyboard.down("d") || this.keyboard.down("right");
		var strafeUp = this.keyboard.down("e");
		var strafeDown = this.keyboard.down("q");
		var fast = this.keyboard.down("shift") ? 2.0 : this.keyboard.down("alt") ? 0.5 : 1.0;
		if(this.gamepad != null) {
			var leftStickY = Math.abs(this.gamepad.leftStick.y) > 0.05;
			var leftStickX = Math.abs(this.gamepad.leftStick.x) > 0.05;
			var r1 = this.gamepad.down("r1") > 0.0;
			var l1 = this.gamepad.down("l1") > 0.0;
			var rightStickX = Math.abs(this.gamepad.rightStick.x) > 0.1;
			var rightStickY = Math.abs(this.gamepad.rightStick.y) > 0.1;
			if(leftStickY || leftStickX || r1 || l1 || rightStickX || rightStickY) {
				this.dir.set(0,0,0);
				if(leftStickY) {
					var _this = this.camera;
					this.yvec.setFrom(new iron_math_Vec4(-_this.transform.local.self._20,-_this.transform.local.self._21,-_this.transform.local.self._22));
					this.yvec.mult(this.gamepad.leftStick.y);
					this.dir.add(this.yvec);
				}
				if(leftStickX) {
					var _this1 = this.camera;
					this.xvec.setFrom(new iron_math_Vec4(_this1.transform.local.self._00,_this1.transform.local.self._01,_this1.transform.local.self._02));
					this.xvec.mult(this.gamepad.leftStick.x);
					this.dir.add(this.xvec);
				}
				if(r1) {
					this.dir.addf(0,0,1);
				}
				if(l1) {
					this.dir.addf(0,0,-1);
				}
				var d = 0.016666666666666666 * iron_system_Time.scale * 5.0 * fast;
				this.camera.move(this.dir,d);
				if(rightStickX) {
					this.camera.rotate(iron_math_Vec4.zAxis(),-this.gamepad.rightStick.x / 15.0);
				}
				if(rightStickY) {
					var _this2 = this.camera;
					this.camera.rotate(new iron_math_Vec4(_this2.transform.local.self._00,_this2.transform.local.self._01,_this2.transform.local.self._02),this.gamepad.rightStick.y / 15.0);
				}
			}
		}
		if(moveForward || moveBackward || strafeRight || strafeLeft || strafeUp || strafeDown) {
			if(this.easing) {
				this.ease += 0.016666666666666666 * iron_system_Time.scale * 15;
				if(this.ease > 1.0) {
					this.ease = 1.0;
				}
			} else {
				this.ease = 1.0;
			}
			this.dir.set(0,0,0);
			if(moveForward) {
				var tmp = this.dir;
				var _this3 = this.camera;
				var tmp1 = new iron_math_Vec4(-_this3.transform.local.self._20,-_this3.transform.local.self._21,-_this3.transform.local.self._22).x;
				var _this4 = this.camera;
				var tmp2 = new iron_math_Vec4(-_this4.transform.local.self._20,-_this4.transform.local.self._21,-_this4.transform.local.self._22).y;
				var _this5 = this.camera;
				tmp.addf(tmp1,tmp2,new iron_math_Vec4(-_this5.transform.local.self._20,-_this5.transform.local.self._21,-_this5.transform.local.self._22).z);
			}
			if(moveBackward) {
				var tmp3 = this.dir;
				var _this6 = this.camera;
				var tmp4 = -new iron_math_Vec4(-_this6.transform.local.self._20,-_this6.transform.local.self._21,-_this6.transform.local.self._22).x;
				var _this7 = this.camera;
				var tmp5 = -new iron_math_Vec4(-_this7.transform.local.self._20,-_this7.transform.local.self._21,-_this7.transform.local.self._22).y;
				var _this8 = this.camera;
				tmp3.addf(tmp4,tmp5,-new iron_math_Vec4(-_this8.transform.local.self._20,-_this8.transform.local.self._21,-_this8.transform.local.self._22).z);
			}
			if(strafeRight) {
				var tmp6 = this.dir;
				var _this9 = this.camera;
				var tmp7 = new iron_math_Vec4(_this9.transform.local.self._00,_this9.transform.local.self._01,_this9.transform.local.self._02).x;
				var _this10 = this.camera;
				var tmp8 = new iron_math_Vec4(_this10.transform.local.self._00,_this10.transform.local.self._01,_this10.transform.local.self._02).y;
				var _this11 = this.camera;
				tmp6.addf(tmp7,tmp8,new iron_math_Vec4(_this11.transform.local.self._00,_this11.transform.local.self._01,_this11.transform.local.self._02).z);
			}
			if(strafeLeft) {
				var tmp9 = this.dir;
				var _this12 = this.camera;
				var tmp10 = -new iron_math_Vec4(_this12.transform.local.self._00,_this12.transform.local.self._01,_this12.transform.local.self._02).x;
				var _this13 = this.camera;
				var tmp11 = -new iron_math_Vec4(_this13.transform.local.self._00,_this13.transform.local.self._01,_this13.transform.local.self._02).y;
				var _this14 = this.camera;
				tmp9.addf(tmp10,tmp11,-new iron_math_Vec4(_this14.transform.local.self._00,_this14.transform.local.self._01,_this14.transform.local.self._02).z);
			}
			if(strafeUp) {
				this.dir.addf(0,0,1);
			}
			if(strafeDown) {
				this.dir.addf(0,0,-1);
			}
		} else if(this.easing) {
			this.ease -= 0.016666666666666666 * iron_system_Time.scale * 20.0 * this.ease;
			if(this.ease < 0.0) {
				this.ease = 0.0;
			}
		} else {
			this.ease = 0.0;
		}
		var d1 = 0.016666666666666666 * iron_system_Time.scale * 5.0 * fast * this.ease;
		if(d1 > 0.0) {
			this.camera.move(this.dir,d1);
		}
		if(this.mouse.down()) {
			this.camera.rotate(iron_math_Vec4.zAxis(),-this.mouse.movementX / 200);
			var _this15 = this.camera;
			this.camera.rotate(new iron_math_Vec4(_this15.transform.local.self._00,_this15.transform.local.self._01,_this15.transform.local.self._02),-this.mouse.movementY / 200);
		}
	}
	,__class__: armory_trait_WalkNavigation
});
var iron_App = $hxClasses["iron.App"] = function(_appReady) {
	_appReady();
	kha_System.notifyOnRender(iron_App.render);
	kha_Scheduler.addTimeTask(iron_App.update,0,0.016666666666666666 * iron_system_Time.scale);
};
iron_App.__name__ = ["iron","App"];
iron_App.w = function() {
	return kha_System.windowWidth();
};
iron_App.h = function() {
	return kha_System.windowHeight();
};
iron_App.init = function(_appReady) {
	new iron_App(_appReady);
};
iron_App.reset = function() {
	iron_App.traitInits = [];
	iron_App.traitUpdates = [];
	iron_App.traitLateUpdates = [];
	iron_App.traitRenders = [];
	iron_App.traitRenders2D = [];
	iron_system_Input.reset();
	iron_system_Tween.reset();
};
iron_App.update = function() {
	if(iron_Scene.active == null || !iron_Scene.active.ready) {
		return;
	}
	if(iron_App.pauseUpdates) {
		return;
	}
	iron_App.startTime = kha_Scheduler.realTime();
	iron_system_Tween.update();
	iron_system_Time.update();
	iron_Scene.active.updateFrame();
	if(iron_App.traitInits.length > 0) {
		var _g = 0;
		var _g1 = iron_App.traitInits;
		while(_g < _g1.length) {
			var f = _g1[_g];
			++_g;
			if(iron_App.traitInits.length == 0) {
				break;
			}
			f();
		}
		iron_App.traitInits.splice(0,iron_App.traitInits.length);
	}
	var i = 0;
	var l = iron_App.traitUpdates.length;
	while(i < l) {
		iron_App.traitUpdates[i]();
		if(l <= iron_App.traitUpdates.length) {
			++i;
		} else {
			l = iron_App.traitUpdates.length;
		}
	}
	i = 0;
	l = iron_App.traitLateUpdates.length;
	while(i < l) {
		iron_App.traitLateUpdates[i]();
		if(l <= iron_App.traitLateUpdates.length) {
			++i;
		} else {
			l = iron_App.traitLateUpdates.length;
		}
	}
	iron_system_Input.endFrame();
	iron_object_Animation.endFrame();
	iron_App.updateTime = kha_Scheduler.realTime() - iron_App.startTime;
};
iron_App.render = function(frame) {
	if(iron_Scene.active == null || !iron_Scene.active.ready) {
		iron_App.render2D(frame);
		return;
	}
	iron_App.startTime = kha_Scheduler.realTime();
	if(iron_App.traitInits.length > 0) {
		var _g = 0;
		var _g1 = iron_App.traitInits;
		while(_g < _g1.length) {
			var f = _g1[_g];
			++_g;
			if(iron_App.traitInits.length == 0) {
				break;
			}
			f();
		}
		iron_App.traitInits.splice(0,iron_App.traitInits.length);
	}
	iron_Scene.active.renderFrame(frame.get_g4());
	var _g2 = 0;
	var _g11 = iron_App.traitRenders;
	while(_g2 < _g11.length) {
		var f1 = _g11[_g2];
		++_g2;
		if(iron_App.traitRenders.length == 0) {
			break;
		}
		f1(frame.get_g4());
	}
	iron_App.render2D(frame);
	iron_App.renderPathTime = kha_Scheduler.realTime() - iron_App.startTime;
};
iron_App.render2D = function(frame) {
	if(iron_App.traitRenders2D.length > 0) {
		frame.get_g2().begin(false);
		var _g = 0;
		var _g1 = iron_App.traitRenders2D;
		while(_g < _g1.length) {
			var f = _g1[_g];
			++_g;
			if(iron_App.traitRenders2D.length == 0) {
				break;
			}
			f(frame.get_g2());
		}
		frame.get_g2().end();
	}
};
iron_App.notifyOnInit = function(f) {
	iron_App.traitInits.push(f);
};
iron_App.removeInit = function(f) {
	HxOverrides.remove(iron_App.traitInits,f);
};
iron_App.notifyOnUpdate = function(f) {
	iron_App.traitUpdates.push(f);
};
iron_App.removeUpdate = function(f) {
	HxOverrides.remove(iron_App.traitUpdates,f);
};
iron_App.notifyOnLateUpdate = function(f) {
	iron_App.traitLateUpdates.push(f);
};
iron_App.removeLateUpdate = function(f) {
	HxOverrides.remove(iron_App.traitLateUpdates,f);
};
iron_App.notifyOnRender = function(f) {
	iron_App.traitRenders.push(f);
};
iron_App.removeRender = function(f) {
	HxOverrides.remove(iron_App.traitRenders,f);
};
iron_App.notifyOnRender2D = function(f) {
	iron_App.traitRenders2D.push(f);
};
iron_App.removeRender2D = function(f) {
	HxOverrides.remove(iron_App.traitRenders2D,f);
};
iron_App.prototype = {
	__class__: iron_App
};
var iron_data_Data = $hxClasses["iron.data.Data"] = function() {
};
iron_data_Data.__name__ = ["iron","data","Data"];
iron_data_Data.deleteAll = function() {
	var _this = iron_data_Data.cachedMeshes;
	var c = new haxe_ds__$StringMap_StringMapIterator(_this,_this.arrayKeys());
	while(c.hasNext()) {
		var c1 = c.next();
		c1["delete"]();
	}
	iron_data_Data.cachedMeshes = new haxe_ds_StringMap();
	var _this1 = iron_data_Data.cachedShaders;
	var c2 = new haxe_ds__$StringMap_StringMapIterator(_this1,_this1.arrayKeys());
	while(c2.hasNext()) {
		var c3 = c2.next();
		c3["delete"]();
	}
	iron_data_Data.cachedShaders = new haxe_ds_StringMap();
	iron_data_Data.cachedSceneRaws = new haxe_ds_StringMap();
	iron_data_Data.cachedLamps = new haxe_ds_StringMap();
	iron_data_Data.cachedCameras = new haxe_ds_StringMap();
	iron_data_Data.cachedMaterials = new haxe_ds_StringMap();
	iron_data_Data.cachedParticles = new haxe_ds_StringMap();
	iron_data_Data.cachedWorlds = new haxe_ds_StringMap();
	var _this2 = iron_data_Data.cachedBlobs;
	var c4 = new haxe_ds__$StringMap_StringMapIterator(_this2,_this2.arrayKeys());
	while(c4.hasNext()) {
		var c5 = c4.next();
		c5.unload();
	}
	iron_data_Data.cachedBlobs = new haxe_ds_StringMap();
	var _this3 = iron_data_Data.cachedImages;
	var c6 = new haxe_ds__$StringMap_StringMapIterator(_this3,_this3.arrayKeys());
	while(c6.hasNext()) {
		var c7 = c6.next();
		c7.unload();
	}
	iron_data_Data.cachedImages = new haxe_ds_StringMap();
	var _this4 = iron_data_Data.cachedSounds;
	var c8 = new haxe_ds__$StringMap_StringMapIterator(_this4,_this4.arrayKeys());
	while(c8.hasNext()) {
		var c9 = c8.next();
		c9.unload();
	}
	iron_data_Data.cachedSounds = new haxe_ds_StringMap();
	var _this5 = iron_data_Data.cachedVideos;
	var c10 = new haxe_ds__$StringMap_StringMapIterator(_this5,_this5.arrayKeys());
	while(c10.hasNext()) {
		var c11 = c10.next();
		c11.unload();
	}
	iron_data_Data.cachedVideos = new haxe_ds_StringMap();
	var _this6 = iron_data_Data.cachedFonts;
	var c12 = new haxe_ds__$StringMap_StringMapIterator(_this6,_this6.arrayKeys());
	while(c12.hasNext()) {
		var c13 = c12.next();
		c13.unload();
	}
	iron_data_Data.cachedFonts = new haxe_ds_StringMap();
};
iron_data_Data.clearSceneData = function() {
	iron_data_Data.cachedSceneRaws = new haxe_ds_StringMap();
	iron_data_Data.cachedMeshes = new haxe_ds_StringMap();
	iron_data_Data.cachedLamps = new haxe_ds_StringMap();
	iron_data_Data.cachedMaterials = new haxe_ds_StringMap();
	iron_data_Data.cachedCameras = new haxe_ds_StringMap();
	iron_data_Data.cachedParticles = new haxe_ds_StringMap();
	iron_data_Data.cachedWorlds = new haxe_ds_StringMap();
	iron_data_Data.cachedShaders = new haxe_ds_StringMap();
	iron_data_Data.cachedBlobs = new haxe_ds_StringMap();
};
iron_data_Data.getMesh = function(file,name,done) {
	var handle = file + name;
	var _this = iron_data_Data.cachedMeshes;
	var cached = __map_reserved[handle] != null ? _this.getReserved(handle) : _this.h[handle];
	if(cached != null) {
		done(cached);
		return;
	}
	var _this1 = iron_data_Data.loadingMeshes;
	var loading = __map_reserved[handle] != null ? _this1.getReserved(handle) : _this1.h[handle];
	if(loading != null) {
		loading.push(done);
		return;
	}
	var _this2 = iron_data_Data.loadingMeshes;
	var key = file + name;
	var value = [done];
	if(__map_reserved[key] != null) {
		_this2.setReserved(key,value);
	} else {
		_this2.h[key] = value;
	}
	iron_data_MeshData.parse(file,name,function(b) {
		var _this3 = iron_data_Data.cachedMeshes;
		var key1 = file + name;
		if(__map_reserved[key1] != null) {
			_this3.setReserved(key1,b);
		} else {
			_this3.h[key1] = b;
		}
		b.handle = handle;
		var _g = 0;
		var _this4 = iron_data_Data.loadingMeshes;
		var key2 = file + name;
		var _g1 = __map_reserved[key2] != null ? _this4.getReserved(key2) : _this4.h[key2];
		while(_g < _g1.length) {
			var f = _g1[_g];
			++_g;
			f(b);
		}
		iron_data_Data.loadingMeshes.remove(file + name);
	});
};
iron_data_Data.deleteMesh = function(handle) {
	var _this = iron_data_Data.cachedMeshes;
	var mesh = __map_reserved[handle] != null ? _this.getReserved(handle) : _this.h[handle];
	if(mesh == null) {
		return;
	}
	mesh["delete"]();
	iron_data_Data.cachedMeshes.remove(handle);
};
iron_data_Data.getLamp = function(file,name,done) {
	var _this = iron_data_Data.cachedLamps;
	var key = file + name;
	var cached = __map_reserved[key] != null ? _this.getReserved(key) : _this.h[key];
	if(cached != null) {
		done(cached);
		return;
	}
	var _this1 = iron_data_Data.loadingLamps;
	var key1 = file + name;
	var loading = __map_reserved[key1] != null ? _this1.getReserved(key1) : _this1.h[key1];
	if(loading != null) {
		loading.push(done);
		return;
	}
	var _this2 = iron_data_Data.loadingLamps;
	var key2 = file + name;
	var value = [done];
	if(__map_reserved[key2] != null) {
		_this2.setReserved(key2,value);
	} else {
		_this2.h[key2] = value;
	}
	iron_data_LampData.parse(file,name,function(b) {
		var _this3 = iron_data_Data.cachedLamps;
		var key3 = file + name;
		if(__map_reserved[key3] != null) {
			_this3.setReserved(key3,b);
		} else {
			_this3.h[key3] = b;
		}
		var _g = 0;
		var _this4 = iron_data_Data.loadingLamps;
		var key4 = file + name;
		var _g1 = __map_reserved[key4] != null ? _this4.getReserved(key4) : _this4.h[key4];
		while(_g < _g1.length) {
			var f = _g1[_g];
			++_g;
			f(b);
		}
		iron_data_Data.loadingLamps.remove(file + name);
	});
};
iron_data_Data.getCamera = function(file,name,done) {
	var _this = iron_data_Data.cachedCameras;
	var key = file + name;
	var cached = __map_reserved[key] != null ? _this.getReserved(key) : _this.h[key];
	if(cached != null) {
		done(cached);
		return;
	}
	var _this1 = iron_data_Data.loadingCameras;
	var key1 = file + name;
	var loading = __map_reserved[key1] != null ? _this1.getReserved(key1) : _this1.h[key1];
	if(loading != null) {
		loading.push(done);
		return;
	}
	var _this2 = iron_data_Data.loadingCameras;
	var key2 = file + name;
	var value = [done];
	if(__map_reserved[key2] != null) {
		_this2.setReserved(key2,value);
	} else {
		_this2.h[key2] = value;
	}
	iron_data_CameraData.parse(file,name,function(b) {
		var _this3 = iron_data_Data.cachedCameras;
		var key3 = file + name;
		if(__map_reserved[key3] != null) {
			_this3.setReserved(key3,b);
		} else {
			_this3.h[key3] = b;
		}
		var _g = 0;
		var _this4 = iron_data_Data.loadingCameras;
		var key4 = file + name;
		var _g1 = __map_reserved[key4] != null ? _this4.getReserved(key4) : _this4.h[key4];
		while(_g < _g1.length) {
			var f = _g1[_g];
			++_g;
			f(b);
		}
		iron_data_Data.loadingCameras.remove(file + name);
	});
};
iron_data_Data.getMaterial = function(file,name,done) {
	var _this = iron_data_Data.cachedMaterials;
	var key = file + name;
	var cached = __map_reserved[key] != null ? _this.getReserved(key) : _this.h[key];
	if(cached != null) {
		done(cached);
		return;
	}
	var _this1 = iron_data_Data.loadingMaterials;
	var key1 = file + name;
	var loading = __map_reserved[key1] != null ? _this1.getReserved(key1) : _this1.h[key1];
	if(loading != null) {
		loading.push(done);
		return;
	}
	var _this2 = iron_data_Data.loadingMaterials;
	var key2 = file + name;
	var value = [done];
	if(__map_reserved[key2] != null) {
		_this2.setReserved(key2,value);
	} else {
		_this2.h[key2] = value;
	}
	iron_data_MaterialData.parse(file,name,function(b) {
		var _this3 = iron_data_Data.cachedMaterials;
		var key3 = file + name;
		if(__map_reserved[key3] != null) {
			_this3.setReserved(key3,b);
		} else {
			_this3.h[key3] = b;
		}
		var _g = 0;
		var _this4 = iron_data_Data.loadingMaterials;
		var key4 = file + name;
		var _g1 = __map_reserved[key4] != null ? _this4.getReserved(key4) : _this4.h[key4];
		while(_g < _g1.length) {
			var f = _g1[_g];
			++_g;
			f(b);
		}
		iron_data_Data.loadingMaterials.remove(file + name);
	});
};
iron_data_Data.getParticle = function(file,name,done) {
	var _this = iron_data_Data.cachedParticles;
	var key = file + name;
	var cached = __map_reserved[key] != null ? _this.getReserved(key) : _this.h[key];
	if(cached != null) {
		done(cached);
		return;
	}
	var _this1 = iron_data_Data.loadingParticles;
	var key1 = file + name;
	var loading = __map_reserved[key1] != null ? _this1.getReserved(key1) : _this1.h[key1];
	if(loading != null) {
		loading.push(done);
		return;
	}
	var _this2 = iron_data_Data.loadingParticles;
	var key2 = file + name;
	var value = [done];
	if(__map_reserved[key2] != null) {
		_this2.setReserved(key2,value);
	} else {
		_this2.h[key2] = value;
	}
	iron_data_ParticleData.parse(file,name,function(b) {
		var _this3 = iron_data_Data.cachedParticles;
		var key3 = file + name;
		if(__map_reserved[key3] != null) {
			_this3.setReserved(key3,b);
		} else {
			_this3.h[key3] = b;
		}
		var _g = 0;
		var _this4 = iron_data_Data.loadingParticles;
		var key4 = file + name;
		var _g1 = __map_reserved[key4] != null ? _this4.getReserved(key4) : _this4.h[key4];
		while(_g < _g1.length) {
			var f = _g1[_g];
			++_g;
			f(b);
		}
		iron_data_Data.loadingParticles.remove(file + name);
	});
};
iron_data_Data.getWorld = function(file,name,done) {
	if(name == null) {
		done(null);
		return;
	}
	var _this = iron_data_Data.cachedWorlds;
	var key = file + name;
	var cached = __map_reserved[key] != null ? _this.getReserved(key) : _this.h[key];
	if(cached != null) {
		done(cached);
		return;
	}
	var _this1 = iron_data_Data.loadingWorlds;
	var key1 = file + name;
	var loading = __map_reserved[key1] != null ? _this1.getReserved(key1) : _this1.h[key1];
	if(loading != null) {
		loading.push(done);
		return;
	}
	var _this2 = iron_data_Data.loadingWorlds;
	var key2 = file + name;
	var value = [done];
	if(__map_reserved[key2] != null) {
		_this2.setReserved(key2,value);
	} else {
		_this2.h[key2] = value;
	}
	iron_data_WorldData.parse(file,name,function(b) {
		var _this3 = iron_data_Data.cachedWorlds;
		var key3 = file + name;
		if(__map_reserved[key3] != null) {
			_this3.setReserved(key3,b);
		} else {
			_this3.h[key3] = b;
		}
		var _g = 0;
		var _this4 = iron_data_Data.loadingWorlds;
		var key4 = file + name;
		var _g1 = __map_reserved[key4] != null ? _this4.getReserved(key4) : _this4.h[key4];
		while(_g < _g1.length) {
			var f = _g1[_g];
			++_g;
			f(b);
		}
		iron_data_Data.loadingWorlds.remove(file + name);
	});
};
iron_data_Data.getShader = function(file,name,overrideContext,done) {
	var cacheName = name;
	if(overrideContext != null) {
		cacheName += "2";
	}
	var _this = iron_data_Data.cachedShaders;
	var cached = __map_reserved[cacheName] != null ? _this.getReserved(cacheName) : _this.h[cacheName];
	if(cached != null) {
		done(cached);
		return;
	}
	var _this1 = iron_data_Data.loadingShaders;
	var loading = __map_reserved[cacheName] != null ? _this1.getReserved(cacheName) : _this1.h[cacheName];
	if(loading != null) {
		loading.push(done);
		return;
	}
	var _this2 = iron_data_Data.loadingShaders;
	var value = [done];
	if(__map_reserved[cacheName] != null) {
		_this2.setReserved(cacheName,value);
	} else {
		_this2.h[cacheName] = value;
	}
	iron_data_ShaderData.parse(file,name,overrideContext,function(b) {
		var _this3 = iron_data_Data.cachedShaders;
		if(__map_reserved[cacheName] != null) {
			_this3.setReserved(cacheName,b);
		} else {
			_this3.h[cacheName] = b;
		}
		var _g = 0;
		var _this4 = iron_data_Data.loadingShaders;
		var _g1 = __map_reserved[cacheName] != null ? _this4.getReserved(cacheName) : _this4.h[cacheName];
		while(_g < _g1.length) {
			var f = _g1[_g];
			++_g;
			f(b);
		}
		iron_data_Data.loadingShaders.remove(cacheName);
	});
};
iron_data_Data.getSceneRaw = function(file,done) {
	var _this = iron_data_Data.cachedSceneRaws;
	var cached = __map_reserved[file] != null ? _this.getReserved(file) : _this.h[file];
	if(cached != null) {
		done(cached);
		return;
	}
	var _this1 = iron_data_Data.loadingSceneRaws;
	var loading = __map_reserved[file] != null ? _this1.getReserved(file) : _this1.h[file];
	if(loading != null) {
		loading.push(done);
		return;
	}
	var _this2 = iron_data_Data.loadingSceneRaws;
	var value = [done];
	if(__map_reserved[file] != null) {
		_this2.setReserved(file,value);
	} else {
		_this2.h[file] = value;
	}
	var compressed = StringTools.endsWith(file,".zip");
	var isJson = StringTools.endsWith(file,".json");
	var ext = compressed || isJson || StringTools.endsWith(file,".arm") ? "" : ".arm";
	iron_data_Data.getBlob(file + ext,function(b) {
		if(compressed) {
			var input = new haxe_io_BytesInput(b.toBytes());
			var entry = haxe_zip_Reader.readZip(input).first();
			if(entry == null) {
				haxe_Log.trace("Failed to uncompress " + file,{ fileName : "Data.hx", lineNumber : 239, className : "iron.data.Data", methodName : "getSceneRaw"});
				return;
			}
			if(entry.compressed) {
				b = kha_internal_BytesBlob.fromBytes(haxe_zip_Reader.unzip(entry));
			} else {
				b = kha_internal_BytesBlob.fromBytes(entry.data);
			}
		}
		var parsed = null;
		if(isJson) {
			var s = b.toString();
			if(s.charAt(0) == "{") {
				parsed = JSON.parse(s);
			} else {
				var i = new haxe_io_BytesInput(b.toBytes());
				i.set_bigEndian(true);
				parsed = iron_system_ArmPack.read(i);
			}
		} else {
			var i1 = new haxe_io_BytesInput(b.toBytes());
			i1.set_bigEndian(true);
			parsed = iron_system_ArmPack.read(i1);
		}
		iron_data_Data.returnSceneRaw(file,parsed);
	});
};
iron_data_Data.returnSceneRaw = function(file,parsed) {
	var _this = iron_data_Data.cachedSceneRaws;
	if(__map_reserved[file] != null) {
		_this.setReserved(file,parsed);
	} else {
		_this.h[file] = parsed;
	}
	var _g = 0;
	var _this1 = iron_data_Data.loadingSceneRaws;
	var _g1 = __map_reserved[file] != null ? _this1.getReserved(file) : _this1.h[file];
	while(_g < _g1.length) {
		var f = _g1[_g];
		++_g;
		f(parsed);
	}
	iron_data_Data.loadingSceneRaws.remove(file);
};
iron_data_Data.getMeshRawByName = function(datas,name) {
	if(name == "") {
		return datas[0];
	}
	var _g = 0;
	while(_g < datas.length) {
		var dat = datas[_g];
		++_g;
		if(dat.name == name) {
			return dat;
		}
	}
	return null;
};
iron_data_Data.getLampRawByName = function(datas,name) {
	if(name == "") {
		return datas[0];
	}
	var _g = 0;
	while(_g < datas.length) {
		var dat = datas[_g];
		++_g;
		if(dat.name == name) {
			return dat;
		}
	}
	return null;
};
iron_data_Data.getCameraRawByName = function(datas,name) {
	if(name == "") {
		return datas[0];
	}
	var _g = 0;
	while(_g < datas.length) {
		var dat = datas[_g];
		++_g;
		if(dat.name == name) {
			return dat;
		}
	}
	return null;
};
iron_data_Data.getMaterialRawByName = function(datas,name) {
	if(name == "") {
		return datas[0];
	}
	var _g = 0;
	while(_g < datas.length) {
		var dat = datas[_g];
		++_g;
		if(dat.name == name) {
			return dat;
		}
	}
	return null;
};
iron_data_Data.getParticleRawByName = function(datas,name) {
	if(name == "") {
		return datas[0];
	}
	var _g = 0;
	while(_g < datas.length) {
		var dat = datas[_g];
		++_g;
		if(dat.name == name) {
			return dat;
		}
	}
	return null;
};
iron_data_Data.getWorldRawByName = function(datas,name) {
	if(name == "") {
		return datas[0];
	}
	var _g = 0;
	while(_g < datas.length) {
		var dat = datas[_g];
		++_g;
		if(dat.name == name) {
			return dat;
		}
	}
	return null;
};
iron_data_Data.getShaderRawByName = function(datas,name) {
	if(name == "") {
		return datas[0];
	}
	var _g = 0;
	while(_g < datas.length) {
		var dat = datas[_g];
		++_g;
		if(dat.name == name) {
			return dat;
		}
	}
	return null;
};
iron_data_Data.getSpeakerRawByName = function(datas,name) {
	if(name == "") {
		return datas[0];
	}
	var _g = 0;
	while(_g < datas.length) {
		var dat = datas[_g];
		++_g;
		if(dat.name == name) {
			return dat;
		}
	}
	return null;
};
iron_data_Data.getBlob = function(file,done) {
	var _this = iron_data_Data.cachedBlobs;
	var cached = __map_reserved[file] != null ? _this.getReserved(file) : _this.h[file];
	if(cached != null) {
		done(cached);
		return;
	}
	var _this1 = iron_data_Data.loadingBlobs;
	var loading = __map_reserved[file] != null ? _this1.getReserved(file) : _this1.h[file];
	if(loading != null) {
		loading.push(done);
		return;
	}
	var _this2 = iron_data_Data.loadingBlobs;
	var value = [done];
	if(__map_reserved[file] != null) {
		_this2.setReserved(file,value);
	} else {
		_this2.h[file] = value;
	}
	kha_Assets.loadBlobFromPath(file,function(b) {
		var _this3 = iron_data_Data.cachedBlobs;
		if(__map_reserved[file] != null) {
			_this3.setReserved(file,b);
		} else {
			_this3.h[file] = b;
		}
		var _g = 0;
		var _this4 = iron_data_Data.loadingBlobs;
		var _g1 = __map_reserved[file] != null ? _this4.getReserved(file) : _this4.h[file];
		while(_g < _g1.length) {
			var f = _g1[_g];
			++_g;
			f(b);
		}
		iron_data_Data.loadingBlobs.remove(file);
		iron_data_Data.assetsLoaded++;
	});
};
iron_data_Data.getImage = function(file,done,readable,format) {
	if(format == null) {
		format = "RGBA32";
	}
	if(readable == null) {
		readable = false;
	}
	var _this = iron_data_Data.cachedImages;
	var cached = __map_reserved[file] != null ? _this.getReserved(file) : _this.h[file];
	if(cached != null) {
		done(cached);
		return;
	}
	var _this1 = iron_data_Data.loadingImages;
	var loading = __map_reserved[file] != null ? _this1.getReserved(file) : _this1.h[file];
	if(loading != null) {
		loading.push(done);
		return;
	}
	var _this2 = iron_data_Data.loadingImages;
	var value = [done];
	if(__map_reserved[file] != null) {
		_this2.setReserved(file,value);
	} else {
		_this2.h[file] = value;
	}
	kha_Assets.loadImageFromPath(file,readable,function(b) {
		var _this3 = iron_data_Data.cachedImages;
		if(__map_reserved[file] != null) {
			_this3.setReserved(file,b);
		} else {
			_this3.h[file] = b;
		}
		var _g = 0;
		var _this4 = iron_data_Data.loadingImages;
		var _g1 = __map_reserved[file] != null ? _this4.getReserved(file) : _this4.h[file];
		while(_g < _g1.length) {
			var f = _g1[_g];
			++_g;
			f(b);
		}
		iron_data_Data.loadingImages.remove(file);
		iron_data_Data.assetsLoaded++;
	});
};
iron_data_Data.getSound = function(file,done) {
	if(StringTools.endsWith(file,".wav")) {
		file = file.substring(0,file.length - 4) + ".ogg";
	}
	var _this = iron_data_Data.cachedSounds;
	var cached = __map_reserved[file] != null ? _this.getReserved(file) : _this.h[file];
	if(cached != null) {
		done(cached);
		return;
	}
	var _this1 = iron_data_Data.loadingSounds;
	var loading = __map_reserved[file] != null ? _this1.getReserved(file) : _this1.h[file];
	if(loading != null) {
		loading.push(done);
		return;
	}
	var _this2 = iron_data_Data.loadingSounds;
	var value = [done];
	if(__map_reserved[file] != null) {
		_this2.setReserved(file,value);
	} else {
		_this2.h[file] = value;
	}
	kha_Assets.loadSoundFromPath(file,function(b) {
		b.uncompress(function() {
			var _this3 = iron_data_Data.cachedSounds;
			if(__map_reserved[file] != null) {
				_this3.setReserved(file,b);
			} else {
				_this3.h[file] = b;
			}
			var _g = 0;
			var _this4 = iron_data_Data.loadingSounds;
			var _g1 = __map_reserved[file] != null ? _this4.getReserved(file) : _this4.h[file];
			while(_g < _g1.length) {
				var f = _g1[_g];
				++_g;
				f(b);
			}
			iron_data_Data.loadingSounds.remove(file);
			iron_data_Data.assetsLoaded++;
		});
	});
};
iron_data_Data.getVideo = function(file,done) {
	var _this = iron_data_Data.cachedVideos;
	var cached = __map_reserved[file] != null ? _this.getReserved(file) : _this.h[file];
	if(cached != null) {
		done(cached);
		return;
	}
	var _this1 = iron_data_Data.loadingVideos;
	var loading = __map_reserved[file] != null ? _this1.getReserved(file) : _this1.h[file];
	if(loading != null) {
		loading.push(done);
		return;
	}
	var _this2 = iron_data_Data.loadingVideos;
	var value = [done];
	if(__map_reserved[file] != null) {
		_this2.setReserved(file,value);
	} else {
		_this2.h[file] = value;
	}
	kha_Assets.loadVideoFromPath(file,function(b) {
		var _this3 = iron_data_Data.cachedVideos;
		if(__map_reserved[file] != null) {
			_this3.setReserved(file,b);
		} else {
			_this3.h[file] = b;
		}
		var _g = 0;
		var _this4 = iron_data_Data.loadingVideos;
		var _g1 = __map_reserved[file] != null ? _this4.getReserved(file) : _this4.h[file];
		while(_g < _g1.length) {
			var f = _g1[_g];
			++_g;
			f(b);
		}
		iron_data_Data.loadingVideos.remove(file);
		iron_data_Data.assetsLoaded++;
	});
};
iron_data_Data.getFont = function(file,done) {
	var _this = iron_data_Data.cachedFonts;
	var cached = __map_reserved[file] != null ? _this.getReserved(file) : _this.h[file];
	if(cached != null) {
		done(cached);
		return;
	}
	var _this1 = iron_data_Data.loadingFonts;
	var loading = __map_reserved[file] != null ? _this1.getReserved(file) : _this1.h[file];
	if(loading != null) {
		loading.push(done);
		return;
	}
	var _this2 = iron_data_Data.loadingFonts;
	var value = [done];
	if(__map_reserved[file] != null) {
		_this2.setReserved(file,value);
	} else {
		_this2.h[file] = value;
	}
	kha_Assets.loadFontFromPath(file,function(b) {
		var _this3 = iron_data_Data.cachedFonts;
		if(__map_reserved[file] != null) {
			_this3.setReserved(file,b);
		} else {
			_this3.h[file] = b;
		}
		var _g = 0;
		var _this4 = iron_data_Data.loadingFonts;
		var _g1 = __map_reserved[file] != null ? _this4.getReserved(file) : _this4.h[file];
		while(_g < _g1.length) {
			var f = _g1[_g];
			++_g;
			f(b);
		}
		iron_data_Data.loadingFonts.remove(file);
		iron_data_Data.assetsLoaded++;
	});
};
iron_data_Data.prototype = {
	__class__: iron_data_Data
};
var iron_object_Object = $hxClasses["iron.object.Object"] = function() {
	this.isEmpty = false;
	this.properties = null;
	this.culledShadow = false;
	this.culledMesh = false;
	this.culled = false;
	this.visibleShadow = true;
	this.visibleMesh = true;
	this.visible = true;
	this.animation = null;
	this.lods = null;
	this.children = [];
	this.parent = null;
	this.traits = [];
	this.constraints = null;
	this.name = "";
	this.raw = null;
	this.uid = iron_object_Object.uidCounter++;
	this.urandom = iron_object_Object.seededRandom();
	this.transform = new iron_object_Transform(this);
	this.isEmpty = js_Boot.getClass(this) == iron_object_Object;
	if(this.isEmpty && iron_Scene.active != null) {
		iron_Scene.active.empties.push(this);
	}
};
iron_object_Object.__name__ = ["iron","object","Object"];
iron_object_Object.seededRandom = function() {
	iron_object_Object.seed = (iron_object_Object.seed * 9301 + 49297) % 233280;
	return iron_object_Object.seed / 233280.0;
};
iron_object_Object.prototype = {
	uid: null
	,urandom: null
	,raw: null
	,name: null
	,transform: null
	,constraints: null
	,traits: null
	,parent: null
	,children: null
	,lods: null
	,animation: null
	,visible: null
	,visibleMesh: null
	,visibleShadow: null
	,culled: null
	,culledMesh: null
	,culledShadow: null
	,properties: null
	,isEmpty: null
	,addChild: function(o,parentInverse) {
		if(parentInverse == null) {
			parentInverse = false;
		}
		if(o.parent == this) {
			return;
		}
		this.children.push(o);
		o.parent = this;
		if(parentInverse) {
			o.transform.applyParentInverse();
		}
	}
	,removeChild: function(o,keepTransform) {
		if(keepTransform == null) {
			keepTransform = false;
		}
		if(keepTransform) {
			o.transform.applyParent();
		}
		o.parent = null;
		o.transform.buildMatrix();
		HxOverrides.remove(this.children,o);
	}
	,remove: function() {
		if(this.isEmpty && iron_Scene.active != null) {
			HxOverrides.remove(iron_Scene.active.empties,this);
		}
		if(this.animation != null) {
			this.animation.remove();
		}
		while(this.children.length > 0) this.children[0].remove();
		while(this.traits.length > 0) this.traits[0].remove();
		if(this.parent != null) {
			HxOverrides.remove(this.parent.children,this);
			this.parent = null;
		}
	}
	,getChild: function(name) {
		if(this.name == name) {
			return this;
		} else {
			var _g = 0;
			var _g1 = this.children;
			while(_g < _g1.length) {
				var c = _g1[_g];
				++_g;
				var r = c.getChild(name);
				if(r != null) {
					return r;
				}
			}
		}
		return null;
	}
	,getChildOfType: function(type) {
		if(js_Boot.__instanceof(this,type)) {
			return this;
		} else {
			var _g = 0;
			var _g1 = this.children;
			while(_g < _g1.length) {
				var c = _g1[_g];
				++_g;
				var r = c.getChildOfType(type);
				if(r != null) {
					return r;
				}
			}
		}
		return null;
	}
	,addTrait: function(t) {
		this.traits.push(t);
		t.object = this;
		if(t._add != null) {
			var _g = 0;
			var _g1 = t._add;
			while(_g < _g1.length) {
				var f = _g1[_g];
				++_g;
				f();
			}
			t._add = null;
		}
	}
	,removeTrait: function(t) {
		if(t._init != null) {
			var _g = 0;
			var _g1 = t._init;
			while(_g < _g1.length) {
				var f = _g1[_g];
				++_g;
				iron_App.removeInit(f);
			}
			t._init = null;
		}
		if(t._update != null) {
			var _g2 = 0;
			var _g11 = t._update;
			while(_g2 < _g11.length) {
				var f1 = _g11[_g2];
				++_g2;
				iron_App.removeUpdate(f1);
			}
			t._update = null;
		}
		if(t._lateUpdate != null) {
			var _g3 = 0;
			var _g12 = t._lateUpdate;
			while(_g3 < _g12.length) {
				var f2 = _g12[_g3];
				++_g3;
				iron_App.removeLateUpdate(f2);
			}
			t._lateUpdate = null;
		}
		if(t._render != null) {
			var _g4 = 0;
			var _g13 = t._render;
			while(_g4 < _g13.length) {
				var f3 = _g13[_g4];
				++_g4;
				iron_App.removeRender(f3);
			}
			t._render = null;
		}
		if(t._render2D != null) {
			var _g5 = 0;
			var _g14 = t._render2D;
			while(_g5 < _g14.length) {
				var f4 = _g14[_g5];
				++_g5;
				iron_App.removeRender2D(f4);
			}
			t._render2D = null;
		}
		if(t._remove != null) {
			var _g6 = 0;
			var _g15 = t._remove;
			while(_g6 < _g15.length) {
				var f5 = _g15[_g6];
				++_g6;
				f5();
			}
			t._remove = null;
		}
		HxOverrides.remove(this.traits,t);
		t.object = null;
	}
	,getTrait: function(c) {
		var _g = 0;
		var _g1 = this.traits;
		while(_g < _g1.length) {
			var t = _g1[_g];
			++_g;
			if((t == null ? null : js_Boot.getClass(t)) == c) {
				return t;
			}
		}
		return null;
	}
	,getParentArmature: function(name) {
		var _g = 0;
		var _g1 = iron_Scene.active.animations;
		while(_g < _g1.length) {
			var a = _g1[_g];
			++_g;
			if(a.armature != null && a.armature.name == name) {
				return a;
			}
		}
		return null;
	}
	,setupAnimation: function(oactions) {
		var _gthis = this;
		if(this.raw.parent_bone != null) {
			iron_Scene.active.notifyOnInit(function() {
				var banim = _gthis.getParentArmature(_gthis.parent.name);
				if(banim != null) {
					banim.addBoneChild(_gthis.raw.parent_bone,_gthis);
				}
			});
		}
		if(oactions == null) {
			return;
		}
		this.animation = new iron_object_ObjectAnimation(this,oactions);
	}
	,toString: function() {
		return "Object " + this.name;
	}
	,__class__: iron_object_Object
};
var iron_Scene = $hxClasses["iron.Scene"] = function() {
	this.traitRemoves = [];
	this.traitInits = [];
	this.groups = null;
	this.sceneStream = null;
	this.meshBatch = null;
	this.uid = iron_Scene.uidCounter++;
	this.meshes = [];
	this.lamps = [];
	this.cameras = [];
	this.speakers = [];
	this.decals = [];
	this.empties = [];
	this.animations = [];
	this.armatures = [];
	this.embedded = new haxe_ds_StringMap();
	this.root = new iron_object_Object();
	this.root.name = "Root";
	this.traitInits = [];
	this.traitRemoves = [];
	if(iron_Scene.global == null) {
		iron_Scene.global = new iron_object_Object();
	}
};
iron_Scene.__name__ = ["iron","Scene"];
iron_Scene.create = function(format,done) {
	iron_Scene.active = new iron_Scene();
	iron_Scene.active.ready = false;
	iron_Scene.active.raw = format;
	iron_data_Data.getWorld(format.name,format.world_ref,function(world) {
		iron_Scene.active.world = world;
		iron_Scene.active.addScene(format.name,null,function(sceneObject) {
			if(iron_Scene.active.cameras.length == 0) {
				haxe_Log.trace("No camera found for scene \"" + format.name + "\"",{ fileName : "Scene.hx", lineNumber : 76, className : "iron.Scene", methodName : "create"});
			}
			iron_Scene.active.camera = iron_Scene.active.getCamera(format.camera_ref);
			iron_Scene.active.ready = true;
			var _g = 0;
			var _g1 = iron_Scene.active.traitInits;
			while(_g < _g1.length) {
				var f = _g1[_g];
				++_g;
				f();
			}
			iron_Scene.active.traitInits = [];
			done(sceneObject);
		});
	});
};
iron_Scene.patch = function() {
};
iron_Scene.patchTrait = function(traitName) {
};
iron_Scene.setActive = function(sceneName,done) {
	if(!iron_Scene.framePassed) {
		return;
	}
	iron_Scene.framePassed = false;
	if(iron_Scene.active != null) {
		iron_Scene.active.remove();
	}
	iron_data_Data.getSceneRaw(sceneName,function(format) {
		iron_Scene.create(format,function(o) {
			if(done != null) {
				done(o);
			}
		});
	});
};
iron_Scene.generateTransform = function(object,transform) {
	transform.world = object.transform != null ? iron_math_Mat4.fromFloat32Array(object.transform.values) : iron_math_Mat4.identity();
	transform.world.decompose(transform.loc,transform.rot,transform.scale);
	if(object.local_transform_only != null) {
		transform.localOnly = object.local_transform_only;
	}
	if(transform.object.parent != null) {
		transform.update();
	}
};
iron_Scene.createTraits = function(traits,object) {
	if(traits == null) {
		return;
	}
	var _g = 0;
	while(_g < traits.length) {
		var t = traits[_g];
		++_g;
		if(t.type == "Script") {
			var args = [];
			if(t.parameters != null) {
				var _g1 = 0;
				var _g2 = t.parameters;
				while(_g1 < _g2.length) {
					var param = _g2[_g1];
					++_g1;
					args.push(iron_Scene.parseArg(param));
				}
			}
			var traitInst = iron_Scene.createTraitClassInstance(t.class_name,args);
			if(traitInst == null) {
				haxe_Log.trace("Error: Trait '" + t.class_name + "' referenced in object '" + object.name + "' not found",{ fileName : "Scene.hx", lineNumber : 591, className : "iron.Scene", methodName : "createTraits"});
				continue;
			}
			if(t.props != null) {
				var _g21 = 0;
				var _g11 = t.props.length / 2 | 0;
				while(_g21 < _g11) {
					var i = _g21++;
					var pname = t.props[i * 2];
					var pval = t.props[i * 2 + 1];
					if(pval != "" && Reflect.field(traitInst,pname) != null) {
						Reflect.setProperty(traitInst,pname,iron_Scene.parseArg(pval));
					}
				}
			}
			object.addTrait(traitInst);
		}
	}
};
iron_Scene.parseArg = function(str) {
	if(str == "true") {
		return true;
	} else if(str == "false") {
		return false;
	} else if(str == "null") {
		return null;
	} else if(str.charAt(0) == "'") {
		return StringTools.replace(str,"'","");
	} else if(str.charAt(0) == "\"") {
		return StringTools.replace(str,"\"","");
	} else if(str.charAt(0) == "[") {
		str = StringTools.replace(str,"[","");
		str = StringTools.replace(str,"]","");
		str = StringTools.replace(str," ","");
		var ar = [];
		var s = str.split(",");
		var _g = 0;
		while(_g < s.length) {
			var childStr = s[_g];
			++_g;
			ar.push(iron_Scene.parseArg(childStr));
		}
		return ar;
	} else {
		var f = parseFloat(str);
		var i = Std.parseInt(str);
		if(f == i) {
			return i;
		} else {
			return f;
		}
	}
};
iron_Scene.createConstraints = function(constraints,object) {
	if(constraints == null) {
		return;
	}
	object.constraints = [];
	var _g = 0;
	while(_g < constraints.length) {
		var c = constraints[_g];
		++_g;
		var constr = new iron_object_Constraint(c);
		object.constraints.push(constr);
	}
};
iron_Scene.createTraitClassInstance = function(traitName,args) {
	var cname = Type.resolveClass(traitName);
	if(cname == null) {
		return null;
	}
	return Type.createInstance(cname,args);
};
iron_Scene.prototype = {
	uid: null
	,raw: null
	,root: null
	,camera: null
	,world: null
	,meshBatch: null
	,sceneStream: null
	,meshes: null
	,lamps: null
	,cameras: null
	,speakers: null
	,decals: null
	,empties: null
	,animations: null
	,armatures: null
	,groups: null
	,embedded: null
	,ready: null
	,traitInits: null
	,traitRemoves: null
	,remove: function() {
		var _g = 0;
		var _g1 = this.traitRemoves;
		while(_g < _g1.length) {
			var f = _g1[_g];
			++_g;
			f();
		}
		if(this.meshBatch != null) {
			this.meshBatch.remove();
		}
		var _g2 = 0;
		var _g11 = this.meshes;
		while(_g2 < _g11.length) {
			var o = _g11[_g2];
			++_g2;
			o.remove();
		}
		var _g3 = 0;
		var _g12 = this.lamps;
		while(_g3 < _g12.length) {
			var o1 = _g12[_g3];
			++_g3;
			o1.remove();
		}
		var _g4 = 0;
		var _g13 = this.cameras;
		while(_g4 < _g13.length) {
			var o2 = _g13[_g4];
			++_g4;
			o2.remove();
		}
		var _g5 = 0;
		var _g14 = this.speakers;
		while(_g5 < _g14.length) {
			var o3 = _g14[_g5];
			++_g5;
			o3.remove();
		}
		var _g6 = 0;
		var _g15 = this.decals;
		while(_g6 < _g15.length) {
			var o4 = _g15[_g6];
			++_g6;
			o4.remove();
		}
		var _g7 = 0;
		var _g16 = this.empties;
		while(_g7 < _g16.length) {
			var o5 = _g16[_g7];
			++_g7;
			o5.remove();
		}
		this.groups = null;
		this.root.remove();
	}
	,updateFrame: function() {
		if(!this.ready) {
			return;
		}
		var _g = 0;
		var _g1 = this.animations;
		while(_g < _g1.length) {
			var anim = _g1[_g];
			++_g;
			anim.update(0.016666666666666666 * iron_system_Time.scale);
		}
		var _g2 = 0;
		var _g11 = this.empties;
		while(_g2 < _g11.length) {
			var e = _g11[_g2];
			++_g2;
			if(e != null && e.parent != null) {
				e.transform.update();
			}
		}
	}
	,renderFrame: function(g) {
		if(!this.ready || iron_RenderPath.active == null) {
			return;
		}
		iron_Scene.framePassed = true;
		var activeCamera = this.camera;
		var _g = 0;
		var _g1 = this.cameras;
		while(_g < _g1.length) {
			var cam = _g1[_g];
			++_g;
			if(cam.data.renderTarget != null) {
				this.camera = cam;
				this.camera.renderFrame(g);
			}
		}
		this.camera = activeCamera;
		if(this.camera != null) {
			this.camera.renderFrame(g);
		} else {
			iron_RenderPath.active.renderFrame(g);
		}
	}
	,addObject: function(parent) {
		var object = new iron_object_Object();
		if(parent != null) {
			parent.addChild(object);
		} else {
			this.root.addChild(object);
		}
		return object;
	}
	,getChild: function(name) {
		return this.root.getChild(name);
	}
	,getTrait: function(c) {
		if(this.root.children.length > 0) {
			return this.root.children[0].getTrait(c);
		} else {
			return null;
		}
	}
	,getMesh: function(name) {
		var _g = 0;
		var _g1 = this.meshes;
		while(_g < _g1.length) {
			var m = _g1[_g];
			++_g;
			if(m.name == name) {
				return m;
			}
		}
		return null;
	}
	,getLamp: function(name) {
		var _g = 0;
		var _g1 = this.lamps;
		while(_g < _g1.length) {
			var l = _g1[_g];
			++_g;
			if(l.name == name) {
				return l;
			}
		}
		return null;
	}
	,getCamera: function(name) {
		var _g = 0;
		var _g1 = this.cameras;
		while(_g < _g1.length) {
			var c = _g1[_g];
			++_g;
			if(c.name == name) {
				return c;
			}
		}
		return null;
	}
	,getSpeaker: function(name) {
		var _g = 0;
		var _g1 = this.speakers;
		while(_g < _g1.length) {
			var s = _g1[_g];
			++_g;
			if(s.name == name) {
				return s;
			}
		}
		return null;
	}
	,getEmpty: function(name) {
		var _g = 0;
		var _g1 = this.empties;
		while(_g < _g1.length) {
			var e = _g1[_g];
			++_g;
			if(e.name == name) {
				return e;
			}
		}
		return null;
	}
	,addMeshObject: function(data,materials,parent) {
		var object = new iron_object_MeshObject(data,materials);
		if(parent != null) {
			parent.addChild(object);
		} else {
			this.root.addChild(object);
		}
		return object;
	}
	,addLampObject: function(data,parent) {
		var object = new iron_object_LampObject(data);
		if(parent != null) {
			parent.addChild(object);
		} else {
			this.root.addChild(object);
		}
		return object;
	}
	,addCameraObject: function(data,parent) {
		var object = new iron_object_CameraObject(data);
		if(parent != null) {
			parent.addChild(object);
		} else {
			this.root.addChild(object);
		}
		return object;
	}
	,addSpeakerObject: function(data,parent) {
		var object = new iron_object_SpeakerObject(data);
		if(parent != null) {
			parent.addChild(object);
		} else {
			this.root.addChild(object);
		}
		return object;
	}
	,addDecalObject: function(material,parent) {
		var object = new iron_object_DecalObject(material);
		if(parent != null) {
			parent.addChild(object);
		} else {
			this.root.addChild(object);
		}
		return object;
	}
	,addScene: function(sceneName,parent,done) {
		var _gthis = this;
		if(parent == null) {
			parent = this.addObject();
			parent.name = sceneName;
		}
		iron_data_Data.getSceneRaw(sceneName,function(format) {
			iron_Scene.createTraits(format.traits,parent);
			_gthis.loadEmbeddedData(format.embedded_datas,function() {
				var objectsTraversed = 0;
				var objectsCount = _gthis.getObjectsCount(format.objects);
				var traverseObjects = null;
				traverseObjects = function(parent1,objects,parentObject,done1) {
					if(objects == null) {
						return;
					}
					var _g1 = 0;
					var _g = objects.length;
					while(_g1 < _g) {
						var i = _g1++;
						var o = [objects[i]];
						if(o[0].spawn != null && o[0].spawn == false) {
							if((objectsTraversed += 1) == objectsCount) {
								done1();
							}
							continue;
						}
						var o1 = o[0];
						var traverseObjects1 = (function(o2) {
							return function(object) {
								if(object != null) {
									traverseObjects(object,o2[0].children,o2[0],done1);
								}
								if((objectsTraversed += 1) == objectsCount) {
									done1();
								}
							};
						})(o);
						_gthis.createObject(o1,format,parent1,parentObject,traverseObjects1);
					}
				};
				var traverseObjects2 = traverseObjects;
				if(format.objects == null || format.objects.length == 0) {
					done(parent);
				} else {
					traverseObjects2(parent,format.objects,null,function() {
						done(parent);
					});
				}
			});
		});
	}
	,getObjectsCount: function(objects,discardNoSpawn) {
		if(discardNoSpawn == null) {
			discardNoSpawn = true;
		}
		if(objects == null) {
			return 0;
		}
		var result = objects.length;
		var _g = 0;
		while(_g < objects.length) {
			var o = objects[_g];
			++_g;
			if(discardNoSpawn && o.spawn != null && o.spawn == false) {
				continue;
			}
			if(o.children != null) {
				result += this.getObjectsCount(o.children);
			}
		}
		return result;
	}
	,spawnObject: function(name,parent,done,spawnChildren) {
		if(spawnChildren == null) {
			spawnChildren = true;
		}
		var _gthis = this;
		var objectsTraversed = 0;
		var obj = this.getObj(this.raw,name);
		var objectsCount = spawnChildren ? this.getObjectsCount([obj],false) : 1;
		var spawnObjectTree = null;
		spawnObjectTree = function(obj1,parent1,done1) {
			_gthis.createObject(obj1,_gthis.raw,parent1,null,function(object) {
				if(spawnChildren && obj1.children != null) {
					var _g = 0;
					var _g1 = obj1.children;
					while(_g < _g1.length) {
						var child = _g1[_g];
						++_g;
						spawnObjectTree(child,object,done1);
					}
				}
				if((objectsTraversed += 1) == objectsCount && done1 != null) {
					done1(object);
				}
			});
		};
		var spawnObjectTree1 = spawnObjectTree;
		spawnObjectTree1(obj,parent,done);
	}
	,parseObject: function(sceneName,objectName,parent,done) {
		var _gthis = this;
		iron_data_Data.getSceneRaw(sceneName,function(format) {
			var o = _gthis.getObj(format,objectName);
			if(o == null) {
				done(null);
			}
			_gthis.createObject(o,format,parent,null,done);
		});
	}
	,getObj: function(format,name) {
		return this.traverseObjs(format.objects,name);
	}
	,traverseObjs: function(children,name) {
		var _g = 0;
		while(_g < children.length) {
			var o = children[_g];
			++_g;
			if(o.name == name) {
				return o;
			}
			if(o.children != null) {
				var res = this.traverseObjs(o.children,name);
				if(res != null) {
					return res;
				}
			}
		}
		return null;
	}
	,createObject: function(o,format,parent,parentObject,done) {
		var _gthis = this;
		var sceneName = format.name;
		if(o.type == "camera_object") {
			iron_data_Data.getCamera(sceneName,o.data_ref,function(b) {
				var object = _gthis.addCameraObject(b,parent);
				_gthis.returnObject(object,o,done);
			});
		} else if(o.type == "lamp_object") {
			iron_data_Data.getLamp(sceneName,o.data_ref,function(b1) {
				var object1 = _gthis.addLampObject(b1,parent);
				_gthis.returnObject(object1,o,done);
			});
		} else if(o.type == "mesh_object") {
			if(o.material_refs == null || o.material_refs.length == 0) {
				var object2 = this.addObject(parent);
				this.returnObject(object2,o,done);
			} else {
				var length = o.material_refs.length;
				var this1 = new Array(length);
				var materials = this1;
				var materialsLoaded = 0;
				var _g1 = 0;
				var _g = o.material_refs.length;
				while(_g1 < _g) {
					var i = [_g1++];
					var ref = o.material_refs[i[0]];
					var tmp = (function(i1) {
						return function(mat) {
							materials[i1[0]] = mat;
							materialsLoaded += 1;
							if(materialsLoaded == o.material_refs.length) {
								var ref1 = o.data_ref.split("/");
								var object_file = "";
								var data_ref = "";
								if(ref1.length == 2) {
									object_file = ref1[0];
									data_ref = ref1[1];
								} else {
									object_file = sceneName;
									data_ref = o.data_ref;
								}
								if(parentObject != null && parentObject.bone_actions != null) {
									var bactions = [];
									var _g2 = 0;
									var _g3 = parentObject.bone_actions;
									while(_g2 < _g3.length) {
										var ref2 = _g3[_g2];
										++_g2;
										iron_data_Data.getSceneRaw(ref2,(function() {
											return function(action) {
												bactions.push(action);
												if(bactions.length == parentObject.bone_actions.length) {
													var armature = new iron_data_Armature(parentObject.name,bactions);
													_gthis.armatures.push(armature);
													_gthis.returnMeshObject(object_file,data_ref,sceneName,armature,materials,parent,o,done);
												}
											};
										})());
									}
								} else {
									_gthis.returnMeshObject(object_file,data_ref,sceneName,null,materials,parent,o,done);
								}
							}
						};
					})(i);
					iron_data_Data.getMaterial(sceneName,ref,tmp);
				}
			}
		} else if(o.type == "speaker_object") {
			var object3 = this.addSpeakerObject(iron_data_Data.getSpeakerRawByName(format.speaker_datas,o.data_ref),parent);
			this.returnObject(object3,o,done);
		} else if(o.type == "decal_object") {
			if(o.material_refs != null && o.material_refs.length > 0) {
				iron_data_Data.getMaterial(sceneName,o.material_refs[0],function(material) {
					var object4 = _gthis.addDecalObject(material,parent);
					_gthis.returnObject(object4,o,done);
				});
			} else {
				var object5 = this.addDecalObject(null,parent);
				this.returnObject(object5,o,done);
			}
		} else if(o.type == "object") {
			var object6 = this.addObject(parent);
			this.returnObject(object6,o,function(ro) {
				if(o.group_ref != null) {
					var spawned = 0;
					var object_refs = _gthis.getGroupObjectRefs(o.group_ref);
					if(object_refs.length == 0) {
						done(ro);
					} else {
						var _g4 = 0;
						while(_g4 < object_refs.length) {
							var s = object_refs[_g4];
							++_g4;
							_gthis.spawnObject(s,ro,function(so) {
								if((spawned += 1) == object_refs.length) {
									done(ro);
								}
							});
						}
					}
				} else {
					done(ro);
				}
			});
		} else {
			done(null);
		}
	}
	,getGroupObjectRefs: function(group_ref) {
		var _g = 0;
		var _g1 = this.raw.groups;
		while(_g < _g1.length) {
			var g = _g1[_g];
			++_g;
			if(g.name == group_ref) {
				return g.object_refs;
			}
		}
		return null;
	}
	,returnMeshObject: function(object_file,data_ref,sceneName,armature,materials,parent,o,done) {
		var _gthis = this;
		iron_data_Data.getMesh(object_file,data_ref,function(mesh) {
			if(mesh.isSkinned) {
				var g = mesh.geom;
				if(armature != null) {
					g.addArmature(armature);
				} else {
					g.addAction(mesh.format.objects,"none");
				}
			}
			var object = _gthis.addMeshObject(mesh,materials,parent);
			if(o.particle_refs != null) {
				var _g = 0;
				var _g1 = o.particle_refs;
				while(_g < _g1.length) {
					var ref = _g1[_g];
					++_g;
					(js_Boot.__cast(object , iron_object_MeshObject)).setupParticleSystem(sceneName,ref);
				}
			}
			if(o.tilesheet_ref != null) {
				(js_Boot.__cast(object , iron_object_MeshObject)).setupTilesheet(sceneName,o.tilesheet_ref,o.tilesheet_action_ref);
			}
			_gthis.returnObject(object,o,done);
		});
	}
	,returnObject: function(object,o,done) {
		var _gthis = this;
		if(object != null && o.object_actions != null) {
			var oactions = [];
			while(oactions.length < o.object_actions.length) oactions.push(null);
			var actionsLoaded = 0;
			var _g1 = 0;
			var _g = o.object_actions.length;
			while(_g1 < _g) {
				var i = [_g1++];
				var ref = o.object_actions[i[0]];
				if(ref == "null") {
					actionsLoaded += 1;
					continue;
				}
				iron_data_Data.getSceneRaw(ref,(function(i1) {
					return function(action) {
						oactions[i1[0]] = action;
						actionsLoaded += 1;
						if(actionsLoaded == o.object_actions.length) {
							_gthis.returnObjectLoaded(object,o,oactions,done);
						}
					};
				})(i));
			}
		} else {
			this.returnObjectLoaded(object,o,null,done);
		}
	}
	,returnObjectLoaded: function(object,o,oactions,done) {
		if(object != null) {
			object.raw = o;
			object.name = o.name;
			if(o.visible != null) {
				object.visible = o.visible;
			}
			if(o.visible_mesh != null) {
				object.visibleMesh = o.visible_mesh;
			}
			if(o.visible_shadow != null) {
				object.visibleShadow = o.visible_shadow;
			}
			iron_Scene.createConstraints(o.constraints,object);
			iron_Scene.generateTransform(o,object.transform);
			object.setupAnimation(oactions);
			if(o.groups != null) {
				if(this.groups == null) {
					this.groups = new haxe_ds_StringMap();
				}
				var _g = 0;
				var _g1 = o.groups;
				while(_g < _g1.length) {
					var gname = _g1[_g];
					++_g;
					var _this = this.groups;
					var g = __map_reserved[gname] != null ? _this.getReserved(gname) : _this.h[gname];
					if(g == null) {
						g = [];
						var _this1 = this.groups;
						if(__map_reserved[gname] != null) {
							_this1.setReserved(gname,g);
						} else {
							_this1.h[gname] = g;
						}
					}
					g.push(object);
				}
			}
			iron_Scene.createTraits(o.traits,object);
		}
		done(object);
	}
	,loadEmbeddedData: function(datas,done) {
		var _gthis = this;
		if(datas == null) {
			done();
			return;
		}
		var loaded = 0;
		var _g = 0;
		while(_g < datas.length) {
			var file = [datas[_g]];
			++_g;
			iron_data_Data.getImage(file[0],(function(file1) {
				return function(image) {
					var _this = _gthis.embedded;
					if(__map_reserved[file1[0]] != null) {
						_this.setReserved(file1[0],image);
					} else {
						_this.h[file1[0]] = image;
					}
					loaded += 1;
					if(loaded == datas.length) {
						done();
					}
				};
			})(file));
		}
	}
	,notifyOnInit: function(f) {
		if(this.ready) {
			f();
		} else {
			this.traitInits.push(f);
		}
	}
	,removeInit: function(f) {
		HxOverrides.remove(this.traitInits,f);
	}
	,notifyOnRemove: function(f) {
		this.traitRemoves.push(f);
	}
	,toString: function() {
		return "Scene " + this.raw.name;
	}
	,__class__: iron_Scene
};
var iron_system_Time = $hxClasses["iron.system.Time"] = function() { };
iron_system_Time.__name__ = ["iron","system","Time"];
iron_system_Time.__properties__ = {get_delta:"get_delta",get_step:"get_step"};
iron_system_Time.get_step = function() {
	return 0.016666666666666666;
};
iron_system_Time.get_delta = function() {
	return 0.016666666666666666 * iron_system_Time.scale;
};
iron_system_Time.time = function() {
	return kha_Scheduler.time();
};
iron_system_Time.realTime = function() {
	return kha_Scheduler.realTime();
};
iron_system_Time.update = function() {
	iron_system_Time.realDelta = kha_Scheduler.realTime() - iron_system_Time.last;
	iron_system_Time.last = kha_Scheduler.realTime();
};
var armory_trait_internal_Bridge = $hxClasses["armory.trait.internal.Bridge"] = $hx_exports["armory"] = function() { };
armory_trait_internal_Bridge.__name__ = ["armory","trait","internal","Bridge"];
var armory_trait_internal_CanvasScript = $hxClasses["armory.trait.internal.CanvasScript"] = function(canvasName) {
	this.canvas = null;
	var _gthis = this;
	iron_Trait.call(this);
	this.notifyOnInit(function() {
		iron_data_Data.getBlob(canvasName + ".json",function(blob) {
			kha_Assets.loadFont("droid_sans",function(f) {
				_gthis.cui = new zui_Zui({ font : f});
				var c = JSON.parse(blob.toString());
				if(c.assets == null || c.assets.length == 0) {
					_gthis.canvas = c;
				} else {
					var loaded = 0;
					var _g = 0;
					var _g1 = c.assets;
					while(_g < _g1.length) {
						var asset = [_g1[_g]];
						++_g;
						var file = asset[0].name;
						iron_data_Data.getImage(file,(function(asset1) {
							return function(image) {
								zui_Canvas.assetMap.h[asset1[0].id] = image;
								if((loaded += 1) >= c.assets.length) {
									_gthis.canvas = c;
								}
							};
						})(asset));
					}
				}
			});
		});
	});
	this.notifyOnRender2D(function(g) {
		if(_gthis.canvas == null) {
			return;
		}
		var events = zui_Canvas.draw(_gthis.cui,_gthis.canvas,g);
		var _g2 = 0;
		while(_g2 < events.length) {
			var e = events[_g2];
			++_g2;
			var all = armory_system_Event.get(e);
			if(all != null) {
				var _g11 = 0;
				while(_g11 < all.length) {
					var entry = all[_g11];
					++_g11;
					entry.onEvent();
				}
			}
		}
	});
};
armory_trait_internal_CanvasScript.__name__ = ["armory","trait","internal","CanvasScript"];
armory_trait_internal_CanvasScript.__super__ = iron_Trait;
armory_trait_internal_CanvasScript.prototype = $extend(iron_Trait.prototype,{
	cui: null
	,canvas: null
	,ready: null
	,get_ready: function() {
		return this.canvas != null;
	}
	,getElement: function(name) {
		var _g = 0;
		var _g1 = this.canvas.elements;
		while(_g < _g1.length) {
			var e = _g1[_g];
			++_g;
			if(e.name == name) {
				return e;
			}
		}
		return null;
	}
	,__class__: armory_trait_internal_CanvasScript
	,__properties__: {get_ready:"get_ready"}
});
var armory_trait_internal_DebugConsole = $hxClasses["armory.trait.internal.DebugConsole"] = function() {
	this.physTimeAvg = 0.0;
	this.physTime = 0.0;
	this.animTimeAvg = 0.0;
	this.animTime = 0.0;
	this.updateTimeAvg = 0.0;
	this.updateTime = 0.0;
	this.renderPathTimeAvg = 0.0;
	this.renderPathTime = 0.0;
	this.frameTimeAvgMax = 0.0;
	this.frameTimeAvgMin = 0.0;
	this.frameTimeAvg = 0.0;
	this.frames = 0;
	this.totalTime = 0.0;
	this.frameTime = 0.0;
	this.lastTime = 0.0;
	this.show = true;
	var _gthis = this;
	iron_Trait.call(this);
	iron_data_Data.getFont("droid_sans.ttf",function(font) {
		var theme = Reflect.copy(zui_Themes.dark);
		theme.WINDOW_BG_COL = -300871407;
		_gthis.ui = new zui_Zui({ font : font, theme : theme});
		_gthis.notifyOnRender2D($bind(_gthis,_gthis.render2D));
		_gthis.notifyOnUpdate($bind(_gthis,_gthis.update));
		armory_trait_internal_DebugConsole.haxeTrace = haxe_Log.trace;
		haxe_Log.trace = armory_trait_internal_DebugConsole.consoleTrace;
		kha_input_Keyboard.get().notify(null,null,function($char) {
			if($char == "~") {
				_gthis.show = !_gthis.show;
			}
		});
	});
};
armory_trait_internal_DebugConsole.__name__ = ["armory","trait","internal","DebugConsole"];
armory_trait_internal_DebugConsole.consoleTrace = function(v,inf) {
	armory_trait_internal_DebugConsole.lastTrace = Std.string(v);
	armory_trait_internal_DebugConsole.haxeTrace(v,inf);
};
armory_trait_internal_DebugConsole.__super__ = iron_Trait;
armory_trait_internal_DebugConsole.prototype = $extend(iron_Trait.prototype,{
	ui: null
	,show: null
	,lastTime: null
	,frameTime: null
	,totalTime: null
	,frames: null
	,frameTimeAvg: null
	,frameTimeAvgMin: null
	,frameTimeAvgMax: null
	,renderPathTime: null
	,renderPathTimeAvg: null
	,updateTime: null
	,updateTimeAvg: null
	,animTime: null
	,animTimeAvg: null
	,physTime: null
	,physTimeAvg: null
	,render2D: function(g) {
		var _gthis = this;
		if(!this.show) {
			return;
		}
		g.end();
		this.ui.begin(g);
		var hwin = zui_Handle.global.nest(0,null);
		if(this.ui.window(hwin,0,0,280,kha_System.windowHeight(),true)) {
			var htab = zui_Handle.global.nest(1,{ position : 0});
			var tmp = this.ui.tab(htab,"");
			if(this.ui.tab(htab,armory_trait_internal_DebugConsole.lastTrace == "" ? "Inspector" : HxOverrides.substr(armory_trait_internal_DebugConsole.lastTrace,0,20))) {
				var i = 0;
				var drawList = null;
				drawList = function(h,o) {
					_gthis.ui.row(armory_trait_internal_DebugConsole.lrow);
					var b = false;
					if(o.children.length > 0) {
						b = _gthis.ui.panel(h.nest(i,{ selected : true}),o.name,0,true);
					} else {
						_gthis.ui._x += 18;
						_gthis.ui.text(o.name);
						_gthis.ui._x -= 18;
					}
					_gthis.ui.text("(" + iron_math_Math.roundfp(o.transform.world.self._30) + ", " + iron_math_Math.roundfp(o.transform.world.self._31) + ", " + iron_math_Math.roundfp(o.transform.world.self._32) + ")",2);
					i += 1;
					if(b) {
						var _g = 0;
						var _g1 = o.children;
						while(_g < _g1.length) {
							var c = _g1[_g];
							++_g;
							_gthis.ui.indent();
							drawList(h,c);
							_gthis.ui.unindent();
						}
					}
				};
				var drawList1 = drawList;
				var _g2 = 0;
				var _g11 = iron_Scene.active.root.children;
				while(_g2 < _g11.length) {
					var c1 = _g11[_g2];
					++_g2;
					drawList1(zui_Handle.global.nest(2,null),c1);
				}
			}
			var avg = Math.round(this.frameTimeAvg * 10000) / 10;
			var fpsAvg = avg > 0 ? Math.round(1000 / avg) : 0;
			if(this.ui.tab(htab,"" + avg + " ms")) {
				this.ui.text("" + fpsAvg + " fps");
				var numObjects = iron_Scene.active.meshes.length;
				this.ui.text("meshes: " + numObjects);
				var avgMin = Math.round(this.frameTimeAvgMin * 10000) / 10;
				var avgMax = Math.round(this.frameTimeAvgMax * 10000) / 10;
				this.ui.text("frame (min/max): " + avgMin + "/" + avgMax);
				var fpsAvgMin = avgMin > 0 ? Math.round(1000 / avgMin) : 0;
				var fpsAvgMax = avgMax > 0 ? Math.round(1000 / avgMax) : 0;
				this.ui.text("fps (min/max): " + fpsAvgMin + "/" + fpsAvgMax);
				this.ui.text("rpath: " + Math.round(this.renderPathTimeAvg * 10000) / 10);
				this.ui.text("update: " + Math.round(this.updateTimeAvg * 10000) / 10);
				this.ui.indent();
				this.ui.text("- phys: " + Math.round(this.physTimeAvg * 10000) / 10);
				this.ui.text("- anim: " + Math.round(this.animTimeAvg * 10000) / 10);
				this.ui.unindent();
				this.ui.text("draw calls: " + iron_RenderPath.drawCalls);
				this.ui.text("tris mesh: " + iron_RenderPath.numTrisMesh);
				this.ui.text("tris shadow: " + iron_RenderPath.numTrisShadow);
				this.ui.text("culled: " + iron_RenderPath.culled + " / " + numObjects * 2);
				this.ui.text("render targets: ");
				var _this = iron_RenderPath.active.renderTargets;
				var rt = new haxe_ds__$StringMap_StringMapIterator(_this,_this.arrayKeys());
				while(rt.hasNext()) {
					var rt1 = rt.next();
					this.ui.text(rt1.raw.name);
				}
			}
			this.ui.separator();
		}
		this.ui.end();
		g.begin(false);
		this.totalTime += this.frameTime;
		this.renderPathTime += iron_App.renderPathTime;
		this.frames++;
		if(this.totalTime > 1.0) {
			hwin.redraws = 1;
			var t = this.totalTime / this.frames;
			if(this.frameTimeAvg > 0) {
				if(t < this.frameTimeAvgMin || this.frameTimeAvgMin == 0) {
					this.frameTimeAvgMin = t;
				}
				if(t > this.frameTimeAvgMax || this.frameTimeAvgMax == 0) {
					this.frameTimeAvgMax = t;
				}
			}
			this.frameTimeAvg = t;
			this.renderPathTimeAvg = this.renderPathTime / this.frames;
			this.updateTimeAvg = this.updateTime / this.frames;
			this.animTimeAvg = this.animTime / this.frames;
			this.physTimeAvg = this.physTime / this.frames;
			this.totalTime = 0;
			this.renderPathTime = 0;
			this.updateTime = 0;
			this.animTime = 0;
			this.physTime = 0;
			this.frames = 0;
		}
		this.frameTime = kha_Scheduler.realTime() - this.lastTime;
		this.lastTime = kha_Scheduler.realTime();
	}
	,update: function() {
		armory_trait_WalkNavigation.enabled = !(this.ui.isScrolling || this.ui.currentWindow != null && this.ui.currentWindow.dragging);
		this.updateTime += iron_App.updateTime;
		this.animTime += iron_object_Animation.animationTime;
		this.physTime += armory_trait_physics_bullet_PhysicsWorld.physTime;
	}
	,__class__: armory_trait_internal_DebugConsole
});
var armory_trait_internal_DebugDraw = $hxClasses["armory.trait.internal.DebugDraw"] = function() {
	this.lines = 0;
	this.strength = 0.02;
	this.color = -65536;
	armory_trait_internal_DebugDraw.inst = this;
	var structure = new kha_graphics4_VertexStructure();
	structure.add("pos",kha_graphics4_VertexData.Float3);
	structure.add("col",kha_graphics4_VertexData.Float3);
	this.pipeline = new kha_graphics4_PipelineState();
	this.pipeline.inputLayout = [structure];
	this.pipeline.fragmentShader = kha_Shaders.line_deferred_frag;
	this.pipeline.vertexShader = kha_Shaders.line_vert;
	this.pipeline.depthWrite = true;
	this.pipeline.depthMode = kha_graphics4_CompareMode.Less;
	this.pipeline.cullMode = kha_graphics4_CullMode.None;
	this.pipeline.compile();
	this.vpID = this.pipeline.getConstantLocation("VP");
	this.vp = iron_math_Mat4.identity();
	this.vertexBuffer = new kha_graphics4_VertexBuffer(1200,structure,kha_graphics4_Usage.DynamicUsage);
	this.indexBuffer = new kha_graphics4_IndexBuffer(1800,kha_graphics4_Usage.DynamicUsage);
};
armory_trait_internal_DebugDraw.__name__ = ["armory","trait","internal","DebugDraw"];
armory_trait_internal_DebugDraw.notifyOnRender = function(f) {
	if(armory_trait_internal_DebugDraw.inst == null) {
		armory_trait_internal_DebugDraw.inst = new armory_trait_internal_DebugDraw();
	}
	iron_RenderPath.notifyOnContext("mesh",function(g4,i,len) {
		armory_trait_internal_DebugDraw.g = g4;
		if(i == 0) {
			armory_trait_internal_DebugDraw.inst.begin();
		}
		f(armory_trait_internal_DebugDraw.inst);
		if(i == len - 1) {
			armory_trait_internal_DebugDraw.inst.end();
		}
	});
};
armory_trait_internal_DebugDraw.prototype = {
	color: null
	,strength: null
	,vertexBuffer: null
	,indexBuffer: null
	,pipeline: null
	,vp: null
	,vpID: null
	,vbData: null
	,ibData: null
	,lines: null
	,bounds: function(t) {
		var _this = t.world;
		armory_trait_internal_DebugDraw.v = new iron_math_Vec4(_this.self._30,_this.self._31,_this.self._32,_this.self._33);
		var dx = t.dim.x / 2;
		var dy = t.dim.y / 2;
		var dz = t.dim.z / 2;
		var _this1 = t.world;
		var up = new iron_math_Vec4(_this1.self._20,_this1.self._21,_this1.self._22);
		var _this2 = t.world;
		var look = new iron_math_Vec4(_this2.self._10,_this2.self._11,_this2.self._12);
		var _this3 = t.world;
		var right = new iron_math_Vec4(_this3.self._00,_this3.self._01,_this3.self._02);
		up.normalize();
		look.normalize();
		right.normalize();
		armory_trait_internal_DebugDraw.vx.setFrom(right);
		armory_trait_internal_DebugDraw.vx.mult(dx);
		armory_trait_internal_DebugDraw.vy.setFrom(look);
		armory_trait_internal_DebugDraw.vy.mult(dy);
		armory_trait_internal_DebugDraw.vz.setFrom(up);
		armory_trait_internal_DebugDraw.vz.mult(dz);
		this.lineb(-1,-1,-1,1,-1,-1);
		this.lineb(-1,1,-1,1,1,-1);
		this.lineb(-1,-1,1,1,-1,1);
		this.lineb(-1,1,1,1,1,1);
		this.lineb(-1,-1,-1,-1,1,-1);
		this.lineb(-1,-1,1,-1,1,1);
		this.lineb(1,-1,-1,1,1,-1);
		this.lineb(1,-1,1,1,1,1);
		this.lineb(-1,-1,-1,-1,-1,1);
		this.lineb(-1,1,-1,-1,1,1);
		this.lineb(1,-1,-1,1,-1,1);
		this.lineb(1,1,-1,1,1,1);
	}
	,lineb: function(a,b,c,d,e,f) {
		armory_trait_internal_DebugDraw.v1.setFrom(armory_trait_internal_DebugDraw.v);
		armory_trait_internal_DebugDraw.t.setFrom(armory_trait_internal_DebugDraw.vx);
		armory_trait_internal_DebugDraw.t.mult(a);
		armory_trait_internal_DebugDraw.v1.add(armory_trait_internal_DebugDraw.t);
		armory_trait_internal_DebugDraw.t.setFrom(armory_trait_internal_DebugDraw.vy);
		armory_trait_internal_DebugDraw.t.mult(b);
		armory_trait_internal_DebugDraw.v1.add(armory_trait_internal_DebugDraw.t);
		armory_trait_internal_DebugDraw.t.setFrom(armory_trait_internal_DebugDraw.vz);
		armory_trait_internal_DebugDraw.t.mult(c);
		armory_trait_internal_DebugDraw.v1.add(armory_trait_internal_DebugDraw.t);
		armory_trait_internal_DebugDraw.v2.setFrom(armory_trait_internal_DebugDraw.v);
		armory_trait_internal_DebugDraw.t.setFrom(armory_trait_internal_DebugDraw.vx);
		armory_trait_internal_DebugDraw.t.mult(d);
		armory_trait_internal_DebugDraw.v2.add(armory_trait_internal_DebugDraw.t);
		armory_trait_internal_DebugDraw.t.setFrom(armory_trait_internal_DebugDraw.vy);
		armory_trait_internal_DebugDraw.t.mult(e);
		armory_trait_internal_DebugDraw.v2.add(armory_trait_internal_DebugDraw.t);
		armory_trait_internal_DebugDraw.t.setFrom(armory_trait_internal_DebugDraw.vz);
		armory_trait_internal_DebugDraw.t.mult(f);
		armory_trait_internal_DebugDraw.v2.add(armory_trait_internal_DebugDraw.t);
		var v1 = armory_trait_internal_DebugDraw.v1;
		var v2 = armory_trait_internal_DebugDraw.v2;
		this.line(v1.x,v1.y,v1.z,v2.x,v2.y,v2.z);
	}
	,linev: function(v1,v2) {
		this.line(v1.x,v1.y,v1.z,v2.x,v2.y,v2.z);
	}
	,line: function(x1,y1,z1,x2,y2,z2) {
		if(this.lines >= 300) {
			this.end();
			this.begin();
		}
		var camera = iron_Scene.active.camera;
		var l = new iron_math_Vec4(camera.transform.local.self._00,camera.transform.local.self._01,camera.transform.local.self._02);
		l.add(new iron_math_Vec4(camera.transform.local.self._10,camera.transform.local.self._11,camera.transform.local.self._12));
		var i = this.lines * 24;
		this.vbData[i] = x1;
		this.vbData[i + 1] = y1;
		this.vbData[i + 2] = z1;
		this.vbData[i + 3] = 1.0;
		this.vbData[i + 4] = 0.0;
		this.vbData[i + 5] = 0.0;
		this.vbData[i + 6] = x2;
		this.vbData[i + 7] = y2;
		this.vbData[i + 8] = z2;
		this.vbData[i + 9] = 1.0;
		this.vbData[i + 10] = 0.0;
		this.vbData[i + 11] = 0.0;
		this.vbData[i + 12] = x2 + this.strength * l.x;
		this.vbData[i + 13] = y2 + this.strength * l.y;
		this.vbData[i + 14] = z2 + this.strength * l.z;
		this.vbData[i + 15] = 1.0;
		this.vbData[i + 16] = 0.0;
		this.vbData[i + 17] = 0.0;
		this.vbData[i + 18] = x1 + this.strength * l.x;
		this.vbData[i + 19] = y1 + this.strength * l.y;
		this.vbData[i + 20] = z1 + this.strength * l.z;
		this.vbData[i + 21] = 1.0;
		this.vbData[i + 22] = 0.0;
		this.vbData[i + 23] = 0.0;
		i = this.lines * 6;
		this.ibData[i] = this.lines * 4;
		this.ibData[i + 1] = this.lines * 4 + 1;
		this.ibData[i + 2] = this.lines * 4 + 2;
		this.ibData[i + 3] = this.lines * 4 + 2;
		this.ibData[i + 4] = this.lines * 4 + 3;
		this.ibData[i + 5] = this.lines * 4;
		this.lines++;
	}
	,begin: function() {
		this.lines = 0;
		this.vbData = this.vertexBuffer.lock();
		this.ibData = this.indexBuffer.lock();
	}
	,end: function() {
		this.vertexBuffer.unlock();
		this.indexBuffer.unlock();
		armory_trait_internal_DebugDraw.g.setVertexBuffer(this.vertexBuffer);
		armory_trait_internal_DebugDraw.g.setIndexBuffer(this.indexBuffer);
		armory_trait_internal_DebugDraw.g.setPipeline(this.pipeline);
		var camera = iron_Scene.active.camera;
		this.vp.setFrom(camera.V);
		this.vp.multmat2(camera.P);
		armory_trait_internal_DebugDraw.g.setMatrix(this.vpID,this.vp.self);
		armory_trait_internal_DebugDraw.g.drawIndexedVertices(0,this.lines * 6);
	}
	,__class__: armory_trait_internal_DebugDraw
};
var armory_trait_internal_LoadingScreen = $hxClasses["armory.trait.internal.LoadingScreen"] = function() { };
armory_trait_internal_LoadingScreen.__name__ = ["armory","trait","internal","LoadingScreen"];
armory_trait_internal_LoadingScreen.render = function(g,assetsLoaded,assetsTotal) {
	g.set_color(-3200189);
	g.fillRect(0,kha_System.windowHeight() - 6,kha_System.windowWidth() / assetsTotal * assetsLoaded,6);
};
var armory_trait_internal_MovieTexture = $hxClasses["armory.trait.internal.MovieTexture"] = function(videoName) {
	iron_Trait.call(this);
	this.videoName = videoName;
	if(!armory_trait_internal_MovieTexture.created) {
		armory_trait_internal_MovieTexture.created = true;
		this.notifyOnInit($bind(this,this.init));
	}
};
armory_trait_internal_MovieTexture.__name__ = ["armory","trait","internal","MovieTexture"];
armory_trait_internal_MovieTexture.__super__ = iron_Trait;
armory_trait_internal_MovieTexture.prototype = $extend(iron_Trait.prototype,{
	video: null
	,videoName: null
	,pow: function(pow) {
		var ret = 1;
		var _g1 = 0;
		var _g = pow;
		while(_g1 < _g) {
			var i = _g1++;
			ret *= 2;
		}
		return ret;
	}
	,getPower2: function(i) {
		var power = 0;
		while(true) {
			var res = this.pow(power);
			if(res >= i) {
				return res;
			}
			++power;
		}
	}
	,init: function() {
		var _gthis = this;
		iron_data_Data.getVideo(this.videoName,function(vid) {
			_gthis.video = vid;
			_gthis.video.play(true);
			var tmp = _gthis.video.width();
			var tmp1 = _gthis.getPower2(tmp);
			var tmp2 = _gthis.video.height();
			armory_trait_internal_MovieTexture.image = kha_Image.createRenderTarget(tmp1,_gthis.getPower2(tmp2));
			var o = js_Boot.__cast(_gthis.object , iron_object_MeshObject);
			o.materials[0].contexts[0].textures[0] = armory_trait_internal_MovieTexture.image;
			_gthis.notifyOnRender2D($bind(_gthis,_gthis.render));
		});
	}
	,render: function(g) {
		g.end();
		var g2 = armory_trait_internal_MovieTexture.image.get_g2();
		g2.begin(true,-16777216);
		g2.set_color(-1);
		g2.drawVideo(this.video,0,0,1024,512);
		g2.end();
		g.begin(false);
	}
	,__class__: armory_trait_internal_MovieTexture
});
var armory_trait_internal_SpaceArmory = $hxClasses["armory.trait.internal.SpaceArmory"] = function() {
	this.moveZ = false;
	this.moveY = false;
	this.moveX = false;
	this.selected = null;
	iron_Trait.call(this);
	this.notifyOnInit($bind(this,this.init));
};
armory_trait_internal_SpaceArmory.__name__ = ["armory","trait","internal","SpaceArmory"];
armory_trait_internal_SpaceArmory.__super__ = iron_Trait;
armory_trait_internal_SpaceArmory.prototype = $extend(iron_Trait.prototype,{
	gizmo: null
	,arrowX: null
	,arrowY: null
	,arrowZ: null
	,selected: null
	,moveX: null
	,moveY: null
	,moveZ: null
	,init: function() {
		this.notifyOnUpdate($bind(this,this.update));
		if(armory_trait_internal_SpaceArmory.first) {
			armory_trait_internal_SpaceArmory.first = false;
		}
	}
	,update: function() {
	}
	,__class__: armory_trait_internal_SpaceArmory
});
var armory_trait_internal_WasmScript = $hxClasses["armory.trait.internal.WasmScript"] = function(handle) {
	this.objectMap = new haxe_ds_IntMap();
	var _gthis = this;
	iron_Trait.call(this);
	var imports = { env : { trace : function(i) {
		haxe_Log.trace(_gthis.wasm.getString(i),{ fileName : "WasmScript.hx", lineNumber : 22, className : "armory.trait.internal.WasmScript", methodName : "new"});
	}, tracef : function(f) {
		haxe_Log.trace(f,{ fileName : "WasmScript.hx", lineNumber : 23, className : "armory.trait.internal.WasmScript", methodName : "new"});
	}, tracei : function(i1) {
		haxe_Log.trace(i1,{ fileName : "WasmScript.hx", lineNumber : 24, className : "armory.trait.internal.WasmScript", methodName : "new"});
	}, notify_on_update : function(i2) {
		_gthis.notifyOnUpdate(_gthis.wasm.exports.update);
	}, remove_update : function(i3) {
		_gthis.removeUpdate(_gthis.wasm.exports.update);
	}, get_object : function(name) {
		var s = _gthis.wasm.getString(name);
		var o = iron_Scene.active.getChild(s);
		if(o == null) {
			return -1;
		}
		_gthis.objectMap.h[o.uid] = o;
		return o.uid;
	}, set_transform : function(object,x,y,z,rx,ry,rz,sx,sy,sz) {
		var o1 = _gthis.objectMap.h[object];
		if(o1 == null) {
			return;
		}
		var t = o1.transform;
		t.loc.set(x,y,z);
		t.scale.set(sx,sy,sz);
		t.setRotation(rx,ry,rz);
	}, mouse_x : function() {
		return iron_system_Input.getMouse().x;
	}, mouse_y : function() {
		return iron_system_Input.getMouse().y;
	}, mouse_started : function(button) {
		return iron_system_Input.getMouse().started();
	}, mouse_down : function(button1) {
		return iron_system_Input.getMouse().down();
	}, mouse_released : function(button2) {
		return iron_system_Input.getMouse().released();
	}, key_started : function(key) {
		return iron_system_Input.getKeyboard().started(iron_system_Keyboard.keyCode(key));
	}, key_down : function(key1) {
		return iron_system_Input.getKeyboard().down(iron_system_Keyboard.keyCode(key1));
	}, key_released : function(key2) {
		return iron_system_Input.getKeyboard().released(iron_system_Keyboard.keyCode(key2));
	}, time_real : function() {
		return kha_Scheduler.time();
	}, time_delta : function() {
		return 0.016666666666666666 * iron_system_Time.scale;
	}, js_eval : function(fn) {
		eval(_gthis.wasm.getString(fn));
	}, js_call_object : function(object1,fn1) {
		var o2 = _gthis.objectMap.h[object1];
		Reflect.field(_gthis.objectMap.h[object1],_gthis.wasm.getString(fn1)).apply(o2,null);
	}, js_call_static : function(path,fn2) {
		var cpath = _gthis.wasm.getString(path);
		var ctype = Type.resolveClass(cpath);
		Reflect.field(ctype,_gthis.wasm.getString(fn2)).apply(ctype,[]);
	}}};
	iron_data_Data.getBlob(handle + ".wasm",function(b) {
		_gthis.wasm = new iron_data_Wasm(b,imports);
		_gthis.wasm.exports.main();
	});
};
armory_trait_internal_WasmScript.__name__ = ["armory","trait","internal","WasmScript"];
armory_trait_internal_WasmScript.__super__ = iron_Trait;
armory_trait_internal_WasmScript.prototype = $extend(iron_Trait.prototype,{
	wasm: null
	,objectMap: null
	,__class__: armory_trait_internal_WasmScript
});
var armory_trait_navigation_Navigation = $hxClasses["armory.trait.navigation.Navigation"] = function() {
	iron_Trait.call(this);
};
armory_trait_navigation_Navigation.__name__ = ["armory","trait","navigation","Navigation"];
armory_trait_navigation_Navigation.__super__ = iron_Trait;
armory_trait_navigation_Navigation.prototype = $extend(iron_Trait.prototype,{
	__class__: armory_trait_navigation_Navigation
});
var armory_trait_physics_SoftBody = $hxClasses["armory.trait.physics.SoftBody"] = function() {
	iron_Trait.call(this);
};
armory_trait_physics_SoftBody.__name__ = ["armory","trait","physics","SoftBody"];
armory_trait_physics_SoftBody.__super__ = iron_Trait;
armory_trait_physics_SoftBody.prototype = $extend(iron_Trait.prototype,{
	__class__: armory_trait_physics_SoftBody
});
var armory_trait_physics_bullet_KinematicCharacterController = $hxClasses["armory.trait.physics.bullet.KinematicCharacterController"] = function(mass,shape,jumpSpeed,friction,restitution,collisionMargin,animated,group) {
	if(group == null) {
		group = 1;
	}
	if(animated == null) {
		animated = false;
	}
	if(collisionMargin == null) {
		collisionMargin = 0.0;
	}
	if(restitution == null) {
		restitution = 0.0;
	}
	if(friction == null) {
		friction = 0.5;
	}
	if(jumpSpeed == null) {
		jumpSpeed = 8.0;
	}
	if(shape == null) {
		shape = 5;
	}
	if(mass == null) {
		mass = 1.0;
	}
	this.onReady = null;
	this.id = 0;
	this.ready = false;
	this.character = null;
	this.body = null;
	this.group = 1;
	this.transform = null;
	this.isConvexHull = false;
	iron_Trait.call(this);
	this.mass = mass;
	this.jumpSpeed = jumpSpeed;
	this.shape = shape;
	this.friction = friction;
	this.restitution = restitution;
	this.collisionMargin = collisionMargin;
	this.animated = animated;
	this.group = group;
	this.notifyOnAdd($bind(this,this.init));
	this.notifyOnLateUpdate($bind(this,this.lateUpdate));
	this.notifyOnRemove($bind(this,this.removeFromWorld));
};
armory_trait_physics_bullet_KinematicCharacterController.__name__ = ["armory","trait","physics","bullet","KinematicCharacterController"];
armory_trait_physics_bullet_KinematicCharacterController.__super__ = iron_Trait;
armory_trait_physics_bullet_KinematicCharacterController.prototype = $extend(iron_Trait.prototype,{
	shape: null
	,_shapeConvex: null
	,_shapeConvexHull: null
	,isConvexHull: null
	,physics: null
	,transform: null
	,mass: null
	,friction: null
	,restitution: null
	,collisionMargin: null
	,animated: null
	,group: null
	,bodyScaleX: null
	,bodyScaleY: null
	,bodyScaleZ: null
	,currentScaleX: null
	,currentScaleY: null
	,currentScaleZ: null
	,jumpSpeed: null
	,body: null
	,character: null
	,ready: null
	,id: null
	,onReady: null
	,withMargin: function(f) {
		return f - f * this.collisionMargin;
	}
	,notifyOnReady: function(f) {
		this.onReady = f;
		if(this.ready) {
			this.onReady();
		}
	}
	,init: function() {
		if(this.ready) {
			return;
		}
		this.ready = true;
		this.transform = this.object.transform;
		this.physics = armory_trait_physics_bullet_PhysicsWorld.active;
		this._shapeConvex = null;
		this._shapeConvexHull = null;
		this.isConvexHull = false;
		if(this.shape == 0) {
			var f = this.transform.dim.x / 2;
			var f1 = this.transform.dim.y / 2;
			var f2 = this.transform.dim.z / 2;
			this._shapeConvex = new Ammo.btBoxShape(new Ammo.btVector3(f - f * this.collisionMargin,f1 - f1 * this.collisionMargin,f2 - f2 * this.collisionMargin));
		} else if(this.shape == 1) {
			var width = this.transform.dim.x;
			if(this.transform.dim.y > width) {
				width = this.transform.dim.y;
			}
			if(this.transform.dim.z > width) {
				width = this.transform.dim.z;
			}
			var f3 = width / 2;
			this._shapeConvex = new Ammo.btSphereShape(f3 - f3 * this.collisionMargin);
		} else if(this.shape == 2 && this.mass > 0) {
			this._shapeConvexHull = new Ammo.btConvexHullShape();
			this.isConvexHull = true;
			this.addPointsToConvexHull(this._shapeConvexHull,this.transform.scale,this.collisionMargin);
		} else if(this.shape == 3) {
			var f4 = this.transform.dim.x / 2;
			var f5 = this.transform.dim.z;
			this._shapeConvex = new Ammo.btConeShapeZ(f4 - f4 * this.collisionMargin,f5 - f5 * this.collisionMargin);
		} else if(this.shape == 4) {
			var f6 = this.transform.dim.x / 2;
			var f7 = this.transform.dim.y / 2;
			var f8 = this.transform.dim.z / 2;
			this._shapeConvex = new Ammo.btCylinderShapeZ(new Ammo.btVector3(f6 - f6 * this.collisionMargin,f7 - f7 * this.collisionMargin,f8 - f8 * this.collisionMargin));
		} else if(this.shape == 5) {
			var r = this.transform.dim.x / 2;
			var f9 = this.transform.dim.z - r * 2;
			this._shapeConvex = new Ammo.btCapsuleShapeZ(r - r * this.collisionMargin,f9 - f9 * this.collisionMargin);
		}
		var _transform = new Ammo.btTransform();
		_transform.setIdentity();
		_transform.setOrigin(new Ammo.btVector3(this.transform.world.self._30,this.transform.world.self._31,this.transform.world.self._32));
		var rot = this.transform.world.getQuat();
		_transform.setRotation(new Ammo.btQuaternion(rot.x,rot.y,rot.z,rot.w));
		this.body = new Ammo.btPairCachingGhostObject();
		this.body.setCollisionShape(this.isConvexHull ? this._shapeConvexHull : this._shapeConvex);
		this.body.setCollisionFlags(16);
		this.body.setWorldTransform(_transform);
		this.body.setFriction(this.friction);
		this.body.setRollingFriction(this.friction);
		this.body.setRestitution(this.restitution);
		this.character = new Ammo.btKinematicCharacterController(this.body,this.isConvexHull ? this._shapeConvexHull : this._shapeConvex,0.5,2);
		this.character.setJumpSpeed(this.jumpSpeed);
		this.character.setUseGhostSweepTest(true);
		this.setActivationState(4);
		this.bodyScaleX = this.currentScaleX = this.transform.scale.x;
		this.bodyScaleY = this.currentScaleY = this.transform.scale.y;
		this.bodyScaleZ = this.currentScaleZ = this.transform.scale.z;
		this.id = armory_trait_physics_bullet_KinematicCharacterController.nextId;
		armory_trait_physics_bullet_KinematicCharacterController.nextId++;
		this.body.userIndex = this.id;
		this.physics.addKinematicCharacterController(this);
		if(this.onReady != null) {
			this.onReady();
		}
	}
	,lateUpdate: function() {
		if(!this.ready) {
			return;
		}
		if(this.object.animation != null || this.animated) {
			this.syncTransform();
		} else {
			var trans = this.body.getWorldTransform();
			var p = trans.getOrigin();
			var q = trans.getRotation();
			this.transform.loc.set(p.x(),p.y(),p.z());
			var _this = this.transform.rot;
			var x = q.x();
			var y = q.y();
			var z = q.z();
			var w = q.w();
			_this.x = x;
			_this.y = y;
			_this.z = z;
			_this.w = w;
			if(this.object.parent != null) {
				var ptransform = this.object.parent.transform;
				this.transform.loc.x -= ptransform.world.self._30;
				this.transform.loc.y -= ptransform.world.self._31;
				this.transform.loc.z -= ptransform.world.self._32;
			}
			this.transform.buildMatrix();
		}
	}
	,canJump: function() {
		return this.character.canJump();
	}
	,onGround: function() {
		return this.character.onGround();
	}
	,setJumpSpeed: function(jumpSpeed) {
		this.character.setJumpSpeed(jumpSpeed);
	}
	,setFallSpeed: function(fallSpeed) {
		this.character.setFallSpeed(fallSpeed);
	}
	,setMaxSlope: function(slopeRadians) {
		this.character.setMaxSlope(slopeRadians);
		return;
	}
	,getMaxSlope: function() {
		return this.character.getMaxSlope();
	}
	,setMaxJumpHeight: function(maxJumpHeight) {
		this.character.setMaxJumpHeight(maxJumpHeight);
	}
	,setWalkDirection: function(walkDirection) {
		this.character.setWalkDirection(new Ammo.btVector3(walkDirection.x,walkDirection.y,walkDirection.z));
	}
	,setUpInterpolate: function(value) {
		this.character.setUpInterpolate(value);
	}
	,jump: function() {
		this.character.jump();
	}
	,removeFromWorld: function() {
		if(this.physics != null) {
			this.physics.removeKinematicCharacterController(this);
		}
	}
	,activate: function() {
		this.body.activate(false);
	}
	,disableGravity: function() {
		this.character.setGravity(0.0);
	}
	,enableGravity: function() {
		this.character.setGravity(Math.abs(this.physics.world.getGravity().z()) * 3.0);
	}
	,setGravity: function(f) {
		this.character.setGravity(f);
	}
	,setActivationState: function(newState) {
		this.body.setActivationState(newState);
	}
	,setFriction: function(f) {
		this.body.setFriction(f);
		this.body.setRollingFriction(f);
		this.friction = f;
	}
	,syncTransform: function() {
		var t = this.transform;
		t.buildMatrix();
		var trans = new Ammo.btTransform();
		trans.setOrigin(new Ammo.btVector3(t.world.self._30,t.world.self._31,t.world.self._32));
		var rot = t.world.getQuat();
		trans.setRotation(new Ammo.btQuaternion(rot.x,rot.y,rot.z,rot.w));
		if(this.currentScaleX != t.scale.x || this.currentScaleY != t.scale.y || this.currentScaleZ != t.scale.z) {
			this.setScale(t.scale);
		}
		this.activate();
	}
	,setScale: function(v) {
		this.currentScaleX = v.x;
		this.currentScaleY = v.y;
		this.currentScaleZ = v.z;
		if(this.isConvexHull) {
			this._shapeConvexHull.setLocalScaling(new Ammo.btVector3(this.bodyScaleX * v.x,this.bodyScaleY * v.y,this.bodyScaleZ * v.z));
		} else {
			this._shapeConvex.setLocalScaling(new Ammo.btVector3(this.bodyScaleX * v.x,this.bodyScaleY * v.y,this.bodyScaleZ * v.z));
		}
		this.physics.world.updateSingleAabb(this.body);
	}
	,addPointsToConvexHull: function(shape,scale,margin) {
		var positions = (js_Boot.__cast(this.object , iron_object_MeshObject)).data.geom.positions;
		var sx = scale.x * (1.0 - margin);
		var sy = scale.y * (1.0 - margin);
		var sz = scale.z * (1.0 - margin);
		var _g1 = 0;
		var _g = positions.length / 3 | 0;
		while(_g1 < _g) {
			var i = _g1++;
			shape.addPoint(new Ammo.btVector3(positions[i * 3] * sx,positions[i * 3 + 1] * sy,positions[i * 3 + 2] * sz),true);
		}
	}
	,__class__: armory_trait_physics_bullet_KinematicCharacterController
});
var armory_trait_physics_bullet_PhysicsConstraint = $hxClasses["armory.trait.physics.bullet.PhysicsConstraint"] = function(body1,body2,type,disableCollisions,breakingThreshold,limits) {
	this.con = null;
	iron_Trait.call(this);
	this.body1 = body1;
	this.body2 = body2;
	this.type = type;
	this.disableCollisions = disableCollisions;
	this.breakingThreshold = breakingThreshold;
	this.limits = limits;
	this.notifyOnInit($bind(this,this.init));
};
armory_trait_physics_bullet_PhysicsConstraint.__name__ = ["armory","trait","physics","bullet","PhysicsConstraint"];
armory_trait_physics_bullet_PhysicsConstraint.__super__ = iron_Trait;
armory_trait_physics_bullet_PhysicsConstraint.prototype = $extend(iron_Trait.prototype,{
	body1: null
	,body2: null
	,type: null
	,disableCollisions: null
	,breakingThreshold: null
	,limits: null
	,con: null
	,init: function() {
		var physics = armory_trait_physics_bullet_PhysicsWorld.active;
		var target1 = iron_Scene.active.getChild(this.body1);
		var target2 = iron_Scene.active.getChild(this.body2);
		if(target1 == null || target2 == null) {
			return;
		}
		var rb1 = target1.getTrait(armory_trait_physics_bullet_RigidBody);
		var rb2 = target2.getTrait(armory_trait_physics_bullet_RigidBody);
		if(rb1 != null && rb1.ready && rb2 != null && rb2.ready) {
			var t = this.object.transform;
			var t1 = target1.transform;
			var t2 = target2.transform;
			var p1 = new Ammo.btVector3(t.world.self._30 - t1.world.self._30,t.world.self._31 - t1.world.self._31,t.world.self._32 - t1.world.self._32);
			var p2 = new Ammo.btVector3(t.world.self._30 - t2.world.self._30,t.world.self._31 - t2.world.self._31,t.world.self._32 - t2.world.self._32);
			var tr1 = new Ammo.btTransform();
			tr1.setIdentity();
			tr1.setOrigin(p1);
			var tr2 = new Ammo.btTransform();
			tr2.setIdentity();
			tr2.setOrigin(p2);
			if(this.type == "GENERIC" || this.type == "FIXED" || this.type == "POINT") {
				var _r1 = rb1.body;
				var _r2 = rb2.body;
				var _fa = tr1;
				var _fb = tr2;
				var _b = false;
				var c = new Ammo.btGeneric6DofConstraint(_r1, _r2, _fa, _fb, _b);
				if(this.type == "POINT") {
					c.setLinearLowerLimit(new Ammo.btVector3(0,0,0));
					c.setLinearUpperLimit(new Ammo.btVector3(0,0,0));
				} else if(this.type == "FIXED") {
					c.setLinearLowerLimit(new Ammo.btVector3(0,0,0));
					c.setLinearUpperLimit(new Ammo.btVector3(0,0,0));
					c.setAngularLowerLimit(new Ammo.btVector3(0,0,0));
					c.setAngularUpperLimit(new Ammo.btVector3(0,0,0));
				} else {
					c.setLinearLowerLimit(new Ammo.btVector3(this.limits[1],this.limits[4],this.limits[7]));
					c.setLinearUpperLimit(new Ammo.btVector3(this.limits[2],this.limits[5],this.limits[8]));
					c.setAngularLowerLimit(new Ammo.btVector3(this.limits[10],this.limits[13],this.limits[16]));
					c.setAngularUpperLimit(new Ammo.btVector3(this.limits[11],this.limits[14],this.limits[17]));
				}
				this.con = c;
			} else if(this.type == "HINGE") {
				var axis = new Ammo.btVector3(0,0,1.0);
				var c1 = new Ammo.btHingeConstraint(rb1.body,rb2.body,p2,p1,axis,axis,false);
				this.con = c1;
			}
			if(this.breakingThreshold > 0) {
				this.con.setBreakingImpulseThreshold(this.breakingThreshold);
			}
			physics.world.addConstraint(this.con,this.disableCollisions);
		} else {
			this.notifyOnInit($bind(this,this.init));
		}
	}
	,__class__: armory_trait_physics_bullet_PhysicsConstraint
});
var armory_trait_physics_bullet_PhysicsHook = $hxClasses["armory.trait.physics.bullet.PhysicsHook"] = function(targetName,verts) {
	this.constraint = null;
	var _gthis = this;
	iron_Trait.call(this);
	this.targetName = targetName;
	this.verts = verts;
	iron_Scene.active.notifyOnInit(function() {
		_gthis.notifyOnInit($bind(_gthis,_gthis.init));
		_gthis.notifyOnUpdate($bind(_gthis,_gthis.update));
	});
};
armory_trait_physics_bullet_PhysicsHook.__name__ = ["armory","trait","physics","bullet","PhysicsHook"];
armory_trait_physics_bullet_PhysicsHook.__super__ = iron_Trait;
armory_trait_physics_bullet_PhysicsHook.prototype = $extend(iron_Trait.prototype,{
	target: null
	,targetName: null
	,targetTransform: null
	,verts: null
	,constraint: null
	,init: function() {
		this.target = this.targetName != "" ? iron_Scene.active.getChild(this.targetName) : null;
		this.targetTransform = this.target != null ? this.target.transform : this.object.transform;
		var physics = armory_trait_physics_bullet_PhysicsWorld.active;
		var rb1 = this.object.getTrait(armory_trait_physics_bullet_RigidBody);
		if(rb1 != null && rb1.ready) {
			var btrans = new Ammo.btTransform();
			btrans.setIdentity();
			var dx = this.targetTransform.world.self._30 - this.object.transform.world.self._30;
			var dy = this.targetTransform.world.self._31 - this.object.transform.world.self._31;
			var dz = this.targetTransform.world.self._32 - this.object.transform.world.self._32;
			btrans.setOrigin(new Ammo.btVector3(dx,dy,dz));
			this.constraint = new Ammo.btGeneric6DofConstraint(rb1.body,btrans,false);
			this.constraint.setLinearLowerLimit(new Ammo.btVector3(0,0,0));
			this.constraint.setLinearUpperLimit(new Ammo.btVector3(0,0,0));
			this.constraint.setAngularLowerLimit(new Ammo.btVector3(-10,-10,-10));
			this.constraint.setAngularUpperLimit(new Ammo.btVector3(10,10,10));
			physics.world.addConstraint(this.constraint,false);
			return;
		}
		this.notifyOnInit($bind(this,this.init));
	}
	,update: function() {
	}
	,__class__: armory_trait_physics_bullet_PhysicsHook
});
var armory_trait_physics_bullet_ContactPair = $hxClasses["armory.trait.physics.bullet.ContactPair"] = function(a,b) {
	this.a = a;
	this.b = b;
};
armory_trait_physics_bullet_ContactPair.__name__ = ["armory","trait","physics","bullet","ContactPair"];
armory_trait_physics_bullet_ContactPair.prototype = {
	a: null
	,b: null
	,posA: null
	,posB: null
	,nor: null
	,impulse: null
	,__class__: armory_trait_physics_bullet_ContactPair
};
var armory_trait_physics_bullet_PhysicsWorld = $hxClasses["armory.trait.physics.bullet.PhysicsWorld"] = function(timeScale,timeStep) {
	if(timeStep == null) {
		timeStep = 0.016666666666666666;
	}
	if(timeScale == null) {
		timeScale = 1.0;
	}
	this.pairCache = false;
	this.hitPointWorld = new iron_math_Vec4();
	this.maxSteps = 1;
	this.timeStep = 0.016666666666666666;
	this.timeScale = 1.0;
	this.preUpdates = null;
	iron_Trait.call(this);
	this.timeScale = timeScale;
	this.timeStep = timeStep;
	this.maxSteps = timeStep < 0.016666666666666666 ? 10 : 1;
	if(armory_trait_physics_bullet_PhysicsWorld.active == null) {
		this.createPhysics();
	} else {
		var rb = armory_trait_physics_bullet_PhysicsWorld.active.rbMap.iterator();
		while(rb.hasNext()) {
			var rb1 = rb.next();
			this.removeRigidBody(rb1);
		}
		this.world = armory_trait_physics_bullet_PhysicsWorld.active.world;
		this.dispatcher = armory_trait_physics_bullet_PhysicsWorld.active.dispatcher;
	}
	this.contacts = [];
	this.rbMap = new haxe_ds_IntMap();
	armory_trait_physics_bullet_PhysicsWorld.active = this;
	this.notifyOnLateUpdate($bind(this,this.lateUpdate));
	iron_Scene.active.notifyOnRemove($bind(this,this.reset));
};
armory_trait_physics_bullet_PhysicsWorld.__name__ = ["armory","trait","physics","bullet","PhysicsWorld"];
armory_trait_physics_bullet_PhysicsWorld.__super__ = iron_Trait;
armory_trait_physics_bullet_PhysicsWorld.prototype = $extend(iron_Trait.prototype,{
	world: null
	,dispatcher: null
	,contacts: null
	,preUpdates: null
	,rbMap: null
	,timeScale: null
	,timeStep: null
	,maxSteps: null
	,hitPointWorld: null
	,pairCache: null
	,reset: function() {
		var rb = armory_trait_physics_bullet_PhysicsWorld.active.rbMap.iterator();
		while(rb.hasNext()) {
			var rb1 = rb.next();
			this.removeRigidBody(rb1);
		}
	}
	,createPhysics: function() {
		var broadphase = new Ammo.btDbvtBroadphase();
		var collisionConfiguration = new Ammo.btDefaultCollisionConfiguration();
		this.dispatcher = new Ammo.btCollisionDispatcher(collisionConfiguration);
		var solver = new Ammo.btSequentialImpulseConstraintSolver();
		var g = iron_Scene.active.raw.gravity;
		var gravity = g == null ? new iron_math_Vec4(0,0,-9.81) : new iron_math_Vec4(g[0],g[1],g[2]);
		this.world = new Ammo.btDiscreteDynamicsWorld(this.dispatcher,broadphase,solver,collisionConfiguration);
		this.setGravity(gravity);
	}
	,setGravity: function(v) {
		this.world.setGravity(new Ammo.btVector3(v.x,v.y,v.z));
	}
	,addRigidBody: function(body) {
		this.world.addRigidBody(body.body,body.group,body.group);
		this.rbMap.h[body.id] = body;
	}
	,removeRigidBody: function(body) {
		if(this.world != null) {
			this.world.removeRigidBody(body.body);
		}
		this.rbMap.remove(body.id);
	}
	,addKinematicCharacterController: function(controller) {
		if(!this.pairCache) {
			this.world.getPairCache().setInternalGhostPairCallback(new Ammo.btGhostPairCallback());
			this.pairCache = true;
		}
		this.world.addAction(controller.character);
		this.world.addCollisionObject(controller.body,controller.group,controller.group);
	}
	,removeKinematicCharacterController: function(controller) {
		if(this.world != null) {
			this.world.removeCollisionObject(controller.body);
			this.world.removeAction(controller.character);
		}
		Ammo.destroy(controller.body);
	}
	,getContacts: function(body) {
		if(this.contacts.length == 0) {
			return null;
		}
		var res = [];
		var _g1 = 0;
		var _g = this.contacts.length;
		while(_g1 < _g) {
			var i = _g1++;
			var c = this.contacts[i];
			if(c.a == body.body.userIndex) {
				res.push(this.rbMap.h[c.b]);
			} else if(c.b == body.body.userIndex) {
				res.push(this.rbMap.h[c.a]);
			}
		}
		return res;
	}
	,getContactPairs: function(body) {
		if(this.contacts.length == 0) {
			return null;
		}
		var res = [];
		var _g1 = 0;
		var _g = this.contacts.length;
		while(_g1 < _g) {
			var i = _g1++;
			var c = this.contacts[i];
			if(c.a == body.body.userIndex) {
				res.push(c);
			} else if(c.b == body.body.userIndex) {
				res.push(c);
			}
		}
		return res;
	}
	,lateUpdate: function() {
		var startTime = kha_Scheduler.realTime();
		if(this.preUpdates != null) {
			var _g = 0;
			var _g1 = this.preUpdates;
			while(_g < _g1.length) {
				var f = _g1[_g];
				++_g;
				f();
			}
		}
		this.world.stepSimulation(this.timeStep,this.maxSteps,0.016666666666666666 * iron_system_Time.scale * this.timeScale);
		this.updateContacts();
		armory_trait_physics_bullet_PhysicsWorld.physTime = kha_Scheduler.realTime() - startTime;
	}
	,updateContacts: function() {
		this.contacts = [];
		var numManifolds = this.dispatcher.getNumManifolds();
		var _g1 = 0;
		var _g = numManifolds;
		while(_g1 < _g) {
			var i = _g1++;
			var contactManifold = this.dispatcher.getManifoldByIndexInternal(i);
			var obA = contactManifold.getBody0();
			var obB = contactManifold.getBody1();
			var bodyA = Ammo.btRigidBody.prototype.upcast(obA);
			var bodyB = Ammo.btRigidBody.prototype.upcast(obB);
			var cp = new armory_trait_physics_bullet_ContactPair(bodyA.userIndex,bodyB.userIndex);
			var numContacts = contactManifold.getNumContacts();
			var _g3 = 0;
			var _g2 = numContacts;
			while(_g3 < _g2) {
				var j = _g3++;
				var pt = contactManifold.getContactPoint(j);
				if(pt.getDistance() < 0) {
					var posA = pt.get_m_positionWorldOnA();
					var posB = pt.get_m_positionWorldOnB();
					var nor = pt.get_m_normalWorldOnB();
					cp.posA = new iron_math_Vec4(posA.x(),posA.y(),posA.z());
					cp.posB = new iron_math_Vec4(posB.x(),posB.y(),posB.z());
					cp.nor = new iron_math_Vec4(nor.x(),nor.y(),nor.z());
					cp.impulse = pt.getAppliedImpulse();
					this.contacts.push(cp);
					break;
				}
			}
		}
	}
	,pickClosest: function(inputX,inputY) {
		var camera = iron_Scene.active.camera;
		var start = new iron_math_Vec4();
		var end = new iron_math_Vec4();
		iron_math_RayCaster.getDirection(start,end,inputX,inputY,camera);
		var _this = camera.transform.world;
		return this.rayCast(new iron_math_Vec4(_this.self._30,_this.self._31,_this.self._32,_this.self._33),end);
	}
	,rayCast: function(from,to) {
		var rayFrom = new Ammo.btVector3(from.x,from.y,from.z);
		var rayTo = new Ammo.btVector3(to.x,to.y,to.z);
		var rayCallback = new Ammo.ClosestRayResultCallback(rayFrom,rayTo);
		this.world.rayTest(rayFrom,rayTo,rayCallback);
		if(rayCallback.hasHit()) {
			var co = rayCallback.get_m_collisionObject();
			var body = Ammo.btRigidBody.prototype.upcast(co);
			var hit = rayCallback.get_m_hitPointWorld();
			this.hitPointWorld.set(hit.x(),hit.y(),hit.z());
			return this.rbMap.h[body.userIndex];
		}
		return null;
	}
	,notifyOnPreUpdate: function(f) {
		if(this.preUpdates == null) {
			this.preUpdates = [];
		}
		this.preUpdates.push(f);
	}
	,removePreUpdate: function(f) {
		HxOverrides.remove(this.preUpdates,f);
	}
	,__class__: armory_trait_physics_bullet_PhysicsWorld
});
var armory_trait_physics_bullet_RigidBody = $hxClasses["armory.trait.physics.bullet.RigidBody"] = function(mass,shape,friction,restitution,collisionMargin,linearDamping,angularDamping,animated,linearFactors,angularFactors,group,trigger,deactivationParams) {
	if(trigger == null) {
		trigger = false;
	}
	if(group == null) {
		group = 1;
	}
	if(animated == null) {
		animated = false;
	}
	if(angularDamping == null) {
		angularDamping = 0.1;
	}
	if(linearDamping == null) {
		linearDamping = 0.04;
	}
	if(collisionMargin == null) {
		collisionMargin = 0.0;
	}
	if(restitution == null) {
		restitution = 0.0;
	}
	if(friction == null) {
		friction = 0.5;
	}
	if(shape == null) {
		shape = 0;
	}
	if(mass == null) {
		mass = 1.0;
	}
	this.onReady = null;
	this.id = 0;
	this.ready = false;
	this.body = null;
	this.trigger = false;
	this.group = 1;
	this.transform = null;
	this.isConvex = false;
	iron_Trait.call(this);
	this.mass = mass;
	this.shape = shape;
	this.friction = friction;
	this.restitution = restitution;
	this.collisionMargin = collisionMargin;
	this.linearDamping = linearDamping;
	this.angularDamping = angularDamping;
	this.animated = animated;
	this.linearFactors = linearFactors;
	this.angularFactors = angularFactors;
	this.group = group;
	this.trigger = trigger;
	this.deactivationParams = deactivationParams;
	this.notifyOnAdd($bind(this,this.init));
};
armory_trait_physics_bullet_RigidBody.__name__ = ["armory","trait","physics","bullet","RigidBody"];
armory_trait_physics_bullet_RigidBody.__super__ = iron_Trait;
armory_trait_physics_bullet_RigidBody.prototype = $extend(iron_Trait.prototype,{
	shape: null
	,_motionState: null
	,_shape: null
	,_shapeConvex: null
	,isConvex: null
	,physics: null
	,transform: null
	,mass: null
	,friction: null
	,restitution: null
	,collisionMargin: null
	,linearDamping: null
	,angularDamping: null
	,animated: null
	,linearFactors: null
	,angularFactors: null
	,deactivationParams: null
	,group: null
	,trigger: null
	,bodyScaleX: null
	,bodyScaleY: null
	,bodyScaleZ: null
	,currentScaleX: null
	,currentScaleY: null
	,currentScaleZ: null
	,body: null
	,ready: null
	,id: null
	,onReady: null
	,withMargin: function(f) {
		return f - f * this.collisionMargin;
	}
	,notifyOnReady: function(f) {
		this.onReady = f;
		if(this.ready) {
			this.onReady();
		}
	}
	,init: function() {
		if(this.ready) {
			return;
		}
		this.ready = true;
		if(!js_Boot.__instanceof(this.object,iron_object_MeshObject)) {
			return;
		}
		this.notifyOnLateUpdate($bind(this,this.lateUpdate));
		this.notifyOnRemove($bind(this,this.removeFromWorld));
		this.transform = this.object.transform;
		this.physics = armory_trait_physics_bullet_PhysicsWorld.active;
		this._shape = null;
		this._shapeConvex = null;
		this.isConvex = false;
		if(this.shape == 0) {
			var f = this.transform.dim.x / 2;
			var f1 = this.transform.dim.y / 2;
			var f2 = this.transform.dim.z / 2;
			this._shape = new Ammo.btBoxShape(new Ammo.btVector3(f - f * this.collisionMargin,f1 - f1 * this.collisionMargin,f2 - f2 * this.collisionMargin));
		} else if(this.shape == 1) {
			var f3 = this.transform.dim.x / 2;
			this._shape = new Ammo.btSphereShape(f3 - f3 * this.collisionMargin);
		} else if(this.shape == 2 || this.shape == 3 && this.mass > 0) {
			this._shapeConvex = new Ammo.btConvexHullShape();
			this.isConvex = true;
			this.addPointsToConvexHull(this._shapeConvex,this.transform.scale,this.collisionMargin);
		} else if(this.shape == 4) {
			var f4 = this.transform.dim.x / 2;
			var f5 = this.transform.dim.z;
			this._shape = new Ammo.btConeShapeZ(f4 - f4 * this.collisionMargin,f5 - f5 * this.collisionMargin);
		} else if(this.shape == 5) {
			var f6 = this.transform.dim.x / 2;
			var f7 = this.transform.dim.y / 2;
			var f8 = this.transform.dim.z / 2;
			this._shape = new Ammo.btCylinderShapeZ(new Ammo.btVector3(f6 - f6 * this.collisionMargin,f7 - f7 * this.collisionMargin,f8 - f8 * this.collisionMargin));
		} else if(this.shape == 6) {
			var r = this.transform.dim.x / 2;
			var f9 = this.transform.dim.z - r * 2;
			this._shape = new Ammo.btCapsuleShapeZ(r - r * this.collisionMargin,f9 - f9 * this.collisionMargin);
		} else if(this.shape == 3 || this.shape == 7) {
			var meshInterface = new Ammo.btTriangleMesh(true,true);
			this.fillTriangleMesh(meshInterface,this.transform.scale);
			this._shape = new Ammo.btBvhTriangleMeshShape(meshInterface,true,true);
		}
		var _transform = new Ammo.btTransform();
		_transform.setIdentity();
		_transform.setOrigin(new Ammo.btVector3(this.transform.world.self._30,this.transform.world.self._31,this.transform.world.self._32));
		var rot = this.transform.world.getQuat();
		_transform.setRotation(new Ammo.btQuaternion(rot.x,rot.y,rot.z,rot.w));
		var _centerOfMassOffset = new Ammo.btTransform();
		_centerOfMassOffset.setIdentity();
		this._motionState = new Ammo.btDefaultMotionState(_transform,_centerOfMassOffset);
		var _inertia = new Ammo.btVector3(0,0,0);
		if(!this.isConvex) {
			if(this.mass > 0) {
				this._shape.calculateLocalInertia(this.mass,_inertia);
			}
			var _bodyCI = new Ammo.btRigidBodyConstructionInfo(this.mass,this._motionState,this._shape,_inertia);
			this.body = new Ammo.btRigidBody(_bodyCI);
		} else {
			if(this.mass > 0) {
				this._shapeConvex.calculateLocalInertia(this.mass,_inertia);
			}
			var _bodyCI1 = new Ammo.btRigidBodyConstructionInfo(this.mass,this._motionState,this._shapeConvex,_inertia);
			this.body = new Ammo.btRigidBody(_bodyCI1);
		}
		this.body.setFriction(this.friction);
		this.body.setRollingFriction(this.friction);
		this.body.setRestitution(this.restitution);
		if(this.deactivationParams != null) {
			this.setDeactivationParams(this.deactivationParams[0],this.deactivationParams[1],this.deactivationParams[2]);
		} else {
			this.setActivationState(4);
		}
		if(this.linearDamping != 0.04 || this.angularDamping != 0.1) {
			this.body.setDamping(this.linearDamping,this.angularDamping);
		}
		if(this.linearFactors != null) {
			this.setLinearFactor(this.linearFactors[0],this.linearFactors[1],this.linearFactors[2]);
		}
		if(this.angularFactors != null) {
			this.setAngularFactor(this.angularFactors[0],this.angularFactors[1],this.angularFactors[2]);
		}
		if(this.trigger) {
			this.body.setCollisionFlags(this.body.getCollisionFlags() | 4);
		}
		this.bodyScaleX = this.currentScaleX = this.transform.scale.x;
		this.bodyScaleY = this.currentScaleY = this.transform.scale.y;
		this.bodyScaleZ = this.currentScaleZ = this.transform.scale.z;
		this.id = armory_trait_physics_bullet_RigidBody.nextId;
		armory_trait_physics_bullet_RigidBody.nextId++;
		this.body.userIndex = this.id;
		this.physics.addRigidBody(this);
		if(this.onReady != null) {
			this.onReady();
		}
	}
	,lateUpdate: function() {
		if(!this.ready) {
			return;
		}
		if(this.object.animation != null || this.animated) {
			this.syncTransform();
		} else {
			var trans = this.body.getWorldTransform();
			var p = trans.getOrigin();
			var q = trans.getRotation();
			this.transform.loc.set(p.x(),p.y(),p.z());
			var _this = this.transform.rot;
			var x = q.x();
			var y = q.y();
			var z = q.z();
			var w = q.w();
			_this.x = x;
			_this.y = y;
			_this.z = z;
			_this.w = w;
			if(this.object.parent != null) {
				var ptransform = this.object.parent.transform;
				this.transform.loc.x -= ptransform.world.self._30;
				this.transform.loc.y -= ptransform.world.self._31;
				this.transform.loc.z -= ptransform.world.self._32;
			}
			this.transform.buildMatrix();
		}
	}
	,removeFromWorld: function() {
		if(this.physics != null) {
			this.physics.removeRigidBody(this);
		}
	}
	,activate: function() {
		this.body.activate(false);
	}
	,disableGravity: function() {
		this.body.setGravity(new Ammo.btVector3(0,0,0));
	}
	,enableGravity: function() {
		this.body.setGravity(this.physics.world.getGravity());
	}
	,setGravity: function(v) {
		this.body.setGravity(new Ammo.btVector3(v.x,v.y,v.z));
	}
	,setActivationState: function(newState) {
		this.body.setActivationState(newState);
	}
	,setDeactivationParams: function(linearThreshold,angularThreshold,time) {
		this.body.setSleepingThresholds(linearThreshold,angularThreshold);
	}
	,applyForce: function(force,loc) {
		this.activate();
		if(loc == null) {
			this.body.applyCentralForce(new Ammo.btVector3(force.x,force.y,force.z));
		} else {
			this.body.applyForce(new Ammo.btVector3(force.x,force.y,force.z),new Ammo.btVector3(loc.x,loc.y,loc.z));
		}
	}
	,applyImpulse: function(impulse,loc) {
		this.activate();
		if(loc == null) {
			this.body.applyCentralImpulse(new Ammo.btVector3(impulse.x,impulse.y,impulse.z));
		} else {
			this.body.applyImpulse(new Ammo.btVector3(impulse.x,impulse.y,impulse.z),new Ammo.btVector3(loc.x,loc.y,loc.z));
		}
	}
	,setLinearFactor: function(x,y,z) {
		this.body.setLinearFactor(new Ammo.btVector3(x,y,z));
	}
	,setAngularFactor: function(x,y,z) {
		this.body.setAngularFactor(new Ammo.btVector3(x,y,z));
	}
	,getLinearVelocity: function() {
		var v = this.body.getLinearVelocity();
		return new iron_math_Vec4(v.x(),v.y(),v.z());
	}
	,setLinearVelocity: function(x,y,z) {
		this.body.setLinearVelocity(new Ammo.btVector3(x,y,z));
	}
	,getAngularVelocity: function() {
		var v = this.body.getAngularVelocity();
		return new iron_math_Vec4(v.x(),v.y(),v.z());
	}
	,setAngularVelocity: function(x,y,z) {
		this.body.setAngularVelocity(new Ammo.btVector3(x,y,z));
	}
	,setFriction: function(f) {
		this.body.setFriction(f);
		this.body.setRollingFriction(f);
		this.friction = f;
	}
	,syncTransform: function() {
		var t = this.transform;
		t.buildMatrix();
		var trans = new Ammo.btTransform();
		trans.setOrigin(new Ammo.btVector3(t.world.self._30,t.world.self._31,t.world.self._32));
		var rot = t.world.getQuat();
		trans.setRotation(new Ammo.btQuaternion(rot.x,rot.y,rot.z,rot.w));
		this.body.setCenterOfMassTransform(trans);
		if(this.currentScaleX != t.scale.x || this.currentScaleY != t.scale.y || this.currentScaleZ != t.scale.z) {
			this.setScale(t.scale);
		}
		this.activate();
	}
	,setScale: function(v) {
		this.currentScaleX = v.x;
		this.currentScaleY = v.y;
		this.currentScaleZ = v.z;
		if(this.isConvex) {
			this._shapeConvex.setLocalScaling(new Ammo.btVector3(this.bodyScaleX * v.x,this.bodyScaleY * v.y,this.bodyScaleZ * v.z));
		} else {
			this._shape.setLocalScaling(new Ammo.btVector3(this.bodyScaleX * v.x,this.bodyScaleY * v.y,this.bodyScaleZ * v.z));
		}
		this.physics.world.updateSingleAabb(this.body);
	}
	,addPointsToConvexHull: function(shape,scale,margin) {
		var positions = (js_Boot.__cast(this.object , iron_object_MeshObject)).data.geom.positions;
		var sx = scale.x * (1.0 - margin);
		var sy = scale.y * (1.0 - margin);
		var sz = scale.z * (1.0 - margin);
		var _g1 = 0;
		var _g = positions.length / 3 | 0;
		while(_g1 < _g) {
			var i = _g1++;
			shape.addPoint(new Ammo.btVector3(positions[i * 3] * sx,positions[i * 3 + 1] * sy,positions[i * 3 + 2] * sz),true);
		}
	}
	,fillTriangleMesh: function(triangleMesh,scale) {
		var positions = (js_Boot.__cast(this.object , iron_object_MeshObject)).data.geom.positions;
		var indices = (js_Boot.__cast(this.object , iron_object_MeshObject)).data.geom.indices;
		var _g = 0;
		while(_g < indices.length) {
			var ar = indices[_g];
			++_g;
			var _g2 = 0;
			var _g1 = ar.length / 3 | 0;
			while(_g2 < _g1) {
				var i = _g2++;
				triangleMesh.addTriangle(new Ammo.btVector3(positions[ar[i * 3] * 3] * scale.x,positions[ar[i * 3] * 3 + 1] * scale.y,positions[ar[i * 3] * 3 + 2] * scale.z),new Ammo.btVector3(positions[ar[i * 3 + 1] * 3] * scale.x,positions[ar[i * 3 + 1] * 3 + 1] * scale.y,positions[ar[i * 3 + 1] * 3 + 2] * scale.z),new Ammo.btVector3(positions[ar[i * 3 + 2] * 3] * scale.x,positions[ar[i * 3 + 2] * 3 + 1] * scale.y,positions[ar[i * 3 + 2] * 3 + 2] * scale.z));
			}
		}
	}
	,__class__: armory_trait_physics_bullet_RigidBody
});
var armory_trait_physics_bullet_SoftBody = $hxClasses["armory.trait.physics.bullet.SoftBody"] = function() {
	iron_Trait.call(this);
};
armory_trait_physics_bullet_SoftBody.__name__ = ["armory","trait","physics","bullet","SoftBody"];
armory_trait_physics_bullet_SoftBody.__super__ = iron_Trait;
armory_trait_physics_bullet_SoftBody.prototype = $extend(iron_Trait.prototype,{
	__class__: armory_trait_physics_bullet_SoftBody
});
var haxe_IMap = $hxClasses["haxe.IMap"] = function() { };
haxe_IMap.__name__ = ["haxe","IMap"];
haxe_IMap.prototype = {
	iterator: null
	,__class__: haxe_IMap
};
var haxe__$Int64__$_$_$Int64 = $hxClasses["haxe._Int64.___Int64"] = function(high,low) {
	this.high = high;
	this.low = low;
};
haxe__$Int64__$_$_$Int64.__name__ = ["haxe","_Int64","___Int64"];
haxe__$Int64__$_$_$Int64.prototype = {
	high: null
	,low: null
	,__class__: haxe__$Int64__$_$_$Int64
};
var haxe_Log = $hxClasses["haxe.Log"] = function() { };
haxe_Log.__name__ = ["haxe","Log"];
haxe_Log.trace = function(v,infos) {
	js_Boot.__trace(v,infos);
};
var haxe_Serializer = $hxClasses["haxe.Serializer"] = function() {
	this.buf = new StringBuf();
	this.cache = [];
	this.useCache = haxe_Serializer.USE_CACHE;
	this.useEnumIndex = haxe_Serializer.USE_ENUM_INDEX;
	this.shash = new haxe_ds_StringMap();
	this.scount = 0;
};
haxe_Serializer.__name__ = ["haxe","Serializer"];
haxe_Serializer.run = function(v) {
	var s = new haxe_Serializer();
	s.serialize(v);
	return s.toString();
};
haxe_Serializer.prototype = {
	buf: null
	,cache: null
	,shash: null
	,scount: null
	,useCache: null
	,useEnumIndex: null
	,toString: function() {
		return this.buf.b;
	}
	,serializeString: function(s) {
		var _this = this.shash;
		var x = __map_reserved[s] != null ? _this.getReserved(s) : _this.h[s];
		if(x != null) {
			this.buf.b += "R";
			this.buf.b += x == null ? "null" : "" + x;
			return;
		}
		var _this1 = this.shash;
		var value = this.scount++;
		if(__map_reserved[s] != null) {
			_this1.setReserved(s,value);
		} else {
			_this1.h[s] = value;
		}
		this.buf.b += "y";
		s = encodeURIComponent(s);
		this.buf.b += Std.string(s.length);
		this.buf.b += ":";
		this.buf.b += s == null ? "null" : "" + s;
	}
	,serializeRef: function(v) {
		var vt = typeof(v);
		var _g1 = 0;
		var _g = this.cache.length;
		while(_g1 < _g) {
			var i = _g1++;
			var ci = this.cache[i];
			if(typeof(ci) == vt && ci == v) {
				this.buf.b += "r";
				this.buf.b += i == null ? "null" : "" + i;
				return true;
			}
		}
		this.cache.push(v);
		return false;
	}
	,serializeFields: function(v) {
		var _g = 0;
		var _g1 = Reflect.fields(v);
		while(_g < _g1.length) {
			var f = _g1[_g];
			++_g;
			this.serializeString(f);
			this.serialize(Reflect.field(v,f));
		}
		this.buf.b += "g";
	}
	,serialize: function(v) {
		var _g = Type["typeof"](v);
		switch(_g[1]) {
		case 0:
			this.buf.b += "n";
			break;
		case 1:
			var v1 = v;
			if(v1 == 0) {
				this.buf.b += "z";
				return;
			}
			this.buf.b += "i";
			this.buf.b += v1 == null ? "null" : "" + v1;
			break;
		case 2:
			var v2 = v;
			if(isNaN(v2)) {
				this.buf.b += "k";
			} else if(!isFinite(v2)) {
				this.buf.b += v2 < 0 ? "m" : "p";
			} else {
				this.buf.b += "d";
				this.buf.b += v2 == null ? "null" : "" + v2;
			}
			break;
		case 3:
			this.buf.b += v ? "t" : "f";
			break;
		case 4:
			if(js_Boot.__instanceof(v,Class)) {
				var className = Type.getClassName(v);
				this.buf.b += "A";
				this.serializeString(className);
			} else if(js_Boot.__instanceof(v,Enum)) {
				this.buf.b += "B";
				this.serializeString(Type.getEnumName(v));
			} else {
				if(this.useCache && this.serializeRef(v)) {
					return;
				}
				this.buf.b += "o";
				this.serializeFields(v);
			}
			break;
		case 5:
			throw new js__$Boot_HaxeError("Cannot serialize function");
			break;
		case 6:
			var c = _g[2];
			if(c == String) {
				this.serializeString(v);
				return;
			}
			if(this.useCache && this.serializeRef(v)) {
				return;
			}
			switch(c) {
			case Array:
				var ucount = 0;
				this.buf.b += "a";
				var l = v["length"];
				var _g1 = 0;
				var _g2 = l;
				while(_g1 < _g2) {
					var i = _g1++;
					if(v[i] == null) {
						++ucount;
					} else {
						if(ucount > 0) {
							if(ucount == 1) {
								this.buf.b += "n";
							} else {
								this.buf.b += "u";
								this.buf.b += ucount == null ? "null" : "" + ucount;
							}
							ucount = 0;
						}
						this.serialize(v[i]);
					}
				}
				if(ucount > 0) {
					if(ucount == 1) {
						this.buf.b += "n";
					} else {
						this.buf.b += "u";
						this.buf.b += ucount == null ? "null" : "" + ucount;
					}
				}
				this.buf.b += "h";
				break;
			case Date:
				var d = v;
				this.buf.b += "v";
				this.buf.b += Std.string(d.getTime());
				break;
			case List:
				this.buf.b += "l";
				var v3 = v;
				var _g_head = v3.h;
				while(_g_head != null) {
					var val = _g_head.item;
					_g_head = _g_head.next;
					var i1 = val;
					this.serialize(i1);
				}
				this.buf.b += "h";
				break;
			case haxe_ds_IntMap:
				this.buf.b += "q";
				var v4 = v;
				var k = v4.keys();
				while(k.hasNext()) {
					var k1 = k.next();
					this.buf.b += ":";
					this.buf.b += k1 == null ? "null" : "" + k1;
					this.serialize(v4.h[k1]);
				}
				this.buf.b += "h";
				break;
			case haxe_ds_ObjectMap:
				this.buf.b += "M";
				var v5 = v;
				var k2 = v5.keys();
				while(k2.hasNext()) {
					var k3 = k2.next();
					var id = Reflect.field(k3,"__id__");
					Reflect.deleteField(k3,"__id__");
					this.serialize(k3);
					k3["__id__"] = id;
					this.serialize(v5.h[k3.__id__]);
				}
				this.buf.b += "h";
				break;
			case haxe_ds_StringMap:
				this.buf.b += "b";
				var v6 = v;
				var k4 = v6.keys();
				while(k4.hasNext()) {
					var k5 = k4.next();
					this.serializeString(k5);
					this.serialize(__map_reserved[k5] != null ? v6.getReserved(k5) : v6.h[k5]);
				}
				this.buf.b += "h";
				break;
			case haxe_io_Bytes:
				var v7 = v;
				this.buf.b += "s";
				this.buf.b += Std.string(Math.ceil(v7.length * 8 / 6));
				this.buf.b += ":";
				var i2 = 0;
				var max = v7.length - 2;
				var b64 = haxe_Serializer.BASE64_CODES;
				if(b64 == null) {
					var length = haxe_Serializer.BASE64.length;
					var this1 = new Array(length);
					b64 = this1;
					var _g11 = 0;
					var _g3 = haxe_Serializer.BASE64.length;
					while(_g11 < _g3) {
						var i3 = _g11++;
						b64[i3] = HxOverrides.cca(haxe_Serializer.BASE64,i3);
					}
					haxe_Serializer.BASE64_CODES = b64;
				}
				while(i2 < max) {
					var b1 = v7.b[i2++];
					var b2 = v7.b[i2++];
					var b3 = v7.b[i2++];
					this.buf.b += String.fromCharCode(b64[b1 >> 2]);
					this.buf.b += String.fromCharCode(b64[(b1 << 4 | b2 >> 4) & 63]);
					this.buf.b += String.fromCharCode(b64[(b2 << 2 | b3 >> 6) & 63]);
					this.buf.b += String.fromCharCode(b64[b3 & 63]);
				}
				if(i2 == max) {
					var b11 = v7.b[i2++];
					var b21 = v7.b[i2++];
					this.buf.b += String.fromCharCode(b64[b11 >> 2]);
					this.buf.b += String.fromCharCode(b64[(b11 << 4 | b21 >> 4) & 63]);
					this.buf.b += String.fromCharCode(b64[b21 << 2 & 63]);
				} else if(i2 == max + 1) {
					var b12 = v7.b[i2++];
					this.buf.b += String.fromCharCode(b64[b12 >> 2]);
					this.buf.b += String.fromCharCode(b64[b12 << 4 & 63]);
				}
				break;
			default:
				if(this.useCache) {
					this.cache.pop();
				}
				if(v.hxSerialize != null) {
					this.buf.b += "C";
					this.serializeString(Type.getClassName(c));
					if(this.useCache) {
						this.cache.push(v);
					}
					v.hxSerialize(this);
					this.buf.b += "g";
				} else {
					this.buf.b += "c";
					this.serializeString(Type.getClassName(c));
					if(this.useCache) {
						this.cache.push(v);
					}
					this.serializeFields(v);
				}
			}
			break;
		case 7:
			var e = _g[2];
			if(this.useCache) {
				if(this.serializeRef(v)) {
					return;
				}
				this.cache.pop();
			}
			this.buf.b += Std.string(this.useEnumIndex ? "j" : "w");
			this.serializeString(Type.getEnumName(e));
			if(this.useEnumIndex) {
				this.buf.b += ":";
				this.buf.b += Std.string(v[1]);
			} else {
				this.serializeString(v[0]);
			}
			this.buf.b += ":";
			var l1 = v["length"];
			this.buf.b += Std.string(l1 - 2);
			var _g12 = 2;
			var _g4 = l1;
			while(_g12 < _g4) {
				var i4 = _g12++;
				this.serialize(v[i4]);
			}
			if(this.useCache) {
				this.cache.push(v);
			}
			break;
		default:
			throw new js__$Boot_HaxeError("Cannot serialize " + Std.string(v));
		}
	}
	,__class__: haxe_Serializer
};
var haxe__$Unserializer_DefaultResolver = $hxClasses["haxe._Unserializer.DefaultResolver"] = function() {
};
haxe__$Unserializer_DefaultResolver.__name__ = ["haxe","_Unserializer","DefaultResolver"];
haxe__$Unserializer_DefaultResolver.prototype = {
	resolveClass: function(name) {
		return Type.resolveClass(name);
	}
	,resolveEnum: function(name) {
		return Type.resolveEnum(name);
	}
	,__class__: haxe__$Unserializer_DefaultResolver
};
var haxe_Unserializer = $hxClasses["haxe.Unserializer"] = function(buf) {
	this.buf = buf;
	this.length = buf.length;
	this.pos = 0;
	this.scache = [];
	this.cache = [];
	var r = haxe_Unserializer.DEFAULT_RESOLVER;
	if(r == null) {
		r = new haxe__$Unserializer_DefaultResolver();
		haxe_Unserializer.DEFAULT_RESOLVER = r;
	}
	this.resolver = r;
};
haxe_Unserializer.__name__ = ["haxe","Unserializer"];
haxe_Unserializer.initCodes = function() {
	var codes = [];
	var _g1 = 0;
	var _g = haxe_Unserializer.BASE64.length;
	while(_g1 < _g) {
		var i = _g1++;
		codes[haxe_Unserializer.BASE64.charCodeAt(i)] = i;
	}
	return codes;
};
haxe_Unserializer.run = function(v) {
	return new haxe_Unserializer(v).unserialize();
};
haxe_Unserializer.prototype = {
	buf: null
	,pos: null
	,length: null
	,cache: null
	,scache: null
	,resolver: null
	,readDigits: function() {
		var k = 0;
		var s = false;
		var fpos = this.pos;
		while(true) {
			var c = this.buf.charCodeAt(this.pos);
			if(c != c) {
				break;
			}
			if(c == 45) {
				if(this.pos != fpos) {
					break;
				}
				s = true;
				this.pos++;
				continue;
			}
			if(c < 48 || c > 57) {
				break;
			}
			k = k * 10 + (c - 48);
			this.pos++;
		}
		if(s) {
			k *= -1;
		}
		return k;
	}
	,readFloat: function() {
		var p1 = this.pos;
		while(true) {
			var c = this.buf.charCodeAt(this.pos);
			if(c != c) {
				break;
			}
			if(c >= 43 && c < 58 || c == 101 || c == 69) {
				this.pos++;
			} else {
				break;
			}
		}
		return parseFloat(HxOverrides.substr(this.buf,p1,this.pos - p1));
	}
	,unserializeObject: function(o) {
		while(true) {
			if(this.pos >= this.length) {
				throw new js__$Boot_HaxeError("Invalid object");
			}
			if(this.buf.charCodeAt(this.pos) == 103) {
				break;
			}
			var k = this.unserialize();
			if(typeof(k) != "string") {
				throw new js__$Boot_HaxeError("Invalid object key");
			}
			var v = this.unserialize();
			o[k] = v;
		}
		this.pos++;
	}
	,unserializeEnum: function(edecl,tag) {
		if(this.buf.charCodeAt(this.pos++) != 58) {
			throw new js__$Boot_HaxeError("Invalid enum format");
		}
		var nargs = this.readDigits();
		if(nargs == 0) {
			return Type.createEnum(edecl,tag);
		}
		var args = [];
		while(nargs-- > 0) args.push(this.unserialize());
		return Type.createEnum(edecl,tag,args);
	}
	,unserialize: function() {
		var _g = this.buf.charCodeAt(this.pos++);
		switch(_g) {
		case 65:
			var name = this.unserialize();
			var cl = this.resolver.resolveClass(name);
			if(cl == null) {
				throw new js__$Boot_HaxeError("Class not found " + name);
			}
			return cl;
		case 66:
			var name1 = this.unserialize();
			var e = this.resolver.resolveEnum(name1);
			if(e == null) {
				throw new js__$Boot_HaxeError("Enum not found " + name1);
			}
			return e;
		case 67:
			var name2 = this.unserialize();
			var cl1 = this.resolver.resolveClass(name2);
			if(cl1 == null) {
				throw new js__$Boot_HaxeError("Class not found " + name2);
			}
			var o = Type.createEmptyInstance(cl1);
			this.cache.push(o);
			o.hxUnserialize(this);
			if(this.buf.charCodeAt(this.pos++) != 103) {
				throw new js__$Boot_HaxeError("Invalid custom data");
			}
			return o;
		case 77:
			var h = new haxe_ds_ObjectMap();
			this.cache.push(h);
			var buf = this.buf;
			while(this.buf.charCodeAt(this.pos) != 104) {
				var s = this.unserialize();
				h.set(s,this.unserialize());
			}
			this.pos++;
			return h;
		case 82:
			var n = this.readDigits();
			if(n < 0 || n >= this.scache.length) {
				throw new js__$Boot_HaxeError("Invalid string reference");
			}
			return this.scache[n];
		case 97:
			var buf1 = this.buf;
			var a = [];
			this.cache.push(a);
			while(true) {
				var c = this.buf.charCodeAt(this.pos);
				if(c == 104) {
					this.pos++;
					break;
				}
				if(c == 117) {
					this.pos++;
					var n1 = this.readDigits();
					a[a.length + n1 - 1] = null;
				} else {
					a.push(this.unserialize());
				}
			}
			return a;
		case 98:
			var h1 = new haxe_ds_StringMap();
			this.cache.push(h1);
			var buf2 = this.buf;
			while(this.buf.charCodeAt(this.pos) != 104) {
				var s1 = this.unserialize();
				var value = this.unserialize();
				if(__map_reserved[s1] != null) {
					h1.setReserved(s1,value);
				} else {
					h1.h[s1] = value;
				}
			}
			this.pos++;
			return h1;
		case 99:
			var name3 = this.unserialize();
			var cl2 = this.resolver.resolveClass(name3);
			if(cl2 == null) {
				throw new js__$Boot_HaxeError("Class not found " + name3);
			}
			var o1 = Type.createEmptyInstance(cl2);
			this.cache.push(o1);
			this.unserializeObject(o1);
			return o1;
		case 100:
			return this.readFloat();
		case 102:
			return false;
		case 105:
			return this.readDigits();
		case 106:
			var name4 = this.unserialize();
			var edecl = this.resolver.resolveEnum(name4);
			if(edecl == null) {
				throw new js__$Boot_HaxeError("Enum not found " + name4);
			}
			this.pos++;
			var index = this.readDigits();
			var tag = edecl.__constructs__.slice()[index];
			if(tag == null) {
				throw new js__$Boot_HaxeError("Unknown enum index " + name4 + "@" + index);
			}
			var e1 = this.unserializeEnum(edecl,tag);
			this.cache.push(e1);
			return e1;
		case 107:
			return NaN;
		case 108:
			var l = new List();
			this.cache.push(l);
			var buf3 = this.buf;
			while(this.buf.charCodeAt(this.pos) != 104) l.add(this.unserialize());
			this.pos++;
			return l;
		case 109:
			return -Infinity;
		case 110:
			return null;
		case 111:
			var o2 = { };
			this.cache.push(o2);
			this.unserializeObject(o2);
			return o2;
		case 112:
			return Infinity;
		case 113:
			var h2 = new haxe_ds_IntMap();
			this.cache.push(h2);
			var buf4 = this.buf;
			var c1 = this.buf.charCodeAt(this.pos++);
			while(c1 == 58) {
				var i = this.readDigits();
				var value1 = this.unserialize();
				h2.h[i] = value1;
				c1 = this.buf.charCodeAt(this.pos++);
			}
			if(c1 != 104) {
				throw new js__$Boot_HaxeError("Invalid IntMap format");
			}
			return h2;
		case 114:
			var n2 = this.readDigits();
			if(n2 < 0 || n2 >= this.cache.length) {
				throw new js__$Boot_HaxeError("Invalid reference");
			}
			return this.cache[n2];
		case 115:
			var len = this.readDigits();
			var buf5 = this.buf;
			if(this.buf.charCodeAt(this.pos++) != 58 || this.length - this.pos < len) {
				throw new js__$Boot_HaxeError("Invalid bytes length");
			}
			var codes = haxe_Unserializer.CODES;
			if(codes == null) {
				codes = haxe_Unserializer.initCodes();
				haxe_Unserializer.CODES = codes;
			}
			var i1 = this.pos;
			var rest = len & 3;
			var size = (len >> 2) * 3 + (rest >= 2 ? rest - 1 : 0);
			var max = i1 + (len - rest);
			var bytes = new haxe_io_Bytes(new ArrayBuffer(size));
			var bpos = 0;
			while(i1 < max) {
				var c11 = codes[buf5.charCodeAt(i1++)];
				var c2 = codes[buf5.charCodeAt(i1++)];
				bytes.b[bpos++] = (c11 << 2 | c2 >> 4) & 255;
				var c3 = codes[buf5.charCodeAt(i1++)];
				bytes.b[bpos++] = (c2 << 4 | c3 >> 2) & 255;
				var c4 = codes[buf5.charCodeAt(i1++)];
				bytes.b[bpos++] = (c3 << 6 | c4) & 255;
			}
			if(rest >= 2) {
				var c12 = codes[buf5.charCodeAt(i1++)];
				var c21 = codes[buf5.charCodeAt(i1++)];
				bytes.b[bpos++] = (c12 << 2 | c21 >> 4) & 255;
				if(rest == 3) {
					var c31 = codes[buf5.charCodeAt(i1++)];
					bytes.b[bpos++] = (c21 << 4 | c31 >> 2) & 255;
				}
			}
			this.pos += len;
			this.cache.push(bytes);
			return bytes;
		case 116:
			return true;
		case 118:
			var d;
			if(this.buf.charCodeAt(this.pos) >= 48 && this.buf.charCodeAt(this.pos) <= 57 && this.buf.charCodeAt(this.pos + 1) >= 48 && this.buf.charCodeAt(this.pos + 1) <= 57 && this.buf.charCodeAt(this.pos + 2) >= 48 && this.buf.charCodeAt(this.pos + 2) <= 57 && this.buf.charCodeAt(this.pos + 3) >= 48 && this.buf.charCodeAt(this.pos + 3) <= 57 && this.buf.charCodeAt(this.pos + 4) == 45) {
				d = HxOverrides.strDate(HxOverrides.substr(this.buf,this.pos,19));
				this.pos += 19;
			} else {
				var t = this.readFloat();
				d = new Date(t);
			}
			this.cache.push(d);
			return d;
		case 119:
			var name5 = this.unserialize();
			var edecl1 = this.resolver.resolveEnum(name5);
			if(edecl1 == null) {
				throw new js__$Boot_HaxeError("Enum not found " + name5);
			}
			var e2 = this.unserializeEnum(edecl1,this.unserialize());
			this.cache.push(e2);
			return e2;
		case 120:
			throw js__$Boot_HaxeError.wrap(this.unserialize());
			break;
		case 121:
			var len1 = this.readDigits();
			if(this.buf.charCodeAt(this.pos++) != 58 || this.length - this.pos < len1) {
				throw new js__$Boot_HaxeError("Invalid string length");
			}
			var s2 = HxOverrides.substr(this.buf,this.pos,len1);
			this.pos += len1;
			s2 = decodeURIComponent(s2.split("+").join(" "));
			this.scache.push(s2);
			return s2;
		case 122:
			return 0;
		default:
		}
		this.pos--;
		throw new js__$Boot_HaxeError("Invalid char " + this.buf.charAt(this.pos) + " at position " + this.pos);
	}
	,__class__: haxe_Unserializer
};
var haxe_crypto_Adler32 = $hxClasses["haxe.crypto.Adler32"] = function() {
	this.a1 = 1;
	this.a2 = 0;
};
haxe_crypto_Adler32.__name__ = ["haxe","crypto","Adler32"];
haxe_crypto_Adler32.read = function(i) {
	var a = new haxe_crypto_Adler32();
	var a2a = i.readByte();
	var a2b = i.readByte();
	var a1a = i.readByte();
	var a1b = i.readByte();
	a.a1 = a1a << 8 | a1b;
	a.a2 = a2a << 8 | a2b;
	return a;
};
haxe_crypto_Adler32.prototype = {
	a1: null
	,a2: null
	,update: function(b,pos,len) {
		var a1 = this.a1;
		var a2 = this.a2;
		var _g1 = pos;
		var _g = pos + len;
		while(_g1 < _g) {
			var p = _g1++;
			var c = b.b[p];
			a1 = (a1 + c) % 65521;
			a2 = (a2 + a1) % 65521;
		}
		this.a1 = a1;
		this.a2 = a2;
	}
	,equals: function(a) {
		if(a.a1 == this.a1) {
			return a.a2 == this.a2;
		} else {
			return false;
		}
	}
	,__class__: haxe_crypto_Adler32
};
var haxe_ds_IntMap = $hxClasses["haxe.ds.IntMap"] = function() {
	this.h = { };
};
haxe_ds_IntMap.__name__ = ["haxe","ds","IntMap"];
haxe_ds_IntMap.__interfaces__ = [haxe_IMap];
haxe_ds_IntMap.prototype = {
	h: null
	,remove: function(key) {
		if(!this.h.hasOwnProperty(key)) {
			return false;
		}
		delete(this.h[key]);
		return true;
	}
	,keys: function() {
		var a = [];
		for( var key in this.h ) if(this.h.hasOwnProperty(key)) {
			a.push(key | 0);
		}
		return HxOverrides.iter(a);
	}
	,iterator: function() {
		return { ref : this.h, it : this.keys(), hasNext : function() {
			return this.it.hasNext();
		}, next : function() {
			var i = this.it.next();
			return this.ref[i];
		}};
	}
	,__class__: haxe_ds_IntMap
};
var haxe_ds_ObjectMap = $hxClasses["haxe.ds.ObjectMap"] = function() {
	this.h = { __keys__ : { }};
};
haxe_ds_ObjectMap.__name__ = ["haxe","ds","ObjectMap"];
haxe_ds_ObjectMap.__interfaces__ = [haxe_IMap];
haxe_ds_ObjectMap.assignId = function(obj) {
	return obj.__id__ = ++haxe_ds_ObjectMap.count;
};
haxe_ds_ObjectMap.getId = function(obj) {
	return obj.__id__;
};
haxe_ds_ObjectMap.prototype = {
	h: null
	,set: function(key,value) {
		var id = key.__id__ || (key.__id__ = ++haxe_ds_ObjectMap.count);
		this.h[id] = value;
		this.h.__keys__[id] = key;
	}
	,keys: function() {
		var a = [];
		for( var key in this.h.__keys__ ) {
		if(this.h.hasOwnProperty(key)) {
			a.push(this.h.__keys__[key]);
		}
		}
		return HxOverrides.iter(a);
	}
	,iterator: function() {
		return { ref : this.h, it : this.keys(), hasNext : function() {
			return this.it.hasNext();
		}, next : function() {
			var i = this.it.next();
			return this.ref[i.__id__];
		}};
	}
	,__class__: haxe_ds_ObjectMap
};
var haxe_ds__$StringMap_StringMapIterator = $hxClasses["haxe.ds._StringMap.StringMapIterator"] = function(map,keys) {
	this.map = map;
	this.keys = keys;
	this.index = 0;
	this.count = keys.length;
};
haxe_ds__$StringMap_StringMapIterator.__name__ = ["haxe","ds","_StringMap","StringMapIterator"];
haxe_ds__$StringMap_StringMapIterator.prototype = {
	map: null
	,keys: null
	,index: null
	,count: null
	,hasNext: function() {
		return this.index < this.count;
	}
	,next: function() {
		var _this = this.map;
		var key = this.keys[this.index++];
		if(__map_reserved[key] != null) {
			return _this.getReserved(key);
		} else {
			return _this.h[key];
		}
	}
	,__class__: haxe_ds__$StringMap_StringMapIterator
};
var haxe_ds_StringMap = $hxClasses["haxe.ds.StringMap"] = function() {
	this.h = { };
};
haxe_ds_StringMap.__name__ = ["haxe","ds","StringMap"];
haxe_ds_StringMap.__interfaces__ = [haxe_IMap];
haxe_ds_StringMap.prototype = {
	h: null
	,rh: null
	,setReserved: function(key,value) {
		if(this.rh == null) {
			this.rh = { };
		}
		this.rh["$" + key] = value;
	}
	,getReserved: function(key) {
		if(this.rh == null) {
			return null;
		} else {
			return this.rh["$" + key];
		}
	}
	,existsReserved: function(key) {
		if(this.rh == null) {
			return false;
		}
		return this.rh.hasOwnProperty("$" + key);
	}
	,remove: function(key) {
		if(__map_reserved[key] != null) {
			key = "$" + key;
			if(this.rh == null || !this.rh.hasOwnProperty(key)) {
				return false;
			}
			delete(this.rh[key]);
			return true;
		} else {
			if(!this.h.hasOwnProperty(key)) {
				return false;
			}
			delete(this.h[key]);
			return true;
		}
	}
	,keys: function() {
		return HxOverrides.iter(this.arrayKeys());
	}
	,arrayKeys: function() {
		var out = [];
		for( var key in this.h ) {
		if(this.h.hasOwnProperty(key)) {
			out.push(key);
		}
		}
		if(this.rh != null) {
			for( var key in this.rh ) {
			if(key.charCodeAt(0) == 36) {
				out.push(key.substr(1));
			}
			}
		}
		return out;
	}
	,iterator: function() {
		return new haxe_ds__$StringMap_StringMapIterator(this,this.arrayKeys());
	}
	,__class__: haxe_ds_StringMap
};
var haxe_io_Bytes = $hxClasses["haxe.io.Bytes"] = function(data) {
	this.length = data.byteLength;
	this.b = new Uint8Array(data);
	this.b.bufferValue = data;
	data.hxBytes = this;
	data.bytes = this.b;
};
haxe_io_Bytes.__name__ = ["haxe","io","Bytes"];
haxe_io_Bytes.alloc = function(length) {
	return new haxe_io_Bytes(new ArrayBuffer(length));
};
haxe_io_Bytes.ofString = function(s) {
	var a = [];
	var i = 0;
	while(i < s.length) {
		var c = s.charCodeAt(i++);
		if(55296 <= c && c <= 56319) {
			c = c - 55232 << 10 | s.charCodeAt(i++) & 1023;
		}
		if(c <= 127) {
			a.push(c);
		} else if(c <= 2047) {
			a.push(192 | c >> 6);
			a.push(128 | c & 63);
		} else if(c <= 65535) {
			a.push(224 | c >> 12);
			a.push(128 | c >> 6 & 63);
			a.push(128 | c & 63);
		} else {
			a.push(240 | c >> 18);
			a.push(128 | c >> 12 & 63);
			a.push(128 | c >> 6 & 63);
			a.push(128 | c & 63);
		}
	}
	return new haxe_io_Bytes(new Uint8Array(a).buffer);
};
haxe_io_Bytes.ofData = function(b) {
	var hb = b.hxBytes;
	if(hb != null) {
		return hb;
	}
	return new haxe_io_Bytes(b);
};
haxe_io_Bytes.fastGet = function(b,pos) {
	return b.bytes[pos];
};
haxe_io_Bytes.prototype = {
	length: null
	,b: null
	,data: null
	,blit: function(pos,src,srcpos,len) {
		if(pos < 0 || srcpos < 0 || len < 0 || pos + len > this.length || srcpos + len > src.length) {
			throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds);
		}
		if(srcpos == 0 && len == src.b.byteLength) {
			this.b.set(src.b,pos);
		} else {
			this.b.set(src.b.subarray(srcpos,srcpos + len),pos);
		}
	}
	,sub: function(pos,len) {
		if(pos < 0 || len < 0 || pos + len > this.length) {
			throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds);
		}
		return new haxe_io_Bytes(this.b.buffer.slice(pos + this.b.byteOffset,pos + this.b.byteOffset + len));
	}
	,getDouble: function(pos) {
		if(this.data == null) {
			this.data = new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength);
		}
		return this.data.getFloat64(pos,true);
	}
	,getFloat: function(pos) {
		if(this.data == null) {
			this.data = new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength);
		}
		return this.data.getFloat32(pos,true);
	}
	,setDouble: function(pos,v) {
		if(this.data == null) {
			this.data = new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength);
		}
		this.data.setFloat64(pos,v,true);
	}
	,setFloat: function(pos,v) {
		if(this.data == null) {
			this.data = new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength);
		}
		this.data.setFloat32(pos,v,true);
	}
	,getUInt16: function(pos) {
		if(this.data == null) {
			this.data = new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength);
		}
		return this.data.getUint16(pos,true);
	}
	,getInt32: function(pos) {
		if(this.data == null) {
			this.data = new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength);
		}
		return this.data.getInt32(pos,true);
	}
	,setInt32: function(pos,v) {
		if(this.data == null) {
			this.data = new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength);
		}
		this.data.setInt32(pos,v,true);
	}
	,getString: function(pos,len) {
		if(pos < 0 || len < 0 || pos + len > this.length) {
			throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds);
		}
		var s = "";
		var b = this.b;
		var fcc = String.fromCharCode;
		var i = pos;
		var max = pos + len;
		while(i < max) {
			var c = b[i++];
			if(c < 128) {
				if(c == 0) {
					break;
				}
				s += fcc(c);
			} else if(c < 224) {
				s += fcc((c & 63) << 6 | b[i++] & 127);
			} else if(c < 240) {
				var c2 = b[i++];
				s += fcc((c & 31) << 12 | (c2 & 127) << 6 | b[i++] & 127);
			} else {
				var c21 = b[i++];
				var c3 = b[i++];
				var u = (c & 15) << 18 | (c21 & 127) << 12 | (c3 & 127) << 6 | b[i++] & 127;
				s += fcc((u >> 10) + 55232);
				s += fcc(u & 1023 | 56320);
			}
		}
		return s;
	}
	,toString: function() {
		return this.getString(0,this.length);
	}
	,__class__: haxe_io_Bytes
};
var haxe_io_BytesBuffer = $hxClasses["haxe.io.BytesBuffer"] = function() {
	this.b = [];
};
haxe_io_BytesBuffer.__name__ = ["haxe","io","BytesBuffer"];
haxe_io_BytesBuffer.prototype = {
	b: null
	,getBytes: function() {
		var bytes = new haxe_io_Bytes(new Uint8Array(this.b).buffer);
		this.b = null;
		return bytes;
	}
	,__class__: haxe_io_BytesBuffer
};
var haxe_io_Input = $hxClasses["haxe.io.Input"] = function() { };
haxe_io_Input.__name__ = ["haxe","io","Input"];
haxe_io_Input.prototype = {
	bigEndian: null
	,readByte: function() {
		throw new js__$Boot_HaxeError("Not implemented");
	}
	,readBytes: function(s,pos,len) {
		var k = len;
		var b = s.b;
		if(pos < 0 || len < 0 || pos + len > s.length) {
			throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds);
		}
		try {
			while(k > 0) {
				b[pos] = this.readByte();
				++pos;
				--k;
			}
		} catch( eof ) {
			if (eof instanceof js__$Boot_HaxeError) eof = eof.val;
			if( js_Boot.__instanceof(eof,haxe_io_Eof) ) {
			} else throw(eof);
		}
		return len - k;
	}
	,set_bigEndian: function(b) {
		this.bigEndian = b;
		return b;
	}
	,readFullBytes: function(s,pos,len) {
		while(len > 0) {
			var k = this.readBytes(s,pos,len);
			if(k == 0) {
				throw new js__$Boot_HaxeError(haxe_io_Error.Blocked);
			}
			pos += k;
			len -= k;
		}
	}
	,read: function(nbytes) {
		var s = new haxe_io_Bytes(new ArrayBuffer(nbytes));
		var p = 0;
		while(nbytes > 0) {
			var k = this.readBytes(s,p,nbytes);
			if(k == 0) {
				throw new js__$Boot_HaxeError(haxe_io_Error.Blocked);
			}
			p += k;
			nbytes -= k;
		}
		return s;
	}
	,readFloat: function() {
		return haxe_io_FPHelper.i32ToFloat(this.readInt32());
	}
	,readInt8: function() {
		var n = this.readByte();
		if(n >= 128) {
			return n - 256;
		}
		return n;
	}
	,readInt16: function() {
		var ch1 = this.readByte();
		var ch2 = this.readByte();
		var n = this.bigEndian ? ch2 | ch1 << 8 : ch1 | ch2 << 8;
		if((n & 32768) != 0) {
			return n - 65536;
		}
		return n;
	}
	,readUInt16: function() {
		var ch1 = this.readByte();
		var ch2 = this.readByte();
		if(this.bigEndian) {
			return ch2 | ch1 << 8;
		} else {
			return ch1 | ch2 << 8;
		}
	}
	,readInt32: function() {
		var ch1 = this.readByte();
		var ch2 = this.readByte();
		var ch3 = this.readByte();
		var ch4 = this.readByte();
		if(this.bigEndian) {
			return ch4 | ch3 << 8 | ch2 << 16 | ch1 << 24;
		} else {
			return ch1 | ch2 << 8 | ch3 << 16 | ch4 << 24;
		}
	}
	,readString: function(len) {
		var b = new haxe_io_Bytes(new ArrayBuffer(len));
		this.readFullBytes(b,0,len);
		return b.toString();
	}
	,__class__: haxe_io_Input
	,__properties__: {set_bigEndian:"set_bigEndian"}
};
var haxe_io_BytesInput = $hxClasses["haxe.io.BytesInput"] = function(b,pos,len) {
	if(pos == null) {
		pos = 0;
	}
	if(len == null) {
		len = b.length - pos;
	}
	if(pos < 0 || len < 0 || pos + len > b.length) {
		throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds);
	}
	this.b = b.b;
	this.pos = pos;
	this.len = len;
	this.totlen = len;
};
haxe_io_BytesInput.__name__ = ["haxe","io","BytesInput"];
haxe_io_BytesInput.__super__ = haxe_io_Input;
haxe_io_BytesInput.prototype = $extend(haxe_io_Input.prototype,{
	b: null
	,pos: null
	,len: null
	,totlen: null
	,set_position: function(p) {
		if(p < 0) {
			p = 0;
		} else if(p > this.totlen) {
			p = this.totlen;
		}
		this.len = this.totlen - p;
		return this.pos = p;
	}
	,readByte: function() {
		if(this.len == 0) {
			throw new js__$Boot_HaxeError(new haxe_io_Eof());
		}
		this.len--;
		return this.b[this.pos++];
	}
	,readBytes: function(buf,pos,len) {
		if(pos < 0 || len < 0 || pos + len > buf.length) {
			throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds);
		}
		if(this.len == 0 && len > 0) {
			throw new js__$Boot_HaxeError(new haxe_io_Eof());
		}
		if(this.len < len) {
			len = this.len;
		}
		var b1 = this.b;
		var b2 = buf.b;
		var _g1 = 0;
		var _g = len;
		while(_g1 < _g) {
			var i = _g1++;
			b2[pos + i] = b1[this.pos + i];
		}
		this.pos += len;
		this.len -= len;
		return len;
	}
	,__class__: haxe_io_BytesInput
	,__properties__: $extend(haxe_io_Input.prototype.__properties__,{set_position:"set_position"})
});
var haxe_io_Output = $hxClasses["haxe.io.Output"] = function() { };
haxe_io_Output.__name__ = ["haxe","io","Output"];
haxe_io_Output.prototype = {
	bigEndian: null
	,writeByte: function(c) {
		throw new js__$Boot_HaxeError("Not implemented");
	}
	,writeBytes: function(s,pos,len) {
		if(pos < 0 || len < 0 || pos + len > s.length) {
			throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds);
		}
		var b = s.b;
		var k = len;
		while(k > 0) {
			this.writeByte(b[pos]);
			++pos;
			--k;
		}
		return len;
	}
	,write: function(s) {
		var l = s.length;
		var p = 0;
		while(l > 0) {
			var k = this.writeBytes(s,p,l);
			if(k == 0) {
				throw new js__$Boot_HaxeError(haxe_io_Error.Blocked);
			}
			p += k;
			l -= k;
		}
	}
	,writeFloat: function(x) {
		this.writeInt32(haxe_io_FPHelper.floatToI32(x));
	}
	,writeInt32: function(x) {
		if(this.bigEndian) {
			this.writeByte(x >>> 24);
			this.writeByte(x >> 16 & 255);
			this.writeByte(x >> 8 & 255);
			this.writeByte(x & 255);
		} else {
			this.writeByte(x & 255);
			this.writeByte(x >> 8 & 255);
			this.writeByte(x >> 16 & 255);
			this.writeByte(x >>> 24);
		}
	}
	,__class__: haxe_io_Output
};
var haxe_io_BytesOutput = $hxClasses["haxe.io.BytesOutput"] = function() {
	this.b = new haxe_io_BytesBuffer();
};
haxe_io_BytesOutput.__name__ = ["haxe","io","BytesOutput"];
haxe_io_BytesOutput.__super__ = haxe_io_Output;
haxe_io_BytesOutput.prototype = $extend(haxe_io_Output.prototype,{
	b: null
	,writeByte: function(c) {
		this.b.b.push(c);
	}
	,writeBytes: function(buf,pos,len) {
		var _this = this.b;
		if(pos < 0 || len < 0 || pos + len > buf.length) {
			throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds);
		}
		var b1 = _this.b;
		var b2 = buf.b;
		var _g1 = pos;
		var _g = pos + len;
		while(_g1 < _g) {
			var i = _g1++;
			_this.b.push(b2[i]);
		}
		return len;
	}
	,getBytes: function() {
		return this.b.getBytes();
	}
	,__class__: haxe_io_BytesOutput
});
var haxe_io_Eof = $hxClasses["haxe.io.Eof"] = function() {
};
haxe_io_Eof.__name__ = ["haxe","io","Eof"];
haxe_io_Eof.prototype = {
	toString: function() {
		return "Eof";
	}
	,__class__: haxe_io_Eof
};
var haxe_io_Error = $hxClasses["haxe.io.Error"] = { __ename__ : ["haxe","io","Error"], __constructs__ : ["Blocked","Overflow","OutsideBounds","Custom"] };
haxe_io_Error.Blocked = ["Blocked",0];
haxe_io_Error.Blocked.toString = $estr;
haxe_io_Error.Blocked.__enum__ = haxe_io_Error;
haxe_io_Error.Overflow = ["Overflow",1];
haxe_io_Error.Overflow.toString = $estr;
haxe_io_Error.Overflow.__enum__ = haxe_io_Error;
haxe_io_Error.OutsideBounds = ["OutsideBounds",2];
haxe_io_Error.OutsideBounds.toString = $estr;
haxe_io_Error.OutsideBounds.__enum__ = haxe_io_Error;
haxe_io_Error.Custom = function(e) { var $x = ["Custom",3,e]; $x.__enum__ = haxe_io_Error; $x.toString = $estr; return $x; };
var haxe_io_FPHelper = $hxClasses["haxe.io.FPHelper"] = function() { };
haxe_io_FPHelper.__name__ = ["haxe","io","FPHelper"];
haxe_io_FPHelper.i32ToFloat = function(i) {
	var sign = 1 - (i >>> 31 << 1);
	var exp = i >>> 23 & 255;
	var sig = i & 8388607;
	if(sig == 0 && exp == 0) {
		return 0.0;
	}
	return sign * (1 + Math.pow(2,-23) * sig) * Math.pow(2,exp - 127);
};
haxe_io_FPHelper.floatToI32 = function(f) {
	if(f == 0) {
		return 0;
	}
	var af = f < 0 ? -f : f;
	var exp = Math.floor(Math.log(af) / 0.6931471805599453);
	if(exp < -127) {
		exp = -127;
	} else if(exp > 128) {
		exp = 128;
	}
	var sig = Math.round((af / Math.pow(2,exp) - 1) * 8388608);
	if(sig == 8388608 && exp < 128) {
		sig = 0;
		++exp;
	}
	return (f < 0 ? -2147483648 : 0) | exp + 127 << 23 | sig;
};
haxe_io_FPHelper.i64ToDouble = function(low,high) {
	var sign = 1 - (high >>> 31 << 1);
	var exp = (high >> 20 & 2047) - 1023;
	var sig = (high & 1048575) * 4294967296. + (low >>> 31) * 2147483648. + (low & 2147483647);
	if(sig == 0 && exp == -1023) {
		return 0.0;
	}
	return sign * (1.0 + Math.pow(2,-52) * sig) * Math.pow(2,exp);
};
haxe_io_FPHelper.doubleToI64 = function(v) {
	var i64 = haxe_io_FPHelper.i64tmp;
	if(v == 0) {
		i64.low = 0;
		i64.high = 0;
	} else if(!isFinite(v)) {
		if(v > 0) {
			i64.low = 0;
			i64.high = 2146435072;
		} else {
			i64.low = 0;
			i64.high = -1048576;
		}
	} else {
		var av = v < 0 ? -v : v;
		var exp = Math.floor(Math.log(av) / 0.6931471805599453);
		var sig = Math.round((av / Math.pow(2,exp) - 1) * 4503599627370496.);
		var sig_l = sig | 0;
		var sig_h = sig / 4294967296.0 | 0;
		i64.low = sig_l;
		i64.high = (v < 0 ? -2147483648 : 0) | exp + 1023 << 20 | sig_h;
	}
	return i64;
};
var haxe_zip_ExtraField = $hxClasses["haxe.zip.ExtraField"] = { __ename__ : ["haxe","zip","ExtraField"], __constructs__ : ["FUnknown","FInfoZipUnicodePath","FUtf8"] };
haxe_zip_ExtraField.FUnknown = function(tag,bytes) { var $x = ["FUnknown",0,tag,bytes]; $x.__enum__ = haxe_zip_ExtraField; $x.toString = $estr; return $x; };
haxe_zip_ExtraField.FInfoZipUnicodePath = function(name,crc) { var $x = ["FInfoZipUnicodePath",1,name,crc]; $x.__enum__ = haxe_zip_ExtraField; $x.toString = $estr; return $x; };
haxe_zip_ExtraField.FUtf8 = ["FUtf8",2];
haxe_zip_ExtraField.FUtf8.toString = $estr;
haxe_zip_ExtraField.FUtf8.__enum__ = haxe_zip_ExtraField;
var haxe_zip_Huffman = $hxClasses["haxe.zip.Huffman"] = { __ename__ : ["haxe","zip","Huffman"], __constructs__ : ["Found","NeedBit","NeedBits"] };
haxe_zip_Huffman.Found = function(i) { var $x = ["Found",0,i]; $x.__enum__ = haxe_zip_Huffman; $x.toString = $estr; return $x; };
haxe_zip_Huffman.NeedBit = function(left,right) { var $x = ["NeedBit",1,left,right]; $x.__enum__ = haxe_zip_Huffman; $x.toString = $estr; return $x; };
haxe_zip_Huffman.NeedBits = function(n,table) { var $x = ["NeedBits",2,n,table]; $x.__enum__ = haxe_zip_Huffman; $x.toString = $estr; return $x; };
var haxe_zip_HuffTools = $hxClasses["haxe.zip.HuffTools"] = function() {
};
haxe_zip_HuffTools.__name__ = ["haxe","zip","HuffTools"];
haxe_zip_HuffTools.prototype = {
	treeDepth: function(t) {
		switch(t[1]) {
		case 0:
			return 0;
		case 1:
			var b = t[3];
			var a = t[2];
			var da = this.treeDepth(a);
			var db = this.treeDepth(b);
			return 1 + (da < db ? da : db);
		case 2:
			throw new js__$Boot_HaxeError("assert");
			break;
		}
	}
	,treeCompress: function(t) {
		var d = this.treeDepth(t);
		if(d == 0) {
			return t;
		}
		if(d == 1) {
			if(t[1] == 1) {
				var b = t[3];
				var a = t[2];
				return haxe_zip_Huffman.NeedBit(this.treeCompress(a),this.treeCompress(b));
			} else {
				throw new js__$Boot_HaxeError("assert");
			}
		}
		var size = 1 << d;
		var table = [];
		var _g1 = 0;
		var _g = size;
		while(_g1 < _g) {
			var i = _g1++;
			table.push(haxe_zip_Huffman.Found(-1));
		}
		this.treeWalk(table,0,0,d,t);
		return haxe_zip_Huffman.NeedBits(d,table);
	}
	,treeWalk: function(table,p,cd,d,t) {
		if(t[1] == 1) {
			var b = t[3];
			var a = t[2];
			if(d > 0) {
				this.treeWalk(table,p,cd + 1,d - 1,a);
				this.treeWalk(table,p | 1 << cd,cd + 1,d - 1,b);
			} else {
				table[p] = this.treeCompress(t);
			}
		} else {
			table[p] = this.treeCompress(t);
		}
	}
	,treeMake: function(bits,maxbits,v,len) {
		if(len > maxbits) {
			throw new js__$Boot_HaxeError("Invalid huffman");
		}
		var idx = v << 5 | len;
		if(bits.h.hasOwnProperty(idx)) {
			return haxe_zip_Huffman.Found(bits.h[idx]);
		}
		v <<= 1;
		++len;
		return haxe_zip_Huffman.NeedBit(this.treeMake(bits,maxbits,v,len),this.treeMake(bits,maxbits,v | 1,len));
	}
	,make: function(lengths,pos,nlengths,maxbits) {
		var counts = [];
		var tmp = [];
		if(maxbits > 32) {
			throw new js__$Boot_HaxeError("Invalid huffman");
		}
		var _g1 = 0;
		var _g = maxbits;
		while(_g1 < _g) {
			var i = _g1++;
			counts.push(0);
			tmp.push(0);
		}
		var _g11 = 0;
		var _g2 = nlengths;
		while(_g11 < _g2) {
			var i1 = _g11++;
			var p = lengths[i1 + pos];
			if(p >= maxbits) {
				throw new js__$Boot_HaxeError("Invalid huffman");
			}
			counts[p]++;
		}
		var code = 0;
		var _g12 = 1;
		var _g3 = maxbits - 1;
		while(_g12 < _g3) {
			var i2 = _g12++;
			code = code + counts[i2] << 1;
			tmp[i2] = code;
		}
		var bits = new haxe_ds_IntMap();
		var _g13 = 0;
		var _g4 = nlengths;
		while(_g13 < _g4) {
			var i3 = _g13++;
			var l = lengths[i3 + pos];
			if(l != 0) {
				var n = tmp[l - 1];
				tmp[l - 1] = n + 1;
				bits.h[n << 5 | l] = i3;
			}
		}
		return this.treeCompress(haxe_zip_Huffman.NeedBit(this.treeMake(bits,maxbits,0,1),this.treeMake(bits,maxbits,1,1)));
	}
	,__class__: haxe_zip_HuffTools
};
var haxe_zip__$InflateImpl_Window = $hxClasses["haxe.zip._InflateImpl.Window"] = function(hasCrc) {
	this.buffer = new haxe_io_Bytes(new ArrayBuffer(65536));
	this.pos = 0;
	if(hasCrc) {
		this.crc = new haxe_crypto_Adler32();
	}
};
haxe_zip__$InflateImpl_Window.__name__ = ["haxe","zip","_InflateImpl","Window"];
haxe_zip__$InflateImpl_Window.prototype = {
	buffer: null
	,pos: null
	,crc: null
	,slide: function() {
		if(this.crc != null) {
			this.crc.update(this.buffer,0,32768);
		}
		var b = new haxe_io_Bytes(new ArrayBuffer(65536));
		this.pos -= 32768;
		b.blit(0,this.buffer,32768,this.pos);
		this.buffer = b;
	}
	,addBytes: function(b,p,len) {
		if(this.pos + len > 65536) {
			this.slide();
		}
		this.buffer.blit(this.pos,b,p,len);
		this.pos += len;
	}
	,addByte: function(c) {
		if(this.pos == 65536) {
			this.slide();
		}
		this.buffer.b[this.pos] = c & 255;
		this.pos++;
	}
	,getLastChar: function() {
		return this.buffer.b[this.pos - 1];
	}
	,available: function() {
		return this.pos;
	}
	,checksum: function() {
		if(this.crc != null) {
			this.crc.update(this.buffer,0,this.pos);
		}
		return this.crc;
	}
	,__class__: haxe_zip__$InflateImpl_Window
};
var haxe_zip__$InflateImpl_State = $hxClasses["haxe.zip._InflateImpl.State"] = { __ename__ : ["haxe","zip","_InflateImpl","State"], __constructs__ : ["Head","Block","CData","Flat","Crc","Dist","DistOne","Done"] };
haxe_zip__$InflateImpl_State.Head = ["Head",0];
haxe_zip__$InflateImpl_State.Head.toString = $estr;
haxe_zip__$InflateImpl_State.Head.__enum__ = haxe_zip__$InflateImpl_State;
haxe_zip__$InflateImpl_State.Block = ["Block",1];
haxe_zip__$InflateImpl_State.Block.toString = $estr;
haxe_zip__$InflateImpl_State.Block.__enum__ = haxe_zip__$InflateImpl_State;
haxe_zip__$InflateImpl_State.CData = ["CData",2];
haxe_zip__$InflateImpl_State.CData.toString = $estr;
haxe_zip__$InflateImpl_State.CData.__enum__ = haxe_zip__$InflateImpl_State;
haxe_zip__$InflateImpl_State.Flat = ["Flat",3];
haxe_zip__$InflateImpl_State.Flat.toString = $estr;
haxe_zip__$InflateImpl_State.Flat.__enum__ = haxe_zip__$InflateImpl_State;
haxe_zip__$InflateImpl_State.Crc = ["Crc",4];
haxe_zip__$InflateImpl_State.Crc.toString = $estr;
haxe_zip__$InflateImpl_State.Crc.__enum__ = haxe_zip__$InflateImpl_State;
haxe_zip__$InflateImpl_State.Dist = ["Dist",5];
haxe_zip__$InflateImpl_State.Dist.toString = $estr;
haxe_zip__$InflateImpl_State.Dist.__enum__ = haxe_zip__$InflateImpl_State;
haxe_zip__$InflateImpl_State.DistOne = ["DistOne",6];
haxe_zip__$InflateImpl_State.DistOne.toString = $estr;
haxe_zip__$InflateImpl_State.DistOne.__enum__ = haxe_zip__$InflateImpl_State;
haxe_zip__$InflateImpl_State.Done = ["Done",7];
haxe_zip__$InflateImpl_State.Done.toString = $estr;
haxe_zip__$InflateImpl_State.Done.__enum__ = haxe_zip__$InflateImpl_State;
var haxe_zip_InflateImpl = $hxClasses["haxe.zip.InflateImpl"] = function(i,header,crc) {
	if(crc == null) {
		crc = true;
	}
	if(header == null) {
		header = true;
	}
	this["final"] = false;
	this.htools = new haxe_zip_HuffTools();
	this.huffman = this.buildFixedHuffman();
	this.huffdist = null;
	this.len = 0;
	this.dist = 0;
	this.state = header ? haxe_zip__$InflateImpl_State.Head : haxe_zip__$InflateImpl_State.Block;
	this.input = i;
	this.bits = 0;
	this.nbits = 0;
	this.needed = 0;
	this.output = null;
	this.outpos = 0;
	this.lengths = [];
	var _g = 0;
	while(_g < 19) {
		var i1 = _g++;
		this.lengths.push(-1);
	}
	this.window = new haxe_zip__$InflateImpl_Window(crc);
};
haxe_zip_InflateImpl.__name__ = ["haxe","zip","InflateImpl"];
haxe_zip_InflateImpl.prototype = {
	nbits: null
	,bits: null
	,state: null
	,'final': null
	,huffman: null
	,huffdist: null
	,htools: null
	,len: null
	,dist: null
	,needed: null
	,output: null
	,outpos: null
	,input: null
	,lengths: null
	,window: null
	,buildFixedHuffman: function() {
		if(haxe_zip_InflateImpl.FIXED_HUFFMAN != null) {
			return haxe_zip_InflateImpl.FIXED_HUFFMAN;
		}
		var a = [];
		var _g = 0;
		while(_g < 288) {
			var n = _g++;
			a.push(n <= 143 ? 8 : n <= 255 ? 9 : n <= 279 ? 7 : 8);
		}
		haxe_zip_InflateImpl.FIXED_HUFFMAN = this.htools.make(a,0,288,10);
		return haxe_zip_InflateImpl.FIXED_HUFFMAN;
	}
	,readBytes: function(b,pos,len) {
		this.needed = len;
		this.outpos = pos;
		this.output = b;
		if(len > 0) {
			while(this.inflateLoop()) {
			}
		}
		return len - this.needed;
	}
	,getBits: function(n) {
		while(this.nbits < n) {
			this.bits |= this.input.readByte() << this.nbits;
			this.nbits += 8;
		}
		var b = this.bits & (1 << n) - 1;
		this.nbits -= n;
		this.bits >>= n;
		return b;
	}
	,getBit: function() {
		if(this.nbits == 0) {
			this.nbits = 8;
			this.bits = this.input.readByte();
		}
		var b = (this.bits & 1) == 1;
		this.nbits--;
		this.bits >>= 1;
		return b;
	}
	,getRevBits: function(n) {
		if(n == 0) {
			return 0;
		} else if(this.getBit()) {
			return 1 << n - 1 | this.getRevBits(n - 1);
		} else {
			return this.getRevBits(n - 1);
		}
	}
	,resetBits: function() {
		this.bits = 0;
		this.nbits = 0;
	}
	,addBytes: function(b,p,len) {
		this.window.addBytes(b,p,len);
		this.output.blit(this.outpos,b,p,len);
		this.needed -= len;
		this.outpos += len;
	}
	,addByte: function(b) {
		this.window.addByte(b);
		this.output.b[this.outpos] = b & 255;
		this.needed--;
		this.outpos++;
	}
	,addDistOne: function(n) {
		var c = this.window.getLastChar();
		var _g1 = 0;
		var _g = n;
		while(_g1 < _g) {
			var i = _g1++;
			this.addByte(c);
		}
	}
	,addDist: function(d,len) {
		this.addBytes(this.window.buffer,this.window.pos - d,len);
	}
	,applyHuffman: function(h) {
		switch(h[1]) {
		case 0:
			var n = h[2];
			return n;
		case 1:
			var b = h[3];
			var a = h[2];
			return this.applyHuffman(this.getBit() ? b : a);
		case 2:
			var tbl = h[3];
			var n1 = h[2];
			return this.applyHuffman(tbl[this.getBits(n1)]);
		}
	}
	,inflateLengths: function(a,max) {
		var i = 0;
		var prev = 0;
		while(i < max) {
			var n = this.applyHuffman(this.huffman);
			switch(n) {
			case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:
				prev = n;
				a[i] = n;
				++i;
				break;
			case 16:
				var end = i + 3 + this.getBits(2);
				if(end > max) {
					throw new js__$Boot_HaxeError("Invalid data");
				}
				while(i < end) {
					a[i] = prev;
					++i;
				}
				break;
			case 17:
				i += 3 + this.getBits(3);
				if(i > max) {
					throw new js__$Boot_HaxeError("Invalid data");
				}
				break;
			case 18:
				i += 11 + this.getBits(7);
				if(i > max) {
					throw new js__$Boot_HaxeError("Invalid data");
				}
				break;
			default:
				throw new js__$Boot_HaxeError("Invalid data");
			}
		}
	}
	,inflateLoop: function() {
		var _g = this.state;
		switch(_g[1]) {
		case 0:
			var cmf = this.input.readByte();
			var cm = cmf & 15;
			var cinfo = cmf >> 4;
			if(cm != 8) {
				throw new js__$Boot_HaxeError("Invalid data");
			}
			var flg = this.input.readByte();
			var fdict = (flg & 32) != 0;
			if(((cmf << 8) + flg) % 31 != 0) {
				throw new js__$Boot_HaxeError("Invalid data");
			}
			if(fdict) {
				throw new js__$Boot_HaxeError("Unsupported dictionary");
			}
			this.state = haxe_zip__$InflateImpl_State.Block;
			return true;
		case 1:
			this["final"] = this.getBit();
			var _g1 = this.getBits(2);
			switch(_g1) {
			case 0:
				this.len = this.input.readUInt16();
				var nlen = this.input.readUInt16();
				if(nlen != 65535 - this.len) {
					throw new js__$Boot_HaxeError("Invalid data");
				}
				this.state = haxe_zip__$InflateImpl_State.Flat;
				var r = this.inflateLoop();
				this.resetBits();
				return r;
			case 1:
				this.huffman = this.buildFixedHuffman();
				this.huffdist = null;
				this.state = haxe_zip__$InflateImpl_State.CData;
				return true;
			case 2:
				var hlit = this.getBits(5) + 257;
				var hdist = this.getBits(5) + 1;
				var hclen = this.getBits(4) + 4;
				var _g11 = 0;
				var _g2 = hclen;
				while(_g11 < _g2) {
					var i = _g11++;
					this.lengths[haxe_zip_InflateImpl.CODE_LENGTHS_POS[i]] = this.getBits(3);
				}
				var _g3 = hclen;
				while(_g3 < 19) {
					var i1 = _g3++;
					this.lengths[haxe_zip_InflateImpl.CODE_LENGTHS_POS[i1]] = 0;
				}
				this.huffman = this.htools.make(this.lengths,0,19,8);
				var lengths = [];
				var _g12 = 0;
				var _g4 = hlit + hdist;
				while(_g12 < _g4) {
					var i2 = _g12++;
					lengths.push(0);
				}
				this.inflateLengths(lengths,hlit + hdist);
				this.huffdist = this.htools.make(lengths,hlit,hdist,16);
				this.huffman = this.htools.make(lengths,0,hlit,16);
				this.state = haxe_zip__$InflateImpl_State.CData;
				return true;
			default:
				throw new js__$Boot_HaxeError("Invalid data");
			}
			break;
		case 2:
			var n = this.applyHuffman(this.huffman);
			if(n < 256) {
				this.addByte(n);
				return this.needed > 0;
			} else if(n == 256) {
				this.state = this["final"] ? haxe_zip__$InflateImpl_State.Crc : haxe_zip__$InflateImpl_State.Block;
				return true;
			} else {
				n -= 257;
				var extra_bits = haxe_zip_InflateImpl.LEN_EXTRA_BITS_TBL[n];
				if(extra_bits == -1) {
					throw new js__$Boot_HaxeError("Invalid data");
				}
				this.len = haxe_zip_InflateImpl.LEN_BASE_VAL_TBL[n] + this.getBits(extra_bits);
				var dist_code = this.huffdist == null ? this.getRevBits(5) : this.applyHuffman(this.huffdist);
				extra_bits = haxe_zip_InflateImpl.DIST_EXTRA_BITS_TBL[dist_code];
				if(extra_bits == -1) {
					throw new js__$Boot_HaxeError("Invalid data");
				}
				this.dist = haxe_zip_InflateImpl.DIST_BASE_VAL_TBL[dist_code] + this.getBits(extra_bits);
				if(this.dist > this.window.available()) {
					throw new js__$Boot_HaxeError("Invalid data");
				}
				this.state = this.dist == 1 ? haxe_zip__$InflateImpl_State.DistOne : haxe_zip__$InflateImpl_State.Dist;
				return true;
			}
			break;
		case 3:
			var rlen = this.len < this.needed ? this.len : this.needed;
			var bytes = this.input.read(rlen);
			this.len -= rlen;
			this.addBytes(bytes,0,rlen);
			if(this.len == 0) {
				this.state = this["final"] ? haxe_zip__$InflateImpl_State.Crc : haxe_zip__$InflateImpl_State.Block;
			}
			return this.needed > 0;
		case 4:
			var calc = this.window.checksum();
			if(calc == null) {
				this.state = haxe_zip__$InflateImpl_State.Done;
				return true;
			}
			var crc = haxe_crypto_Adler32.read(this.input);
			if(!calc.equals(crc)) {
				throw new js__$Boot_HaxeError("Invalid CRC");
			}
			this.state = haxe_zip__$InflateImpl_State.Done;
			return true;
		case 5:
			while(this.len > 0 && this.needed > 0) {
				var rdist = this.len < this.dist ? this.len : this.dist;
				var rlen1 = this.needed < rdist ? this.needed : rdist;
				this.addDist(this.dist,rlen1);
				this.len -= rlen1;
			}
			if(this.len == 0) {
				this.state = haxe_zip__$InflateImpl_State.CData;
			}
			return this.needed > 0;
		case 6:
			var rlen2 = this.len < this.needed ? this.len : this.needed;
			this.addDistOne(rlen2);
			this.len -= rlen2;
			if(this.len == 0) {
				this.state = haxe_zip__$InflateImpl_State.CData;
			}
			return this.needed > 0;
		case 7:
			return false;
		}
	}
	,__class__: haxe_zip_InflateImpl
};
var haxe_zip_Reader = $hxClasses["haxe.zip.Reader"] = function(i) {
	this.i = i;
};
haxe_zip_Reader.__name__ = ["haxe","zip","Reader"];
haxe_zip_Reader.readZip = function(i) {
	var r = new haxe_zip_Reader(i);
	return r.read();
};
haxe_zip_Reader.unzip = function(f) {
	if(!f.compressed) {
		return f.data;
	}
	var c = new haxe_zip_Uncompress(-15);
	var s = new haxe_io_Bytes(new ArrayBuffer(f.fileSize));
	var r = c.execute(f.data,0,s,0);
	c.close();
	if(!r.done || r.read != f.data.length || r.write != f.fileSize) {
		throw new js__$Boot_HaxeError("Invalid compressed data for " + f.fileName);
	}
	f.compressed = false;
	f.dataSize = f.fileSize;
	f.data = s;
	return f.data;
};
haxe_zip_Reader.prototype = {
	i: null
	,readZipDate: function() {
		var t = this.i.readUInt16();
		var hour = t >> 11 & 31;
		var min = t >> 5 & 63;
		var sec = t & 31;
		var d = this.i.readUInt16();
		var year = d >> 9;
		var month = d >> 5 & 15;
		var day = d & 31;
		return new Date(year + 1980,month - 1,day,hour,min,sec << 1);
	}
	,readExtraFields: function(length) {
		var fields = new List();
		while(length > 0) {
			if(length < 4) {
				throw new js__$Boot_HaxeError("Invalid extra fields data");
			}
			var tag = this.i.readUInt16();
			var len = this.i.readUInt16();
			if(length < len) {
				throw new js__$Boot_HaxeError("Invalid extra fields data");
			}
			if(tag == 28789) {
				var version = this.i.readByte();
				if(version != 1) {
					var data = new haxe_io_BytesBuffer();
					data.b.push(version);
					var src = this.i.read(len - 1);
					var b1 = data.b;
					var b2 = src.b;
					var _g1 = 0;
					var _g = src.length;
					while(_g1 < _g) {
						var i = _g1++;
						data.b.push(b2[i]);
					}
					fields.add(haxe_zip_ExtraField.FUnknown(tag,data.getBytes()));
				} else {
					var crc = this.i.readInt32();
					var name = this.i.read(len - 5).toString();
					fields.add(haxe_zip_ExtraField.FInfoZipUnicodePath(name,crc));
				}
			} else {
				fields.add(haxe_zip_ExtraField.FUnknown(tag,this.i.read(len)));
			}
			length -= 4 + len;
		}
		return fields;
	}
	,readEntryHeader: function() {
		var i = this.i;
		var h = i.readInt32();
		if(h == 33639248 || h == 101010256) {
			return null;
		}
		if(h != 67324752) {
			throw new js__$Boot_HaxeError("Invalid Zip Data");
		}
		var version = i.readUInt16();
		var flags = i.readUInt16();
		var utf8 = (flags & 2048) != 0;
		if((flags & 63473) != 0) {
			throw new js__$Boot_HaxeError("Unsupported flags " + flags);
		}
		var compression = i.readUInt16();
		var compressed = compression != 0;
		if(compressed && compression != 8) {
			throw new js__$Boot_HaxeError("Unsupported compression " + compression);
		}
		var mtime = this.readZipDate();
		var crc32 = i.readInt32();
		var csize = i.readInt32();
		var usize = i.readInt32();
		var fnamelen = i.readInt16();
		var elen = i.readInt16();
		var fname = i.readString(fnamelen);
		var fields = this.readExtraFields(elen);
		if(utf8) {
			fields.push(haxe_zip_ExtraField.FUtf8);
		}
		var data = null;
		if((flags & 8) != 0) {
			crc32 = null;
		}
		return { fileName : fname, fileSize : usize, fileTime : mtime, compressed : compressed, dataSize : csize, data : data, crc32 : crc32, extraFields : fields};
	}
	,read: function() {
		var l = new List();
		var buf = null;
		var tmp = null;
		while(true) {
			var e = this.readEntryHeader();
			if(e == null) {
				break;
			}
			if(e.crc32 == null) {
				if(e.compressed) {
					var bufSize = 65536;
					if(tmp == null) {
						tmp = new haxe_io_Bytes(new ArrayBuffer(bufSize));
					}
					var out = new haxe_io_BytesBuffer();
					var z = new haxe_zip_InflateImpl(this.i,false,false);
					while(true) {
						var n = z.readBytes(tmp,0,bufSize);
						if(n < 0 || n > tmp.length) {
							throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds);
						}
						var b1 = out.b;
						var b2 = tmp.b;
						var _g1 = 0;
						var _g = n;
						while(_g1 < _g) {
							var i = _g1++;
							out.b.push(b2[i]);
						}
						if(n < bufSize) {
							break;
						}
					}
					e.data = out.getBytes();
				} else {
					e.data = this.i.read(e.dataSize);
				}
				e.crc32 = this.i.readInt32();
				if(e.crc32 == 134695760) {
					e.crc32 = this.i.readInt32();
				}
				e.dataSize = this.i.readInt32();
				e.fileSize = this.i.readInt32();
				e.dataSize = e.fileSize;
				e.compressed = false;
			} else {
				e.data = this.i.read(e.dataSize);
			}
			l.add(e);
		}
		return l;
	}
	,__class__: haxe_zip_Reader
};
var haxe_zip_Uncompress = $hxClasses["haxe.zip.Uncompress"] = function(windowBits) {
	throw new js__$Boot_HaxeError("Not implemented for this platform");
};
haxe_zip_Uncompress.__name__ = ["haxe","zip","Uncompress"];
haxe_zip_Uncompress.prototype = {
	execute: function(src,srcPos,dst,dstPos) {
		return null;
	}
	,close: function() {
	}
	,__class__: haxe_zip_Uncompress
};
var iron_RenderPath = $hxClasses["iron.RenderPath"] = function() {
	this.depthBuffers = [];
	this.currentMaterial = null;
	this.depthToRenderTarget = new haxe_ds_StringMap();
	this.renderTargets = new haxe_ds_StringMap();
	this.commands = null;
	this.cachedShaderContexts = new haxe_ds_StringMap();
	this.loading = 0;
	this.paused = false;
	this.lastFrameTime = 0.0;
	this.viewportScaled = false;
	this.scissorSet = false;
	this.lastH = 0;
	this.lastW = 0;
	this.currentLampIndex = 0;
	this.frameTime = 0.0;
	this.frameScissorH = 0;
	this.frameScissorW = 0;
	this.frameScissorY = 0;
	this.frameScissorX = 0;
	this.frameScissor = false;
};
iron_RenderPath.__name__ = ["iron","RenderPath"];
iron_RenderPath.setActive = function(renderPath) {
	iron_RenderPath.active = renderPath;
};
iron_RenderPath.sortMeshes = function(meshes,camera) {
	var camX = camera.transform.world.self._30;
	var camY = camera.transform.world.self._31;
	var camZ = camera.transform.world.self._32;
	var _g = 0;
	while(_g < meshes.length) {
		var mesh = meshes[_g];
		++_g;
		var vx = camX - mesh.transform.world.self._30;
		var vy = camY - mesh.transform.world.self._31;
		var vz = camZ - mesh.transform.world.self._32;
		mesh.cameraDistance = Math.sqrt(vx * vx + vy * vy + vz * vz);
	}
	meshes.sort(function(a,b) {
		if(a.cameraDistance >= b.cameraDistance) {
			return 1;
		} else {
			return -1;
		}
	});
};
iron_RenderPath.notifyOnContext = function(name,onContext) {
	if(iron_RenderPath.contextEvents == null) {
		iron_RenderPath.contextEvents = new haxe_ds_StringMap();
	}
	var _this = iron_RenderPath.contextEvents;
	var ar = __map_reserved[name] != null ? _this.getReserved(name) : _this.h[name];
	if(ar == null) {
		ar = [];
		var _this1 = iron_RenderPath.contextEvents;
		if(__map_reserved[name] != null) {
			_this1.setReserved(name,ar);
		} else {
			_this1.h[name] = ar;
		}
	}
	ar.push(onContext);
};
iron_RenderPath.prototype = {
	frameScissor: null
	,frameScissorX: null
	,frameScissorY: null
	,frameScissorW: null
	,frameScissorH: null
	,frameTime: null
	,currentCube: null
	,currentFace: null
	,currentLampIndex: null
	,currentW: null
	,currentH: null
	,currentD: null
	,lastW: null
	,lastH: null
	,bindParams: null
	,meshesSorted: null
	,scissorSet: null
	,viewportScaled: null
	,currentG: null
	,frameG: null
	,lastFrameTime: null
	,paused: null
	,ready: null
	,get_ready: function() {
		return this.loading == 0;
	}
	,loading: null
	,cachedShaderContexts: null
	,commands: null
	,renderTargets: null
	,depthToRenderTarget: null
	,lampCastShadow: function() {
		return (iron_Scene.active.lamps.length > 0 ? iron_Scene.active.lamps[this.currentLampIndex] : null).data.raw.cast_shadow;
	}
	,lampIsSun: function() {
		return (iron_Scene.active.lamps.length > 0 ? iron_Scene.active.lamps[this.currentLampIndex] : null).data.raw.type == "sun";
	}
	,getLamp: function(index) {
		if(iron_Scene.active.lamps.length > 0) {
			return iron_Scene.active.lamps[index];
		} else {
			return null;
		}
	}
	,renderFrame: function(g) {
		if(!this.get_ready() || this.paused || kha_System.windowWidth() == 0 || kha_System.windowHeight() == 0) {
			return;
		}
		if(this.lastW > 0 && (this.lastW != kha_System.windowWidth() || this.lastH != kha_System.windowHeight())) {
			this.resize();
		}
		this.lastW = kha_System.windowWidth();
		this.lastH = kha_System.windowHeight();
		this.frameTime = kha_Scheduler.time() - this.lastFrameTime;
		this.lastFrameTime = kha_Scheduler.time();
		iron_RenderPath.drawCalls = 0;
		iron_RenderPath.batchBuckets = 0;
		iron_RenderPath.batchCalls = 0;
		iron_RenderPath.culled = 0;
		iron_RenderPath.numTrisMesh = 0;
		iron_RenderPath.numTrisShadow = 0;
		this.frameG = iron_Scene.active.camera == null || iron_Scene.active.camera.data.renderTarget == null ? g : iron_Scene.active.camera.data.renderTarget.get_g4();
		this.currentG = this.frameG;
		this.currentW = kha_System.windowWidth();
		this.currentH = kha_System.windowHeight();
		this.currentD = 1;
		this.currentCube = false;
		this.currentFace = -1;
		this.meshesSorted = false;
		this.currentLampIndex = 0;
		var _g = 0;
		var _g1 = iron_Scene.active.lamps;
		while(_g < _g1.length) {
			var l = _g1[_g];
			++_g;
			if(l.visible) {
				l.buildMatrices(iron_Scene.active.camera);
			}
		}
		this.commands();
	}
	,setTarget: function(target,additional,viewportScale) {
		if(viewportScale == null) {
			viewportScale = 1.0;
		}
		if(target == "") {
			this.currentG = this.frameG;
			this.currentW = kha_System.windowWidth();
			this.currentH = kha_System.windowHeight();
			this.currentD = 1;
			this.currentCube = false;
			this.currentFace = -1;
			if(this.frameScissor) {
				this.setFrameScissor();
			}
			var g = this.currentG;
			g.begin(null);
		} else {
			var _this = this.renderTargets;
			var rt = __map_reserved[target] != null ? _this.getReserved(target) : _this.h[target];
			var additionalImages = null;
			if(additional != null) {
				additionalImages = [];
				var _g = 0;
				while(_g < additional.length) {
					var s = additional[_g];
					++_g;
					var _this1 = this.renderTargets;
					var t = __map_reserved[s] != null ? _this1.getReserved(s) : _this1.h[s];
					additionalImages.push(t.image);
				}
			}
			this.currentG = rt.isCubeMap ? rt.cubeMap.get_g4() : rt.image.get_g4();
			this.currentW = rt.isCubeMap ? rt.cubeMap.get_width() : rt.image.get_width();
			this.currentH = rt.isCubeMap ? rt.cubeMap.get_height() : rt.image.get_height();
			if(rt.is3D) {
				this.currentD = rt.image.get_depth();
			}
			this.currentCube = rt.isCubeMap;
			var g1 = this.currentG;
			var face = this.currentFace;
			if(face >= 0) {
				g1.beginFace(5 - face);
			} else {
				g1.begin(additionalImages);
			}
		}
		if(viewportScale != 1.0) {
			this.viewportScaled = true;
			var viewW = this.currentW * viewportScale | 0;
			var viewH = this.currentH * viewportScale | 0;
			this.currentG.viewport(0,viewH,viewW,viewH);
			this.currentG.scissor(0,viewH,viewW,viewH);
		} else if(this.viewportScaled) {
			this.viewportScaled = false;
			this.setCurrentViewport(this.currentW,this.currentH);
			this.setCurrentScissor(this.currentW,this.currentH);
		}
		this.bindParams = null;
	}
	,begin: function(g,additionalRenderTargets,face) {
		if(face == null) {
			face = -1;
		}
		if(face >= 0) {
			g.beginFace(5 - face);
		} else {
			g.begin(additionalRenderTargets);
		}
	}
	,end: function(g) {
		g.end();
		if(this.scissorSet) {
			g.disableScissor();
			this.scissorSet = false;
		}
		this.bindParams = null;
	}
	,setCurrentViewport: function(viewW,viewH) {
		this.currentG.viewport(0,this.currentH - viewH,viewW,viewH);
	}
	,setCurrentScissor: function(viewW,viewH) {
		this.currentG.scissor(0,this.currentH - viewH,viewW,viewH);
		this.scissorSet = true;
	}
	,setFrameScissor: function() {
		this.frameG.scissor(this.frameScissorX,this.currentH - (this.frameScissorH - this.frameScissorY),this.frameScissorW,this.frameScissorH);
	}
	,setViewport: function(viewW,viewH) {
		this.setCurrentViewport(viewW,viewH);
		this.setCurrentScissor(viewW,viewH);
	}
	,clearTarget: function(colorFlag,depthFlag) {
		if(colorFlag == -1 && iron_Scene.active.world != null) {
			colorFlag = iron_Scene.active.world.raw.background_color;
		}
		this.currentG.clear(colorFlag,depthFlag,null);
	}
	,clearImage: function(target,color) {
		var _this = this.renderTargets;
		var rt = __map_reserved[target] != null ? _this.getReserved(target) : _this.h[target];
		rt.image.clear(0,0,0,rt.image.get_width(),rt.image.get_height(),rt.image.get_depth(),color);
	}
	,generateMipmaps: function(target) {
		var _this = this.renderTargets;
		var rt = __map_reserved[target] != null ? _this.getReserved(target) : _this.h[target];
		rt.image.generateMipmaps(1000);
	}
	,drawMeshes: function(context) {
		var lamp = iron_Scene.active.lamps.length > 0 ? iron_Scene.active.lamps[this.currentLampIndex] : null;
		if(lamp != null && !lamp.visible) {
			if(this.currentLampIndex > 0) {
				return;
			}
		}
		var isShadows = context == "shadowmap";
		if(isShadows) {
			if(lamp == null || !lamp.data.raw.cast_shadow) {
				return;
			}
		}
		if(this.currentFace >= 0 && lamp != null) {
			lamp.setCubeFace(5 - this.currentFace,iron_Scene.active.camera);
		}
		var g = this.currentG;
		var drawn = false;
		if(isShadows && lamp.data.raw.type == "sun") {
			var step = this.currentH;
			var _g1 = 0;
			var _g = iron_object_LampObject.cascadeCount;
			while(_g1 < _g) {
				var i = _g1++;
				lamp.setCascade(iron_Scene.active.camera,i);
				g.viewport(i * step,0,step,step);
				this.submitDraw(context);
			}
			drawn = true;
		}
		if(!drawn) {
			this.submitDraw(context);
		}
		if(iron_RenderPath.contextEvents != null) {
			var _this = iron_RenderPath.contextEvents;
			var ar = __map_reserved[context] != null ? _this.getReserved(context) : _this.h[context];
			if(ar != null) {
				var _g11 = 0;
				var _g2 = ar.length;
				while(_g11 < _g2) {
					var i1 = _g11++;
					ar[i1](g,i1,ar.length);
				}
			}
		}
		g.end();
		if(this.scissorSet) {
			g.disableScissor();
			this.scissorSet = false;
		}
		this.bindParams = null;
	}
	,submitDraw: function(context) {
		var lamp = iron_Scene.active.lamps.length > 0 ? iron_Scene.active.lamps[this.currentLampIndex] : null;
		var g = this.currentG;
		if(!this.meshesSorted && iron_Scene.active.camera != null) {
			iron_RenderPath.sortMeshes(iron_Scene.active.meshes,iron_Scene.active.camera);
			this.meshesSorted = true;
		}
		var _g = 0;
		var _g1 = iron_Scene.active.meshes;
		while(_g < _g1.length) {
			var m = _g1[_g];
			++_g;
			m.render(g,context,iron_Scene.active.camera,lamp,this.bindParams);
		}
	}
	,getRectContexts: function(mat,context,materialContexts,shaderContexts) {
		var _g1 = 0;
		var _g = mat.raw.contexts.length;
		while(_g1 < _g) {
			var i = _g1++;
			if(HxOverrides.substr(mat.raw.contexts[i].name,0,context.length) == context) {
				materialContexts.push(mat.contexts[i]);
				shaderContexts.push(mat.shader.getContext(context));
				break;
			}
		}
	}
	,clampRect: function(f) {
		if(f < -1.0) {
			return -1.0;
		} else if(f > 1.0) {
			return 1.0;
		} else {
			return f;
		}
	}
	,currentMaterial: null
	,drawRects: function(context) {
		if(iron_data_ConstData.rectVB == null) {
			iron_data_ConstData.createRectData();
		}
		var g = this.currentG;
		var lamp = iron_Scene.active.lamps.length > 0 ? iron_Scene.active.lamps[this.currentLampIndex] : null;
		var mats = [];
		var volumesMin = [];
		var volumesMax = [];
		var _g = 0;
		var _g1 = iron_Scene.active.meshes;
		while(_g < _g1.length) {
			var m = _g1[_g];
			++_g;
			var found = false;
			var _g3 = 0;
			var _g2 = mats.length;
			while(_g3 < _g2) {
				var i = _g3++;
				var mat = mats[i];
				if(mat == m.materials[0]) {
					var loc = new iron_math_Vec4(m.transform.world.self._30,m.transform.world.self._31,m.transform.world.self._32);
					var dim = m.transform.dim;
					var min = volumesMin[i];
					var max = volumesMax[i];
					if(min.x > loc.x - dim.x / 2.0) {
						min.x = loc.x - dim.x / 2.0;
					}
					if(min.y > loc.y - dim.y / 2.0) {
						min.y = loc.y - dim.y / 2.0;
					}
					if(min.z > loc.z - dim.z / 2.0) {
						min.z = loc.z - dim.z / 2.0;
					}
					if(max.x < loc.x + dim.x / 2.0) {
						max.x = loc.x + dim.x / 2.0;
					}
					if(max.y < loc.y + dim.y / 2.0) {
						max.y = loc.y + dim.y / 2.0;
					}
					if(max.z < loc.z + dim.z / 2.0) {
						max.z = loc.z + dim.z / 2.0;
					}
					found = true;
					break;
				}
			}
			if(found) {
				continue;
			}
			var loc1 = new iron_math_Vec4(m.transform.world.self._30,m.transform.world.self._31,m.transform.world.self._32);
			var dim1 = m.transform.dim;
			volumesMin.push(new iron_math_Vec4(loc1.x - dim1.x / 2.0,loc1.y - dim1.y / 2.0,loc1.z - dim1.z / 2.0));
			volumesMax.push(new iron_math_Vec4(loc1.x + dim1.x / 2.0,loc1.y + dim1.y / 2.0,loc1.z + dim1.z / 2.0));
			mats.push(m.materials[0]);
		}
		var rectBounds = [];
		var _g11 = 0;
		var _g4 = volumesMin.length;
		while(_g11 < _g4) {
			var i1 = _g11++;
			var min1 = volumesMin[i1];
			var max1 = volumesMax[i1];
			var dx = max1.x - min1.x;
			var dy = max1.y - min1.y;
			var dz = max1.z - min1.z;
			var ps = [];
			ps.push(new iron_math_Vec4(min1.x,min1.y,min1.z));
			ps.push(new iron_math_Vec4(min1.x + dx,min1.y,min1.z));
			ps.push(new iron_math_Vec4(min1.x,min1.y + dy,min1.z));
			ps.push(new iron_math_Vec4(min1.x,min1.y,min1.z + dz));
			ps.push(new iron_math_Vec4(min1.x + dx,min1.y + dy,min1.z));
			ps.push(new iron_math_Vec4(min1.x,min1.y + dy,min1.z + dz));
			ps.push(new iron_math_Vec4(min1.x + dx,min1.y,min1.z + dz));
			ps.push(new iron_math_Vec4(min1.x + dx,min1.y + dy,min1.z + dz));
			iron_RenderPath.helpMat.setFrom(iron_Scene.active.camera.V);
			iron_RenderPath.helpMat.multmat2(iron_Scene.active.camera.P);
			var b = null;
			var _g21 = 0;
			while(_g21 < ps.length) {
				var v = ps[_g21];
				++_g21;
				v.applymat4(iron_RenderPath.helpMat);
				v.x /= v.w;
				v.y /= v.w;
				v.z /= v.w;
				if(b == null) {
					b = new iron_math_Vec4(v.x,v.y,v.x,v.y);
				} else {
					if(v.x < b.x) {
						b.x = v.x;
					}
					if(v.y < b.y) {
						b.y = v.y;
					}
					if(v.x > b.z) {
						b.z = v.x;
					}
					if(v.y > b.w) {
						b.w = v.y;
					}
				}
			}
			rectBounds.push(b);
		}
		g.setIndexBuffer(iron_data_ConstData.rectIB);
		var _g12 = 0;
		var _g5 = mats.length;
		while(_g12 < _g5) {
			var i2 = _g12++;
			var mat1 = mats[i2];
			var b1 = rectBounds[i2];
			var dx1 = b1.z - b1.x;
			var dy1 = b1.w - b1.y;
			var v1 = iron_data_ConstData.rectVB.lock();
			var f = b1.x;
			v1[0] = f < -1.0 ? -1.0 : f > 1.0 ? 1.0 : f;
			var f1 = b1.y;
			v1[1] = f1 < -1.0 ? -1.0 : f1 > 1.0 ? 1.0 : f1;
			var f2 = b1.x + dx1;
			v1[2] = f2 < -1.0 ? -1.0 : f2 > 1.0 ? 1.0 : f2;
			var f3 = b1.y;
			v1[3] = f3 < -1.0 ? -1.0 : f3 > 1.0 ? 1.0 : f3;
			var f4 = b1.x + dx1;
			v1[4] = f4 < -1.0 ? -1.0 : f4 > 1.0 ? 1.0 : f4;
			var f5 = b1.y + dy1;
			v1[5] = f5 < -1.0 ? -1.0 : f5 > 1.0 ? 1.0 : f5;
			var f6 = b1.x;
			v1[6] = f6 < -1.0 ? -1.0 : f6 > 1.0 ? 1.0 : f6;
			var f7 = b1.y + dy1;
			v1[7] = f7 < -1.0 ? -1.0 : f7 > 1.0 ? 1.0 : f7;
			iron_data_ConstData.rectVB.unlock();
			g.setVertexBuffer(iron_data_ConstData.rectVB);
			this.currentMaterial = mat1;
			var materialContexts = [];
			var shaderContexts = [];
			this.getRectContexts(mat1,context,materialContexts,shaderContexts);
			g.setPipeline(mat1.shader.getContext(context).pipeState);
			iron_object_Uniforms.setConstants(g,shaderContexts[0],null,iron_Scene.active.camera,lamp,this.bindParams);
			iron_object_Uniforms.setMaterialConstants(g,shaderContexts[0],materialContexts[0]);
			g.drawIndexedVertices();
		}
		this.currentMaterial = null;
		g.end();
		if(this.scissorSet) {
			g.disableScissor();
			this.scissorSet = false;
		}
		this.bindParams = null;
	}
	,drawDecals: function(context) {
		if(iron_data_ConstData.boxVB == null) {
			iron_data_ConstData.createBoxData();
		}
		var g = this.currentG;
		var lamp = iron_Scene.active.lamps.length > 0 ? iron_Scene.active.lamps[this.currentLampIndex] : null;
		var _g = 0;
		var _g1 = iron_Scene.active.decals;
		while(_g < _g1.length) {
			var decal = _g1[_g];
			++_g;
			decal.render(g,context,iron_Scene.active.camera,lamp,this.bindParams);
		}
		g.end();
		if(this.scissorSet) {
			g.disableScissor();
			this.scissorSet = false;
		}
		this.bindParams = null;
	}
	,drawSkydome: function(handle) {
		if(iron_data_ConstData.skydomeVB == null) {
			iron_data_ConstData.createSkydomeData();
		}
		var _this = this.cachedShaderContexts;
		var cc = __map_reserved[handle] != null ? _this.getReserved(handle) : _this.h[handle];
		if(cc.context == null) {
			return;
		}
		var g = this.currentG;
		g.setPipeline(cc.context.pipeState);
		var lamp = iron_Scene.active.lamps.length > 0 ? iron_Scene.active.lamps[this.currentLampIndex] : null;
		iron_object_Uniforms.setConstants(g,cc.context,null,iron_Scene.active.camera,lamp,this.bindParams);
		g.setVertexBuffer(iron_data_ConstData.skydomeVB);
		g.setIndexBuffer(iron_data_ConstData.skydomeIB);
		g.drawIndexedVertices();
		g.end();
		if(this.scissorSet) {
			g.disableScissor();
			this.scissorSet = false;
		}
		this.bindParams = null;
	}
	,drawLampVolume: function(handle) {
		var vb = null;
		var ib = null;
		var lamp = iron_Scene.active.lamps.length > 0 ? iron_Scene.active.lamps[this.currentLampIndex] : null;
		var type = lamp.data.raw.type;
		if(type == "point" || type == "area") {
			if(iron_data_ConstData.sphereVB == null) {
				iron_data_ConstData.createSphereData();
			}
			vb = iron_data_ConstData.sphereVB;
			ib = iron_data_ConstData.sphereIB;
		} else if(type == "spot") {
			if(iron_data_ConstData.sphereVB == null) {
				iron_data_ConstData.createSphereData();
			}
			vb = iron_data_ConstData.sphereVB;
			ib = iron_data_ConstData.sphereIB;
		}
		var _this = this.cachedShaderContexts;
		var cc = __map_reserved[handle] != null ? _this.getReserved(handle) : _this.h[handle];
		var g = this.currentG;
		g.setPipeline(cc.context.pipeState);
		iron_object_Uniforms.setConstants(g,cc.context,null,iron_Scene.active.camera,lamp,this.bindParams);
		g.setVertexBuffer(vb);
		g.setIndexBuffer(ib);
		g.drawIndexedVertices();
		g.end();
		if(this.scissorSet) {
			g.disableScissor();
			this.scissorSet = false;
		}
		this.bindParams = null;
	}
	,bindTarget: function(target,uniform) {
		if(this.bindParams != null) {
			this.bindParams.push(target);
			this.bindParams.push(uniform);
		} else {
			this.bindParams = [target,uniform];
		}
	}
	,drawShader: function(handle) {
		var _this = this.cachedShaderContexts;
		var cc = __map_reserved[handle] != null ? _this.getReserved(handle) : _this.h[handle];
		if(iron_data_ConstData.screenAlignedVB == null) {
			iron_data_ConstData.createScreenAlignedData();
		}
		var g = this.currentG;
		g.setPipeline(cc.context.pipeState);
		var lamp = iron_Scene.active.lamps.length > 0 ? iron_Scene.active.lamps[this.currentLampIndex] : null;
		iron_object_Uniforms.setConstants(g,cc.context,null,iron_Scene.active.camera,lamp,this.bindParams);
		g.setVertexBuffer(iron_data_ConstData.screenAlignedVB);
		g.setIndexBuffer(iron_data_ConstData.screenAlignedIB);
		g.drawIndexedVertices();
		g.end();
		if(this.scissorSet) {
			g.disableScissor();
			this.scissorSet = false;
		}
		this.bindParams = null;
	}
	,getComputeShader: function(handle) {
		return Reflect.field(kha_Shaders,handle + "_comp");
	}
	,loadShader: function(handle) {
		var _gthis = this;
		this.loading++;
		var _this = this.cachedShaderContexts;
		var cc = __map_reserved[handle] != null ? _this.getReserved(handle) : _this.h[handle];
		if(cc != null) {
			this.loading--;
			return;
		}
		cc = new iron_CachedShaderContext();
		var _this1 = this.cachedShaderContexts;
		if(__map_reserved[handle] != null) {
			_this1.setReserved(handle,cc);
		} else {
			_this1.h[handle] = cc;
		}
		var shaderPath = handle.split("/");
		iron_data_Data.getShader(shaderPath[0],shaderPath[1],null,function(res) {
			cc.context = res.getContext(shaderPath[2]);
			_gthis.loading--;
		});
	}
	,unload: function() {
		var _this = this.renderTargets;
		var rt = new haxe_ds__$StringMap_StringMapIterator(_this,_this.arrayKeys());
		while(rt.hasNext()) {
			var rt1 = rt.next();
			rt1.unload();
		}
	}
	,resize: function() {
		var _this = this.renderTargets;
		var rt = new haxe_ds__$StringMap_StringMapIterator(_this,_this.arrayKeys());
		while(rt.hasNext()) {
			var rt1 = rt.next();
			if(rt1.raw.width == 0) {
				rt1.image.unload();
				rt1.image = this.createImage(rt1.raw,rt1.depthStencil);
				if(rt1.depthStencilFrom != "") {
					var key = rt1.depthStencilFrom;
					var _this1 = this.depthToRenderTarget;
					rt1.image.setDepthStencilFrom((__map_reserved[key] != null ? _this1.getReserved(key) : _this1.h[key]).image);
				}
			}
		}
	}
	,createRenderTarget: function(t) {
		var rt = this.createTarget(t);
		var key = t.name;
		var _this = this.renderTargets;
		if(__map_reserved[key] != null) {
			_this.setReserved(key,rt);
		} else {
			_this.h[key] = rt;
		}
		return rt;
	}
	,depthBuffers: null
	,createDepthBuffer: function(name,format) {
		this.depthBuffers.push({ name : name, format : format});
	}
	,createTarget: function(t) {
		var rt = new iron_RenderTarget(t);
		if(t.depth_buffer != null) {
			rt.hasDepth = true;
			var key = t.depth_buffer;
			var _this = this.depthToRenderTarget;
			var depthTarget = __map_reserved[key] != null ? _this.getReserved(key) : _this.h[key];
			if(depthTarget == null) {
				var _g = 0;
				var _g1 = this.depthBuffers;
				while(_g < _g1.length) {
					var db = _g1[_g];
					++_g;
					if(db.name == t.depth_buffer) {
						var key1 = db.name;
						var _this1 = this.depthToRenderTarget;
						if(__map_reserved[key1] != null) {
							_this1.setReserved(key1,rt);
						} else {
							_this1.h[key1] = rt;
						}
						var s = db.format;
						var tmp;
						if(s == null || s == "") {
							tmp = 1;
						} else {
							switch(s) {
							case "DEPTH16":
								tmp = 5;
								break;
							case "DEPTH24":
								tmp = 1;
								break;
							default:
								tmp = 1;
							}
						}
						rt.depthStencil = tmp;
						rt.image = this.createImage(t,rt.depthStencil);
						break;
					}
				}
			} else {
				rt.depthStencil = 0;
				rt.depthStencilFrom = t.depth_buffer;
				rt.image = this.createImage(t,rt.depthStencil);
				rt.image.setDepthStencilFrom(depthTarget.image);
			}
		} else {
			rt.hasDepth = false;
			if(t.depth != null && t.depth > 1) {
				rt.is3D = true;
			}
			if(t.is_cubemap) {
				rt.isCubeMap = true;
				rt.depthStencil = 0;
				rt.cubeMap = this.createCubeMap(t,rt.depthStencil);
			} else {
				rt.depthStencil = 0;
				rt.image = this.createImage(t,rt.depthStencil);
			}
		}
		return rt;
	}
	,createImage: function(t,depthStencil) {
		var width = t.width == 0 ? kha_System.windowWidth() : t.width;
		var height = t.height == 0 ? kha_System.windowHeight() : t.height;
		var depth = t.depth != null ? t.depth : 0;
		if(t.displayp != null) {
			if(width > height) {
				width = width * (t.displayp / height) | 0;
				height = t.displayp;
			} else {
				height = height * (t.displayp / width) | 0;
				width = t.displayp;
			}
		}
		if(t.scale != null) {
			width = width * t.scale | 0;
			height = height * t.scale | 0;
			depth = depth * t.scale | 0;
		}
		if(t.depth != null && t.depth > 1) {
			var img;
			if(t.format != null) {
				switch(t.format) {
				case "A16":
					img = kha_graphics4_TextureFormat.A16;
					break;
				case "A32":
					img = kha_graphics4_TextureFormat.A32;
					break;
				case "A8":
					img = kha_graphics4_TextureFormat.L8;
					break;
				case "DEPTH16":
					img = kha_graphics4_TextureFormat.DEPTH16;
					break;
				case "R16":
					img = kha_graphics4_TextureFormat.A16;
					break;
				case "R32":
					img = kha_graphics4_TextureFormat.A32;
					break;
				case "R8":
					img = kha_graphics4_TextureFormat.L8;
					break;
				case "RGBA128":
					img = kha_graphics4_TextureFormat.RGBA128;
					break;
				case "RGBA32":
					img = kha_graphics4_TextureFormat.RGBA32;
					break;
				case "RGBA64":
					img = kha_graphics4_TextureFormat.RGBA64;
					break;
				default:
					img = kha_graphics4_TextureFormat.RGBA32;
				}
			} else {
				img = kha_graphics4_TextureFormat.RGBA32;
			}
			var img1 = kha_Image.create3D(width,height,depth,img);
			if(t.mipmaps) {
				img1.generateMipmaps(1000);
			}
			return img1;
		} else if(t.is_image != null && t.is_image) {
			var tmp;
			if(t.format != null) {
				switch(t.format) {
				case "A16":
					tmp = kha_graphics4_TextureFormat.A16;
					break;
				case "A32":
					tmp = kha_graphics4_TextureFormat.A32;
					break;
				case "A8":
					tmp = kha_graphics4_TextureFormat.L8;
					break;
				case "DEPTH16":
					tmp = kha_graphics4_TextureFormat.DEPTH16;
					break;
				case "R16":
					tmp = kha_graphics4_TextureFormat.A16;
					break;
				case "R32":
					tmp = kha_graphics4_TextureFormat.A32;
					break;
				case "R8":
					tmp = kha_graphics4_TextureFormat.L8;
					break;
				case "RGBA128":
					tmp = kha_graphics4_TextureFormat.RGBA128;
					break;
				case "RGBA32":
					tmp = kha_graphics4_TextureFormat.RGBA32;
					break;
				case "RGBA64":
					tmp = kha_graphics4_TextureFormat.RGBA64;
					break;
				default:
					tmp = kha_graphics4_TextureFormat.RGBA32;
				}
			} else {
				tmp = kha_graphics4_TextureFormat.RGBA32;
			}
			return kha_Image.create(width,height,tmp);
		} else {
			var tmp1;
			if(t.format != null) {
				switch(t.format) {
				case "A16":
					tmp1 = kha_graphics4_TextureFormat.A16;
					break;
				case "A32":
					tmp1 = kha_graphics4_TextureFormat.A32;
					break;
				case "A8":
					tmp1 = kha_graphics4_TextureFormat.L8;
					break;
				case "DEPTH16":
					tmp1 = kha_graphics4_TextureFormat.DEPTH16;
					break;
				case "R16":
					tmp1 = kha_graphics4_TextureFormat.A16;
					break;
				case "R32":
					tmp1 = kha_graphics4_TextureFormat.A32;
					break;
				case "R8":
					tmp1 = kha_graphics4_TextureFormat.L8;
					break;
				case "RGBA128":
					tmp1 = kha_graphics4_TextureFormat.RGBA128;
					break;
				case "RGBA32":
					tmp1 = kha_graphics4_TextureFormat.RGBA32;
					break;
				case "RGBA64":
					tmp1 = kha_graphics4_TextureFormat.RGBA64;
					break;
				default:
					tmp1 = kha_graphics4_TextureFormat.RGBA32;
				}
			} else {
				tmp1 = kha_graphics4_TextureFormat.RGBA32;
			}
			return kha_Image.createRenderTarget(width,height,tmp1,depthStencil);
		}
	}
	,createCubeMap: function(t,depthStencil) {
		var tmp;
		if(t.format != null) {
			switch(t.format) {
			case "A16":
				tmp = kha_graphics4_TextureFormat.A16;
				break;
			case "A32":
				tmp = kha_graphics4_TextureFormat.A32;
				break;
			case "A8":
				tmp = kha_graphics4_TextureFormat.L8;
				break;
			case "DEPTH16":
				tmp = kha_graphics4_TextureFormat.DEPTH16;
				break;
			case "R16":
				tmp = kha_graphics4_TextureFormat.A16;
				break;
			case "R32":
				tmp = kha_graphics4_TextureFormat.A32;
				break;
			case "R8":
				tmp = kha_graphics4_TextureFormat.L8;
				break;
			case "RGBA128":
				tmp = kha_graphics4_TextureFormat.RGBA128;
				break;
			case "RGBA32":
				tmp = kha_graphics4_TextureFormat.RGBA32;
				break;
			case "RGBA64":
				tmp = kha_graphics4_TextureFormat.RGBA64;
				break;
			default:
				tmp = kha_graphics4_TextureFormat.RGBA32;
			}
		} else {
			tmp = kha_graphics4_TextureFormat.RGBA32;
		}
		return kha_graphics4_CubeMap.createRenderTarget(t.width,tmp,depthStencil);
	}
	,getTextureFormat: function(s) {
		switch(s) {
		case "A16":
			return kha_graphics4_TextureFormat.A16;
		case "A32":
			return kha_graphics4_TextureFormat.A32;
		case "A8":
			return kha_graphics4_TextureFormat.L8;
		case "DEPTH16":
			return kha_graphics4_TextureFormat.DEPTH16;
		case "R16":
			return kha_graphics4_TextureFormat.A16;
		case "R32":
			return kha_graphics4_TextureFormat.A32;
		case "R8":
			return kha_graphics4_TextureFormat.L8;
		case "RGBA128":
			return kha_graphics4_TextureFormat.RGBA128;
		case "RGBA32":
			return kha_graphics4_TextureFormat.RGBA32;
		case "RGBA64":
			return kha_graphics4_TextureFormat.RGBA64;
		default:
			return kha_graphics4_TextureFormat.RGBA32;
		}
	}
	,getDepthStencilFormat: function(s) {
		if(s == null || s == "") {
			return 1;
		}
		switch(s) {
		case "DEPTH16":
			return 5;
		case "DEPTH24":
			return 1;
		default:
			return 1;
		}
	}
	,__class__: iron_RenderPath
	,__properties__: {get_ready:"get_ready"}
};
var iron_RenderTargetRaw = $hxClasses["iron.RenderTargetRaw"] = function() {
	this.is_cubemap = null;
	this.is_image = null;
	this.depth = null;
	this.mipmaps = null;
	this.depth_buffer = null;
	this.displayp = null;
	this.scale = null;
	this.format = null;
};
iron_RenderTargetRaw.__name__ = ["iron","RenderTargetRaw"];
iron_RenderTargetRaw.prototype = {
	name: null
	,width: null
	,height: null
	,format: null
	,scale: null
	,displayp: null
	,depth_buffer: null
	,mipmaps: null
	,depth: null
	,is_image: null
	,is_cubemap: null
	,__class__: iron_RenderTargetRaw
};
var iron_RenderTarget = $hxClasses["iron.RenderTarget"] = function(raw) {
	this.isCubeMap = false;
	this.is3D = false;
	this.hasDepth = false;
	this.cubeMap = null;
	this.image = null;
	this.depthStencilFrom = "";
	this.raw = raw;
};
iron_RenderTarget.__name__ = ["iron","RenderTarget"];
iron_RenderTarget.prototype = {
	raw: null
	,depthStencil: null
	,depthStencilFrom: null
	,image: null
	,cubeMap: null
	,hasDepth: null
	,is3D: null
	,isCubeMap: null
	,unload: function() {
		if(this.image != null) {
			this.image.unload();
		}
		if(this.cubeMap != null) {
			this.cubeMap.unload();
		}
	}
	,__class__: iron_RenderTarget
};
var iron_CachedShaderContext = $hxClasses["iron.CachedShaderContext"] = function() {
};
iron_CachedShaderContext.__name__ = ["iron","CachedShaderContext"];
iron_CachedShaderContext.prototype = {
	context: null
	,__class__: iron_CachedShaderContext
};
var iron_data_Armature = $hxClasses["iron.data.Armature"] = function(name,actions) {
	this.matsReady = false;
	this.actions = [];
	this.name = name;
	var _g = 0;
	while(_g < actions.length) {
		var a = actions[_g];
		++_g;
		var _g1 = 0;
		var _g2 = a.objects;
		while(_g1 < _g2.length) {
			var o = _g2[_g1];
			++_g1;
			iron_data_Armature.setParents(o);
		}
		var bones = [[]];
		iron_data_Armature.traverseBones(a.objects,(function(bones1) {
			return function(object) {
				bones1[0].push(object);
			};
		})(bones));
		this.actions.push({ name : a.name, bones : bones[0], mats : null});
	}
};
iron_data_Armature.__name__ = ["iron","data","Armature"];
iron_data_Armature.setParents = function(object) {
	if(object.children == null) {
		return;
	}
	var _g = 0;
	var _g1 = object.children;
	while(_g < _g1.length) {
		var o = _g1[_g];
		++_g;
		o.parent = object;
		iron_data_Armature.setParents(o);
	}
};
iron_data_Armature.traverseBones = function(objects,callback) {
	var _g1 = 0;
	var _g = objects.length;
	while(_g1 < _g) {
		var i = _g1++;
		iron_data_Armature.traverseBonesStep(objects[i],callback);
	}
};
iron_data_Armature.traverseBonesStep = function(object,callback) {
	if(object.type == "bone_object") {
		callback(object);
	}
	if(object.children == null) {
		return;
	}
	var _g1 = 0;
	var _g = object.children.length;
	while(_g1 < _g) {
		var i = _g1++;
		iron_data_Armature.traverseBonesStep(object.children[i],callback);
	}
};
iron_data_Armature.prototype = {
	name: null
	,actions: null
	,matsReady: null
	,initMats: function() {
		if(this.matsReady) {
			return;
		}
		this.matsReady = true;
		var _g = 0;
		var _g1 = this.actions;
		while(_g < _g1.length) {
			var a = _g1[_g];
			++_g;
			if(a.mats != null) {
				continue;
			}
			a.mats = [];
			var _g2 = 0;
			var _g3 = a.bones;
			while(_g2 < _g3.length) {
				var b = _g3[_g2];
				++_g2;
				a.mats.push(iron_math_Mat4.fromFloat32Array(b.transform.values));
			}
		}
	}
	,getAction: function(name) {
		var _g = 0;
		var _g1 = this.actions;
		while(_g < _g1.length) {
			var a = _g1[_g];
			++_g;
			if(a.name == name) {
				return a;
			}
		}
		return null;
	}
	,__class__: iron_data_Armature
};
var iron_data_CameraData = $hxClasses["iron.data.CameraData"] = function(raw,done,file) {
	if(file == null) {
		file = "";
	}
	this.renderTarget = null;
	iron_data_Data.call(this);
	this.raw = raw;
	this.name = raw.name;
	if(raw.render_to_texture) {
		this.renderTarget = kha_Image.createRenderTarget(raw.texture_resolution_x,raw.texture_resolution_y,kha_graphics4_TextureFormat.RGBA32,0);
	}
	done(this);
};
iron_data_CameraData.__name__ = ["iron","data","CameraData"];
iron_data_CameraData.parse = function(name,id,done) {
	iron_data_Data.getSceneRaw(name,function(format) {
		var raw = iron_data_Data.getCameraRawByName(format.camera_datas,id);
		if(raw == null) {
			haxe_Log.trace("Camera data \"" + id + "\" not found!",{ fileName : "CameraData.hx", lineNumber : 30, className : "iron.data.CameraData", methodName : "parse"});
			done(null);
		}
		new iron_data_CameraData(raw,done,name);
	});
};
iron_data_CameraData.__super__ = iron_data_Data;
iron_data_CameraData.prototype = $extend(iron_data_Data.prototype,{
	name: null
	,raw: null
	,renderTarget: null
	,__class__: iron_data_CameraData
});
var iron_data_ConstData = $hxClasses["iron.data.ConstData"] = function() { };
iron_data_ConstData.__name__ = ["iron","data","ConstData"];
iron_data_ConstData.createScreenAlignedData = function() {
	var data = [-1.0,-1.0,3.0,-1.0,-1.0,3.0];
	var indices = [0,1,2];
	var structure = new kha_graphics4_VertexStructure();
	structure.add("pos",kha_graphics4_VertexData.Float2);
	iron_data_ConstData.screenAlignedVB = new kha_graphics4_VertexBuffer(data.length / (structure.byteSize() / 4 | 0) | 0,structure,kha_graphics4_Usage.StaticUsage);
	var vertices = iron_data_ConstData.screenAlignedVB.lock();
	var _g1 = 0;
	var _g = vertices.length;
	while(_g1 < _g) {
		var i = _g1++;
		vertices[i] = data[i];
	}
	iron_data_ConstData.screenAlignedVB.unlock();
	iron_data_ConstData.screenAlignedIB = new kha_graphics4_IndexBuffer(indices.length,kha_graphics4_Usage.StaticUsage);
	var id = iron_data_ConstData.screenAlignedIB.lock();
	var _g11 = 0;
	var _g2 = id.length;
	while(_g11 < _g2) {
		var i1 = _g11++;
		id[i1] = indices[i1];
	}
	iron_data_ConstData.screenAlignedIB.unlock();
};
iron_data_ConstData.createRectData = function() {
	var data = [-1.0,-1.0,1.0,-1.0,1.0,1.0,-1.0,1.0];
	var indices = [0,1,2,0,2,3];
	var structure = new kha_graphics4_VertexStructure();
	structure.add("pos",kha_graphics4_VertexData.Float2);
	iron_data_ConstData.rectVB = new kha_graphics4_VertexBuffer(data.length / (structure.byteSize() / 4 | 0) | 0,structure,kha_graphics4_Usage.StaticUsage);
	var vertices = iron_data_ConstData.rectVB.lock();
	var _g1 = 0;
	var _g = vertices.length;
	while(_g1 < _g) {
		var i = _g1++;
		vertices[i] = data[i];
	}
	iron_data_ConstData.rectVB.unlock();
	iron_data_ConstData.rectIB = new kha_graphics4_IndexBuffer(indices.length,kha_graphics4_Usage.StaticUsage);
	var id = iron_data_ConstData.rectIB.lock();
	var _g11 = 0;
	var _g2 = id.length;
	while(_g11 < _g2) {
		var i1 = _g11++;
		id[i1] = indices[i1];
	}
	iron_data_ConstData.rectIB.unlock();
};
iron_data_ConstData.createBoxData = function() {
	var data = [-1.0,1.0,-1.0,-1.0,-1.0,-1.0,-1.0,-1.0,1.0,-1.0,1.0,1.0,-1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,-1.0,-1.0,1.0,-1.0,1.0,1.0,1.0,1.0,-1.0,1.0,1.0,-1.0,-1.0,1.0,1.0,-1.0,-1.0,-1.0,-1.0,1.0,-1.0,-1.0,1.0,-1.0,1.0,-1.0,-1.0,1.0,-1.0,-1.0,-1.0,-1.0,1.0,-1.0,1.0,1.0,-1.0,1.0,-1.0,-1.0,1.0,-1.0,1.0,1.0,1.0,1.0,-1.0,1.0,1.0,-1.0,-1.0,1.0];
	var indices = [0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23];
	var structure = new kha_graphics4_VertexStructure();
	structure.add("pos",kha_graphics4_VertexData.Float3);
	iron_data_ConstData.boxVB = new kha_graphics4_VertexBuffer(data.length / (structure.byteSize() / 4 | 0) | 0,structure,kha_graphics4_Usage.StaticUsage);
	var vertices = iron_data_ConstData.boxVB.lock();
	var _g1 = 0;
	var _g = vertices.length;
	while(_g1 < _g) {
		var i = _g1++;
		vertices[i] = data[i];
	}
	iron_data_ConstData.boxVB.unlock();
	iron_data_ConstData.boxIB = new kha_graphics4_IndexBuffer(indices.length,kha_graphics4_Usage.StaticUsage);
	var id = iron_data_ConstData.boxIB.lock();
	var _g11 = 0;
	var _g2 = id.length;
	while(_g11 < _g2) {
		var i1 = _g11++;
		id[i1] = indices[i1];
	}
	iron_data_ConstData.boxIB.unlock();
};
iron_data_ConstData.createSkydomeData = function() {
	var structure = new kha_graphics4_VertexStructure();
	structure.add("pos",kha_graphics4_VertexData.Float3);
	structure.add("nor",kha_graphics4_VertexData.Float3);
	var structLength = structure.byteSize() / 4 | 0;
	var pos = iron_data_ConstData.skydomePos;
	var nor = iron_data_ConstData.skydomeNor;
	iron_data_ConstData.skydomeVB = new kha_graphics4_VertexBuffer(pos.length / 3 | 0,structure,kha_graphics4_Usage.StaticUsage);
	var vertices = iron_data_ConstData.skydomeVB.lock();
	var _g1 = 0;
	var _g = vertices.length / structLength | 0;
	while(_g1 < _g) {
		var i = _g1++;
		vertices[i * structLength] = pos[i * 3];
		vertices[i * structLength + 1] = pos[i * 3 + 1];
		vertices[i * structLength + 2] = pos[i * 3 + 2];
		vertices[i * structLength + 3] = -nor[i * 3];
		vertices[i * structLength + 4] = -nor[i * 3 + 1];
		vertices[i * structLength + 5] = -nor[i * 3 + 2];
	}
	iron_data_ConstData.skydomeVB.unlock();
	var indices = iron_data_ConstData.skydomeIndices;
	iron_data_ConstData.skydomeIB = new kha_graphics4_IndexBuffer(indices.length,kha_graphics4_Usage.StaticUsage);
	var id = iron_data_ConstData.skydomeIB.lock();
	var _g11 = 0;
	var _g2 = id.length;
	while(_g11 < _g2) {
		var i1 = _g11++;
		id[i1] = indices[i1];
	}
	iron_data_ConstData.skydomeIB.unlock();
};
iron_data_ConstData.createSphereData = function() {
	var structure = new kha_graphics4_VertexStructure();
	structure.add("pos",kha_graphics4_VertexData.Float3);
	var data = iron_data_ConstData.spherePos;
	iron_data_ConstData.sphereVB = new kha_graphics4_VertexBuffer(data.length / (structure.byteSize() / 4 | 0) | 0,structure,kha_graphics4_Usage.StaticUsage);
	var vertices = iron_data_ConstData.sphereVB.lock();
	var _g1 = 0;
	var _g = vertices.length;
	while(_g1 < _g) {
		var i = _g1++;
		vertices[i] = data[i];
	}
	iron_data_ConstData.sphereVB.unlock();
	var indices = iron_data_ConstData.sphereIndices;
	iron_data_ConstData.sphereIB = new kha_graphics4_IndexBuffer(indices.length,kha_graphics4_Usage.StaticUsage);
	var id = iron_data_ConstData.sphereIB.lock();
	var _g11 = 0;
	var _g2 = id.length;
	while(_g11 < _g2) {
		var i1 = _g11++;
		id[i1] = indices[i1];
	}
	iron_data_ConstData.sphereIB.unlock();
};
iron_data_ConstData.createConeData = function() {
	var structure = new kha_graphics4_VertexStructure();
	structure.add("pos",kha_graphics4_VertexData.Float3);
	var data = iron_data_ConstData.conePos;
	iron_data_ConstData.coneVB = new kha_graphics4_VertexBuffer(data.length / (structure.byteSize() / 4 | 0) | 0,structure,kha_graphics4_Usage.StaticUsage);
	var vertices = iron_data_ConstData.coneVB.lock();
	var _g1 = 0;
	var _g = vertices.length;
	while(_g1 < _g) {
		var i = _g1++;
		vertices[i] = data[i];
	}
	iron_data_ConstData.coneVB.unlock();
	var indices = iron_data_ConstData.coneIndices;
	iron_data_ConstData.coneIB = new kha_graphics4_IndexBuffer(indices.length,kha_graphics4_Usage.StaticUsage);
	var id = iron_data_ConstData.coneIB.lock();
	var _g11 = 0;
	var _g2 = id.length;
	while(_g11 < _g2) {
		var i1 = _g11++;
		id[i1] = indices[i1];
	}
	iron_data_ConstData.coneIB.unlock();
};
var iron_data_Geometry = $hxClasses["iron.data.Geometry"] = function(indices,materialIndices,positions,normals,uvs,uvs1,cols,tangents,bones,weights,usage,instanceOffsets) {
	this.mats = null;
	this.actions = null;
	this.skeletonBoneLens = null;
	this.skeletonBoneRefs = null;
	this.skeletonTransformsI = null;
	this.skinBoneWeights = null;
	this.skinBoneIndices = null;
	this.skinBoneCounts = null;
	this.aabb = null;
	this.instanceCount = 0;
	this.instanced = false;
	this.instancedVB = null;
	this.numTris = 0;
	this.ready = false;
	this.count = -1;
	this.start = 0;
	if(usage == null) {
		usage = kha_graphics4_Usage.StaticUsage;
	}
	this.indices = indices;
	this.materialIndices = materialIndices;
	this.usage = usage;
	this.positions = positions;
	this.normals = normals;
	this.uvs = uvs;
	this.uvs1 = uvs1;
	this.cols = cols;
	this.tangents = tangents;
	this.bones = bones;
	this.weights = weights;
	this.instanceOffsets = instanceOffsets;
	this.struct = iron_data_Geometry.getVertexStructure(positions != null,normals != null,uvs != null,uvs1 != null,cols != null,tangents != null,bones != null,weights != null);
	this.structLength = this.struct.byteSize() / 4 | 0;
};
iron_data_Geometry.__name__ = ["iron","data","Geometry"];
iron_data_Geometry.getVertexStructure = function(pos,nor,tex,tex1,col,tang,bone,weight) {
	if(weight == null) {
		weight = false;
	}
	if(bone == null) {
		bone = false;
	}
	if(tang == null) {
		tang = false;
	}
	if(col == null) {
		col = false;
	}
	if(tex1 == null) {
		tex1 = false;
	}
	if(tex == null) {
		tex = false;
	}
	if(nor == null) {
		nor = false;
	}
	if(pos == null) {
		pos = false;
	}
	var structure = new kha_graphics4_VertexStructure();
	if(pos) {
		structure.add("pos",kha_graphics4_VertexData.Float3);
	}
	if(nor) {
		structure.add("nor",kha_graphics4_VertexData.Float3);
	}
	if(tex) {
		structure.add("tex",kha_graphics4_VertexData.Float2);
	}
	if(tex1) {
		structure.add("tex1",kha_graphics4_VertexData.Float2);
	}
	if(col) {
		structure.add("col",kha_graphics4_VertexData.Float3);
	}
	if(tang) {
		structure.add("tang",kha_graphics4_VertexData.Float3);
	}
	if(bone) {
		structure.add("bone",kha_graphics4_VertexData.Float4);
	}
	if(weight) {
		structure.add("weight",kha_graphics4_VertexData.Float4);
	}
	return structure;
};
iron_data_Geometry.buildVertices = function(vertices,pa,na,uva,uva1,ca,tanga,bonea,weighta,offset) {
	if(offset == null) {
		offset = 0;
	}
	var numVertices = pa.length / 3 | 0;
	var di = -1 + offset;
	var _g1 = 0;
	var _g = numVertices;
	while(_g1 < _g) {
		var i = _g1++;
		vertices[++di] = pa[i * 3];
		vertices[++di] = pa[i * 3 + 1];
		vertices[++di] = pa[i * 3 + 2];
		if(na != null) {
			vertices[++di] = na[i * 3];
			vertices[++di] = na[i * 3 + 1];
			vertices[++di] = na[i * 3 + 2];
		}
		if(uva != null) {
			vertices[++di] = uva[i * 2];
			vertices[++di] = uva[i * 2 + 1];
		}
		if(uva1 != null) {
			vertices[++di] = uva1[i * 2];
			vertices[++di] = uva1[i * 2 + 1];
		}
		if(ca != null) {
			vertices[++di] = ca[i * 3];
			vertices[++di] = ca[i * 3 + 1];
			vertices[++di] = ca[i * 3 + 2];
		}
		if(tanga != null) {
			vertices[++di] = tanga[i * 3];
			vertices[++di] = tanga[i * 3 + 1];
			vertices[++di] = tanga[i * 3 + 2];
		}
		if(bonea != null) {
			vertices[++di] = bonea[i * 4];
			vertices[++di] = bonea[i * 4 + 1];
			vertices[++di] = bonea[i * 4 + 2];
			vertices[++di] = bonea[i * 4 + 3];
		}
		if(weighta != null) {
			vertices[++di] = weighta[i * 4];
			vertices[++di] = weighta[i * 4 + 1];
			vertices[++di] = weighta[i * 4 + 2];
			vertices[++di] = weighta[i * 4 + 3];
		}
	}
};
iron_data_Geometry.prototype = {
	vertexBuffer: null
	,indexBuffers: null
	,start: null
	,count: null
	,ready: null
	,vertices: null
	,indices: null
	,numTris: null
	,materialIndices: null
	,struct: null
	,structLength: null
	,usage: null
	,instancedVB: null
	,instanced: null
	,instanceCount: null
	,positions: null
	,normals: null
	,uvs: null
	,uvs1: null
	,cols: null
	,tangents: null
	,bones: null
	,weights: null
	,instanceOffsets: null
	,offsetVecs: null
	,aabb: null
	,skinBoneCounts: null
	,skinBoneIndices: null
	,skinBoneWeights: null
	,skeletonTransformsI: null
	,skeletonBoneRefs: null
	,skeletonBoneLens: null
	,actions: null
	,mats: null
	,'delete': function() {
		this.vertexBuffer["delete"]();
		var _g = 0;
		var _g1 = this.indexBuffers;
		while(_g < _g1.length) {
			var buf = _g1[_g];
			++_g;
			buf["delete"]();
		}
	}
	,applyScale: function(sx,sy,sz) {
		var vertices = this.vertexBuffer.lock();
		var _g1 = 0;
		var _g = vertices.length / this.structLength | 0;
		while(_g1 < _g) {
			var i = _g1++;
			var _g2 = i * this.structLength;
			var _g3 = vertices;
			_g3[_g2] *= sx;
			var _g21 = i * this.structLength + 1;
			var _g31 = vertices;
			_g31[_g21] *= sy;
			var _g22 = i * this.structLength + 2;
			var _g32 = vertices;
			_g32[_g22] *= sz;
		}
		this.vertexBuffer.unlock();
	}
	,setupInstanced: function(offsets,usage) {
		this.offsetVecs = [];
		var _g1 = 0;
		var _g = offsets.length / 3 | 0;
		while(_g1 < _g) {
			var i = _g1++;
			this.offsetVecs.push(new iron_math_Vec4(offsets[i * 3],offsets[i * 3 + 1],offsets[i * 3 + 2]));
		}
		this.instanced = true;
		this.instanceCount = offsets.length / 3 | 0;
		var structure = new kha_graphics4_VertexStructure();
		structure.instanced = true;
		structure.add("off",kha_graphics4_VertexData.Float3);
		this.instancedVB = new kha_graphics4_VertexBuffer(this.instanceCount,structure,usage,1);
		var vertices = this.instancedVB.lock();
		var _g11 = 0;
		var _g2 = vertices.length;
		while(_g11 < _g2) {
			var i1 = _g11++;
			vertices[i1] = offsets[i1];
		}
		this.instancedVB.unlock();
	}
	,sortInstanced: function(camX,camY,camZ) {
		var _g = 0;
		var _g1 = this.offsetVecs;
		while(_g < _g1.length) {
			var v = _g1[_g];
			++_g;
			var vx = camX - v.x;
			var vy = camY - v.y;
			var vz = camZ - v.z;
			v.w = Math.sqrt(vx * vx + vy * vy + vz * vz);
		}
		this.offsetVecs.sort(function(a,b) {
			if(a.w > b.w) {
				return 1;
			} else {
				return -1;
			}
		});
		var vb = this.instancedVB;
		var vertices = vb.lock();
		var _g11 = 0;
		var _g2 = vertices.length / 3 | 0;
		while(_g11 < _g2) {
			var i = _g11++;
			vertices[i * 3] = this.offsetVecs[i].x;
			vertices[i * 3 + 1] = this.offsetVecs[i].y;
			vertices[i * 3 + 2] = this.offsetVecs[i].z;
		}
		vb.unlock();
	}
	,copyVertices: function(vertices,offset) {
		if(offset == null) {
			offset = 0;
		}
		iron_data_Geometry.buildVertices(vertices,this.positions,this.normals,this.uvs,this.uvs1,this.cols,this.tangents,this.bones,this.weights,offset);
	}
	,getVerticesLength: function() {
		var res = this.positions.length;
		if(this.normals != null) {
			res += this.normals.length;
		}
		if(this.uvs != null) {
			res += this.uvs.length;
		}
		if(this.uvs1 != null) {
			res += this.uvs1.length;
		}
		if(this.cols != null) {
			res += this.cols.length;
		}
		if(this.tangents != null) {
			res += this.tangents.length;
		}
		if(this.bones != null) {
			res += this.bones.length;
		}
		if(this.weights != null) {
			res += this.weights.length;
		}
		return res;
	}
	,build: function() {
		if(this.ready) {
			return;
		}
		this.vertexBuffer = new kha_graphics4_VertexBuffer(this.positions.length / 3 | 0,this.struct,this.usage);
		this.vertices = this.vertexBuffer.lock();
		iron_data_Geometry.buildVertices(this.vertices,this.positions,this.normals,this.uvs,this.uvs1,this.cols,this.tangents,this.bones,this.weights);
		this.vertexBuffer.unlock();
		this.indexBuffers = [];
		var _g = 0;
		var _g1 = this.indices;
		while(_g < _g1.length) {
			var id = _g1[_g];
			++_g;
			if(id.length == 0) {
				continue;
			}
			var indexBuffer = new kha_graphics4_IndexBuffer(id.length,this.usage);
			this.numTris += id.length / 3 | 0;
			var indicesA = indexBuffer.lock();
			var _g3 = 0;
			var _g2 = indicesA.length;
			while(_g3 < _g2) {
				var i = _g3++;
				indicesA[i] = id[i];
			}
			indexBuffer.unlock();
			this.indexBuffers.push(indexBuffer);
		}
		if(this.instanceOffsets != null) {
			this.setupInstanced(this.instanceOffsets,this.usage);
		}
		this.ready = true;
	}
	,getVerticesCount: function() {
		return this.positions.length / 3 | 0;
	}
	,addArmature: function(armature) {
		var _g = 0;
		var _g1 = armature.actions;
		while(_g < _g1.length) {
			var a = _g1[_g];
			++_g;
			this.addAction(a.bones,a.name);
		}
	}
	,addAction: function(bones,name) {
		if(bones == null) {
			return;
		}
		if(this.actions == null) {
			this.actions = new haxe_ds_StringMap();
			this.mats = new haxe_ds_StringMap();
		}
		var _this = this.actions;
		if((__map_reserved[name] != null ? _this.getReserved(name) : _this.h[name]) != null) {
			return;
		}
		var actionBones = [];
		var _g = 0;
		var _g1 = this.skeletonBoneRefs;
		while(_g < _g1.length) {
			var s = _g1[_g];
			++_g;
			var _g2 = 0;
			while(_g2 < bones.length) {
				var b = bones[_g2];
				++_g2;
				if(b.name == s) {
					actionBones.push(b);
				}
			}
		}
		var _this1 = this.actions;
		if(__map_reserved[name] != null) {
			_this1.setReserved(name,actionBones);
		} else {
			_this1.h[name] = actionBones;
		}
		var actionMats = [];
		var _g3 = 0;
		while(_g3 < actionBones.length) {
			var b1 = actionBones[_g3];
			++_g3;
			actionMats.push(iron_math_Mat4.fromFloat32Array(b1.transform.values));
		}
		var _this2 = this.mats;
		if(__map_reserved[name] != null) {
			_this2.setReserved(name,actionMats);
		} else {
			_this2.h[name] = actionMats;
		}
	}
	,initSkeletonTransforms: function(transformsI) {
		this.skeletonTransformsI = [];
		var _g = 0;
		while(_g < transformsI.length) {
			var t = transformsI[_g];
			++_g;
			var mi = iron_math_Mat4.fromFloat32Array(t);
			this.skeletonTransformsI.push(mi);
		}
	}
	,calculateAABB: function() {
		var aabbMin = new iron_math_Vec4(-0.01,-0.01,-0.01);
		var aabbMax = new iron_math_Vec4(0.01,0.01,0.01);
		this.aabb = new iron_math_Vec4();
		var i = 0;
		while(i < this.positions.length) {
			if(this.positions[i] > aabbMax.x) {
				aabbMax.x = this.positions[i];
			}
			if(this.positions[i + 1] > aabbMax.y) {
				aabbMax.y = this.positions[i + 1];
			}
			if(this.positions[i + 2] > aabbMax.z) {
				aabbMax.z = this.positions[i + 2];
			}
			if(this.positions[i] < aabbMin.x) {
				aabbMin.x = this.positions[i];
			}
			if(this.positions[i + 1] < aabbMin.y) {
				aabbMin.y = this.positions[i + 1];
			}
			if(this.positions[i + 2] < aabbMin.z) {
				aabbMin.z = this.positions[i + 2];
			}
			i += 3;
		}
		this.aabb.x = Math.abs(aabbMin.x) + Math.abs(aabbMax.x);
		this.aabb.y = Math.abs(aabbMin.y) + Math.abs(aabbMax.y);
		this.aabb.z = Math.abs(aabbMin.z) + Math.abs(aabbMax.z);
	}
	,__class__: iron_data_Geometry
};
var iron_data_LampData = $hxClasses["iron.data.LampData"] = function(raw,done) {
	this.colorTexture = null;
	var _gthis = this;
	iron_data_Data.call(this);
	this.raw = raw;
	this.name = raw.name;
	if(raw.color_texture != null) {
		iron_data_Data.getImage(raw.color_texture,function(image) {
			_gthis.colorTexture = image;
			done(_gthis);
		});
	} else {
		done(this);
	}
};
iron_data_LampData.__name__ = ["iron","data","LampData"];
iron_data_LampData.typeToInt = function(s) {
	switch(s) {
	case "area":
		return 3;
	case "point":
		return 1;
	case "spot":
		return 2;
	case "sun":
		return 0;
	default:
		return 0;
	}
};
iron_data_LampData.parse = function(name,id,done) {
	iron_data_Data.getSceneRaw(name,function(format) {
		var raw = iron_data_Data.getLampRawByName(format.lamp_datas,id);
		if(raw == null) {
			haxe_Log.trace("Lamp data \"" + id + "\" not found!",{ fileName : "LampData.hx", lineNumber : 42, className : "iron.data.LampData", methodName : "parse"});
			done(null);
		}
		new iron_data_LampData(raw,done);
	});
};
iron_data_LampData.__super__ = iron_data_Data;
iron_data_LampData.prototype = $extend(iron_data_Data.prototype,{
	name: null
	,raw: null
	,colorTexture: null
	,__class__: iron_data_LampData
});
var iron_data_MaterialData = $hxClasses["iron.data.MaterialData"] = function(raw,done,file) {
	if(file == null) {
		file = "";
	}
	this.contexts = null;
	var _gthis = this;
	iron_data_Data.call(this);
	this.uid = ++iron_data_MaterialData.uidCounter;
	this.raw = raw;
	this.name = raw.name;
	var ref = raw.shader.split("/");
	var object_file = "";
	var data_ref = "";
	if(ref.length == 2) {
		object_file = ref[0];
		data_ref = ref[1];
	} else {
		object_file = file;
		data_ref = raw.shader;
	}
	iron_data_Data.getShader(object_file,data_ref,raw.override_context,function(b) {
		_gthis.shader = b;
		_gthis.contexts = [];
		while(_gthis.contexts.length < raw.contexts.length) _gthis.contexts.push(null);
		var contextsLoaded = 0;
		var _g1 = 0;
		var _g = raw.contexts.length;
		while(_g1 < _g) {
			var i = [_g1++];
			var c = raw.contexts[i[0]];
			new iron_data_MaterialContext(c,(function(i1) {
				return function(self) {
					_gthis.contexts[i1[0]] = self;
					contextsLoaded += 1;
					if(contextsLoaded == raw.contexts.length) {
						done(_gthis);
					}
				};
			})(i));
		}
	});
};
iron_data_MaterialData.__name__ = ["iron","data","MaterialData"];
iron_data_MaterialData.parse = function(file,name,done) {
	iron_data_Data.getSceneRaw(file,function(format) {
		var raw = iron_data_Data.getMaterialRawByName(format.material_datas,name);
		if(raw == null) {
			haxe_Log.trace("Material data \"" + name + "\" not found!",{ fileName : "MaterialData.hx", lineNumber : 61, className : "iron.data.MaterialData", methodName : "parse"});
			done(null);
		}
		new iron_data_MaterialData(raw,done,file);
	});
};
iron_data_MaterialData.__super__ = iron_data_Data;
iron_data_MaterialData.prototype = $extend(iron_data_Data.prototype,{
	uid: null
	,name: null
	,raw: null
	,shader: null
	,contexts: null
	,getContext: function(name) {
		var _g = 0;
		var _g1 = this.contexts;
		while(_g < _g1.length) {
			var c = _g1[_g];
			++_g;
			if(HxOverrides.substr(c.raw.name,0,name.length) == name) {
				return c;
			}
		}
		return null;
	}
	,toString: function() {
		return "Material " + this.name;
	}
	,__class__: iron_data_MaterialData
});
var iron_data_MaterialContext = $hxClasses["iron.data.MaterialContext"] = function(raw,done) {
	this.id = 0;
	this.textures = null;
	var _gthis = this;
	this.raw = raw;
	this.id = iron_data_MaterialContext.num++;
	if(raw.bind_textures != null && raw.bind_textures.length > 0) {
		var length = raw.bind_textures.length;
		var this1 = new Array(length);
		this.textures = this1;
		var texturesLoaded = 0;
		var _g1 = 0;
		var _g = raw.bind_textures.length;
		while(_g1 < _g) {
			var i = [_g1++];
			var tex = [raw.bind_textures[i[0]]];
			if(tex[0].file == "") {
				texturesLoaded += 1;
				if(texturesLoaded == raw.bind_textures.length) {
					done(this);
				}
				continue;
			}
			iron_data_Data.getImage(tex[0].file,(function(tex1,i1) {
				return function(image) {
					_gthis.textures[i1[0]] = image;
					texturesLoaded += 1;
					if(tex1[0].mipmaps != null) {
						var mipmaps = [];
						while(mipmaps.length < tex1[0].mipmaps.length) mipmaps.push(null);
						var mipmapsLoaded = 0;
						var _g3 = 0;
						var _g2 = tex1[0].mipmaps.length;
						while(_g3 < _g2) {
							var j = [_g3++];
							var name = tex1[0].mipmaps[j[0]];
							iron_data_Data.getImage(name,(function(j1,tex2) {
								return function(mipimg) {
									mipmaps[j1[0]] = mipimg;
									mipmapsLoaded += 1;
									if(mipmapsLoaded == tex2[0].mipmaps.length) {
										image.setMipmaps(mipmaps);
										tex2[0].mipmaps = null;
										tex2[0].generate_mipmaps = false;
										if(texturesLoaded == raw.bind_textures.length) {
											done(_gthis);
										}
									}
								};
							})(j,tex1));
						}
					} else if(tex1[0].generate_mipmaps == true && image != null) {
						image.generateMipmaps(1000);
						tex1[0].mipmaps = null;
						tex1[0].generate_mipmaps = false;
						if(texturesLoaded == raw.bind_textures.length) {
							done(_gthis);
						}
					} else if(texturesLoaded == raw.bind_textures.length) {
						done(_gthis);
					}
				};
			})(tex,i),false,tex[0].format != null ? tex[0].format : "RGBA32");
		}
	} else {
		done(this);
	}
};
iron_data_MaterialContext.__name__ = ["iron","data","MaterialContext"];
iron_data_MaterialContext.prototype = {
	raw: null
	,textures: null
	,id: null
	,setTextureParameters: function(g,textureIndex,context,unitIndex) {
		if(!context.paramsSet[unitIndex]) {
			context.setTextureParameters(g,unitIndex,this.raw.bind_textures[textureIndex]);
			context.paramsSet[unitIndex] = true;
		}
	}
	,__class__: iron_data_MaterialContext
};
var iron_data_MeshBatch = $hxClasses["iron.data.MeshBatch"] = function() {
	this.nonBatched = [];
	this.buckets = new haxe_ds_ObjectMap();
};
iron_data_MeshBatch.__name__ = ["iron","data","MeshBatch"];
iron_data_MeshBatch.isLod = function(m) {
	if(m.raw != null && m.raw.lods != null) {
		return m.raw.lods.length > 0;
	} else {
		return false;
	}
};
iron_data_MeshBatch.isBatchable = function(m) {
	return !(m.data.isSkinned || m.materials == null || m.materials.length > 1 || iron_data_MeshBatch.isLod(m) || m.data.geom.instanced);
};
iron_data_MeshBatch.prototype = {
	buckets: null
	,nonBatched: null
	,remove: function() {
		var b = this.buckets.iterator();
		while(b.hasNext()) {
			var b1 = b.next();
			this.remove();
		}
	}
	,addMesh: function(m) {
		if(!iron_data_MeshBatch.isBatchable(m)) {
			this.nonBatched.push(m);
			return;
		}
		var shader = m.materials[0].shader;
		var b = this.buckets.h[shader.__id__];
		if(b == null) {
			b = new iron_data_Bucket(shader);
			this.buckets.set(shader,b);
		}
		b.addMesh(m);
	}
	,removeMesh: function(m) {
		var shader = m.materials[0].shader;
		var b = this.buckets.h[shader.__id__];
		if(b != null) {
			b.removeMesh(m);
		} else {
			HxOverrides.remove(this.nonBatched,m);
		}
	}
	,render: function(g,context,camera,lamp,bindParams) {
		var b = this.buckets.iterator();
		while(b.hasNext()) {
			var b1 = b.next();
			if(!b1.batched) {
				b1.batch();
			}
			if(b1.meshes.length > 0 && b1.meshes[0].cullMaterial(context)) {
				continue;
			}
			g.setPipeline(b1.shader.getContext(context).pipeState);
			g.setVertexBuffer(b1.vertexBuffer);
			g.setIndexBuffer(b1.indexBuffer);
			iron_RenderPath.sortMeshes(b1.meshes,camera);
			var _g = 0;
			var _g1 = b1.meshes;
			while(_g < _g1.length) {
				var m = _g1[_g];
				++_g;
				m.renderBatch(g,context,camera,lamp,bindParams,m.data.start,m.data.count);
				iron_RenderPath.batchCalls++;
			}
			iron_RenderPath.batchBuckets++;
		}
		var _g2 = 0;
		var _g11 = this.nonBatched;
		while(_g2 < _g11.length) {
			var m1 = _g11[_g2];
			++_g2;
			m1.render(g,context,camera,lamp,bindParams);
			if(m1.culled) {
				iron_RenderPath.culled++;
			}
		}
	}
	,__class__: iron_data_MeshBatch
};
var iron_data_Bucket = $hxClasses["iron.data.Bucket"] = function(shader) {
	this.meshes = [];
	this.batched = false;
	this.shader = shader;
};
iron_data_Bucket.__name__ = ["iron","data","Bucket"];
iron_data_Bucket.prototype = {
	batched: null
	,shader: null
	,vertexBuffer: null
	,indexBuffer: null
	,meshes: null
	,remove: function() {
		this.vertexBuffer["delete"]();
		this.indexBuffer["delete"]();
		this.meshes = [];
	}
	,addMesh: function(m) {
		this.meshes.push(m);
	}
	,removeMesh: function(m) {
		HxOverrides.remove(this.meshes,m);
	}
	,batch: function() {
		this.batched = true;
		var vcount = 0;
		var icount = 0;
		var mdatas = [];
		var _g = 0;
		var _g1 = this.meshes;
		while(_g < _g1.length) {
			var m = _g1[_g];
			++_g;
			var mdFound = false;
			var _g2 = 0;
			while(_g2 < mdatas.length) {
				var md = mdatas[_g2];
				++_g2;
				if(m.data == md) {
					mdFound = true;
					break;
				}
			}
			if(!mdFound) {
				mdatas.push(m.data);
				m.data.start = icount;
				m.data.count = m.data.geom.indices[0].length;
				icount += m.data.count;
				vcount += m.data.geom.getVerticesLength();
			}
		}
		if(mdatas.length == 0) {
			return;
		}
		this.vertexBuffer = new kha_graphics4_VertexBuffer(vcount,mdatas[0].geom.struct,kha_graphics4_Usage.StaticUsage);
		var vertices = this.vertexBuffer.lock();
		var offset = 0;
		var _g3 = 0;
		while(_g3 < mdatas.length) {
			var md1 = mdatas[_g3];
			++_g3;
			md1.geom.copyVertices(vertices,offset);
			offset += md1.geom.getVerticesLength();
		}
		this.vertexBuffer.unlock();
		this.indexBuffer = new kha_graphics4_IndexBuffer(icount,kha_graphics4_Usage.StaticUsage);
		var indices = this.indexBuffer.lock();
		var di = -1;
		var offset1 = 0;
		var _g4 = 0;
		while(_g4 < mdatas.length) {
			var md2 = mdatas[_g4];
			++_g4;
			var _g21 = 0;
			var _g11 = md2.geom.indices[0].length;
			while(_g21 < _g11) {
				var i = _g21++;
				indices[++di] = md2.geom.indices[0][i] + offset1;
			}
			offset1 += md2.geom.getVerticesLength() / md2.geom.structLength | 0;
		}
		this.indexBuffer.unlock();
	}
	,__class__: iron_data_Bucket
};
var iron_data_MeshData = $hxClasses["iron.data.MeshData"] = function(raw,done) {
	this.refcount = 0;
	this.count = -1;
	this.start = 0;
	iron_data_Data.call(this);
	this.raw = raw;
	this.name = raw.name;
	var indices = [];
	var materialIndices = [];
	var _g = 0;
	var _g1 = raw.index_arrays;
	while(_g < _g1.length) {
		var ind = _g1[_g];
		++_g;
		indices.push(ind.values);
		materialIndices.push(ind.material);
	}
	var pa = this.getVertexArrayValues("pos");
	var na = this.getVertexArrayValues("nor");
	var uva = this.getVertexArrayValues("tex");
	var uva1 = this.getVertexArrayValues("tex1");
	var ca = this.getVertexArrayValues("col");
	var tanga = this.getVertexArrayValues("tang");
	this.isSkinned = raw.skin != null;
	var parsedUsage = kha_graphics4_Usage.StaticUsage;
	if(raw.dynamic_usage != null && raw.dynamic_usage == true) {
		parsedUsage = kha_graphics4_Usage.DynamicUsage;
	}
	var usage = parsedUsage;
	var bonea = null;
	var weighta = null;
	if(this.isSkinned) {
		var l = (pa.length / 3 | 0) * 4;
		var this1 = new Float32Array(l);
		bonea = this1;
		var this2 = new Float32Array(l);
		weighta = this2;
		var index = 0;
		var ai = 0;
		var _g11 = 0;
		var _g2 = pa.length / 3 | 0;
		while(_g11 < _g2) {
			var i = _g11++;
			var boneCount = raw.skin.bone_count_array[i];
			var _g3 = index;
			var _g21 = index + boneCount;
			while(_g3 < _g21) {
				var j = _g3++;
				bonea[ai] = raw.skin.bone_index_array[j];
				weighta[ai] = raw.skin.bone_weight_array[j];
				++ai;
			}
			var _g22 = boneCount;
			while(_g22 < 4) {
				var j1 = _g22++;
				bonea[ai] = 0.0;
				weighta[ai] = 0.0;
				++ai;
			}
			index += boneCount;
		}
	}
	this.geom = new iron_data_Geometry(indices,materialIndices,pa,na,uva,uva1,ca,tanga,bonea,weighta,usage,raw.instance_offsets);
	done(this);
};
iron_data_MeshData.__name__ = ["iron","data","MeshData"];
iron_data_MeshData.newSync = function(raw) {
	return new iron_data_MeshData(raw,function(data) {
	});
};
iron_data_MeshData.parse = function(name,id,done) {
	iron_data_Data.getSceneRaw(name,function(format) {
		var raw = iron_data_Data.getMeshRawByName(format.mesh_datas,id);
		if(raw == null) {
			haxe_Log.trace("Mesh data \"" + id + "\" not found!",{ fileName : "MeshData.hx", lineNumber : 108, className : "iron.data.MeshData", methodName : "parse"});
			done(null);
		}
		new iron_data_MeshData(raw,function(dat) {
			dat.format = format;
			if(raw.skin != null) {
				dat.geom.skinBoneCounts = raw.skin.bone_count_array;
				dat.geom.skinBoneIndices = raw.skin.bone_index_array;
				dat.geom.skinBoneWeights = raw.skin.bone_weight_array;
				dat.geom.skeletonBoneRefs = raw.skin.bone_ref_array;
				dat.geom.skeletonBoneLens = raw.skin.bone_len_array;
				dat.geom.initSkeletonTransforms(raw.skin.transformsI);
			}
			done(dat);
		});
	});
};
iron_data_MeshData.__super__ = iron_data_Data;
iron_data_MeshData.prototype = $extend(iron_data_Data.prototype,{
	name: null
	,raw: null
	,format: null
	,geom: null
	,start: null
	,count: null
	,refcount: null
	,handle: null
	,isSkinned: null
	,'delete': function() {
		this.geom["delete"]();
	}
	,getVertexArrayValues: function(attrib) {
		var _g = 0;
		var _g1 = this.raw.vertex_arrays;
		while(_g < _g1.length) {
			var va = _g1[_g];
			++_g;
			if(va.attrib == attrib) {
				return va.values;
			}
		}
		return null;
	}
	,__class__: iron_data_MeshData
});
var iron_data_ParticleData = $hxClasses["iron.data.ParticleData"] = function(raw,done) {
	iron_data_Data.call(this);
	this.raw = raw;
	this.name = raw.name;
	done(this);
};
iron_data_ParticleData.__name__ = ["iron","data","ParticleData"];
iron_data_ParticleData.parse = function(name,id,done) {
	iron_data_Data.getSceneRaw(name,function(format) {
		var raw = iron_data_Data.getParticleRawByName(format.particle_datas,id);
		if(raw == null) {
			haxe_Log.trace("Particle data \"" + id + "\" not found!",{ fileName : "ParticleData.hx", lineNumber : 23, className : "iron.data.ParticleData", methodName : "parse"});
			done(null);
		}
		new iron_data_ParticleData(raw,done);
	});
};
iron_data_ParticleData.__super__ = iron_data_Data;
iron_data_ParticleData.prototype = $extend(iron_data_Data.prototype,{
	name: null
	,raw: null
	,__class__: iron_data_ParticleData
});
var iron_data_StreamSector = $hxClasses["iron.data.StreamSector"] = function() {
	this.handles = [];
};
iron_data_StreamSector.__name__ = ["iron","data","StreamSector"];
iron_data_StreamSector.prototype = {
	handles: null
	,__class__: iron_data_StreamSector
};
var iron_data_SceneStream = $hxClasses["iron.data.SceneStream"] = function() {
	this.unloadDistance = -1;
	this.loadDistance = -1;
	this.loading = 0;
	this.loadMax = 8;
	this.checkPos = 0;
	this.checkMax = 64;
	this.sectors = [new iron_data_StreamSector()];
};
iron_data_SceneStream.__name__ = ["iron","data","SceneStream"];
iron_data_SceneStream.prototype = {
	checkMax: null
	,checkPos: null
	,loadMax: null
	,loading: null
	,loadDistance: null
	,unloadDistance: null
	,sectors: null
	,sceneTotal: function() {
		return this.sectors[0].handles.length;
	}
	,add: function(object_file,data_ref,sceneName,armature,materials,parent,obj) {
		this.sectors[0].handles.push({ object_file : object_file, data_ref : data_ref, sceneName : sceneName, armature : armature, materials : materials, parent : parent, obj : obj, object : null, loading : false});
	}
	,setup: function(camera) {
		this.loadDistance = camera.data.raw.far_plane * 1.1 | 0;
		this.unloadDistance = camera.data.raw.far_plane * 1.5 | 0;
	}
	,update: function(camera) {
		var _gthis = this;
		if(this.loadDistance == -1) {
			this.setup(camera);
		}
		if(this.loading >= this.loadMax) {
			return;
		}
		var sec = this.sectors[0];
		var to = Math.min(this.checkMax,sec.handles.length) | 0;
		var _g1 = 0;
		var _g = to;
		while(_g1 < _g) {
			var i = _g1++;
			var h = [sec.handles[this.checkPos]];
			this.checkPos++;
			if(this.checkPos >= sec.handles.length) {
				this.checkPos = 0;
			}
			var camX = camera.transform.world.self._30;
			var camY = camera.transform.world.self._31;
			var camZ = camera.transform.world.self._32;
			var hx = h[0].obj.transform.values[3];
			var hy = h[0].obj.transform.values[7];
			var hz = h[0].obj.transform.values[11];
			var vx = camX - hx;
			var vy = camY - hy;
			var vz = camZ - hz;
			var cameraDistance = Math.sqrt(vx * vx + vy * vy + vz * vz);
			var dim = h[0].obj.dimensions;
			if(dim != null) {
				var r = dim[0];
				if(dim[1] > r) {
					r = dim[1];
				}
				if(dim[2] > r) {
					r = dim[2];
				}
				cameraDistance -= r;
			}
			if(cameraDistance < this.loadDistance && h[0].object == null && !h[0].loading) {
				h[0].loading = true;
				this.loading++;
				iron_Scene.active.returnMeshObject(h[0].object_file,h[0].data_ref,h[0].sceneName,h[0].armature,h[0].materials,h[0].parent,h[0].obj,(function(h1) {
					return function(object) {
						h1[0].object = js_Boot.__cast(object , iron_object_MeshObject);
						h1[0].loading = false;
						_gthis.loading--;
					};
				})(h));
				if(this.loading >= this.loadMax) {
					return;
				}
			} else if(cameraDistance > this.unloadDistance && h[0].object != null) {
				h[0].object.remove();
				if(h[0].object.data.refcount <= 0) {
					iron_data_Data.deleteMesh(h[0].object_file + h[0].data_ref);
				}
				h[0].object = null;
			}
		}
	}
	,__class__: iron_data_SceneStream
};
var iron_data_ShaderData = $hxClasses["iron.data.ShaderData"] = function(raw,overrideContext,done) {
	this.contexts = [];
	var _gthis = this;
	iron_data_Data.call(this);
	this.raw = raw;
	this.name = raw.name;
	var _g = 0;
	var _g1 = raw.contexts;
	while(_g < _g1.length) {
		var c = _g1[_g];
		++_g;
		this.contexts.push(null);
	}
	var contextsLoaded = 0;
	var _g11 = 0;
	var _g2 = raw.contexts.length;
	while(_g11 < _g2) {
		var i = [_g11++];
		var c1 = raw.contexts[i[0]];
		new iron_data_ShaderContext(c1,overrideContext,(function(i1) {
			return function(con) {
				_gthis.contexts[i1[0]] = con;
				contextsLoaded += 1;
				if(contextsLoaded == raw.contexts.length) {
					done(_gthis);
				}
			};
		})(i));
	}
};
iron_data_ShaderData.__name__ = ["iron","data","ShaderData"];
iron_data_ShaderData.parse = function(file,name,overrideContext,done) {
	iron_data_Data.getSceneRaw(file,function(format) {
		var raw = iron_data_Data.getShaderRawByName(format.shader_datas,name);
		if(raw == null) {
			haxe_Log.trace("Shader data \"" + name + "\" not found!",{ fileName : "ShaderData.hx", lineNumber : 49, className : "iron.data.ShaderData", methodName : "parse"});
			done(null);
		}
		new iron_data_ShaderData(raw,overrideContext,done);
	});
};
iron_data_ShaderData.__super__ = iron_data_Data;
iron_data_ShaderData.prototype = $extend(iron_data_Data.prototype,{
	name: null
	,raw: null
	,contexts: null
	,'delete': function() {
		var _g = 0;
		var _g1 = this.contexts;
		while(_g < _g1.length) {
			var c = _g1[_g];
			++_g;
			c["delete"]();
		}
	}
	,getContext: function(name) {
		var _g = 0;
		var _g1 = this.contexts;
		while(_g < _g1.length) {
			var c = _g1[_g];
			++_g;
			if(c.raw.name == name) {
				return c;
			}
		}
		return null;
	}
	,__class__: iron_data_ShaderData
});
var iron_data_ShaderContext = $hxClasses["iron.data.ShaderContext"] = function(raw,overrideContext,done) {
	this.instancing = false;
	this.raw = raw;
	this.overrideContext = overrideContext;
	if(raw.name == "rect") {
		this.structure = iron_data_ShaderContext.getStructureRect();
		this.instancing = false;
	} else {
		this.parseVertexStructure();
	}
	this.compile(done);
};
iron_data_ShaderContext.__name__ = ["iron","data","ShaderContext"];
iron_data_ShaderContext.getStructureRect = function() {
	if(iron_data_ShaderContext.structureRect == null) {
		iron_data_ShaderContext.structureRect = new kha_graphics4_VertexStructure();
		iron_data_ShaderContext.structureRect.add("pos",kha_graphics4_VertexData.Float2);
	}
	return iron_data_ShaderContext.structureRect;
};
iron_data_ShaderContext.prototype = {
	raw: null
	,pipeState: null
	,constants: null
	,textureUnits: null
	,paramsSet: null
	,structure: null
	,instancing: null
	,overrideContext: null
	,compile: function(done) {
		var _gthis = this;
		if(this.pipeState != null) {
			this.pipeState["delete"]();
		}
		this.pipeState = new kha_graphics4_PipelineState();
		this.constants = [];
		this.textureUnits = [];
		this.paramsSet = [];
		if(this.instancing) {
			var instStruct = new kha_graphics4_VertexStructure();
			instStruct.add("off",kha_graphics4_VertexData.Float3);
			instStruct.instanced = true;
			this.pipeState.inputLayout = [this.structure,instStruct];
		} else {
			this.pipeState.inputLayout = [this.structure];
		}
		this.pipeState.depthWrite = this.raw.depth_write;
		this.pipeState.depthMode = this.getCompareMode(this.raw.compare_mode);
		if(this.raw.stencil_mode != null) {
			if(this.raw.stencil_mode == "always") {
				this.pipeState.stencilMode = kha_graphics4_CompareMode.Always;
			} else if(this.raw.stencil_mode == "equal") {
				this.pipeState.stencilMode = kha_graphics4_CompareMode.Equal;
			} else if(this.raw.stencil_mode == "not_equal") {
				this.pipeState.stencilMode = kha_graphics4_CompareMode.NotEqual;
			}
		}
		if(this.raw.stencil_pass != null) {
			if(this.raw.stencil_pass == "replace") {
				this.pipeState.stencilBothPass = kha_graphics4_StencilAction.Replace;
			} else if(this.raw.stencil_pass == "keep") {
				this.pipeState.stencilBothPass = kha_graphics4_StencilAction.Keep;
			}
		}
		if(this.raw.stencil_fail != null && this.raw.stencil_fail == "keep") {
			this.pipeState.stencilDepthFail = kha_graphics4_StencilAction.Keep;
			this.pipeState.stencilFail = kha_graphics4_StencilAction.Keep;
		}
		if(this.raw.stencil_reference_value != null) {
			this.pipeState.stencilReferenceValue = this.raw.stencil_reference_value;
		}
		this.pipeState.cullMode = this.getCullMode(this.raw.cull_mode);
		if(this.raw.blend_source != null) {
			this.pipeState.blendSource = this.getBlendingFactor(this.raw.blend_source);
		}
		if(this.raw.blend_destination != null) {
			this.pipeState.blendDestination = this.getBlendingFactor(this.raw.blend_destination);
		}
		if(this.raw.blend_operation != null) {
			this.pipeState.blendOperation = this.getBlendingOperation(this.raw.blend_operation);
		}
		if(this.raw.alpha_blend_source != null) {
			this.pipeState.alphaBlendSource = this.getBlendingFactor(this.raw.alpha_blend_source);
		}
		if(this.raw.alpha_blend_destination != null) {
			this.pipeState.alphaBlendDestination = this.getBlendingFactor(this.raw.alpha_blend_destination);
		}
		if(this.raw.alpha_blend_operation != null) {
			this.pipeState.alphaBlendOperation = this.getBlendingOperation(this.raw.alpha_blend_operation);
		}
		if(this.raw.color_write_red != null) {
			this.pipeState.colorWriteMaskRed = this.raw.color_write_red;
		}
		if(this.raw.color_write_green != null) {
			this.pipeState.colorWriteMaskGreen = this.raw.color_write_green;
		}
		if(this.raw.color_write_blue != null) {
			this.pipeState.colorWriteMaskBlue = this.raw.color_write_blue;
		}
		if(this.raw.color_write_alpha != null) {
			this.pipeState.colorWriteMaskAlpha = this.raw.color_write_alpha;
		}
		if(this.raw.conservative_raster != null) {
			this.pipeState.conservativeRasterization = this.raw.conservative_raster;
		}
		if(this.raw.shader_from_source) {
			this.pipeState.fragmentShader = kha_graphics4_FragmentShader.fromSource(this.raw.fragment_shader);
			this.pipeState.vertexShader = kha_graphics4_VertexShader.fromSource(this.raw.vertex_shader);
			this.finishCompile(done);
		} else {
			var shadersLoaded = 0;
			var numShaders = 2;
			if(this.raw.geometry_shader != null) {
				numShaders += 1;
			}
			if(this.raw.tesscontrol_shader != null) {
				numShaders += 1;
			}
			if(this.raw.tesseval_shader != null) {
				numShaders += 1;
			}
			var loadShader = function(file,type) {
				var path = "../krom-resources/" + file + ".glsl";
				iron_data_Data.getBlob(path,function(b) {
					if(type == 0) {
						_gthis.pipeState.vertexShader = new kha_graphics4_VertexShader([b],[file]);
					} else if(type == 1) {
						_gthis.pipeState.fragmentShader = new kha_graphics4_FragmentShader([b],[file]);
					} else if(type == 2) {
						_gthis.pipeState.geometryShader = new kha_graphics4_GeometryShader([b],[file]);
					} else if(type == 3) {
						_gthis.pipeState.tessellationControlShader = new kha_graphics4_TessellationControlShader([b],[file]);
					} else if(type == 4) {
						_gthis.pipeState.tessellationEvaluationShader = new kha_graphics4_TessellationEvaluationShader([b],[file]);
					}
					shadersLoaded += 1;
					if(shadersLoaded >= numShaders) {
						_gthis.finishCompile(done);
					}
				});
			};
			loadShader(this.raw.vertex_shader,0);
			loadShader(this.raw.fragment_shader,1);
			if(this.raw.geometry_shader != null) {
				loadShader(this.raw.geometry_shader,2);
			}
			if(this.raw.tesscontrol_shader != null) {
				loadShader(this.raw.tesscontrol_shader,3);
			}
			if(this.raw.tesseval_shader != null) {
				loadShader(this.raw.tesseval_shader,4);
			}
		}
	}
	,finishCompile: function(done) {
		if(this.overrideContext != null) {
			if(this.overrideContext.cull_mode != null) {
				this.pipeState.cullMode = this.getCullMode(this.overrideContext.cull_mode);
			}
		}
		this.pipeState.compile();
		if(this.raw.constants != null) {
			var _g = 0;
			var _g1 = this.raw.constants;
			while(_g < _g1.length) {
				var c = _g1[_g];
				++_g;
				this.addConstant(c);
			}
		}
		if(this.raw.texture_units != null) {
			var _g2 = 0;
			var _g11 = this.raw.texture_units;
			while(_g2 < _g11.length) {
				var tu = _g11[_g2];
				++_g2;
				this.addTexture(tu);
			}
		}
		done(this);
	}
	,sizeToVD: function(size) {
		if(size == 1) {
			return kha_graphics4_VertexData.Float1;
		} else if(size == 2) {
			return kha_graphics4_VertexData.Float2;
		} else if(size == 3) {
			return kha_graphics4_VertexData.Float3;
		} else if(size == 4) {
			return kha_graphics4_VertexData.Float4;
		}
		return null;
	}
	,parseVertexStructure: function() {
		this.structure = new kha_graphics4_VertexStructure();
		var _g = 0;
		var _g1 = this.raw.vertex_structure;
		while(_g < _g1.length) {
			var vs = _g1[_g];
			++_g;
			if(vs.name == "off") {
				this.instancing = true;
				continue;
			}
			this.structure.add(vs.name,this.sizeToVD(vs.size));
		}
	}
	,deleteShader: function(shader) {
		if(shader.shader == null) {
			return;
		}
		shader["delete"]();
	}
	,'delete': function() {
		if(this.pipeState.fragmentShader != null) {
			var shader = this.pipeState.fragmentShader;
			if(shader.shader != null) {
				shader["delete"]();
			}
		}
		if(this.pipeState.vertexShader != null) {
			var shader1 = this.pipeState.vertexShader;
			if(shader1.shader != null) {
				shader1["delete"]();
			}
		}
		if(this.pipeState.geometryShader != null) {
			var shader2 = this.pipeState.geometryShader;
			if(shader2.shader != null) {
				shader2["delete"]();
			}
		}
		if(this.pipeState.tessellationControlShader != null) {
			var shader3 = this.pipeState.tessellationControlShader;
			if(shader3.shader != null) {
				shader3["delete"]();
			}
		}
		if(this.pipeState.tessellationEvaluationShader != null) {
			var shader4 = this.pipeState.tessellationEvaluationShader;
			if(shader4.shader != null) {
				shader4["delete"]();
			}
		}
		this.pipeState["delete"]();
	}
	,getCompareMode: function(s) {
		switch(s) {
		case "always":
			return kha_graphics4_CompareMode.Always;
		case "equal":
			return kha_graphics4_CompareMode.Equal;
		case "greater":
			return kha_graphics4_CompareMode.Greater;
		case "greater_equal":
			return kha_graphics4_CompareMode.GreaterEqual;
		case "less":
			return kha_graphics4_CompareMode.Less;
		case "less_equal":
			return kha_graphics4_CompareMode.LessEqual;
		case "never":
			return kha_graphics4_CompareMode.Never;
		case "not_equal":
			return kha_graphics4_CompareMode.NotEqual;
		default:
			return kha_graphics4_CompareMode.Less;
		}
	}
	,getCullMode: function(s) {
		switch(s) {
		case "clockwise":
			return kha_graphics4_CullMode.Clockwise;
		case "none":
			return kha_graphics4_CullMode.None;
		default:
			return kha_graphics4_CullMode.CounterClockwise;
		}
	}
	,getBlendingOperation: function(s) {
		switch(s) {
		case "add":
			return kha_graphics4_BlendingOperation.Add;
		case "max":
			return kha_graphics4_BlendingOperation.Max;
		case "min":
			return kha_graphics4_BlendingOperation.Min;
		case "reverse_subtract":
			return kha_graphics4_BlendingOperation.ReverseSubtract;
		case "subtract":
			return kha_graphics4_BlendingOperation.Subtract;
		default:
			return kha_graphics4_BlendingOperation.Add;
		}
	}
	,getBlendingFactor: function(s) {
		switch(s) {
		case "blend_one":
			return kha_graphics4_BlendingFactor.BlendOne;
		case "blend_zero":
			return kha_graphics4_BlendingFactor.BlendZero;
		case "destination_alpha":
			return kha_graphics4_BlendingFactor.DestinationAlpha;
		case "destination_color":
			return kha_graphics4_BlendingFactor.DestinationColor;
		case "inverse_destination_alpha":
			return kha_graphics4_BlendingFactor.InverseDestinationAlpha;
		case "inverse_destination_color":
			return kha_graphics4_BlendingFactor.InverseDestinationColor;
		case "inverse_source_alpha":
			return kha_graphics4_BlendingFactor.InverseSourceAlpha;
		case "inverse_source_color":
			return kha_graphics4_BlendingFactor.InverseSourceColor;
		case "source_alpha":
			return kha_graphics4_BlendingFactor.SourceAlpha;
		case "source_color":
			return kha_graphics4_BlendingFactor.SourceColor;
		default:
			return kha_graphics4_BlendingFactor.Undefined;
		}
	}
	,getTextureAddresing: function(s) {
		switch(s) {
		case "mirror":
			return kha_graphics4_TextureAddressing.Mirror;
		case "repeat":
			return kha_graphics4_TextureAddressing.Repeat;
		default:
			return kha_graphics4_TextureAddressing.Clamp;
		}
	}
	,getTextureFilter: function(s) {
		switch(s) {
		case "linear":
			return kha_graphics4_TextureFilter.LinearFilter;
		case "point":
			return kha_graphics4_TextureFilter.PointFilter;
		default:
			return kha_graphics4_TextureFilter.AnisotropicFilter;
		}
	}
	,getMipmapFilter: function(s) {
		switch(s) {
		case "no":
			return kha_graphics4_MipMapFilter.NoMipFilter;
		case "point":
			return kha_graphics4_MipMapFilter.PointMipFilter;
		default:
			return kha_graphics4_MipMapFilter.LinearMipFilter;
		}
	}
	,addConstant: function(c) {
		this.constants.push(this.pipeState.getConstantLocation(c.name));
	}
	,addTexture: function(tu) {
		var unit = this.pipeState.getTextureUnit(tu.name);
		this.textureUnits.push(unit);
		this.paramsSet.push(false);
	}
	,setTextureParameters: function(g,unitIndex,tex) {
		var unit = this.textureUnits[unitIndex];
		g.setTextureParameters(unit,tex.u_addressing == null ? kha_graphics4_TextureAddressing.Repeat : this.getTextureAddresing(tex.u_addressing),tex.v_addressing == null ? kha_graphics4_TextureAddressing.Repeat : this.getTextureAddresing(tex.v_addressing),tex.min_filter == null ? kha_graphics4_TextureFilter.LinearFilter : this.getTextureFilter(tex.min_filter),tex.mag_filter == null ? kha_graphics4_TextureFilter.LinearFilter : this.getTextureFilter(tex.mag_filter),tex.mipmap_filter == null ? kha_graphics4_MipMapFilter.NoMipFilter : this.getMipmapFilter(tex.mipmap_filter));
	}
	,__class__: iron_data_ShaderContext
};
var iron_data_Wasm = $hxClasses["iron.data.Wasm"] = function(blob,importObject) {
	var data = blob.toBytes().b.bufferValue;
	var module = new WebAssembly.Module(data);
	if(importObject == null) {
		this.exports = new WebAssembly.Instance(module).exports;
	} else {
		this.exports = new WebAssembly.Instance(module, importObject).exports;
	}
};
iron_data_Wasm.__name__ = ["iron","data","Wasm"];
iron_data_Wasm.instance = function(blob,importObject) {
	return new iron_data_Wasm(blob,importObject);
};
iron_data_Wasm.prototype = {
	exports: null
	,getString: function(i) {
		var mem = this.getMemory(i,32);
		var s = "";
		var _g = 0;
		while(_g < 32) {
			var i1 = _g++;
			if(mem[i1] == 0) {
				break;
			} else {
				s += String.fromCharCode(mem[i1]);
			}
		}
		return s;
	}
	,getMemory: function(offset,length) {
		return new Uint8Array(this.exports.memory.buffer, offset, length);
	}
	,getMemoryF32: function(offset,length) {
		return new Float32Array(this.exports.memory.buffer, offset, length);
	}
	,getMemoryU32: function(offset,length) {
		return new Uint32Array(this.exports.memory.buffer, offset, length);
	}
	,__class__: iron_data_Wasm
};
var iron_data_WorldData = $hxClasses["iron.data.WorldData"] = function(raw,done) {
	this.vec = new iron_math_Vec4();
	this.shirr = null;
	var _gthis = this;
	iron_data_Data.call(this);
	this.raw = raw;
	this.name = raw.name;
	if(raw.probes != null && raw.probes.length > 0) {
		this.probes = [];
		var _g = 0;
		var _g1 = raw.probes;
		while(_g < _g1.length) {
			var p = _g1[_g];
			++_g;
			new iron_data_Probe(p,function(self) {
				_gthis.probes.push(self);
				if(_gthis.probes.length == raw.probes.length) {
					_gthis.loadEnvmap(done);
				}
			});
		}
	} else {
		this.loadEnvmap(done);
	}
};
iron_data_WorldData.__name__ = ["iron","data","WorldData"];
iron_data_WorldData.parse = function(name,id,done) {
	iron_data_Data.getSceneRaw(name,function(format) {
		var raw = iron_data_Data.getWorldRawByName(format.world_datas,id);
		if(raw == null) {
			haxe_Log.trace("World data \"" + id + "\" not found!",{ fileName : "WorldData.hx", lineNumber : 51, className : "iron.data.WorldData", methodName : "parse"});
			done(null);
		}
		new iron_data_WorldData(raw,done);
	});
};
iron_data_WorldData.getEmptyIrradiance = function() {
	if(iron_data_WorldData.emptyIrr == null) {
		var this1 = new Float32Array(28);
		iron_data_WorldData.emptyIrr = this1;
		var _g1 = 0;
		var _g = iron_data_WorldData.emptyIrr.length;
		while(_g1 < _g) {
			var i = _g1++;
			iron_data_WorldData.emptyIrr[i] = 0.0;
		}
	}
	return iron_data_WorldData.emptyIrr;
};
iron_data_WorldData.__super__ = iron_data_Data;
iron_data_WorldData.prototype = $extend(iron_data_Data.prototype,{
	name: null
	,raw: null
	,envmap: null
	,probes: null
	,loadEnvmap: function(done) {
		var _gthis = this;
		if(this.raw.envmap != null) {
			iron_data_Data.getImage(this.raw.envmap,function(image) {
				_gthis.envmap = image;
				done(_gthis);
			});
		} else {
			done(this);
		}
	}
	,getGlobalProbe: function() {
		return this.probes[0];
	}
	,getLocalProbe: function(i) {
		if(i < this.probes.length) {
			return this.probes[i];
		} else {
			return null;
		}
	}
	,shirr: null
	,getSHIrradiance: function() {
		if(this.shirr == null) {
			var this1 = new Float32Array(28);
			this.shirr = this1;
			var p = this.probes[0];
			var _g1 = 0;
			var _g = p.irradiance.length;
			while(_g1 < _g) {
				var j = _g1++;
				this.shirr[j] = p.irradiance[j];
			}
		}
		return this.shirr;
	}
	,vec: null
	,getProbeID: function(t) {
		this.vec.x = t.world.self._30;
		this.vec.y = t.world.self._31;
		this.vec.z = t.world.self._32;
		var dim = t.dim;
		var _g1 = 1;
		var _g = this.probes.length;
		while(_g1 < _g) {
			var i = _g1++;
			var p = this.probes[i];
			if(this.vec.x + dim.x / 2 < p.volumeMin.x || this.vec.x - dim.x / 2 > p.volumeMax.x || this.vec.y + dim.y / 2 < p.volumeMin.y || this.vec.y - dim.y / 2 > p.volumeMax.y || this.vec.z + dim.z / 2 < p.volumeMin.z || this.vec.z - dim.z / 2 > p.volumeMax.z) {
				continue;
			}
			return i;
		}
		return 0;
	}
	,getProbeVolumeCenter: function(t) {
		return this.probes[this.getProbeID(t)].volumeCenter;
	}
	,getProbeVolumeSize: function(t) {
		return this.probes[this.getProbeID(t)].volume;
	}
	,getProbeStrength: function(t) {
		return this.probes[this.getProbeID(t)].raw.strength;
	}
	,getProbeBlending: function(t) {
		return this.probes[this.getProbeID(t)].raw.blending;
	}
	,__class__: iron_data_WorldData
});
var iron_data_Probe = $hxClasses["iron.data.Probe"] = function(raw,done) {
	var _gthis = this;
	this.raw = raw;
	this.setIrradiance(function(irr) {
		_gthis.irradiance = irr;
		if(raw.radiance != null) {
			iron_data_Data.getImage(raw.radiance,function(rad) {
				_gthis.radiance = rad;
				var radianceMipmaps = [];
				while(radianceMipmaps.length < raw.radiance_mipmaps) radianceMipmaps.push(null);
				var ext = raw.radiance.substring(raw.radiance.length - 4);
				var base = raw.radiance.substring(0,raw.radiance.length - 4);
				var mipsLoaded = 0;
				var _g1 = 0;
				var _g = raw.radiance_mipmaps;
				while(_g1 < _g) {
					var i = [_g1++];
					iron_data_Data.getImage(base + "_" + i[0] + ext,(function(i1) {
						return function(mipimg) {
							radianceMipmaps[i1[0]] = mipimg;
							mipsLoaded += 1;
							if(mipsLoaded == raw.radiance_mipmaps) {
								_gthis.radiance.setMipmaps(radianceMipmaps);
								_gthis.mipsSet(done);
							}
						};
					})(i),true);
				}
			});
		} else {
			_gthis.mipsSet(done);
		}
	});
};
iron_data_Probe.__name__ = ["iron","data","Probe"];
iron_data_Probe.prototype = {
	raw: null
	,radiance: null
	,irradiance: null
	,volume: null
	,volumeCenter: null
	,volumeMin: null
	,volumeMax: null
	,mipsSet: function(done) {
		this.volume = new iron_math_Vec4(this.raw.volume[0],this.raw.volume[1],this.raw.volume[2]);
		this.volumeCenter = new iron_math_Vec4(this.raw.volume_center[0],this.raw.volume_center[1],this.raw.volume_center[2]);
		this.volumeMin = new iron_math_Vec4(this.volumeCenter.x - this.volume.x,this.volumeCenter.y - this.volume.y,this.volumeCenter.z - this.volume.z);
		this.volumeMax = new iron_math_Vec4(this.volumeCenter.x + this.volume.x,this.volumeCenter.y + this.volume.y,this.volumeCenter.z + this.volume.z);
		done(this);
	}
	,setIrradiance: function(done) {
		if(this.raw.irradiance == "") {
			var ar = [0.775966,1.167610,1.498638,0.133694,0.215281,0.056659,-0.022268,-0.019376,-0.010651,0.000279,0.000185,0.0,0.0,-0.000393,-0.000775,0.010973,0.027268,0.043918,0.085267,0.073670,0.038877,0.0,0.0,0.0,0.135177,0.115614,0.060794];
			var this1 = new Float32Array(ar.length);
			var far = this1;
			var _g1 = 0;
			var _g = far.length;
			while(_g1 < _g) {
				var i = _g1++;
				far[i] = ar[i];
			}
			done(far);
		} else {
			var ext = StringTools.endsWith(this.raw.irradiance,".json") ? "" : ".arm";
			iron_data_Data.getBlob(this.raw.irradiance + ext,function(b) {
				var irradianceParsed;
				if(ext == "") {
					irradianceParsed = JSON.parse(b.toString());
				} else {
					var i1 = new haxe_io_BytesInput(b.toBytes());
					i1.set_bigEndian(true);
					irradianceParsed = iron_system_ArmPack.read(i1);
				}
				var this2 = new Float32Array(28);
				var irr = this2;
				var _g2 = 0;
				while(_g2 < 27) {
					var i2 = _g2++;
					irr[i2] = irradianceParsed.irradiance[i2];
				}
				irr[27] = 0.0;
				done(irr);
			});
		}
	}
	,__class__: iron_data_Probe
};
var iron_math_Mat3 = $hxClasses["iron.math.Mat3"] = function(_00,_10,_20,_01,_11,_21,_02,_12,_22) {
	this.self = new kha_math_FastMatrix3(_00,_10,_20,_01,_11,_21,_02,_12,_22);
};
iron_math_Mat3.__name__ = ["iron","math","Mat3"];
iron_math_Mat3.identity = function() {
	return new iron_math_Mat3(1,0,0,0,1,0,0,0,1);
};
iron_math_Mat3.prototype = {
	self: null
	,setFrom4: function(m) {
		this.self._00 = m.self._00;
		this.self._01 = m.self._01;
		this.self._02 = m.self._02;
		this.self._10 = m.self._10;
		this.self._11 = m.self._11;
		this.self._12 = m.self._12;
		this.self._20 = m.self._20;
		this.self._21 = m.self._21;
		this.self._22 = m.self._22;
	}
	,get__00: function() {
		return this.self._00;
	}
	,set__00: function(f) {
		return this.self._00 = f;
	}
	,get__01: function() {
		return this.self._01;
	}
	,set__01: function(f) {
		return this.self._01 = f;
	}
	,get__02: function() {
		return this.self._02;
	}
	,set__02: function(f) {
		return this.self._02 = f;
	}
	,get__10: function() {
		return this.self._10;
	}
	,set__10: function(f) {
		return this.self._10 = f;
	}
	,get__11: function() {
		return this.self._11;
	}
	,set__11: function(f) {
		return this.self._11 = f;
	}
	,get__12: function() {
		return this.self._12;
	}
	,set__12: function(f) {
		return this.self._12 = f;
	}
	,get__20: function() {
		return this.self._20;
	}
	,set__20: function(f) {
		return this.self._20 = f;
	}
	,get__21: function() {
		return this.self._21;
	}
	,set__21: function(f) {
		return this.self._21 = f;
	}
	,get__22: function() {
		return this.self._22;
	}
	,set__22: function(f) {
		return this.self._22 = f;
	}
	,__class__: iron_math_Mat3
	,__properties__: {set__22:"set__22",get__22:"get__22",set__21:"set__21",get__21:"get__21",set__20:"set__20",get__20:"get__20",set__12:"set__12",get__12:"get__12",set__11:"set__11",get__11:"get__11",set__10:"set__10",get__10:"get__10",set__02:"set__02",get__02:"get__02",set__01:"set__01",get__01:"get__01",set__00:"set__00",get__00:"get__00"}
};
var iron_math_Math = $hxClasses["iron.math.Math"] = function() { };
iron_math_Math.__name__ = ["iron","math","Math"];
iron_math_Math.__properties__ = {get_NaN:"get_NaN",get_NEGATIVE_INFINITY:"get_NEGATIVE_INFINITY",get_POSITIVE_INFINITY:"get_POSITIVE_INFINITY"};
iron_math_Math.get_POSITIVE_INFINITY = function() {
	return Infinity;
};
iron_math_Math.get_NEGATIVE_INFINITY = function() {
	return -Infinity;
};
iron_math_Math.get_NaN = function() {
	return NaN;
};
iron_math_Math.abs = function(v) {
	return Math.abs(v);
};
iron_math_Math.acos = function(v) {
	return Math.acos(v);
};
iron_math_Math.asin = function(v) {
	return Math.asin(v);
};
iron_math_Math.atan = function(v) {
	return Math.atan(v);
};
iron_math_Math.atan2 = function(y,x) {
	return Math.atan2(y,x);
};
iron_math_Math.ceil = function(v) {
	return Math.ceil(v);
};
iron_math_Math.cos = function(v) {
	return Math.cos(v);
};
iron_math_Math.exp = function(v) {
	return Math.exp(v);
};
iron_math_Math.floor = function(v) {
	return Math.floor(v);
};
iron_math_Math.log = function(v) {
	return Math.log(v);
};
iron_math_Math.max = function(a,b) {
	return Math.max(a,b);
};
iron_math_Math.min = function(a,b) {
	return Math.min(a,b);
};
iron_math_Math.pow = function(v,exp) {
	return Math.pow(v,exp);
};
iron_math_Math.random = function() {
	return Math.random();
};
iron_math_Math.round = function(v) {
	return Math.round(v);
};
iron_math_Math.sin = function(v) {
	return Math.sin(v);
};
iron_math_Math.sqrt = function(v) {
	return Math.sqrt(v);
};
iron_math_Math.tan = function(v) {
	return Math.tan(v);
};
iron_math_Math.ffloor = function(v) {
	return Math.floor(v);
};
iron_math_Math.fceil = function(v) {
	return Math.ceil(v);
};
iron_math_Math.fround = function(v) {
	return Math.round(v);
};
iron_math_Math.isFinite = function(f) {
	return isFinite(f);
};
iron_math_Math.isNaN = function(f) {
	return isNaN(f);
};
iron_math_Math.roundfp = function(f,precision) {
	if(precision == null) {
		precision = 2;
	}
	f *= Math.pow(10,precision);
	return Math.round(f) / Math.pow(10,precision);
};
iron_math_Math.clamp = function(f,min,max) {
	if(f < min) {
		return min;
	} else if(f > max) {
		return max;
	} else {
		return f;
	}
};
var iron_math_Ray = $hxClasses["iron.math.Ray"] = function(origin,direction) {
	this.origin = origin == null ? new iron_math_Vec4() : origin;
	this.direction = direction == null ? new iron_math_Vec4() : direction;
};
iron_math_Ray.__name__ = ["iron","math","Ray"];
iron_math_Ray.prototype = {
	origin: null
	,direction: null
	,at: function(t) {
		var result = new iron_math_Vec4();
		return result.setFrom(this.direction).mult(t).add(this.origin);
	}
	,distanceToPoint: function(point) {
		var v1 = new iron_math_Vec4();
		var directionDistance = v1.subvecs(point,this.origin).dot(this.direction);
		if(directionDistance < 0) {
			return this.origin.distanceTo(point);
		}
		v1.setFrom(this.direction).mult(directionDistance).add(this.origin);
		return v1.distanceTo(point);
	}
	,intersectsSphere: function(sphereCenter,sphereRadius) {
		return this.distanceToPoint(sphereCenter) <= sphereRadius;
	}
	,intersectsPlane: function(plane) {
		var distToPoint = plane.distanceToPoint(this.origin);
		if(distToPoint == 0) {
			return true;
		}
		var denominator = plane.normal.dot(this.direction);
		if(denominator * distToPoint < 0) {
			return true;
		}
		return false;
	}
	,distanceToPlane: function(plane) {
		var denominator = plane.normal.dot(this.direction);
		if(denominator == 0) {
			if(plane.distanceToPoint(this.origin) == 0) {
				return 0;
			}
			return -1;
		}
		var t = -(this.origin.dot(plane.normal) + plane.constant) / denominator;
		if(t >= 0) {
			return t;
		} else {
			return -1;
		}
	}
	,intersectPlane: function(plane) {
		var t = this.distanceToPlane(plane);
		if(t == -1) {
			return null;
		}
		return this.at(t);
	}
	,intersectsBox: function(center,dim) {
		return this.intersectBox(center,dim) != null;
	}
	,intersectBox: function(center,dim) {
		var tmin;
		var tmax;
		var tymin;
		var tymax;
		var tzmin;
		var tzmax;
		var halfX = dim.x / 2;
		var halfY = dim.y / 2;
		var halfZ = dim.z / 2;
		var boxMinX = center.x - halfX;
		var boxMinY = center.y - halfY;
		var boxMinZ = center.z - halfZ;
		var boxMaxX = center.x + halfX;
		var boxMaxY = center.y + halfY;
		var boxMaxZ = center.z + halfZ;
		var invdirx = 1 / this.direction.x;
		var invdiry = 1 / this.direction.y;
		var invdirz = 1 / this.direction.z;
		var origin = this.origin;
		if(invdirx >= 0) {
			tmin = (boxMinX - origin.x) * invdirx;
			tmax = (boxMaxX - origin.x) * invdirx;
		} else {
			tmin = (boxMaxX - origin.x) * invdirx;
			tmax = (boxMinX - origin.x) * invdirx;
		}
		if(invdiry >= 0) {
			tymin = (boxMinY - origin.y) * invdiry;
			tymax = (boxMaxY - origin.y) * invdiry;
		} else {
			tymin = (boxMaxY - origin.y) * invdiry;
			tymax = (boxMinY - origin.y) * invdiry;
		}
		if(tmin > tymax || tymin > tmax) {
			return null;
		}
		if(tymin > tmin || tmin != tmin) {
			tmin = tymin;
		}
		if(tymax < tmax || tmax != tmax) {
			tmax = tymax;
		}
		if(invdirz >= 0) {
			tzmin = (boxMinZ - origin.z) * invdirz;
			tzmax = (boxMaxZ - origin.z) * invdirz;
		} else {
			tzmin = (boxMaxZ - origin.z) * invdirz;
			tzmax = (boxMinZ - origin.z) * invdirz;
		}
		if(tmin > tzmax || tzmin > tmax) {
			return null;
		}
		if(tzmin > tmin || tmin != tmin) {
			tmin = tzmin;
		}
		if(tzmax < tmax || tmax != tmax) {
			tmax = tzmax;
		}
		if(tmax < 0) {
			return null;
		}
		return this.at(tmin >= 0 ? tmin : tmax);
	}
	,intersectTriangle: function(a,b,c,backfaceCulling) {
		var diff = new iron_math_Vec4();
		var edge1 = new iron_math_Vec4();
		var edge2 = new iron_math_Vec4();
		var normal = new iron_math_Vec4();
		edge1.subvecs(b,a);
		edge2.subvecs(c,a);
		normal.crossvecs(edge1,edge2);
		var DdN = this.direction.dot(normal);
		var sign;
		if(DdN > 0) {
			if(backfaceCulling) {
				return null;
			}
			sign = 1;
		} else if(DdN < 0) {
			sign = -1;
			DdN = -DdN;
		} else {
			return null;
		}
		diff.subvecs(this.origin,a);
		var DdQxE2 = sign * this.direction.dot(edge2.crossvecs(diff,edge2));
		if(DdQxE2 < 0) {
			return null;
		}
		var DdE1xQ = sign * this.direction.dot(edge1.cross(diff));
		if(DdE1xQ < 0) {
			return null;
		}
		if(DdQxE2 + DdE1xQ > DdN) {
			return null;
		}
		var QdN = -sign * diff.dot(normal);
		if(QdN < 0) {
			return null;
		}
		return this.at(QdN / DdN);
	}
	,__class__: iron_math_Ray
};
var iron_math_Plane = $hxClasses["iron.math.Plane"] = function() {
	this.constant = 0.0;
	this.normal = new iron_math_Vec4(1.0,0.0,0.0);
};
iron_math_Plane.__name__ = ["iron","math","Plane"];
iron_math_Plane.prototype = {
	normal: null
	,constant: null
	,distanceToPoint: function(point) {
		return this.normal.dot(point) + this.constant;
	}
	,set: function(normal,point) {
		this.normal.setFrom(normal);
		this.constant = -point.dot(this.normal);
		return this;
	}
	,__class__: iron_math_Plane
};
var iron_math_RayCaster = $hxClasses["iron.math.RayCaster"] = function() { };
iron_math_RayCaster.__name__ = ["iron","math","RayCaster"];
iron_math_RayCaster.getRay = function(inputX,inputY,camera) {
	var start = new iron_math_Vec4();
	var end = new iron_math_Vec4();
	iron_math_RayCaster.getDirection(start,end,inputX,inputY,camera);
	end.sub(start);
	end.normalize();
	end.x *= camera.data.raw.far_plane;
	end.y *= camera.data.raw.far_plane;
	end.z *= camera.data.raw.far_plane;
	return new iron_math_Ray(start,end);
};
iron_math_RayCaster.getDirection = function(start,end,inputX,inputY,camera) {
	start.x = inputX / kha_System.windowWidth() * 2.0 - 1.0;
	start.y = -(inputY / kha_System.windowHeight() * 2.0 - 1.0);
	start.z = -1.0;
	end.x = start.x;
	end.y = start.y;
	end.z = 1.0;
	iron_math_RayCaster.PInv.getInverse(camera.P);
	iron_math_RayCaster.VInv.getInverse(camera.V);
	iron_math_RayCaster.VPInv.multmats(iron_math_RayCaster.VInv,iron_math_RayCaster.PInv);
	start.applyproj(iron_math_RayCaster.VPInv);
	end.applyproj(iron_math_RayCaster.VPInv);
};
iron_math_RayCaster.boxIntersect = function(transform,inputX,inputY,camera) {
	var ray = iron_math_RayCaster.getRay(inputX,inputY,camera);
	var t = transform;
	var c = new iron_math_Vec4(t.world.self._30,t.world.self._31,t.world.self._32);
	var s = new iron_math_Vec4(t.dim.x,t.dim.y,t.dim.z);
	return ray.intersectBox(c,s);
};
iron_math_RayCaster.closestBoxIntersect = function(transforms,inputX,inputY,camera) {
	var intersects = [];
	var _g = 0;
	while(_g < transforms.length) {
		var t = transforms[_g];
		++_g;
		var intersect = iron_math_RayCaster.boxIntersect(t,inputX,inputY,camera);
		if(intersect != null) {
			intersects.push(t);
		}
	}
	if(intersects.length == 0) {
		return null;
	}
	var closest = null;
	var minDist = Infinity;
	var _g1 = 0;
	while(_g1 < intersects.length) {
		var t1 = intersects[_g1];
		++_g1;
		var v1 = t1.loc;
		var v2 = camera.transform.loc;
		var vx = v1.x - v2.x;
		var vy = v1.y - v2.y;
		var vz = v1.z - v2.z;
		var dist = Math.sqrt(vx * vx + vy * vy + vz * vz);
		if(dist < minDist) {
			minDist = dist;
			closest = t1;
		}
	}
	return closest;
};
iron_math_RayCaster.planeIntersect = function(normal,a,inputX,inputY,camera) {
	var ray = iron_math_RayCaster.getRay(inputX,inputY,camera);
	var plane = new iron_math_Plane();
	plane.set(normal,a);
	return ray.intersectPlane(plane);
};
iron_math_RayCaster.getPlaneUV = function(obj,screenX,screenY,camera) {
	var normals = obj.data.geom.normals;
	iron_math_RayCaster.nor.set(normals[0],normals[1],normals[2]);
	iron_math_RayCaster.m.setFrom(obj.transform.world);
	iron_math_RayCaster.m.getInverse(iron_math_RayCaster.m);
	iron_math_RayCaster.m.transpose3x3();
	iron_math_RayCaster.m.self._30 = iron_math_RayCaster.m.self._31 = iron_math_RayCaster.m.self._32 = 0;
	iron_math_RayCaster.nor.applymat(iron_math_RayCaster.m);
	iron_math_RayCaster.nor.normalize();
	iron_math_RayCaster.loc.set(obj.transform.world.self._30,obj.transform.world.self._31,obj.transform.world.self._32);
	var hit = iron_math_RayCaster.planeIntersect(iron_math_RayCaster.nor,iron_math_RayCaster.loc,screenX,screenY,camera);
	if(hit != null) {
		var a = iron_math_RayCaster.nor.x;
		var b = iron_math_RayCaster.nor.y;
		var c = iron_math_RayCaster.nor.z;
		var e = 0.0001;
		var u = a >= e && b >= e ? new iron_math_Vec4(b,-a,0) : new iron_math_Vec4(c,-a,0);
		u.normalize();
		var v = iron_math_RayCaster.nor.clone();
		v.cross(u);
		hit.sub(iron_math_RayCaster.loc);
		var uCoord = u.dot(hit);
		var vCoord = v.dot(hit);
		var dim = obj.transform.dim;
		var hx = dim.x / 2;
		var hy = dim.z > dim.y ? dim.z / 2 : dim.y / 2;
		var ix = uCoord / hx * -1 * 0.5 + 0.5;
		var iy = vCoord / hy * 0.5 + 0.5;
		return new iron_math_Vec2(ix,iy);
	}
	return null;
};
var iron_math_Vec2 = $hxClasses["iron.math.Vec2"] = function(x,y) {
	if(y == null) {
		y = 0.0;
	}
	if(x == null) {
		x = 0.0;
	}
	this.x = x;
	this.y = y;
};
iron_math_Vec2.__name__ = ["iron","math","Vec2"];
iron_math_Vec2.lerp = function(v1,v2,t) {
	var target = new iron_math_Vec2();
	target.x = v2.x + (v1.x - v2.x) * t;
	target.y = v2.y + (v1.y - v2.y) * t;
	return target;
};
iron_math_Vec2.distance = function(v1,v2) {
	var vx = v1.x - v2.x;
	var vy = v1.y - v2.y;
	return Math.sqrt(vx * vx + vy * vy);
};
iron_math_Vec2.distancef = function(v1x,v1y,v2x,v2y) {
	var vx = v1x - v2x;
	var vy = v1y - v2y;
	return Math.sqrt(vx * vx + vy * vy);
};
iron_math_Vec2.xAxis = function() {
	return new iron_math_Vec2(1.0,0.0);
};
iron_math_Vec2.yAxis = function() {
	return new iron_math_Vec2(0.0,1.0);
};
iron_math_Vec2.one = function() {
	return new iron_math_Vec2(1.0,1.0);
};
iron_math_Vec2.zero = function() {
	return new iron_math_Vec2(0.0,0.0);
};
iron_math_Vec2.back = function() {
	return new iron_math_Vec2(0.0,-1.0);
};
iron_math_Vec2.forward = function() {
	return new iron_math_Vec2(0.0,1.0);
};
iron_math_Vec2.left = function() {
	return new iron_math_Vec2(-1.0,0.0);
};
iron_math_Vec2.right = function() {
	return new iron_math_Vec2(1.0,0.0);
};
iron_math_Vec2.negativeInfinity = function() {
	return new iron_math_Vec2(-Infinity,-Infinity);
};
iron_math_Vec2.positiveInfinity = function() {
	return new iron_math_Vec2(Infinity,Infinity);
};
iron_math_Vec2.prototype = {
	x: null
	,y: null
	,cross: function(v) {
		return this.x * v.y - this.y * v.x;
	}
	,set: function(x,y) {
		this.x = x;
		this.y = y;
		return this;
	}
	,add: function(v) {
		this.x += v.x;
		this.y += v.y;
		return this;
	}
	,addf: function(x,y) {
		this.x += x;
		this.y += y;
		return this;
	}
	,addvecs: function(a,b) {
		this.x = a.x + b.x;
		this.y = a.y + b.y;
		return this;
	}
	,subvecs: function(a,b) {
		this.x = a.x - b.x;
		this.y = a.y - b.y;
		return this;
	}
	,normalize: function() {
		var a = this.x;
		var b = this.y;
		var l = a * a + b * b;
		if(l > 0.0) {
			l = 1.0 / Math.sqrt(l);
			this.x = a * l;
			this.y = b * l;
		}
		return this;
	}
	,mult: function(f) {
		this.x *= f;
		this.y *= f;
		return this;
	}
	,dot: function(v) {
		return this.x * v.x + this.y * v.y;
	}
	,setFrom: function(v) {
		this.x = v.x;
		this.y = v.y;
		return this;
	}
	,clone: function() {
		return new iron_math_Vec2(this.x,this.y);
	}
	,equals: function(v) {
		if(this.x == v.x) {
			return this.y == v.y;
		} else {
			return false;
		}
	}
	,length: function() {
		return Math.sqrt(this.x * this.x + this.y * this.y);
	}
	,normalizeTo: function(newLength) {
		var v = this.normalize();
		v = this.mult(newLength);
		return v;
	}
	,sub: function(v) {
		this.x -= v.x;
		this.y -= v.y;
		return this;
	}
	,distanceTo: function(p) {
		return Math.sqrt((p.x - this.x) * (p.x - this.x) + (p.y - this.y) * (p.y - this.y));
	}
	,clamp: function(fmin,fmax) {
		var n = Math.sqrt(this.x * this.x + this.y * this.y);
		var v = this;
		if(n < fmin) {
			var v1 = this.normalize();
			v1 = this.mult(fmin);
			v = v1;
		} else if(n > fmax) {
			var v2 = this.normalize();
			v2 = this.mult(fmax);
			v = v2;
		}
		return v;
	}
	,toString: function() {
		return "(" + this.x + ", " + this.y + ")";
	}
	,__class__: iron_math_Vec2
};
var iron_object_Animation = $hxClasses["iron.object.Animation"] = function() {
	this.markerEvents = null;
	this.lastFrameIndex = -1;
	this.blendAction = "";
	this.blendCurrent = 0.0;
	this.blendTime = 0.0;
	this.paused = false;
	this.onComplete = null;
	this.frameIndex = 0;
	this.loop = true;
	this.speed = 1.0;
	this.time = 0.0;
	this.action = "";
	iron_Scene.active.animations.push(this);
	this.frameTime = iron_Scene.active.raw.frame_time;
	this.play();
};
iron_object_Animation.__name__ = ["iron","object","Animation"];
iron_object_Animation.beginProfile = function() {
	iron_object_Animation.startTime = kha_Scheduler.realTime();
};
iron_object_Animation.endProfile = function() {
	iron_object_Animation.animationTime += kha_Scheduler.realTime() - iron_object_Animation.startTime;
};
iron_object_Animation.endFrame = function() {
	iron_object_Animation.animationTime = 0;
};
iron_object_Animation.prototype = {
	isSkinned: null
	,isSampled: null
	,action: null
	,armature: null
	,time: null
	,speed: null
	,loop: null
	,frameIndex: null
	,onComplete: null
	,paused: null
	,frameTime: null
	,blendTime: null
	,blendCurrent: null
	,blendAction: null
	,play: function(action,onComplete,blendTime,speed,loop) {
		if(loop == null) {
			loop = true;
		}
		if(speed == null) {
			speed = 1.0;
		}
		if(blendTime == null) {
			blendTime = 0.0;
		}
		if(action == null) {
			action = "";
		}
		if(blendTime > 0) {
			this.blendTime = blendTime;
			this.blendCurrent = 0.0;
			this.blendAction = this.action;
		} else {
			this.frameIndex = -1;
		}
		this.action = action;
		this.onComplete = onComplete;
		this.speed = speed;
		this.loop = loop;
		this.paused = false;
	}
	,pause: function() {
		this.paused = true;
	}
	,resume: function() {
		this.paused = false;
	}
	,remove: function() {
		HxOverrides.remove(iron_Scene.active.animations,this);
	}
	,update: function(delta) {
		if(this.paused) {
			return;
		}
		this.time += delta * this.speed;
		if(this.blendTime > 0) {
			this.blendCurrent += delta;
			if(this.blendCurrent >= this.blendTime) {
				this.blendTime = 0.0;
			}
		}
	}
	,isTrackEnd: function(track) {
		if(this.speed > 0) {
			return this.frameIndex >= track.frames.length - 1;
		} else {
			return this.frameIndex <= 0;
		}
	}
	,checkFrameIndex: function(frameValues) {
		if(this.speed > 0) {
			if(this.frameIndex + 1 < frameValues.length) {
				return this.time > frameValues[this.frameIndex + 1] * this.frameTime;
			} else {
				return false;
			}
		} else if(this.frameIndex - 1 > -1) {
			return this.time < frameValues[this.frameIndex - 1] * this.frameTime;
		} else {
			return false;
		}
	}
	,rewind: function(track) {
		this.frameIndex = this.speed > 0 ? 0 : track.frames.length - 1;
		this.time = track.frames[this.frameIndex] * this.frameTime;
	}
	,updateTrack: function(anim) {
		if(anim == null) {
			return;
		}
		var track = anim.tracks[0];
		if(this.frameIndex == -1) {
			this.rewind(track);
		}
		var sign = this.speed > 0 ? 1 : -1;
		while(true) {
			var frameValues = track.frames;
			if(!(this.speed > 0 ? this.frameIndex + 1 < frameValues.length && this.time > frameValues[this.frameIndex + 1] * this.frameTime : this.frameIndex - 1 > -1 && this.time < frameValues[this.frameIndex - 1] * this.frameTime)) {
				break;
			}
			this.frameIndex += sign;
		}
		if(this.markerEvents != null && anim.marker_names != null && this.frameIndex != this.lastFrameIndex) {
			var _g1 = 0;
			var _g = anim.marker_frames.length;
			while(_g1 < _g) {
				var i = _g1++;
				if(this.frameIndex == anim.marker_frames[i]) {
					var key = anim.marker_names[i];
					var _this = this.markerEvents;
					var ar = __map_reserved[key] != null ? _this.getReserved(key) : _this.h[key];
					var _g2 = 0;
					while(_g2 < ar.length) {
						var f = ar[_g2];
						++_g2;
						f();
					}
				}
			}
			this.lastFrameIndex = this.frameIndex;
		}
		if(this.speed > 0 ? this.frameIndex >= track.frames.length - 1 : this.frameIndex <= 0) {
			if(this.loop || this.blendTime > 0) {
				this.rewind(track);
			} else {
				this.frameIndex -= sign;
				this.paused = true;
			}
			if(this.onComplete != null && this.blendTime == 0) {
				this.onComplete();
			}
		}
	}
	,updateAnimSampled: function(anim,targetMatrix) {
		if(anim == null) {
			return;
		}
		var track = anim.tracks[0];
		var sign = this.speed > 0 ? 1 : -1;
		var t = this.time;
		var ti = this.frameIndex;
		var t1 = track.frames[ti] * this.frameTime;
		var t2 = track.frames[ti + sign] * this.frameTime;
		var s = (t - t1) / (t2 - t1);
		iron_object_Animation.m1.setF32(track.values,ti * 16);
		iron_object_Animation.m2.setF32(track.values,(ti + sign) * 16);
		iron_object_Animation.m1.decompose(iron_object_Animation.vpos,iron_object_Animation.q1,iron_object_Animation.vscl);
		iron_object_Animation.m2.decompose(iron_object_Animation.vpos2,iron_object_Animation.q2,iron_object_Animation.vscl2);
		var fp = iron_math_Vec4.lerp(iron_object_Animation.vpos,iron_object_Animation.vpos2,1.0 - s);
		var fs = iron_math_Vec4.lerp(iron_object_Animation.vscl,iron_object_Animation.vscl2,1.0 - s);
		var fq = iron_math_Quat.lerp(iron_object_Animation.q1,iron_object_Animation.q2,s);
		var m = targetMatrix;
		fq.toMat(m);
		m.scale(fs);
		m.self._30 = fp.x;
		m.self._31 = fp.y;
		m.self._32 = fp.z;
	}
	,lastFrameIndex: null
	,markerEvents: null
	,notifyOnMarker: function(name,onMarker) {
		if(this.markerEvents == null) {
			this.markerEvents = new haxe_ds_StringMap();
		}
		var _this = this.markerEvents;
		var ar = __map_reserved[name] != null ? _this.getReserved(name) : _this.h[name];
		if(ar == null) {
			ar = [];
			var _this1 = this.markerEvents;
			if(__map_reserved[name] != null) {
				_this1.setReserved(name,ar);
			} else {
				_this1.h[name] = ar;
			}
		}
		ar.push(onMarker);
	}
	,removeMarker: function(name,onMarker) {
		var _this = this.markerEvents;
		HxOverrides.remove(__map_reserved[name] != null ? _this.getReserved(name) : _this.h[name],onMarker);
	}
	,currentFrame: function() {
		return this.time / this.frameTime | 0;
	}
	,totalFrames: function() {
		return 0;
	}
	,__class__: iron_object_Animation
};
var iron_object_BoneAnimation = $hxClasses["iron.object.BoneAnimation"] = function(armatureName) {
	if(armatureName == null) {
		armatureName = "";
	}
	this.onUpdate = null;
	this.nor = new iron_math_Vec4();
	this.pos = new iron_math_Vec4();
	this.bm = iron_math_Mat4.identity();
	this.m2 = iron_math_Mat4.identity();
	this.m1 = iron_math_Mat4.identity();
	this.m = iron_math_Mat4.identity();
	this.constraintMats = null;
	this.constraintTargetsI = null;
	this.constraintTargets = null;
	this.boneChildren = null;
	this.applyParent = null;
	this.absMats = null;
	this.skeletonMatsBlend = null;
	this.skeletonBonesBlend = null;
	this.skeletonMats = null;
	this.skeletonBones = null;
	iron_object_Animation.call(this);
	this.isSampled = false;
	var _g = 0;
	var _g1 = iron_Scene.active.armatures;
	while(_g < _g1.length) {
		var a = _g1[_g];
		++_g;
		if(a.name == armatureName) {
			this.armature = a;
			break;
		}
	}
};
iron_object_BoneAnimation.__name__ = ["iron","object","BoneAnimation"];
iron_object_BoneAnimation.__super__ = iron_object_Animation;
iron_object_BoneAnimation.prototype = $extend(iron_object_Animation.prototype,{
	object: null
	,data: null
	,skinBuffer: null
	,skeletonBones: null
	,skeletonMats: null
	,skeletonBonesBlend: null
	,skeletonMatsBlend: null
	,absMats: null
	,applyParent: null
	,boneChildren: null
	,constraintTargets: null
	,constraintTargetsI: null
	,constraintMats: null
	,m: null
	,m1: null
	,m2: null
	,bm: null
	,pos: null
	,nor: null
	,setSkin: function(mo) {
		var _gthis = this;
		this.object = mo;
		this.data = mo != null ? mo.data : null;
		this.isSkinned = this.data != null && this.data.isSkinned;
		if(this.isSkinned) {
			var boneSize = 8;
			var this1 = new Float32Array(iron_object_BoneAnimation.skinMaxBones * boneSize);
			this.skinBuffer = this1;
			var _g1 = 0;
			var _g = this.skinBuffer.length;
			while(_g1 < _g) {
				var i = _g1++;
				this.skinBuffer[i] = 0;
			}
			var _this = this.object.transform.rot;
			_this.x = 0;
			_this.y = 0;
			_this.z = 0;
			_this.w = 1;
			this.object.transform.buildMatrix();
			var refs = mo.parent.raw.bone_actions;
			if(refs != null && refs.length > 0) {
				iron_data_Data.getSceneRaw(refs[0],function(action) {
					_gthis.play(action.name);
				});
			}
		}
	}
	,addBoneChild: function(bone,o) {
		if(this.boneChildren == null) {
			this.boneChildren = new haxe_ds_StringMap();
		}
		var _this = this.boneChildren;
		var ar = __map_reserved[bone] != null ? _this.getReserved(bone) : _this.h[bone];
		if(ar == null) {
			ar = [];
			var _this1 = this.boneChildren;
			if(__map_reserved[bone] != null) {
				_this1.setReserved(bone,ar);
			} else {
				_this1.h[bone] = ar;
			}
		}
		ar.push(o);
	}
	,updateBoneChildren: function(bone,bm) {
		var key = bone.name;
		var _this = this.boneChildren;
		var ar = __map_reserved[key] != null ? _this.getReserved(key) : _this.h[key];
		if(ar == null) {
			return;
		}
		var _g = 0;
		while(_g < ar.length) {
			var o = ar[_g];
			++_g;
			var t = o.transform;
			if(t.boneParent == null) {
				t.boneParent = iron_math_Mat4.identity();
			}
			if(o.raw.parent_bone_tail != null) {
				var v = o.raw.parent_bone_tail;
				t.boneParent.initTranslate(v[0],v[1],v[2]);
				t.boneParent.multmat2(bm);
			} else {
				t.boneParent.setFrom(bm);
			}
			t.buildMatrix();
		}
	}
	,setAction: function(action) {
		if(this.isSkinned) {
			var _this = this.data.geom.actions;
			this.skeletonBones = __map_reserved[action] != null ? _this.getReserved(action) : _this.h[action];
			var _this1 = this.data.geom.mats;
			this.skeletonMats = __map_reserved[action] != null ? _this1.getReserved(action) : _this1.h[action];
			this.skeletonBonesBlend = null;
			this.skeletonMatsBlend = null;
		} else {
			this.armature.initMats();
			var a = this.armature.getAction(action);
			this.skeletonBones = a.bones;
			this.skeletonMats = a.mats;
		}
	}
	,setActionBlend: function(action) {
		if(this.isSkinned) {
			this.skeletonBonesBlend = this.skeletonBones;
			this.skeletonMatsBlend = this.skeletonMats;
			var _this = this.data.geom.actions;
			this.skeletonBones = __map_reserved[action] != null ? _this.getReserved(action) : _this.h[action];
			var _this1 = this.data.geom.mats;
			this.skeletonMats = __map_reserved[action] != null ? _this1.getReserved(action) : _this1.h[action];
		} else {
			this.armature.initMats();
			var a = this.armature.getAction(action);
			this.skeletonBones = a.bones;
			this.skeletonMats = a.mats;
		}
	}
	,play: function(action,onComplete,blendTime,speed,loop) {
		if(loop == null) {
			loop = true;
		}
		if(speed == null) {
			speed = 1.0;
		}
		if(blendTime == null) {
			blendTime = 0.2;
		}
		if(action == null) {
			action = "";
		}
		iron_object_Animation.prototype.play.call(this,action,onComplete,blendTime,speed,loop);
		if(action != "") {
			if(blendTime > 0) {
				this.setActionBlend(action);
			} else {
				this.setAction(action);
			}
		}
	}
	,update: function(delta) {
		if(!this.isSkinned && this.skeletonBones == null) {
			this.setAction(this.armature.actions[0].name);
		}
		if(this.object != null && (!this.object.visible || this.object.culled)) {
			return;
		}
		if(this.skeletonBones == null || this.skeletonBones.length == 0) {
			return;
		}
		iron_object_Animation.beginProfile();
		iron_object_Animation.prototype.update.call(this,delta);
		if(this.paused) {
			return;
		}
		this.updateAnim();
		iron_object_Animation.endProfile();
	}
	,updateAnim: function() {
		var lastBones = this.skeletonBones;
		var _g = 0;
		var _g1 = this.skeletonBones;
		while(_g < _g1.length) {
			var b = _g1[_g];
			++_g;
			if(b.anim != null) {
				this.updateTrack(b.anim);
				break;
			}
		}
		if(lastBones != this.skeletonBones) {
			return;
		}
		var _g11 = 0;
		var _g2 = this.skeletonBones.length;
		while(_g11 < _g2) {
			var i = _g11++;
			this.updateAnimSampled(this.skeletonBones[i].anim,this.skeletonMats[i]);
		}
		if(this.blendTime > 0 && this.skeletonBonesBlend != null) {
			var _g3 = 0;
			var _g12 = this.skeletonBonesBlend;
			while(_g3 < _g12.length) {
				var b1 = _g12[_g3];
				++_g3;
				if(b1.anim != null) {
					this.updateTrack(b1.anim);
					break;
				}
			}
			var _g13 = 0;
			var _g4 = this.skeletonBonesBlend.length;
			while(_g13 < _g4) {
				var i1 = _g13++;
				this.updateAnimSampled(this.skeletonBonesBlend[i1].anim,this.skeletonMatsBlend[i1]);
			}
		}
		this.updateConstraints();
		if(this.onUpdate != null) {
			this.onUpdate();
		}
		if(this.isSkinned) {
			this.updateSkinGpu();
		} else {
			this.updateBonesOnly();
		}
	}
	,updateConstraints: function() {
		var cs = this.data.raw.skin.constraints;
		if(cs == null) {
			return;
		}
		if(this.constraintTargets == null) {
			this.constraintTargets = [];
			this.constraintTargetsI = [];
			var _g = 0;
			while(_g < cs.length) {
				var c = cs[_g];
				++_g;
				var o = iron_Scene.active.getChild(c.target);
				this.constraintTargets.push(o);
				var m = null;
				if(o != null) {
					m = iron_math_Mat4.fromFloat32Array(o.raw.transform.values);
					m.getInverse(m);
				}
				this.constraintTargetsI.push(m);
			}
			this.constraintMats = new haxe_ds_ObjectMap();
		}
		var _g1 = 0;
		var _g2 = cs.length;
		while(_g1 < _g2) {
			var i = _g1++;
			var c1 = cs[i];
			var bone = this.getBone(c1.bone);
			if(bone == null) {
				continue;
			}
			var o1 = this.constraintTargets[i];
			if(o1 == null) {
				continue;
			}
			if(c1.type == "CHILD_OF") {
				var m1 = this.constraintMats.h[bone.__id__];
				if(m1 == null) {
					m1 = iron_math_Mat4.identity();
					this.constraintMats.set(bone,m1);
				}
				m1.setFrom(this.object.parent.transform.world);
				m1.multmat2(this.constraintTargetsI[i]);
				m1.multmat2(o1.transform.world);
				this.m1.getInverse(this.object.parent.transform.world);
				m1.multmat2(this.m1);
			}
		}
	}
	,onUpdate: null
	,notifyOnUpdate: function(f) {
		this.onUpdate = f;
	}
	,updateBonesOnly: function() {
		var _g1 = 0;
		var _g = this.skeletonBones.length;
		while(_g1 < _g) {
			var i = _g1++;
			var b = this.skeletonBones[i];
			this.m.setFrom(this.skeletonMats[i]);
			this.multParent(this.m,b,this.skeletonMats,this.skeletonBones);
			if(this.boneChildren != null) {
				this.updateBoneChildren(b,this.m);
			}
		}
	}
	,multParent: function(m,bone,mats,bones) {
		var p = bone.parent;
		while(p != null) {
			var boneIndex = this.getBoneIndex(p,bones);
			if(boneIndex == -1) {
				continue;
			}
			var pm = mats[boneIndex];
			m.multmat2(pm);
			p = p.parent;
		}
	}
	,multParent2: function(m,bone,mats,bones) {
		var p = bone.parent;
		while(p != null) {
			var boneIndex = this.getBoneIndex(p,bones);
			if(boneIndex == -1) {
				continue;
			}
			var pm = mats[boneIndex];
			m.multmat2(pm);
			p = p.parent;
			if(this.applyParent != null && !this.applyParent[boneIndex]) {
				break;
			}
		}
	}
	,updateSkinGpu: function() {
		var bones = this.skeletonBones;
		var s = this.blendCurrent / this.blendTime;
		s = s * s * (3.0 - 2.0 * s);
		var _g1 = 0;
		var _g = bones.length;
		while(_g1 < _g) {
			var i = _g1++;
			if(this.constraintMats != null) {
				var m = this.constraintMats.h[bones[i].__id__];
				if(m != null) {
					this.updateSkinBuffer(m,i);
					continue;
				}
			}
			if(this.blendTime > 0 && this.skeletonBonesBlend != null) {
				var bonesBlend = this.skeletonBonesBlend;
				this.m1.setFrom(this.skeletonMatsBlend[i]);
				this.multParent(this.m1,bonesBlend[i],this.skeletonMatsBlend,this.skeletonBonesBlend);
				this.m2.setFrom(this.skeletonMats[i]);
				this.multParent(this.m2,bones[i],this.skeletonMats,this.skeletonBones);
				this.m1.decompose(iron_object_BoneAnimation.vpos,iron_object_BoneAnimation.q1,iron_object_BoneAnimation.vscl);
				this.m2.decompose(iron_object_BoneAnimation.vpos2,iron_object_BoneAnimation.q2,iron_object_BoneAnimation.vscl2);
				var fp = iron_math_Vec4.lerp(iron_object_BoneAnimation.vpos,iron_object_BoneAnimation.vpos2,1.0 - s);
				var fs = iron_math_Vec4.lerp(iron_object_BoneAnimation.vscl,iron_object_BoneAnimation.vscl2,1.0 - s);
				var fq = iron_math_Quat.lerp(iron_object_BoneAnimation.q1,iron_object_BoneAnimation.q2,s);
				fq.toMat(this.m1);
				this.m1.scale(fs);
				this.m1.self._30 = fp.x;
				this.m1.self._31 = fp.y;
				this.m1.self._32 = fp.z;
				this.m.setFrom(this.m1);
			} else {
				this.m.setFrom(this.skeletonMats[i]);
				var r = this.applyParent == null || this.applyParent[i];
				if(r) {
					this.multParent2(this.m,bones[i],this.skeletonMats,this.skeletonBones);
				}
			}
			if(this.absMats != null && i < this.absMats.length) {
				this.absMats[i].setFrom(this.m);
			}
			if(this.boneChildren != null) {
				this.updateBoneChildren(bones[i],this.m);
			}
			this.m.multmats(this.m,this.data.geom.skeletonTransformsI[i]);
			this.updateSkinBuffer(this.m,i);
		}
	}
	,updateSkinBuffer: function(m,i) {
		m.decompose(iron_object_BoneAnimation.vpos,iron_object_BoneAnimation.q1,iron_object_BoneAnimation.vscl);
		iron_object_BoneAnimation.q1.normalize();
		var _this = iron_object_BoneAnimation.q2;
		_this.x = iron_object_BoneAnimation.vpos.x;
		_this.y = iron_object_BoneAnimation.vpos.y;
		_this.z = iron_object_BoneAnimation.vpos.z;
		_this.w = 0.0;
		iron_object_BoneAnimation.q2.multquats(iron_object_BoneAnimation.q2,iron_object_BoneAnimation.q1);
		iron_object_BoneAnimation.q2.x *= 0.5;
		iron_object_BoneAnimation.q2.y *= 0.5;
		iron_object_BoneAnimation.q2.z *= 0.5;
		iron_object_BoneAnimation.q2.w *= 0.5;
		this.skinBuffer[i * 8] = iron_object_BoneAnimation.q1.x;
		this.skinBuffer[i * 8 + 1] = iron_object_BoneAnimation.q1.y;
		this.skinBuffer[i * 8 + 2] = iron_object_BoneAnimation.q1.z;
		this.skinBuffer[i * 8 + 3] = iron_object_BoneAnimation.q1.w;
		this.skinBuffer[i * 8 + 4] = iron_object_BoneAnimation.q2.x;
		this.skinBuffer[i * 8 + 5] = iron_object_BoneAnimation.q2.y;
		this.skinBuffer[i * 8 + 6] = iron_object_BoneAnimation.q2.z;
		this.skinBuffer[i * 8 + 7] = iron_object_BoneAnimation.q2.w;
	}
	,totalFrames: function() {
		if(this.skeletonBones == null) {
			return 0;
		}
		var track = this.skeletonBones[0].anim.tracks[0];
		return track.frames[track.frames.length - 1] - track.frames[0] | 0;
	}
	,getBone: function(name) {
		if(this.skeletonBones == null) {
			return null;
		}
		var _g = 0;
		var _g1 = this.skeletonBones;
		while(_g < _g1.length) {
			var b = _g1[_g];
			++_g;
			if(b.name == name) {
				return b;
			}
		}
		return null;
	}
	,getBoneIndex: function(bone,bones) {
		if(bones == null) {
			bones = this.skeletonBones;
		}
		if(bones == null) {
			return -1;
		}
		var _g1 = 0;
		var _g = bones.length;
		while(_g1 < _g) {
			var i = _g1++;
			if(bones[i] == bone) {
				return i;
			}
		}
		return -1;
	}
	,getBoneMat: function(bone) {
		if(this.skeletonMats != null) {
			return this.skeletonMats[this.getBoneIndex(bone)];
		} else {
			return null;
		}
	}
	,getBoneMatBlend: function(bone) {
		if(this.skeletonMatsBlend != null) {
			return this.skeletonMatsBlend[this.getBoneIndex(bone)];
		} else {
			return null;
		}
	}
	,getAbsMat: function(bone) {
		if(this.skeletonMats == null) {
			return null;
		}
		if(this.absMats == null) {
			this.absMats = [];
			while(this.absMats.length < this.skeletonMats.length) this.absMats.push(iron_math_Mat4.identity());
		}
		return this.absMats[this.getBoneIndex(bone)];
	}
	,getWorldMat: function(bone) {
		if(this.skeletonMats == null) {
			return null;
		}
		if(this.applyParent == null) {
			this.applyParent = [];
			var _g = 0;
			var _g1 = this.skeletonMats;
			while(_g < _g1.length) {
				var m = _g1[_g];
				++_g;
				this.applyParent.push(true);
			}
		}
		var i = this.getBoneIndex(bone);
		iron_object_BoneAnimation.wm.setFrom(this.skeletonMats[i]);
		this.multParent(iron_object_BoneAnimation.wm,this.skeletonBones[i],this.skeletonMats,this.skeletonBones);
		return iron_object_BoneAnimation.wm;
	}
	,getBoneLen: function(bone) {
		var refs = this.data.geom.skeletonBoneRefs;
		var lens = this.data.geom.skeletonBoneLens;
		var _g1 = 0;
		var _g = refs.length;
		while(_g1 < _g) {
			var i = _g1++;
			if(refs[i] == bone.name) {
				return lens[i];
			}
		}
		return 0.0;
	}
	,solveIK: function(effector,goal,precission,maxIterations) {
		if(maxIterations == null) {
			maxIterations = 6;
		}
		if(precission == null) {
			precission = 0.1;
		}
		var bones = [];
		var lengths = [];
		var start = effector;
		while(start.parent != null) {
			bones.push(start);
			lengths.push(this.getBoneLen(start));
			start = start.parent;
		}
		start = bones[bones.length - 1];
		var armsc = this.object.parent.transform.scale;
		goal.x *= 1 / armsc.x;
		goal.y *= 1 / armsc.y;
		goal.z *= 1 / armsc.z;
		var _this = this.getWorldMat(start);
		var startLoc = new iron_math_Vec4(_this.self._30,_this.self._31,_this.self._32,_this.self._33);
		startLoc.z -= this.getBoneLen(start.parent);
		var vx = goal.x - startLoc.x;
		var vy = goal.y - startLoc.y;
		var vz = goal.z - startLoc.z;
		var dist = Math.sqrt(vx * vx + vy * vy + vz * vz);
		var x = 0.0;
		var _g = 0;
		while(_g < lengths.length) {
			var l = lengths[_g];
			++_g;
			x += l;
		}
		var q = new iron_math_Quat();
		var loc = new iron_math_Vec4(0,0,0);
		var sc = new iron_math_Vec4(1,1,1);
		var v1 = new iron_math_Vec4(0,1,0);
		var v2 = new iron_math_Vec4();
		if(dist > x) {
			var m = this.getBoneMat(start);
			var w = this.getWorldMat(start);
			var iw = iron_math_Mat4.identity();
			iw.getInverse(w);
			m.setFrom(w);
			m.decompose(loc,q,sc);
			v2.setFrom(goal).sub(startLoc).normalize();
			q.fromTo(v1,v2);
			m.compose(loc,q,sc);
			m.multmat2(iw);
			var _g1 = 0;
			var _g2 = bones.length - 1;
			while(_g1 < _g2) {
				var i = _g1++;
				var b = bones[i];
				var m1 = this.skeletonMats[this.getBoneIndex(b)];
				m1.decompose(loc,q,sc);
				m1.compose(loc,new iron_math_Quat(),sc);
			}
			var _g3 = 0;
			while(_g3 < bones.length) {
				var b1 = bones[_g3];
				++_g3;
				this.applyParent[this.getBoneIndex(b1)] = true;
			}
			return;
		}
		var vec = new iron_math_Vec4();
		var locs = [];
		var _g4 = 0;
		while(_g4 < bones.length) {
			var b2 = bones[_g4];
			++_g4;
			var _this1 = this.getWorldMat(b2);
			locs.push(new iron_math_Vec4(_this1.self._30,_this1.self._31,_this1.self._32,_this1.self._33));
		}
		var _g11 = 0;
		var _g5 = maxIterations;
		while(_g11 < _g5) {
			var i1 = _g11++;
			vec.setFrom(goal);
			vec.sub(locs[0]);
			vec.normalize();
			vec.mult(lengths[0]);
			locs[0].setFrom(goal);
			locs[0].sub(vec);
			var _g31 = 1;
			var _g21 = locs.length;
			while(_g31 < _g21) {
				var j = _g31++;
				vec.setFrom(locs[j]);
				vec.sub(locs[j - 1]);
				vec.normalize();
				vec.mult(lengths[j]);
				locs[j].setFrom(locs[j - 1]);
				locs[j].add(vec);
			}
			locs[locs.length - 1].setFrom(startLoc);
			var l1 = locs.length;
			var _g32 = 1;
			var _g22 = l1;
			while(_g32 < _g22) {
				var j1 = _g32++;
				vec.setFrom(locs[l1 - j1 - 1]);
				vec.sub(locs[l1 - j1]);
				vec.normalize();
				vec.mult(lengths[l1 - j1]);
				locs[l1 - j1 - 1].setFrom(locs[l1 - j1]);
				locs[l1 - j1 - 1].add(vec);
			}
			var v11 = locs[0];
			var vx1 = v11.x - goal.x;
			var vy1 = v11.y - goal.y;
			var vz1 = v11.z - goal.z;
			if(Math.sqrt(vx1 * vx1 + vy1 * vy1 + vz1 * vz1) <= precission) {
				break;
			}
		}
		var _g6 = 0;
		while(_g6 < bones.length) {
			var b3 = bones[_g6];
			++_g6;
			this.applyParent[this.getBoneIndex(b3)] = false;
		}
		var _g12 = 0;
		var _g7 = bones.length;
		while(_g12 < _g7) {
			var i2 = _g12++;
			var m2 = this.getBoneMat(bones[i2]);
			m2.decompose(loc,q,sc);
			var l11 = i2 == 0 ? locs[i2] : locs[i2 - 1];
			var l2 = i2 == 0 ? locs[i2 + 1] : locs[i2];
			v2.setFrom(l11).sub(l2).normalize();
			q.fromTo(v1,v2);
			vec.setFrom(locs[i2]);
			m2.compose(vec,q,sc);
		}
	}
	,__class__: iron_object_BoneAnimation
});
var iron_object_CameraObject = $hxClasses["iron.object.CameraObject"] = function(data) {
	this.frustumPlanes = null;
	this.prevV = null;
	iron_object_Object.call(this);
	this.data = data;
	this.nearPlane = data.raw.near_plane;
	this.farPlane = data.raw.far_plane;
	this.buildProjection();
	this.V = iron_math_Mat4.identity();
	this.VP = iron_math_Mat4.identity();
	if(data.raw.frustum_culling) {
		this.frustumPlanes = [];
		var _g = 0;
		while(_g < 6) {
			var i = _g++;
			this.frustumPlanes.push(new iron_object_FrustumPlane());
		}
	}
	iron_Scene.active.cameras.push(this);
};
iron_object_CameraObject.__name__ = ["iron","object","CameraObject"];
iron_object_CameraObject.buildViewFrustum = function(VP,frustumPlanes) {
	var _this = frustumPlanes[0];
	var w = VP.self._33 + VP.self._30;
	_this.normal.set(VP.self._03 + VP.self._00,VP.self._13 + VP.self._10,VP.self._23 + VP.self._20);
	_this.constant = w;
	var _this1 = frustumPlanes[1];
	var w1 = VP.self._33 - VP.self._30;
	_this1.normal.set(VP.self._03 - VP.self._00,VP.self._13 - VP.self._10,VP.self._23 - VP.self._20);
	_this1.constant = w1;
	var _this2 = frustumPlanes[2];
	var w2 = VP.self._33 - VP.self._31;
	_this2.normal.set(VP.self._03 - VP.self._01,VP.self._13 - VP.self._11,VP.self._23 - VP.self._21);
	_this2.constant = w2;
	var _this3 = frustumPlanes[3];
	var w3 = VP.self._33 + VP.self._31;
	_this3.normal.set(VP.self._03 + VP.self._01,VP.self._13 + VP.self._11,VP.self._23 + VP.self._21);
	_this3.constant = w3;
	var _this4 = frustumPlanes[4];
	var w4 = VP.self._32;
	_this4.normal.set(VP.self._02,VP.self._12,VP.self._22);
	_this4.constant = w4;
	var _this5 = frustumPlanes[5];
	var w5 = VP.self._33 - VP.self._32;
	_this5.normal.set(VP.self._03 - VP.self._02,VP.self._13 - VP.self._12,VP.self._23 - VP.self._22);
	_this5.constant = w5;
	var _g = 0;
	while(_g < frustumPlanes.length) {
		var plane = frustumPlanes[_g];
		++_g;
		plane.normalize();
	}
};
iron_object_CameraObject.sphereInFrustum = function(frustumPlanes,t,radiusScale,offsetX,offsetY,offsetZ) {
	if(offsetZ == null) {
		offsetZ = 0.0;
	}
	if(offsetY == null) {
		offsetY = 0.0;
	}
	if(offsetX == null) {
		offsetX = 0.0;
	}
	if(radiusScale == null) {
		radiusScale = 1.0;
	}
	var radius = t.radius * radiusScale;
	var _g = 0;
	while(_g < frustumPlanes.length) {
		var plane = frustumPlanes[_g];
		++_g;
		iron_object_CameraObject.sphereCenter.set(t.world.self._30 + offsetX,t.world.self._31 + offsetY,t.world.self._32 + offsetZ);
		if(plane.distanceToSphere(iron_object_CameraObject.sphereCenter,radius) + radius * 2 < 0) {
			return false;
		}
	}
	return true;
};
iron_object_CameraObject.__super__ = iron_object_Object;
iron_object_CameraObject.prototype = $extend(iron_object_Object.prototype,{
	data: null
	,P: null
	,V: null
	,prevV: null
	,VP: null
	,frustumPlanes: null
	,nearPlane: null
	,farPlane: null
	,buildProjection: function() {
		var aspect = this.data.raw.aspect != null ? this.data.raw.aspect : kha_System.windowWidth() / kha_System.windowHeight();
		if(this.data.raw.ortho_scale != null) {
			var sc = this.data.raw.ortho_scale;
			this.P = iron_math_Mat4.ortho(-1 * aspect * sc,aspect * sc,-1 * sc,sc,-1 * this.farPlane,this.farPlane);
		} else {
			this.P = iron_math_Mat4.persp(this.data.raw.fov,aspect,this.nearPlane,this.farPlane);
		}
	}
	,remove: function() {
		HxOverrides.remove(iron_Scene.active.cameras,this);
		iron_object_Object.prototype.remove.call(this);
	}
	,renderFrame: function(g) {
		this.buildMatrix();
		if(this.prevV == null) {
			this.prevV = iron_math_Mat4.identity();
			this.prevV.setFrom(this.V);
		}
		iron_RenderPath.active.renderFrame(g);
		this.prevV.setFrom(this.V);
	}
	,buildMatrix: function() {
		this.transform.buildMatrix();
		var sc = this.transform.world.getScale();
		iron_object_CameraObject.temp.set(1.0 / sc.x,1.0 / sc.y,1.0 / sc.z);
		this.transform.world.scale(iron_object_CameraObject.temp);
		this.V.getInverse(this.transform.world);
		this.VP.multmats(this.P,this.V);
		if(this.data.raw.frustum_culling) {
			iron_object_CameraObject.buildViewFrustum(this.VP,this.frustumPlanes);
		}
	}
	,rotate: function(axis,f) {
		iron_object_CameraObject.q.fromAxisAngle(axis,f);
		this.transform.rot.multquats(iron_object_CameraObject.q,this.transform.rot);
		this.buildMatrix();
	}
	,move: function(axis,f) {
		if(f == null) {
			f = 1.0;
		}
		this.transform.loc.addf(axis.x * f,axis.y * f,axis.z * f);
		this.buildMatrix();
	}
	,right: function() {
		return new iron_math_Vec4(this.transform.local.self._00,this.transform.local.self._01,this.transform.local.self._02);
	}
	,up: function() {
		return new iron_math_Vec4(this.transform.local.self._10,this.transform.local.self._11,this.transform.local.self._12);
	}
	,look: function() {
		return new iron_math_Vec4(-this.transform.local.self._20,-this.transform.local.self._21,-this.transform.local.self._22);
	}
	,rightWorld: function() {
		return new iron_math_Vec4(this.transform.world.self._00,this.transform.world.self._01,this.transform.world.self._02);
	}
	,upWorld: function() {
		return new iron_math_Vec4(this.transform.world.self._10,this.transform.world.self._11,this.transform.world.self._12);
	}
	,lookWorld: function() {
		return new iron_math_Vec4(-this.transform.world.self._20,-this.transform.world.self._21,-this.transform.world.self._22);
	}
	,toString: function() {
		return "Camera Object " + this.name;
	}
	,__class__: iron_object_CameraObject
});
var iron_object_FrustumPlane = $hxClasses["iron.object.FrustumPlane"] = function() {
	this.constant = 0.0;
	this.normal = new iron_math_Vec4(1.0,0.0,0.0);
};
iron_object_FrustumPlane.__name__ = ["iron","object","FrustumPlane"];
iron_object_FrustumPlane.prototype = {
	normal: null
	,constant: null
	,normalize: function() {
		var _this = this.normal;
		var inverseNormalLength = 1.0 / Math.sqrt(_this.x * _this.x + _this.y * _this.y + _this.z * _this.z);
		this.normal.mult(inverseNormalLength);
		this.constant *= inverseNormalLength;
	}
	,distanceToSphere: function(sphereCenter,sphereRadius) {
		return this.normal.dot(sphereCenter) + this.constant - sphereRadius;
	}
	,setComponents: function(x,y,z,w) {
		this.normal.set(x,y,z);
		this.constant = w;
	}
	,__class__: iron_object_FrustumPlane
};
var iron_object_Constraint = $hxClasses["iron.object.Constraint"] = function(constr) {
	this.target = null;
	this.raw = constr;
};
iron_object_Constraint.__name__ = ["iron","object","Constraint"];
iron_object_Constraint.prototype = {
	raw: null
	,target: null
	,apply: function(transform) {
		if(this.target == null && this.raw.target != null) {
			this.target = iron_Scene.active.getChild(this.raw.target).transform;
		}
		if(this.raw.type == "COPY_LOCATION") {
			if(this.raw.use_x) {
				transform.world.self._30 = this.target.loc.x;
				if(this.raw.use_offset) {
					var _g = transform.world;
					_g.self._30 += transform.loc.x;
				}
			}
			if(this.raw.use_y) {
				transform.world.self._31 = this.target.loc.y;
				if(this.raw.use_offset) {
					var _g1 = transform.world;
					_g1.self._31 += transform.loc.y;
				}
			}
			if(this.raw.use_z) {
				transform.world.self._32 = this.target.loc.z;
				if(this.raw.use_offset) {
					var _g2 = transform.world;
					_g2.self._32 += transform.loc.z;
				}
			}
		}
	}
	,__class__: iron_object_Constraint
};
var iron_object_DecalObject = $hxClasses["iron.object.DecalObject"] = function(material) {
	iron_object_Object.call(this);
	this.material = material;
	iron_Scene.active.decals.push(this);
};
iron_object_DecalObject.__name__ = ["iron","object","DecalObject"];
iron_object_DecalObject.__super__ = iron_object_Object;
iron_object_DecalObject.prototype = $extend(iron_object_Object.prototype,{
	material: null
	,remove: function() {
		if(iron_Scene.active != null) {
			HxOverrides.remove(iron_Scene.active.decals,this);
		}
		iron_object_Object.prototype.remove.call(this);
	}
	,render: function(g,context,camera,lamp,bindParams) {
		if(this.material.raw.skip_context != null && this.material.raw.skip_context == context) {
			return;
		}
		this.transform.update();
		var materialContext = null;
		var _g1 = 0;
		var _g = this.material.raw.contexts.length;
		while(_g1 < _g) {
			var i = _g1++;
			if(this.material.raw.contexts[i].name == context) {
				materialContext = this.material.contexts[i];
				break;
			}
		}
		var shaderContext = this.material.shader.getContext(context);
		g.setPipeline(shaderContext.pipeState);
		iron_object_Uniforms.setConstants(g,shaderContext,this,camera,lamp,bindParams);
		iron_object_Uniforms.setMaterialConstants(g,shaderContext,materialContext);
		g.setVertexBuffer(iron_data_ConstData.boxVB);
		g.setIndexBuffer(iron_data_ConstData.boxIB);
		g.drawIndexedVertices();
	}
	,__class__: iron_object_DecalObject
});
var iron_object_LampObject = $hxClasses["iron.object.LampObject"] = function(data) {
	this.bias = iron_math_Mat4.identity();
	this.frustumPlanes = null;
	this.VP = iron_math_Mat4.identity();
	this.P = null;
	this.V = iron_math_Mat4.identity();
	this.camSlicedP = null;
	this.cascadeData = null;
	iron_object_Object.call(this);
	this.data = data;
	var type = data.raw.type;
	var fov = data.raw.fov;
	if(type == "sun") {
		if(iron_object_LampObject.corners == null) {
			iron_object_LampObject.corners = [];
			var _g = 0;
			while(_g < 8) {
				var i = _g++;
				iron_object_LampObject.corners.push(new iron_math_Vec4());
			}
		}
		this.P = iron_math_Mat4.identity();
	} else if(type == "point" || type == "area") {
		this.P = iron_math_Mat4.persp(fov,1,data.raw.near_plane,data.raw.far_plane);
	} else if(type == "spot") {
		this.P = iron_math_Mat4.persp(fov,1,data.raw.near_plane,data.raw.far_plane);
	}
	iron_Scene.active.lamps.push(this);
};
iron_object_LampObject.__name__ = ["iron","object","LampObject"];
iron_object_LampObject.setCorners = function() {
	iron_object_LampObject.corners[0].set(-1.0,-1.0,1.0);
	iron_object_LampObject.corners[1].set(-1.0,-1.0,-1.0);
	iron_object_LampObject.corners[2].set(-1.0,1.0,1.0);
	iron_object_LampObject.corners[3].set(-1.0,1.0,-1.0);
	iron_object_LampObject.corners[4].set(1.0,-1.0,1.0);
	iron_object_LampObject.corners[5].set(1.0,-1.0,-1.0);
	iron_object_LampObject.corners[6].set(1.0,1.0,1.0);
	iron_object_LampObject.corners[7].set(1.0,1.0,-1.0);
};
iron_object_LampObject.mix = function(a,b,f) {
	return a * (1 - f) + b * f;
};
iron_object_LampObject.__super__ = iron_object_Object;
iron_object_LampObject.prototype = $extend(iron_object_Object.prototype,{
	cascadeData: null
	,cascadeVP: null
	,camSlicedP: null
	,cascadeSplit: null
	,data: null
	,V: null
	,P: null
	,VP: null
	,frustumPlanes: null
	,remove: function() {
		if(iron_Scene.active != null) {
			HxOverrides.remove(iron_Scene.active.lamps,this);
		}
		iron_object_Object.prototype.remove.call(this);
	}
	,buildMatrices: function(camera) {
		this.transform.buildMatrix();
		if(this.data.raw.type != "sun") {
			this.V.getInverse(this.transform.world);
			this.updateViewFrustum(camera);
		}
	}
	,setCascade: function(camera,cascade) {
		iron_object_LampObject.m.setFrom(camera.V);
		if(this.camSlicedP == null) {
			this.camSlicedP = [];
			this.cascadeSplit = [];
			var aspect = camera.data.raw.aspect != null ? camera.data.raw.aspect : kha_System.windowWidth() / kha_System.windowHeight();
			var fov = camera.data.raw.fov;
			var near = camera.data.raw.near_plane;
			var far = camera.data.raw.far_plane;
			var factor = iron_object_LampObject.cascadeCount > 2 ? iron_object_LampObject.cascadeSplitFactor : iron_object_LampObject.cascadeSplitFactor * 0.25;
			var _g1 = 0;
			var _g = iron_object_LampObject.cascadeCount;
			while(_g1 < _g) {
				var i = _g1++;
				var f = i + 1.0;
				var cfar = (near + f / iron_object_LampObject.cascadeCount * (far - near)) * (1 - factor) + near * Math.pow(far / near,f / iron_object_LampObject.cascadeCount) * factor;
				this.cascadeSplit.push(cfar);
				this.camSlicedP.push(iron_math_Mat4.persp(fov,aspect,near,cfar));
			}
		}
		iron_object_LampObject.m.multmat2(this.camSlicedP[cascade]);
		iron_object_LampObject.m.getInverse(iron_object_LampObject.m);
		this.V.getInverse(this.transform.world);
		this.V.toRotation();
		iron_object_LampObject.m.multmat2(this.V);
		iron_object_LampObject.setCorners();
		var _g2 = 0;
		var _g11 = iron_object_LampObject.corners;
		while(_g2 < _g11.length) {
			var v = _g11[_g2];
			++_g2;
			v.applymat4(iron_object_LampObject.m);
			v.set(v.x / v.w,v.y / v.w,v.z / v.w);
		}
		var minx = iron_object_LampObject.corners[0].x;
		var miny = iron_object_LampObject.corners[0].y;
		var minz = iron_object_LampObject.corners[0].z;
		var maxx = iron_object_LampObject.corners[0].x;
		var maxy = iron_object_LampObject.corners[0].y;
		var maxz = iron_object_LampObject.corners[0].z;
		var _g3 = 0;
		var _g12 = iron_object_LampObject.corners;
		while(_g3 < _g12.length) {
			var v1 = _g12[_g3];
			++_g3;
			if(v1.x < minx) {
				minx = v1.x;
			}
			if(v1.x > maxx) {
				maxx = v1.x;
			}
			if(v1.y < miny) {
				miny = v1.y;
			}
			if(v1.y > maxy) {
				maxy = v1.y;
			}
			if(v1.z < minz) {
				minz = v1.z;
			}
			if(v1.z > maxz) {
				maxz = v1.z;
			}
		}
		var v11 = iron_object_LampObject.corners[0];
		var v2 = iron_object_LampObject.corners[7];
		var vx = v11.x - v2.x;
		var vy = v11.y - v2.y;
		var vz = v11.z - v2.z;
		var diag0 = Math.sqrt(vx * vx + vy * vy + vz * vz);
		var offx = (diag0 - (maxx - minx)) * 0.5;
		var offy = (diag0 - (maxy - miny)) * 0.5;
		minx -= offx;
		maxx += offx;
		miny -= offy;
		maxy += offy;
		var smsize = this.data.raw.shadowmap_size;
		smsize = smsize / 4 | 0;
		var worldPerTexelX = (maxx - minx) / smsize;
		var worldPerTexelY = (maxy - miny) / smsize;
		var worldPerTexelZ = (maxz - minz) / smsize;
		minx = Math.floor(minx / worldPerTexelX) * worldPerTexelX;
		miny = Math.floor(miny / worldPerTexelY) * worldPerTexelY;
		minz = Math.floor(minz / worldPerTexelZ) * worldPerTexelZ;
		maxx = Math.floor(maxx / worldPerTexelX) * worldPerTexelX;
		maxy = Math.floor(maxy / worldPerTexelY) * worldPerTexelY;
		maxz = Math.floor(maxz / worldPerTexelZ) * worldPerTexelZ;
		var hx = (maxx - minx) / 2;
		var hy = (maxy - miny) / 2;
		var hz = (maxz - minz) / 2;
		this.V.self._30 = -(minx + hx);
		this.V.self._31 = -(miny + hy);
		this.V.self._32 = -(minz + hz);
		iron_object_LampObject.m = iron_math_Mat4.ortho(-hx,hx,-hy,hy,-hz * 4,hz);
		this.P.setFrom(iron_object_LampObject.m);
		this.updateViewFrustum(camera);
		if(this.cascadeVP == null) {
			this.cascadeVP = [];
			var _g13 = 0;
			var _g4 = iron_object_LampObject.cascadeCount;
			while(_g13 < _g4) {
				var i1 = _g13++;
				this.cascadeVP.push(iron_math_Mat4.identity());
			}
		}
		this.cascadeVP[cascade].setFrom(this.VP);
	}
	,updateViewFrustum: function(camera) {
		this.VP.multmats(this.P,this.V);
		if(camera.data.raw.frustum_culling) {
			if(this.frustumPlanes == null) {
				this.frustumPlanes = [];
				var _g = 0;
				while(_g < 6) {
					var i = _g++;
					this.frustumPlanes.push(new iron_object_FrustumPlane());
				}
			}
			iron_object_CameraObject.buildViewFrustum(this.VP,this.frustumPlanes);
		}
	}
	,setCubeFace: function(face,camera) {
		iron_object_LampObject.p1.set(this.transform.world.self._30,this.transform.world.self._31,this.transform.world.self._32);
		iron_object_LampObject.p2.setFrom(iron_object_LampObject.p1);
		switch(face) {
		case 0:
			iron_object_LampObject.p2.addf(1.0,0.0,0.0);
			iron_object_LampObject.p3.set(0.0,-1.0,0.0);
			break;
		case 1:
			iron_object_LampObject.p2.addf(-1.0,0.0,0.0);
			iron_object_LampObject.p3.set(0.0,-1.0,0.0);
			break;
		case 2:
			iron_object_LampObject.p2.addf(0.0,1.0,0.0);
			iron_object_LampObject.p3.set(0.0,0.0,1.0);
			break;
		case 3:
			iron_object_LampObject.p2.addf(0.0,-1.0,0.0);
			iron_object_LampObject.p3.set(0.0,0.0,-1.0);
			break;
		case 4:
			iron_object_LampObject.p2.addf(0.0,0.0,1.0);
			iron_object_LampObject.p3.set(0.0,-1.0,0.0);
			break;
		case 5:
			iron_object_LampObject.p2.addf(0.0,0.0,-1.0);
			iron_object_LampObject.p3.set(0.0,-1.0,0.0);
			break;
		}
		this.V.setLookAt(iron_object_LampObject.p1,iron_object_LampObject.p2,iron_object_LampObject.p3);
		this.updateViewFrustum(camera);
	}
	,bias: null
	,getCascadeData: function() {
		if(this.cascadeData == null) {
			var this1 = new Float32Array(iron_object_LampObject.cascadeCount * 16 + 4);
			this.cascadeData = this1;
		}
		if(this.cascadeVP == null) {
			return this.cascadeData;
		}
		var _g1 = 0;
		var _g = iron_object_LampObject.cascadeCount;
		while(_g1 < _g) {
			var i = _g1++;
			iron_object_LampObject.m.setFrom(this.cascadeVP[i]);
			this.bias.setFrom(iron_object_Uniforms.biasMat);
			var _g2 = this.bias;
			_g2.self._00 /= iron_object_LampObject.cascadeCount;
			var _g21 = this.bias;
			_g21.self._30 /= iron_object_LampObject.cascadeCount;
			var _g22 = this.bias;
			_g22.self._30 += i * (1 / iron_object_LampObject.cascadeCount);
			iron_object_LampObject.m.multmat2(this.bias);
			this.cascadeData[i * 16] = iron_object_LampObject.m.self._00;
			this.cascadeData[i * 16 + 1] = iron_object_LampObject.m.self._01;
			this.cascadeData[i * 16 + 2] = iron_object_LampObject.m.self._02;
			this.cascadeData[i * 16 + 3] = iron_object_LampObject.m.self._03;
			this.cascadeData[i * 16 + 4] = iron_object_LampObject.m.self._10;
			this.cascadeData[i * 16 + 5] = iron_object_LampObject.m.self._11;
			this.cascadeData[i * 16 + 6] = iron_object_LampObject.m.self._12;
			this.cascadeData[i * 16 + 7] = iron_object_LampObject.m.self._13;
			this.cascadeData[i * 16 + 8] = iron_object_LampObject.m.self._20;
			this.cascadeData[i * 16 + 9] = iron_object_LampObject.m.self._21;
			this.cascadeData[i * 16 + 10] = iron_object_LampObject.m.self._22;
			this.cascadeData[i * 16 + 11] = iron_object_LampObject.m.self._23;
			this.cascadeData[i * 16 + 12] = iron_object_LampObject.m.self._30;
			this.cascadeData[i * 16 + 13] = iron_object_LampObject.m.self._31;
			this.cascadeData[i * 16 + 14] = iron_object_LampObject.m.self._32;
			this.cascadeData[i * 16 + 15] = iron_object_LampObject.m.self._33;
		}
		this.cascadeData[iron_object_LampObject.cascadeCount * 16] = this.cascadeSplit[0];
		this.cascadeData[iron_object_LampObject.cascadeCount * 16 + 1] = this.cascadeSplit[1];
		this.cascadeData[iron_object_LampObject.cascadeCount * 16 + 2] = this.cascadeSplit[2];
		this.cascadeData[iron_object_LampObject.cascadeCount * 16 + 3] = this.cascadeSplit[3];
		return this.cascadeData;
	}
	,right: function() {
		return new iron_math_Vec4(this.V.self._00,this.V.self._10,this.V.self._20);
	}
	,up: function() {
		return new iron_math_Vec4(this.V.self._01,this.V.self._11,this.V.self._21);
	}
	,look: function() {
		return new iron_math_Vec4(this.V.self._02,this.V.self._12,this.V.self._22);
	}
	,toString: function() {
		return "Lamp Object " + this.name;
	}
	,__class__: iron_object_LampObject
});
var iron_object_MeshObject = $hxClasses["iron.object.MeshObject"] = function(data,materials) {
	this.tilesheet = null;
	this.frustumCulling = true;
	this.screenSize = 0.0;
	this.particleIndex = -1;
	this.particleOwner = null;
	this.particleChildren = null;
	this.particleSystems = null;
	this.data = null;
	iron_object_Object.call(this);
	this.materials = materials;
	this.setData(data);
	iron_Scene.active.meshes.push(this);
};
iron_object_MeshObject.__name__ = ["iron","object","MeshObject"];
iron_object_MeshObject.__super__ = iron_object_Object;
iron_object_MeshObject.prototype = $extend(iron_object_Object.prototype,{
	data: null
	,materials: null
	,particleSystems: null
	,particleChildren: null
	,particleOwner: null
	,particleIndex: null
	,cameraDistance: null
	,screenSize: null
	,frustumCulling: null
	,tilesheet: null
	,setData: function(data) {
		this.data = data;
		data.refcount++;
		var makeBuffers = true;
		if(makeBuffers) {
			data.geom.build();
		}
	}
	,remove: function() {
		if(this.particleSystems != null) {
			var _g = 0;
			var _g1 = this.particleSystems;
			while(_g < _g1.length) {
				var psys = _g1[_g];
				++_g;
				psys.remove();
			}
			this.particleSystems = null;
		}
		if(this.tilesheet != null) {
			this.tilesheet.remove();
		}
		if(iron_Scene.active != null) {
			HxOverrides.remove(iron_Scene.active.meshes,this);
		}
		this.data.refcount--;
		iron_object_Object.prototype.remove.call(this);
	}
	,setupAnimation: function(oactions) {
		var hasAction = this.parent != null && this.parent.raw != null && this.parent.raw.bone_actions != null;
		if(hasAction) {
			var armatureName = this.parent.name;
			this.animation = this.getParentArmature(armatureName);
			if(this.animation == null) {
				this.animation = new iron_object_BoneAnimation(armatureName);
			}
			if(this.data.isSkinned) {
				(js_Boot.__cast(this.animation , iron_object_BoneAnimation)).setSkin(this);
			}
		}
		iron_object_Object.prototype.setupAnimation.call(this,oactions);
	}
	,setupParticleSystem: function(sceneName,pref) {
		if(this.particleSystems == null) {
			this.particleSystems = [];
		}
		var psys = new iron_object_ParticleSystem(sceneName,pref);
		this.particleSystems.push(psys);
	}
	,setupTilesheet: function(sceneName,tilesheet_ref,tilesheet_action_ref) {
		this.tilesheet = new iron_object_Tilesheet(sceneName,tilesheet_ref,tilesheet_action_ref);
	}
	,isLodMaterial: function() {
		if(this.raw != null && this.raw.lod_material != null) {
			return this.raw.lod_material == true;
		} else {
			return false;
		}
	}
	,setCulled: function(isShadow,b) {
		if(isShadow) {
			this.culledShadow = b;
		} else {
			this.culledMesh = b;
		}
		this.culled = this.culledMesh && this.culledShadow;
		if(b) {
			iron_RenderPath.culled++;
		}
		return b;
	}
	,cullMaterial: function(context) {
		var mats = this.materials;
		if(!(this.raw != null && this.raw.lod_material != null && this.raw.lod_material == true) && mats[0].getContext(context) == null) {
			return true;
		}
		var isShadow = context == "shadowmap";
		if(!this.visibleMesh && !isShadow) {
			return this.setCulled(isShadow,true);
		}
		if(!this.visibleShadow && isShadow) {
			return this.setCulled(isShadow,true);
		}
		if(this.skipContext(context)) {
			return this.setCulled(isShadow,true);
		}
		return this.setCulled(isShadow,false);
	}
	,cullMesh: function(context,camera,lamp) {
		if(camera == null) {
			return false;
		}
		if(camera.data.raw.frustum_culling && this.frustumCulling) {
			var radiusScale = this.data.isSkinned ? 2.0 : 1.0;
			if(this.particleSystems != null || this.particleOwner != null) {
				radiusScale *= 1000;
			}
			if(context == "voxel") {
				radiusScale *= 100;
			}
			var isShadow = context == "shadowmap";
			var frustumPlanes = isShadow ? lamp.frustumPlanes : camera.frustumPlanes;
			if(isShadow && lamp.data.raw.type != "sun") {
				lamp.transform.radius = lamp.data.raw.far_plane;
				if(!iron_object_CameraObject.sphereInFrustum(camera.frustumPlanes,lamp.transform)) {
					return this.setCulled(isShadow,true);
				}
			}
			if(this.data.geom.instanced) {
				var instanceInFrustum = false;
				var _g = 0;
				var _g1 = this.data.geom.offsetVecs;
				while(_g < _g1.length) {
					var v = _g1[_g];
					++_g;
					if(iron_object_CameraObject.sphereInFrustum(frustumPlanes,this.transform,radiusScale,v.x,v.y,v.z)) {
						instanceInFrustum = true;
						break;
					}
				}
				if(!instanceInFrustum) {
					return this.setCulled(isShadow,true);
				}
			} else if(!iron_object_CameraObject.sphereInFrustum(frustumPlanes,this.transform,radiusScale)) {
				return this.setCulled(isShadow,true);
			}
		}
		this.culled = false;
		return this.culled;
	}
	,skipContext: function(context) {
		var _g = 0;
		var _g1 = this.materials;
		while(_g < _g1.length) {
			var mat = _g1[_g];
			++_g;
			if(mat.raw.skip_context != null && mat.raw.skip_context == context) {
				return true;
			}
		}
		return false;
	}
	,getContexts: function(context,materials,materialContexts,shaderContexts) {
		var _g = 0;
		while(_g < materials.length) {
			var mat = materials[_g];
			++_g;
			var _g2 = 0;
			var _g1 = mat.raw.contexts.length;
			while(_g2 < _g1) {
				var i = _g2++;
				if(HxOverrides.substr(mat.raw.contexts[i].name,0,context.length) == context) {
					materialContexts.push(mat.contexts[i]);
					shaderContexts.push(mat.shader.getContext(context));
					break;
				}
			}
		}
	}
	,render: function(g,context,camera,lamp,bindParams) {
		if(this.data == null || !this.data.geom.ready) {
			return;
		}
		if(!this.visible) {
			return;
		}
		if(this.cullMesh(context,camera,lamp)) {
			return;
		}
		if(this.raw != null && this.raw.is_particle && this.particleOwner == null) {
			return;
		}
		var meshContext = this.raw != null && "mesh" == context;
		if(this.particleSystems != null && meshContext) {
			if(this.particleChildren == null) {
				this.particleChildren = [];
				var _g = 0;
				var _g1 = this.particleSystems;
				while(_g < _g1.length) {
					var psys = _g1[_g];
					++_g;
					var c = iron_Scene.active.getChild(psys.data.raw.dupli_object);
					this.particleChildren.push(c);
					if(c != null) {
						c.particleOwner = this;
						c.particleIndex = this.particleChildren.length - 1;
						c.transform = this.transform;
					}
				}
			}
			var _g11 = 0;
			var _g2 = this.particleSystems.length;
			while(_g11 < _g2) {
				var i = _g11++;
				this.particleSystems[i].update(this.particleChildren[i],this);
			}
		}
		if(this.particleSystems != null && this.particleSystems.length > 0 && !this.particleSystems[0].data.raw.render_emitter) {
			return;
		}
		if(this.tilesheet != null) {
			this.tilesheet.update();
		}
		if(this.cullMaterial(context)) {
			return;
		}
		var mats = this.materials;
		var lod = this;
		if(this.raw != null && this.raw.lods != null && this.raw.lods.length > 0) {
			var tr = this.transform;
			var volume = tr.dim.x * tr.scale.x * tr.dim.y * tr.scale.y * tr.dim.z * tr.scale.z;
			this.screenSize = volume * (1.0 / this.cameraDistance);
			this.screenSize = this.screenSize > 1.0 ? 1.0 : this.screenSize;
			if(this.lods == null) {
				this.lods = [];
				var _g3 = 0;
				var _g12 = this.raw.lods;
				while(_g3 < _g12.length) {
					var l = _g12[_g3];
					++_g3;
					if(l.object_ref == "") {
						this.lods.push(null);
					} else {
						this.lods.push(iron_Scene.active.getChild(l.object_ref));
					}
				}
			}
			if(context == "voxel") {
				lod = this.lods[this.lods.length - 1];
			} else {
				var _g13 = 0;
				var _g4 = this.raw.lods.length;
				while(_g13 < _g4) {
					var i1 = _g13++;
					if(this.screenSize > this.raw.lods[i1].screen_size) {
						break;
					}
					lod = this.lods[i1];
					if(this.raw != null && this.raw.lod_material != null && this.raw.lod_material == true) {
						mats = lod.materials;
					}
				}
			}
			if(lod == null) {
				return;
			}
		} else {
			var tr1 = this.transform;
			var volume1 = tr1.dim.x * tr1.scale.x * tr1.dim.y * tr1.scale.y * tr1.dim.z * tr1.scale.z;
			this.screenSize = volume1 * (1.0 / this.cameraDistance);
			this.screenSize = this.screenSize > 1.0 ? 1.0 : this.screenSize;
		}
		if(this.raw != null && this.raw.lod_material != null && this.raw.lod_material == true && mats[0].getContext(context) == null) {
			return;
		}
		var materialContexts = [];
		var shaderContexts = [];
		this.getContexts(context,mats,materialContexts,shaderContexts);
		this.transform.update();
		var ldata = lod.data;
		if(ldata.geom.instanced) {
			g.setVertexBuffers([ldata.geom.vertexBuffer,ldata.geom.instancedVB]);
		} else {
			g.setVertexBuffer(ldata.geom.vertexBuffer);
		}
		var _g14 = 0;
		var _g5 = ldata.geom.indexBuffers.length;
		while(_g14 < _g5) {
			var i2 = _g14++;
			var mi = ldata.geom.materialIndices[i2];
			if(shaderContexts.length <= mi) {
				continue;
			}
			g.setIndexBuffer(ldata.geom.indexBuffers[i2]);
			g.setPipeline(shaderContexts[mi].pipeState);
			iron_object_Uniforms.setConstants(g,shaderContexts[mi],this,camera,lamp,bindParams);
			if(materialContexts.length > mi) {
				iron_object_Uniforms.setMaterialConstants(g,shaderContexts[mi],materialContexts[mi]);
			}
			if(ldata.geom.instanced) {
				g.drawIndexedVerticesInstanced(ldata.geom.instanceCount,ldata.geom.start,ldata.geom.count);
			} else {
				g.drawIndexedVertices(ldata.geom.start,ldata.geom.count);
			}
		}
		var isShadow = "shadowmap" == context;
		if(meshContext) {
			iron_RenderPath.numTrisMesh += ldata.geom.numTris;
		} else if(isShadow) {
			iron_RenderPath.numTrisShadow += ldata.geom.numTris;
		}
		iron_RenderPath.drawCalls++;
	}
	,renderBatch: function(g,context,camera,lamp,bindParams,start,count) {
		if(count == null) {
			count = -1;
		}
		if(start == null) {
			start = 0;
		}
		if(!this.visible) {
			return;
		}
		if(this.cullMesh(context,camera,lamp)) {
			return;
		}
		var lod = this;
		var materialContexts = [];
		var shaderContexts = [];
		this.getContexts(context,this.materials,materialContexts,shaderContexts);
		this.transform.update();
		iron_object_Uniforms.setConstants(g,shaderContexts[0],this,camera,lamp,bindParams);
		iron_object_Uniforms.setMaterialConstants(g,shaderContexts[0],materialContexts[0]);
		g.drawIndexedVertices(start,count);
		iron_RenderPath.drawCalls++;
	}
	,validContext: function(mat,context) {
		return mat.getContext(context) != null;
	}
	,computeCameraDistance: function(camX,camY,camZ) {
		var vx = camX - this.transform.world.self._30;
		var vy = camY - this.transform.world.self._31;
		var vz = camZ - this.transform.world.self._32;
		this.cameraDistance = Math.sqrt(vx * vx + vy * vy + vz * vz);
	}
	,computeScreenSize: function(camera) {
		var tr = this.transform;
		var volume = tr.dim.x * tr.scale.x * tr.dim.y * tr.scale.y * tr.dim.z * tr.scale.z;
		this.screenSize = volume * (1.0 / this.cameraDistance);
		this.screenSize = this.screenSize > 1.0 ? 1.0 : this.screenSize;
	}
	,initLods: function() {
		if(this.lods == null) {
			this.lods = [];
			var _g = 0;
			var _g1 = this.raw.lods;
			while(_g < _g1.length) {
				var l = _g1[_g];
				++_g;
				if(l.object_ref == "") {
					this.lods.push(null);
				} else {
					this.lods.push(iron_Scene.active.getChild(l.object_ref));
				}
			}
		}
	}
	,toString: function() {
		return "Mesh Object " + this.name;
	}
	,__class__: iron_object_MeshObject
});
var iron_object_ObjectAnimation = $hxClasses["iron.object.ObjectAnimation"] = function(object,oactions) {
	this.object = object;
	this.oactions = oactions;
	this.isSkinned = false;
	iron_object_Animation.call(this);
};
iron_object_ObjectAnimation.__name__ = ["iron","object","ObjectAnimation"];
iron_object_ObjectAnimation.__super__ = iron_object_Animation;
iron_object_ObjectAnimation.prototype = $extend(iron_object_Animation.prototype,{
	object: null
	,oactions: null
	,oaction: null
	,getAction: function(action) {
		var _g = 0;
		var _g1 = this.oactions;
		while(_g < _g1.length) {
			var a = _g1[_g];
			++_g;
			if(a != null && a.objects[0].name == action) {
				return a.objects[0];
			}
		}
		return null;
	}
	,play: function(action,onComplete,blendTime,speed,loop) {
		if(loop == null) {
			loop = true;
		}
		if(speed == null) {
			speed = 1.0;
		}
		if(blendTime == null) {
			blendTime = 0.0;
		}
		if(action == null) {
			action = "";
		}
		iron_object_Animation.prototype.play.call(this,action,onComplete,blendTime,speed,loop);
		if(this.action == "" && this.oactions[0] != null) {
			this.action = this.oactions[0].objects[0].name;
		}
		this.oaction = this.getAction(this.action);
		if(this.oaction != null) {
			this.isSampled = this.oaction.sampled != null && this.oaction.sampled;
		}
	}
	,update: function(delta) {
		if(!this.object.visible || this.object.culled || this.oaction == null) {
			return;
		}
		iron_object_Animation.beginProfile();
		iron_object_Animation.prototype.update.call(this,delta);
		if(this.paused) {
			return;
		}
		if(!this.isSkinned) {
			this.updateObjectAnim();
		}
		iron_object_Animation.endProfile();
	}
	,updateObjectAnim: function() {
		if(this.isSampled) {
			this.updateTrack(this.oaction.anim);
			this.updateAnimSampled(this.oaction.anim,this.object.transform.world);
			this.object.transform.world.decompose(this.object.transform.loc,this.object.transform.rot,this.object.transform.scale);
			var _g = 0;
			var _g1 = this.object.children;
			while(_g < _g1.length) {
				var c = _g1[_g];
				++_g;
				c.transform.buildMatrix();
			}
		} else {
			this.updateAnimNonSampled(this.oaction.anim,this.object.transform);
			this.object.transform.buildMatrix();
		}
	}
	,interpolateLinear: function(t,t1,t2) {
		return (t - t1) / (t2 - t1);
	}
	,interpolateBezier: function(t,t1,t2) {
		var k = (t - t1) / (t2 - t1);
		k = k * k * (3.0 - 2.0 * k);
		return k;
	}
	,interpolateTcb: function() {
	}
	,checkFrameIndexT: function(frameValues,t) {
		if(this.speed > 0) {
			if(this.frameIndex < frameValues.length - 2) {
				return t > frameValues[this.frameIndex + 1] * this.frameTime;
			} else {
				return false;
			}
		} else if(this.frameIndex > 1) {
			return t > frameValues[this.frameIndex - 1] * this.frameTime;
		} else {
			return false;
		}
	}
	,updateAnimNonSampled: function(anim,transform) {
		if(anim == null) {
			return;
		}
		var total = anim.end * this.frameTime - anim.begin * this.frameTime;
		if(anim.has_delta) {
			var t = transform;
			if(t.dloc == null) {
				t.dloc = new iron_math_Vec4();
				t.drot = new iron_math_Quat();
				t.dscale = new iron_math_Vec4();
			}
			t.dloc.set(0,0,0);
			t.dscale.set(0,0,0);
			t._deulerX = t._deulerY = t._deulerZ = 0.0;
		}
		var _g = 0;
		var _g1 = anim.tracks;
		while(_g < _g1.length) {
			var track = _g1[_g];
			++_g;
			if(this.frameIndex == -1) {
				this.rewind(track);
			}
			var sign = this.speed > 0 ? 1 : -1;
			var t1 = this.time + anim.begin * this.frameTime;
			while(true) {
				var frameValues = track.frames;
				if(!(this.speed > 0 ? this.frameIndex < frameValues.length - 2 && t1 > frameValues[this.frameIndex + 1] * this.frameTime : this.frameIndex > 1 && t1 > frameValues[this.frameIndex - 1] * this.frameTime)) {
					break;
				}
				this.frameIndex += sign;
			}
			if(this.frameIndex >= track.frames.length) {
				continue;
			}
			if(this.time > total) {
				if(this.onComplete != null) {
					this.onComplete();
				}
				this.rewind(track);
				return;
			}
			var ti = this.frameIndex;
			var t11 = track.frames[ti] * this.frameTime;
			var t2 = track.frames[ti + sign] * this.frameTime;
			var interpolate = $bind(this,this.interpolateLinear);
			var _g2 = track.curve;
			switch(_g2) {
			case "bezier":
				interpolate = $bind(this,this.interpolateBezier);
				break;
			case "linear":
				interpolate = $bind(this,this.interpolateLinear);
				break;
			}
			var s = interpolate(t1,t11,t2);
			var invs = 1.0 - s;
			var v1 = track.values[ti];
			var v2 = track.values[ti + sign];
			var v = v1 * invs + v2 * s;
			var _g3 = track.target;
			switch(_g3) {
			case "dxloc":
				transform.dloc.x = v;
				break;
			case "dxrot":
				transform._deulerX = v;
				break;
			case "dxscl":
				transform.dscale.x = v;
				break;
			case "dyloc":
				transform.dloc.y = v;
				break;
			case "dyrot":
				transform._deulerY = v;
				break;
			case "dyscl":
				transform.dscale.y = v;
				break;
			case "dzloc":
				transform.dloc.z = v;
				break;
			case "dzrot":
				transform._deulerZ = v;
				break;
			case "dzscl":
				transform.dscale.z = v;
				break;
			case "xloc":
				transform.loc.x = v;
				break;
			case "xrot":
				transform.setRotation(v,transform._eulerY,transform._eulerZ);
				break;
			case "xscl":
				transform.scale.x = v;
				break;
			case "yloc":
				transform.loc.y = v;
				break;
			case "yrot":
				transform.setRotation(transform._eulerX,v,transform._eulerZ);
				break;
			case "yscl":
				transform.scale.y = v;
				break;
			case "zloc":
				transform.loc.z = v;
				break;
			case "zrot":
				transform.setRotation(transform._eulerX,transform._eulerY,v);
				break;
			case "zscl":
				transform.scale.z = v;
				break;
			}
		}
	}
	,totalFrames: function() {
		if(this.oaction == null || this.oaction.anim == null) {
			return 0;
		}
		return this.oaction.anim.end - this.oaction.anim.begin;
	}
	,__class__: iron_object_ObjectAnimation
});
var iron_object_ParticleSystem = $hxClasses["iron.object.ParticleSystem"] = function(sceneName,pref) {
	this.m = iron_math_Mat4.identity();
	this.lapTime = 0.0;
	this.lap = 0;
	this.count = 0;
	this.emitFrom = null;
	this.seed = 0.0;
	this.spawnRate = 0.0;
	this.time = 0.0;
	this.animtime = 0.0;
	this.lifetime = 0.0;
	this.frameRate = 24;
	var _gthis = this;
	this.seed = pref.seed;
	this.particles = [];
	this.ready = false;
	iron_data_Data.getParticle(sceneName,pref.particle,function(b) {
		_gthis.data = b;
		_gthis.r = _gthis.data.raw;
		_gthis.gx = iron_Scene.active.raw.gravity[0] * _gthis.r.weight_gravity;
		_gthis.gy = iron_Scene.active.raw.gravity[1] * _gthis.r.weight_gravity;
		_gthis.gz = iron_Scene.active.raw.gravity[2] * _gthis.r.weight_gravity;
		_gthis.alignx = _gthis.r.object_align_factor[0] / 2;
		_gthis.aligny = _gthis.r.object_align_factor[1] / 2;
		_gthis.alignz = _gthis.r.object_align_factor[2] / 2;
		_gthis.lifetime = _gthis.r.lifetime / _gthis.frameRate;
		_gthis.animtime = (_gthis.r.frame_end - _gthis.r.frame_start) / _gthis.frameRate;
		_gthis.spawnRate = (_gthis.r.frame_end - _gthis.r.frame_start) / _gthis.r.count / _gthis.frameRate;
		var _g1 = 0;
		var _g = _gthis.r.count;
		while(_g1 < _g) {
			var i = _g1++;
			_gthis.particles.push(new iron_object_Particle(i));
		}
		_gthis.ready = true;
	});
};
iron_object_ParticleSystem.__name__ = ["iron","object","ParticleSystem"];
iron_object_ParticleSystem.prototype = {
	data: null
	,particles: null
	,ready: null
	,frameRate: null
	,lifetime: null
	,animtime: null
	,time: null
	,spawnRate: null
	,seed: null
	,r: null
	,gx: null
	,gy: null
	,gz: null
	,alignx: null
	,aligny: null
	,alignz: null
	,dimx: null
	,dimy: null
	,tilesx: null
	,tilesy: null
	,tilesFramerate: null
	,emitFrom: null
	,count: null
	,lap: null
	,lapTime: null
	,m: null
	,getData: function() {
		this.m.self._00 = this.r.loop ? this.animtime : -this.animtime;
		this.m.self._01 = this.spawnRate;
		this.m.self._02 = this.lifetime;
		this.m.self._03 = this.particles.length;
		this.m.self._10 = this.alignx;
		this.m.self._11 = this.aligny;
		this.m.self._12 = this.alignz;
		this.m.self._13 = this.r.factor_random;
		this.m.self._20 = this.gx * this.r.mass;
		this.m.self._21 = this.gy * this.r.mass;
		this.m.self._22 = this.gz * this.r.mass;
		this.m.self._23 = this.r.lifetime_random;
		this.m.self._30 = this.tilesx;
		this.m.self._31 = this.tilesy;
		this.m.self._32 = 1 / this.tilesFramerate;
		this.m.self._33 = this.lapTime;
		return this.m;
	}
	,update: function(object,owner) {
		if(!this.ready) {
			return;
		}
		this.dimx = object.transform.dim.x;
		this.dimy = object.transform.dim.y;
		if(object.tilesheet != null) {
			this.tilesx = object.tilesheet.raw.tilesx;
			this.tilesy = object.tilesheet.raw.tilesy;
			this.tilesFramerate = object.tilesheet.raw.framerate;
		}
		this.time += 0.016666666666666666 * iron_system_Time.scale;
		this.lap = this.time / this.animtime | 0;
		this.lapTime = this.time - this.lap * this.animtime;
		this.count = this.lapTime / this.spawnRate | 0;
		if(this.r.gpu_sim) {
			this.updateGpu(object,owner);
		} else {
			this.updateCpu(object,owner);
		}
	}
	,updateGpu: function(object,owner) {
		if(!object.data.geom.instanced) {
			this.setupGeomGpu(object,owner);
		}
	}
	,updateCpu: function(object,owner) {
		if(!object.data.geom.instanced) {
			this.setupGeomCpu(object,owner);
		}
		if(this.emitFrom == null) {
			return;
		}
		if(this.r.type == 0) {
			var _g = 0;
			var _g1 = this.particles;
			while(_g < _g1.length) {
				var p = _g1[_g];
				++_g;
				this.computePos(p,object,this.particles.length,this.lap,this.count);
			}
		}
		var instancedData = object.data.geom.instancedVB.lock();
		var _g11 = 0;
		var _g2 = this.particles.length;
		while(_g11 < _g2) {
			var i = _g11++;
			var p1 = this.particles[i];
			var px = p1.x;
			var py = p1.y;
			var pz = p1.z;
			px += this.emitFrom[i * 3];
			py += this.emitFrom[i * 3 + 1];
			pz += this.emitFrom[i * 3 + 2];
			instancedData[i * 3] = px;
			instancedData[i * 3 + 1] = py;
			instancedData[i * 3 + 2] = pz;
		}
		object.data.geom.instancedVB.unlock();
	}
	,computePos: function(p,object,l,lap,count) {
		var i = p.i;
		var age = this.lapTime - p.i * this.spawnRate;
		age -= age * this.fhash(i) * this.r.lifetime_random;
		if(this.r.loop) {
			while(age < 0) age += this.animtime;
		}
		if(age < 0 || age > this.lifetime) {
			p.x = p.y = p.z = -99999;
			return;
		}
		if(this.r.physics_type == 1) {
			this.computeNewton(p,i,age);
		}
	}
	,computeNewton: function(p,i,age) {
		p.x = this.alignx;
		p.y = this.aligny;
		p.z = this.alignz;
		var l = this.particles.length;
		p.x += this.fhash(p.i + 0 * l) * this.r.factor_random - this.r.factor_random / 2;
		p.y += this.fhash(p.i + l) * this.r.factor_random - this.r.factor_random / 2;
		p.z += this.fhash(p.i + 2 * l) * this.r.factor_random - this.r.factor_random / 2;
		p.x += this.gx * this.r.mass * age / 5;
		p.y += this.gy * this.r.mass * age / 5;
		p.z += this.gz * this.r.mass * age / 5;
		p.x *= age;
		p.y *= age;
		p.z *= age;
	}
	,setupGeomGpu: function(object,owner) {
		var this1 = new Float32Array(this.particles.length * 3);
		var instancedData = this1;
		var i = 0;
		if(this.r.emit_from == 0) {
			var pa = owner.data.geom.positions;
			var _g = 0;
			var _g1 = this.particles;
			while(_g < _g1.length) {
				var p = _g1[_g];
				++_g;
				var j = this.fhash(i) * (pa.length / 3) | 0;
				instancedData[i] = pa[j * 3];
				++i;
				instancedData[i] = pa[j * 3 + 1];
				++i;
				instancedData[i] = pa[j * 3 + 2];
				++i;
			}
		} else {
			var _g2 = 0;
			var _g11 = this.particles;
			while(_g2 < _g11.length) {
				var p1 = _g11[_g2];
				++_g2;
				instancedData[i] = (Math.random() * 2.0 - 1.0) * (object.transform.dim.x / 2.0);
				++i;
				instancedData[i] = (Math.random() * 2.0 - 1.0) * (object.transform.dim.y / 2.0);
				++i;
				instancedData[i] = (Math.random() * 2.0 - 1.0) * (object.transform.dim.z / 2.0);
				++i;
			}
		}
		if(this.r.particle_size != 1.0) {
			object.data.geom.applyScale(this.r.particle_size,this.r.particle_size,this.r.particle_size);
		}
		object.data.geom.setupInstanced(instancedData,kha_graphics4_Usage.StaticUsage);
	}
	,setupGeomCpu: function(object,owner) {
		var this1 = new Float32Array(this.particles.length * 3);
		var instancedData = this1;
		var i = 0;
		var _g = 0;
		var _g1 = this.particles;
		while(_g < _g1.length) {
			var p = _g1[_g];
			++_g;
			instancedData[i] = 0.0;
			++i;
			instancedData[i] = 0.0;
			++i;
			instancedData[i] = 0.0;
			++i;
		}
		if(this.r.particle_size != 1.0) {
			object.data.geom.applyScale(this.r.particle_size,this.r.particle_size,this.r.particle_size);
		}
		object.data.geom.setupInstanced(instancedData,kha_graphics4_Usage.DynamicUsage);
		var this2 = new Float32Array(this.particles.length * 3);
		this.emitFrom = this2;
		i = 0;
		if(this.r.emit_from == 0) {
			var pa = owner.data.geom.positions;
			var _g2 = 0;
			var _g11 = this.particles;
			while(_g2 < _g11.length) {
				var p1 = _g11[_g2];
				++_g2;
				var j = this.fhash(i) * (pa.length / 3) | 0;
				this.emitFrom[i] = pa[j * 3];
				++i;
				this.emitFrom[i] = pa[j * 3 + 1];
				++i;
				this.emitFrom[i] = pa[j * 3 + 2];
				++i;
			}
		} else {
			var _g3 = 0;
			var _g12 = this.particles;
			while(_g3 < _g12.length) {
				var p2 = _g12[_g3];
				++_g3;
				this.emitFrom[i] = (Math.random() * 2.0 - 1.0) * (object.transform.dim.x / 2.0);
				++i;
				this.emitFrom[i] = (Math.random() * 2.0 - 1.0) * (object.transform.dim.y / 2.0);
				++i;
				this.emitFrom[i] = (Math.random() * 2.0 - 1.0) * (object.transform.dim.z / 2.0);
				++i;
			}
		}
	}
	,sort: function() {
		var camera = iron_Scene.active.camera;
		var l = camera.transform.loc;
		var _g = 0;
		var _g1 = this.particles;
		while(_g < _g1.length) {
			var p = _g1[_g];
			++_g;
			var vx = p.x - l.x;
			var vy = p.y - l.y;
			var vz = p.z - l.z;
			p.cameraDistance = Math.sqrt(vx * vx + vy * vy + vz * vz);
		}
		this.particles.sort(function(p1,p2) {
			if(p1.cameraDistance > p2.cameraDistance) {
				return -1;
			}
			if(p1.cameraDistance < p2.cameraDistance) {
				return 1;
			}
			return 0;
		});
	}
	,fhash: function(n) {
		var s = n + 1.0;
		s *= 9301.0 % s;
		s = (s * 9301.0 + 49297.0) % 233280.0;
		return s / 233280.0;
	}
	,remove: function() {
	}
	,__class__: iron_object_ParticleSystem
};
var iron_object_Particle = $hxClasses["iron.object.Particle"] = function(i) {
	this.z = 0.0;
	this.y = 0.0;
	this.x = 0.0;
	this.i = i;
};
iron_object_Particle.__name__ = ["iron","object","Particle"];
iron_object_Particle.prototype = {
	i: null
	,x: null
	,y: null
	,z: null
	,cameraDistance: null
	,__class__: iron_object_Particle
};
var iron_object_SpeakerObject = $hxClasses["iron.object.SpeakerObject"] = function(data) {
	this.channels = [];
	this.sound = null;
	var _gthis = this;
	iron_object_Object.call(this);
	this.data = data;
	iron_Scene.active.speakers.push(this);
	if(data.sound == "") {
		return;
	}
	iron_data_Data.getSound(data.sound,function(sound) {
		_gthis.sound = sound;
		iron_App.notifyOnInit($bind(_gthis,_gthis.init));
	});
};
iron_object_SpeakerObject.__name__ = ["iron","object","SpeakerObject"];
iron_object_SpeakerObject.__super__ = iron_object_Object;
iron_object_SpeakerObject.prototype = $extend(iron_object_Object.prototype,{
	data: null
	,sound: null
	,channels: null
	,init: function() {
		if(this.visible && this.data.play_on_start) {
			this.play();
		}
	}
	,play: function() {
		if(this.sound == null || this.data.muted) {
			return;
		}
		var channel = iron_system_Audio.play(this.sound,this.data.loop,this.data.stream);
		this.channels.push(channel);
		if(this.data.attenuation > 0 && this.channels.length == 1) {
			iron_App.notifyOnUpdate($bind(this,this.update));
		}
	}
	,update: function() {
		var _g = 0;
		var _g1 = this.channels;
		while(_g < _g1.length) {
			var c = _g1[_g];
			++_g;
			if(c.get_finished()) {
				HxOverrides.remove(this.channels,c);
			}
		}
		if(this.channels.length == 0) {
			iron_App.removeUpdate($bind(this,this.update));
			return;
		}
		var cam = iron_Scene.active.camera;
		var _this = cam.transform.world;
		var loc1 = new iron_math_Vec4(_this.self._30,_this.self._31,_this.self._32,_this.self._33);
		var _this1 = this.transform.world;
		var loc2 = new iron_math_Vec4(_this1.self._30,_this1.self._31,_this1.self._32,_this1.self._33);
		var vx = loc1.x - loc2.x;
		var vy = loc1.y - loc2.y;
		var vz = loc1.z - loc2.z;
		var d = Math.sqrt(vx * vx + vy * vy + vz * vz);
		d *= this.data.attenuation;
		var vol = 1.0 - Math.min(d / 100,1);
		var _g2 = 0;
		var _g11 = this.channels;
		while(_g2 < _g11.length) {
			var c1 = _g11[_g2];
			++_g2;
			c1.set_volume(vol);
		}
	}
	,remove: function() {
		if(iron_Scene.active != null) {
			HxOverrides.remove(iron_Scene.active.speakers,this);
		}
		iron_object_Object.prototype.remove.call(this);
	}
	,__class__: iron_object_SpeakerObject
});
var iron_object_Tilesheet = $hxClasses["iron.object.Tilesheet"] = function(sceneName,tilesheet_ref,tilesheet_action_ref) {
	this.onActionComplete = null;
	this.time = 0.0;
	this.frame = 0;
	this.paused = false;
	this.action = null;
	this.tileY = 0.0;
	this.tileX = 0.0;
	var _gthis = this;
	this.ready = false;
	iron_data_Data.getSceneRaw(sceneName,function(format) {
		var _g = 0;
		var _g1 = format.tilesheet_datas;
		while(_g < _g1.length) {
			var ts = _g1[_g];
			++_g;
			if(ts.name == tilesheet_ref) {
				_gthis.raw = ts;
				_gthis.play(tilesheet_action_ref);
				_gthis.ready = true;
				break;
			}
		}
	});
};
iron_object_Tilesheet.__name__ = ["iron","object","Tilesheet"];
iron_object_Tilesheet.prototype = {
	tileX: null
	,tileY: null
	,raw: null
	,action: null
	,ready: null
	,paused: null
	,frame: null
	,time: null
	,onActionComplete: null
	,play: function(action_ref,onActionComplete) {
		this.onActionComplete = onActionComplete;
		var _g = 0;
		var _g1 = this.raw.actions;
		while(_g < _g1.length) {
			var a = _g1[_g];
			++_g;
			if(a.name == action_ref) {
				this.action = a;
				break;
			}
		}
		this.setFrame(this.action.start);
		this.paused = false;
	}
	,pause: function() {
		this.paused = true;
	}
	,resume: function() {
		this.paused = false;
	}
	,remove: function() {
	}
	,update: function() {
		if(!this.ready || this.paused || this.action.start >= this.action.end) {
			return;
		}
		this.time += 0.016666666666666666 * iron_system_Time.scale;
		if(this.time >= 1 / this.raw.framerate) {
			this.setFrame(this.frame + 1);
		}
	}
	,setFrame: function(f) {
		this.frame = f;
		this.time = 0;
		var tx = this.frame % this.raw.tilesx;
		var ty = this.frame / this.raw.tilesx | 0;
		this.tileX = tx * (1 / this.raw.tilesx);
		this.tileY = ty * (1 / this.raw.tilesy);
		if(this.frame >= this.action.end && this.action.start < this.action.end) {
			if(this.onActionComplete != null) {
				this.onActionComplete();
			}
			if(this.action.loop) {
				this.setFrame(this.action.start);
			} else {
				this.paused = true;
			}
		}
	}
	,__class__: iron_object_Tilesheet
};
var iron_object_Transform = $hxClasses["iron.object.Transform"] = function(object) {
	this.dscale = null;
	this.drot = null;
	this.dloc = null;
	this.lastWorld = null;
	this.boneParent = null;
	this.appendMats = null;
	this.prependMats = null;
	this.localOnly = false;
	this.object = object;
	this.reset();
};
iron_object_Transform.__name__ = ["iron","object","Transform"];
iron_object_Transform.prototype = {
	world: null
	,localOnly: null
	,local: null
	,loc: null
	,rot: null
	,scale: null
	,dirty: null
	,object: null
	,dim: null
	,radius: null
	,prependMats: null
	,appendMats: null
	,boneParent: null
	,reset: function() {
		this.world = iron_math_Mat4.identity();
		this.local = iron_math_Mat4.identity();
		this.loc = new iron_math_Vec4();
		this.rot = new iron_math_Quat();
		this.scale = new iron_math_Vec4(1.0,1.0,1.0);
		this.dim = new iron_math_Vec4(2.0,2.0,2.0);
		this.radius = 1.0;
		this.dirty = true;
	}
	,update: function() {
		if(this.dirty) {
			this.buildMatrix();
		}
	}
	,prependMatrix: function(m) {
		if(this.prependMats == null) {
			this.prependMats = [];
		}
		this.prependMats.push(m);
	}
	,popPrependMatrix: function() {
		if(this.prependMats != null) {
			this.prependMats.pop();
			if(this.prependMats.length == 0) {
				this.prependMats = null;
			}
		}
	}
	,appendMatrix: function(m) {
		if(this.appendMats == null) {
			this.appendMats = [];
		}
		this.appendMats.push(m);
	}
	,popAppendMatrix: function() {
		if(this.appendMats != null) {
			this.appendMats.pop();
			if(this.appendMats.length == 0) {
				this.appendMats = null;
			}
		}
	}
	,composeDelta: function() {
		this.dloc.addvecs(this.loc,this.dloc);
		this.dscale.addvecs(this.dscale,this.scale);
		this.drot.fromEuler(this._deulerX,this._deulerY,this._deulerZ);
		this.drot.multquats(this.rot,this.drot);
		this.local.compose(this.dloc,this.drot,this.dscale);
	}
	,buildMatrix: function() {
		if(this.dloc == null) {
			this.local.compose(this.loc,this.rot,this.scale);
		} else {
			this.composeDelta();
		}
		if(this.prependMats != null) {
			iron_object_Transform.temp.setIdentity();
			var _g = 0;
			var _g1 = this.prependMats;
			while(_g < _g1.length) {
				var m = _g1[_g];
				++_g;
				iron_object_Transform.temp.multmat2(m);
			}
			iron_object_Transform.temp.multmat2(this.local);
			this.local.setFrom(iron_object_Transform.temp);
		}
		if(this.appendMats != null) {
			var _g2 = 0;
			var _g11 = this.appendMats;
			while(_g2 < _g11.length) {
				var m1 = _g11[_g2];
				++_g2;
				this.local.multmat2(m1);
			}
		}
		if(this.boneParent != null) {
			this.local.multmats(this.boneParent,this.local);
		}
		if(this.object.parent != null && !this.localOnly) {
			this.world.multmat3x4(this.local,this.object.parent.transform.world);
		} else {
			this.world.setFrom(this.local);
		}
		if(this.object.constraints != null) {
			var _g3 = 0;
			var _g12 = this.object.constraints;
			while(_g3 < _g12.length) {
				var c = _g12[_g3];
				++_g3;
				c.apply(this);
			}
		}
		this.computeDim();
		var _g4 = 0;
		var _g13 = this.object.children;
		while(_g4 < _g13.length) {
			var n = _g13[_g4];
			++_g4;
			n.transform.buildMatrix();
		}
		this.dirty = false;
	}
	,translate: function(x,y,z) {
		this.loc.x += x;
		this.loc.y += y;
		this.loc.z += z;
		this.buildMatrix();
	}
	,setMatrix: function(mat) {
		this.local.setFrom(mat);
		this.decompose();
		this.buildMatrix();
	}
	,multMatrix: function(mat) {
		this.local.multmat2(mat);
		this.decompose();
		this.buildMatrix();
	}
	,decompose: function() {
		this.local.decompose(this.loc,this.rot,this.scale);
	}
	,rotate: function(axis,f) {
		var q = new iron_math_Quat();
		q.fromAxisAngle(axis,f);
		this.rot.multquats(q,this.rot);
		this.dirty = true;
	}
	,setRotation: function(x,y,z) {
		this.rot.fromEuler(x,y,z);
		this._eulerX = x;
		this._eulerY = y;
		this._eulerZ = z;
		this.dirty = true;
	}
	,computeRadius: function() {
		this.radius = Math.sqrt(this.dim.x * this.dim.x + this.dim.y * this.dim.y + this.dim.z * this.dim.z);
	}
	,computeDim: function() {
		if(this.object.raw == null) {
			return;
		}
		var d = this.object.raw.dimensions;
		if(d == null) {
			this.dim.set(2 * this.scale.x,2 * this.scale.y,2 * this.scale.z);
		} else {
			this.dim.set(d[0] * this.scale.x,d[1] * this.scale.y,d[2] * this.scale.z);
		}
		this.computeRadius();
	}
	,applyParentInverse: function() {
		var pt = this.object.parent.transform;
		pt.buildMatrix();
		iron_object_Transform.temp.getInverse(pt.world);
		this.local.multmat2(iron_object_Transform.temp);
		this.decompose();
		this.buildMatrix();
	}
	,applyParent: function() {
		var pt = this.object.parent.transform;
		this.local.multmat2(pt.world);
		this.decompose();
	}
	,lastWorld: null
	,diff: function() {
		if(this.lastWorld == null) {
			this.lastWorld = iron_math_Mat4.identity().setFrom(this.world);
			return false;
		}
		var a = this.world;
		var b = this.lastWorld;
		var r = a.self._00 != b.self._00 || a.self._01 != b.self._01 || a.self._02 != b.self._02 || a.self._03 != b.self._03 || a.self._10 != b.self._10 || a.self._11 != b.self._11 || a.self._12 != b.self._12 || a.self._13 != b.self._13 || a.self._20 != b.self._20 || a.self._21 != b.self._21 || a.self._22 != b.self._22 || a.self._23 != b.self._23 || a.self._30 != b.self._30 || a.self._31 != b.self._31 || a.self._32 != b.self._32 || a.self._33 != b.self._33;
		if(r) {
			this.lastWorld.setFrom(this.world);
		}
		return r;
	}
	,_eulerX: null
	,_eulerY: null
	,_eulerZ: null
	,look: function() {
		var _this = this.world;
		return new iron_math_Vec4(_this.self._10,_this.self._11,_this.self._12);
	}
	,right: function() {
		var _this = this.world;
		return new iron_math_Vec4(_this.self._00,_this.self._01,_this.self._02);
	}
	,up: function() {
		var _this = this.world;
		return new iron_math_Vec4(_this.self._20,_this.self._21,_this.self._22);
	}
	,worldx: function() {
		return this.world.self._30;
	}
	,worldy: function() {
		return this.world.self._31;
	}
	,worldz: function() {
		return this.world.self._32;
	}
	,dloc: null
	,drot: null
	,dscale: null
	,_deulerX: null
	,_deulerY: null
	,_deulerZ: null
	,__class__: iron_object_Transform
};
var kha_math_FastMatrix3 = $hxClasses["kha.math.FastMatrix3"] = function(_00,_10,_20,_01,_11,_21,_02,_12,_22) {
	this._00 = _00;
	this._10 = _10;
	this._20 = _20;
	this._01 = _01;
	this._11 = _11;
	this._21 = _21;
	this._02 = _02;
	this._12 = _12;
	this._22 = _22;
};
kha_math_FastMatrix3.__name__ = ["kha","math","FastMatrix3"];
kha_math_FastMatrix3.fromMatrix3 = function(m) {
	return new kha_math_FastMatrix3(m._00,m._10,m._20,m._01,m._11,m._21,m._02,m._12,m._22);
};
kha_math_FastMatrix3.prototype = {
	_00: null
	,_10: null
	,_20: null
	,_01: null
	,_11: null
	,_21: null
	,_02: null
	,_12: null
	,_22: null
	,__class__: kha_math_FastMatrix3
};
var iron_object_Uniforms = $hxClasses["iron.object.Uniforms"] = function() { };
iron_object_Uniforms.__name__ = ["iron","object","Uniforms"];
iron_object_Uniforms.setConstants = function(g,context,object,camera,lamp,bindParams) {
	if(context.raw.constants != null) {
		var _g1 = 0;
		var _g = context.raw.constants.length;
		while(_g1 < _g) {
			var i = _g1++;
			var c = context.raw.constants[i];
			iron_object_Uniforms.setConstant(g,object,camera,lamp,context.constants[i],c);
		}
	}
	if(bindParams != null) {
		var _g11 = 0;
		var _g2 = bindParams.length / 2 | 0;
		while(_g11 < _g2) {
			var i1 = _g11++;
			var pos = i1 * 2;
			var rtID = bindParams[pos];
			var samplerID = bindParams[pos + 1];
			var attachDepth = false;
			var $char = rtID.charAt(0);
			if($char == "_") {
				attachDepth = true;
				rtID = HxOverrides.substr(rtID,1,null);
			}
			var rt;
			if(attachDepth) {
				var _this = iron_RenderPath.active.depthToRenderTarget;
				if(__map_reserved[rtID] != null) {
					rt = _this.getReserved(rtID);
				} else {
					rt = _this.h[rtID];
				}
			} else {
				var _this1 = iron_RenderPath.active.renderTargets;
				if(__map_reserved[rtID] != null) {
					rt = _this1.getReserved(rtID);
				} else {
					rt = _this1.h[rtID];
				}
			}
			iron_object_Uniforms.bindRenderTarget(g,rt,context,samplerID,attachDepth);
		}
	}
	if(context.raw.texture_units != null) {
		var _g12 = 0;
		var _g3 = context.raw.texture_units.length;
		while(_g12 < _g3) {
			var j = _g12++;
			var tulink = context.raw.texture_units[j].link;
			if(tulink == null) {
				continue;
			}
			var tuid = context.raw.texture_units[j].name;
			if(tulink == "_envmapRadiance") {
				var w = iron_Scene.active.world;
				if(w != null) {
					g.setTexture(context.textureUnits[j],w.getGlobalProbe().radiance);
					g.setTextureParameters(context.textureUnits[j],kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_MipMapFilter.LinearMipFilter);
				}
			} else if(tulink == "_envmap") {
				var w1 = iron_Scene.active.world;
				if(w1 != null) {
					g.setTexture(context.textureUnits[j],w1.envmap);
				}
			} else if(tulink == "_envmapBrdf") {
				var _this2 = iron_Scene.active.embedded;
				g.setTexture(context.textureUnits[j],__map_reserved["brdf.png"] != null ? _this2.getReserved("brdf.png") : _this2.h["brdf.png"]);
			} else if(tulink == "_noise8") {
				var _this3 = iron_Scene.active.embedded;
				g.setTexture(context.textureUnits[j],__map_reserved["noise8.png"] != null ? _this3.getReserved("noise8.png") : _this3.h["noise8.png"]);
				g.setTextureParameters(context.textureUnits[j],kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_MipMapFilter.NoMipFilter);
			} else if(tulink == "_noise64") {
				var _this4 = iron_Scene.active.embedded;
				g.setTexture(context.textureUnits[j],__map_reserved["noise64.png"] != null ? _this4.getReserved("noise64.png") : _this4.h["noise64.png"]);
				g.setTextureParameters(context.textureUnits[j],kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_MipMapFilter.NoMipFilter);
			} else if(tulink == "_blueNoise64") {
				var _this5 = iron_Scene.active.embedded;
				g.setTexture(context.textureUnits[j],__map_reserved["blue_noise64.png"] != null ? _this5.getReserved("blue_noise64.png") : _this5.h["blue_noise64.png"]);
				g.setTextureParameters(context.textureUnits[j],kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_MipMapFilter.NoMipFilter);
			} else if(tulink == "_noise256") {
				var _this6 = iron_Scene.active.embedded;
				g.setTexture(context.textureUnits[j],__map_reserved["noise256.png"] != null ? _this6.getReserved("noise256.png") : _this6.h["noise256.png"]);
				g.setTextureParameters(context.textureUnits[j],kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_MipMapFilter.NoMipFilter);
			} else if(tulink == "_lampColorTexture") {
				if(lamp != null) {
					g.setTexture(context.textureUnits[j],lamp.data.colorTexture);
					g.setTextureParameters(context.textureUnits[j],kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_MipMapFilter.NoMipFilter);
				}
			} else if(tulink == "_iesTexture") {
				var _this7 = iron_Scene.active.embedded;
				g.setTexture(context.textureUnits[j],__map_reserved["iestexture.png"] != null ? _this7.getReserved("iestexture.png") : _this7.h["iestexture.png"]);
				g.setTextureParameters(context.textureUnits[j],kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_MipMapFilter.NoMipFilter);
			} else if(tulink != "_sdfTexture") {
				if(iron_object_Uniforms.externalTextureLinks != null) {
					var _g21 = 0;
					var _g31 = iron_object_Uniforms.externalTextureLinks;
					while(_g21 < _g31.length) {
						var f = _g31[_g21];
						++_g21;
						var image = f(tulink);
						if(image != null) {
							g.setTexture(context.textureUnits[j],image);
							break;
						}
					}
				}
			}
		}
	}
};
iron_object_Uniforms.bindRenderTarget = function(g,rt,context,samplerID,attachDepth) {
	if(rt != null) {
		var tus = context.raw.texture_units;
		var _g1 = 0;
		var _g = tus.length;
		while(_g1 < _g) {
			var j = _g1++;
			if(samplerID == tus[j].name) {
				var isImage = tus[j].is_image != null && tus[j].is_image;
				if(rt.raw.depth > 1) {
					g.setTexture3DParameters(context.textureUnits[j],kha_graphics4_TextureAddressing.Clamp,kha_graphics4_TextureAddressing.Clamp,kha_graphics4_TextureAddressing.Clamp,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_TextureFilter.PointFilter,kha_graphics4_MipMapFilter.LinearMipFilter);
					context.paramsSet[j] = true;
				}
				if(isImage) {
					g.setImageTexture(context.textureUnits[j],rt.image);
					g.setTexture3DParameters(context.textureUnits[j],kha_graphics4_TextureAddressing.Clamp,kha_graphics4_TextureAddressing.Clamp,kha_graphics4_TextureAddressing.Clamp,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_TextureFilter.PointFilter,kha_graphics4_MipMapFilter.LinearMipFilter);
					context.paramsSet[j] = true;
				} else if(rt.isCubeMap) {
					if(attachDepth) {
						g.setCubeMapDepth(context.textureUnits[j],rt.cubeMap);
					} else {
						g.setCubeMap(context.textureUnits[j],rt.cubeMap);
					}
				} else if(attachDepth) {
					g.setTextureDepth(context.textureUnits[j],rt.image);
				} else {
					g.setTexture(context.textureUnits[j],rt.image);
				}
				if(!context.paramsSet[j] && rt.raw.mipmaps != null && rt.raw.mipmaps == true && !isImage) {
					g.setTextureParameters(context.textureUnits[j],kha_graphics4_TextureAddressing.Clamp,kha_graphics4_TextureAddressing.Clamp,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_MipMapFilter.LinearMipFilter);
					context.paramsSet[j] = true;
				}
				if(!context.paramsSet[j]) {
					g.setTextureParameters(context.textureUnits[j],kha_graphics4_TextureAddressing.Clamp,kha_graphics4_TextureAddressing.Clamp,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_MipMapFilter.NoMipFilter);
					context.paramsSet[j] = true;
				}
			}
		}
	}
};
iron_object_Uniforms.setConstant = function(g,object,camera,lamp,location,c) {
	if(c.link == null) {
		return;
	}
	if(c.type == "mat4") {
		var m = null;
		if(c.link == "_worldMatrix") {
			m = object.transform.world;
		} else if(c.link == "_inverseWorldMatrix") {
			iron_object_Uniforms.helpMat.getInverse(object.transform.world);
			m = iron_object_Uniforms.helpMat;
		} else if(c.link == "_viewMatrix") {
			m = camera.V;
		} else if(c.link == "_transposeInverseViewMatrix") {
			iron_object_Uniforms.helpMat.setFrom(camera.V);
			iron_object_Uniforms.helpMat.getInverse(iron_object_Uniforms.helpMat);
			iron_object_Uniforms.helpMat.transpose();
			m = iron_object_Uniforms.helpMat;
		} else if(c.link == "_inverseViewMatrix") {
			iron_object_Uniforms.helpMat.getInverse(camera.V);
			m = iron_object_Uniforms.helpMat;
		} else if(c.link == "_transposeViewMatrix") {
			iron_object_Uniforms.helpMat.setFrom(camera.V);
			iron_object_Uniforms.helpMat.transpose3x3();
			m = iron_object_Uniforms.helpMat;
		} else if(c.link == "_projectionMatrix") {
			m = camera.P;
		} else if(c.link == "_inverseProjectionMatrix") {
			iron_object_Uniforms.helpMat.getInverse(camera.P);
			m = iron_object_Uniforms.helpMat;
		} else if(c.link == "_inverseViewProjectionMatrix") {
			iron_object_Uniforms.helpMat.setFrom(camera.V);
			iron_object_Uniforms.helpMat.multmat2(camera.P);
			iron_object_Uniforms.helpMat.getInverse(iron_object_Uniforms.helpMat);
			m = iron_object_Uniforms.helpMat;
		} else if(c.link == "_worldViewProjectionMatrix") {
			iron_object_Uniforms.helpMat.setFrom(object.transform.world);
			iron_object_Uniforms.helpMat.multmat2(camera.V);
			iron_object_Uniforms.helpMat.multmat2(camera.P);
			m = iron_object_Uniforms.helpMat;
		} else if(c.link == "_worldViewProjectionMatrixSphere") {
			iron_object_Uniforms.helpMat.setFrom(object.transform.world);
			iron_object_Uniforms.helpMat.multmat2(camera.V);
			iron_object_Uniforms.helpMat.self._00 = 1.0;
			iron_object_Uniforms.helpMat.self._10 = 0.0;
			iron_object_Uniforms.helpMat.self._20 = 0.0;
			iron_object_Uniforms.helpMat.self._01 = 0.0;
			iron_object_Uniforms.helpMat.self._11 = 1.0;
			iron_object_Uniforms.helpMat.self._21 = 0.0;
			iron_object_Uniforms.helpMat.self._02 = 0.0;
			iron_object_Uniforms.helpMat.self._12 = 0.0;
			iron_object_Uniforms.helpMat.self._22 = 1.0;
			iron_object_Uniforms.helpMat.multmat2(camera.P);
			m = iron_object_Uniforms.helpMat;
		} else if(c.link == "_worldViewProjectionMatrixCylinder") {
			iron_object_Uniforms.helpMat.setFrom(object.transform.world);
			iron_object_Uniforms.helpMat.multmat2(camera.V);
			iron_object_Uniforms.helpMat.self._00 = 1.0;
			iron_object_Uniforms.helpMat.self._20 = 0.0;
			iron_object_Uniforms.helpMat.self._01 = 0.0;
			iron_object_Uniforms.helpMat.self._21 = 0.0;
			iron_object_Uniforms.helpMat.self._02 = 0.0;
			iron_object_Uniforms.helpMat.self._22 = 1.0;
			iron_object_Uniforms.helpMat.multmat2(camera.P);
			m = iron_object_Uniforms.helpMat;
		} else if(c.link == "_worldViewMatrix") {
			iron_object_Uniforms.helpMat.setFrom(object.transform.world);
			iron_object_Uniforms.helpMat.multmat2(camera.V);
			m = iron_object_Uniforms.helpMat;
		} else if(c.link == "_viewProjectionMatrix") {
			m = camera.VP;
		} else if(c.link == "_prevViewProjectionMatrix") {
			iron_object_Uniforms.helpMat.setFrom(camera.prevV);
			iron_object_Uniforms.helpMat.multmat2(camera.P);
			m = iron_object_Uniforms.helpMat;
		} else if(c.link == "_lampWorldViewProjectionMatrix") {
			if(lamp != null) {
				if(object == null) {
					iron_object_Uniforms.helpMat.setIdentity();
				} else {
					iron_object_Uniforms.helpMat.setFrom(object.transform.world);
				}
				iron_object_Uniforms.helpMat.multmat2(lamp.VP);
				m = iron_object_Uniforms.helpMat;
			}
		} else if(c.link == "_lampWorldViewProjectionMatrixSphere") {
			if(lamp != null) {
				iron_object_Uniforms.helpMat.setFrom(object.transform.world);
				iron_object_Uniforms.helpMat.multmat2(camera.V);
				iron_object_Uniforms.helpMat.self._00 = 1.0;
				iron_object_Uniforms.helpMat.self._10 = 0.0;
				iron_object_Uniforms.helpMat.self._20 = 0.0;
				iron_object_Uniforms.helpMat.self._01 = 0.0;
				iron_object_Uniforms.helpMat.self._11 = 1.0;
				iron_object_Uniforms.helpMat.self._21 = 0.0;
				iron_object_Uniforms.helpMat.self._02 = 0.0;
				iron_object_Uniforms.helpMat.self._12 = 0.0;
				iron_object_Uniforms.helpMat.self._22 = 1.0;
				iron_object_Uniforms.helpMat2.getInverse(camera.V);
				iron_object_Uniforms.helpMat.multmat2(iron_object_Uniforms.helpMat2);
				iron_object_Uniforms.helpMat.multmat2(lamp.VP);
				m = iron_object_Uniforms.helpMat;
			}
		} else if(c.link == "_lampWorldViewProjectionMatrixCylinder") {
			if(lamp != null) {
				iron_object_Uniforms.helpMat.setFrom(object.transform.world);
				iron_object_Uniforms.helpMat.multmat2(camera.V);
				iron_object_Uniforms.helpMat.self._00 = 1.0;
				iron_object_Uniforms.helpMat.self._20 = 0.0;
				iron_object_Uniforms.helpMat.self._01 = 0.0;
				iron_object_Uniforms.helpMat.self._21 = 0.0;
				iron_object_Uniforms.helpMat.self._02 = 0.0;
				iron_object_Uniforms.helpMat.self._22 = 1.0;
				iron_object_Uniforms.helpMat2.getInverse(camera.V);
				iron_object_Uniforms.helpMat.multmat2(iron_object_Uniforms.helpMat2);
				iron_object_Uniforms.helpMat.multmat2(lamp.VP);
				m = iron_object_Uniforms.helpMat;
			}
		} else if(c.link == "_biasLampWorldViewProjectionMatrix") {
			if(lamp != null) {
				if(object == null) {
					iron_object_Uniforms.helpMat.setIdentity();
				} else {
					iron_object_Uniforms.helpMat.setFrom(object.transform.world);
				}
				iron_object_Uniforms.helpMat.multmat2(lamp.VP);
				iron_object_Uniforms.helpMat.multmat2(iron_object_Uniforms.biasMat);
				m = iron_object_Uniforms.helpMat;
			}
		} else if(c.link == "_lampViewProjectionMatrix") {
			if(lamp != null) {
				m = lamp.VP;
			}
		} else if(c.link == "_biasLampViewProjectionMatrix") {
			if(lamp != null) {
				iron_object_Uniforms.helpMat.setFrom(lamp.VP);
				iron_object_Uniforms.helpMat.multmat2(iron_object_Uniforms.biasMat);
				m = iron_object_Uniforms.helpMat;
			}
		} else if(c.link == "_lampVolumeWorldViewProjectionMatrix") {
			if(lamp != null) {
				var tr = lamp.transform;
				var type = lamp.data.raw.type;
				if(type == "spot") {
					iron_object_Uniforms.helpVec.set(tr.world.self._30,tr.world.self._31,tr.world.self._32);
					var f2 = 2.0;
					iron_object_Uniforms.helpVec2.set(lamp.data.raw.far_plane,lamp.data.raw.far_plane * f2,lamp.data.raw.far_plane * f2);
					iron_object_Uniforms.helpMat.compose(iron_object_Uniforms.helpVec,iron_object_Uniforms.helpQuat,iron_object_Uniforms.helpVec2);
				} else if(type == "point" || type == "area") {
					iron_object_Uniforms.helpVec.set(tr.world.self._30,tr.world.self._31,tr.world.self._32);
					var f21 = 2.0;
					iron_object_Uniforms.helpVec2.set(lamp.data.raw.far_plane,lamp.data.raw.far_plane * f21,lamp.data.raw.far_plane * f21);
					iron_object_Uniforms.helpMat.compose(iron_object_Uniforms.helpVec,iron_object_Uniforms.helpQuat,iron_object_Uniforms.helpVec2);
				}
				iron_object_Uniforms.helpMat.multmat2(camera.V);
				iron_object_Uniforms.helpMat.multmat2(camera.P);
				m = iron_object_Uniforms.helpMat;
			}
		} else if(c.link == "_skydomeMatrix") {
			var tr1 = camera.transform;
			iron_object_Uniforms.helpVec.set(tr1.world.self._30,tr1.world.self._31,tr1.world.self._32 - 3.5);
			var bounds = camera.farPlane * 0.95;
			iron_object_Uniforms.helpVec2.set(bounds,bounds,bounds);
			iron_object_Uniforms.helpMat.compose(iron_object_Uniforms.helpVec,iron_object_Uniforms.helpQuat,iron_object_Uniforms.helpVec2);
			iron_object_Uniforms.helpMat.multmat2(camera.V);
			iron_object_Uniforms.helpMat.multmat2(camera.P);
			m = iron_object_Uniforms.helpMat;
		} else if(c.link == "_lampViewMatrix") {
			if(lamp != null) {
				m = lamp.V;
			}
		} else if(c.link == "_lampProjectionMatrix") {
			if(lamp != null) {
				m = lamp.P;
			}
		} else if(c.link == "_particleData") {
			var mo = js_Boot.__cast(object , iron_object_MeshObject);
			if(mo.particleOwner != null) {
				m = mo.particleOwner.particleSystems[mo.particleIndex].getData();
			}
		} else if(iron_object_Uniforms.externalMat4Links != null) {
			var _g = 0;
			var _g1 = iron_object_Uniforms.externalMat4Links;
			while(_g < _g1.length) {
				var fn = _g1[_g];
				++_g;
				m = fn(c.link);
				if(m != null) {
					break;
				}
			}
		}
		if(m == null) {
			return;
		}
		g.setMatrix(location,m.self);
	} else if(c.type == "mat3") {
		var m1 = null;
		if(c.link == "_normalMatrix") {
			iron_object_Uniforms.helpMat.setFrom(object.transform.world);
			iron_object_Uniforms.helpMat.getInverse(iron_object_Uniforms.helpMat);
			iron_object_Uniforms.helpMat.transpose3x3();
			iron_object_Uniforms.helpMat3.setFrom4(iron_object_Uniforms.helpMat);
			m1 = iron_object_Uniforms.helpMat3;
		}
		if(m1 == null) {
			return;
		}
		g.setMatrix3(location,m1.self);
	} else if(c.type == "vec4") {
		var v = null;
		iron_object_Uniforms.helpVec.set(0,0,0);
		if(c.link == "_input") {
			iron_object_Uniforms.helpVec.set(iron_system_Input.getMouse().x / kha_System.windowWidth(),iron_system_Input.getMouse().y / kha_System.windowHeight(),iron_system_Input.getMouse().down() ? 1.0 : 0.0,0.0);
			v = iron_object_Uniforms.helpVec;
		} else if(iron_object_Uniforms.externalVec4Links != null) {
			var _g2 = 0;
			var _g11 = iron_object_Uniforms.externalVec4Links;
			while(_g2 < _g11.length) {
				var fn1 = _g11[_g2];
				++_g2;
				v = fn1(c.link);
				if(v != null) {
					break;
				}
			}
		}
		if(v == null) {
			return;
		}
		g.setFloat4(location,v.x,v.y,v.z,v.w);
	} else if(c.type == "vec3") {
		var v1 = null;
		iron_object_Uniforms.helpVec.set(0,0,0);
		if(c.link == "_lampPosition") {
			if(lamp != null) {
				iron_object_Uniforms.helpVec.set(lamp.transform.world.self._30,lamp.transform.world.self._31,lamp.transform.world.self._32);
			}
			v1 = iron_object_Uniforms.helpVec;
		} else if(c.link == "_lampDirection") {
			if(lamp != null) {
				iron_object_Uniforms.helpVec = new iron_math_Vec4(lamp.V.self._02,lamp.V.self._12,lamp.V.self._22);
			}
			v1 = iron_object_Uniforms.helpVec;
		} else if(c.link == "_lampColor") {
			if(lamp != null) {
				var str = lamp.data.raw.strength;
				iron_object_Uniforms.helpVec.set(lamp.data.raw.color[0] * str,lamp.data.raw.color[1] * str,lamp.data.raw.color[2] * str);
			}
			v1 = iron_object_Uniforms.helpVec;
		} else if(c.link == "_lampArea0") {
			if(lamp != null && lamp.data.raw.size != null) {
				var f22 = 0.5;
				var sx = lamp.data.raw.size * f22;
				var sy = lamp.data.raw.size_y * f22;
				iron_object_Uniforms.helpVec.set(-sx,sy,0.0);
				iron_object_Uniforms.helpVec.applymat(lamp.transform.world);
				v1 = iron_object_Uniforms.helpVec;
			}
		} else if(c.link == "_lampArea1") {
			if(lamp != null && lamp.data.raw.size != null) {
				var f23 = 0.5;
				var sx1 = lamp.data.raw.size * f23;
				var sy1 = lamp.data.raw.size_y * f23;
				iron_object_Uniforms.helpVec.set(sx1,sy1,0.0);
				iron_object_Uniforms.helpVec.applymat(lamp.transform.world);
				v1 = iron_object_Uniforms.helpVec;
			}
		} else if(c.link == "_lampArea2") {
			if(lamp != null && lamp.data.raw.size != null) {
				var f24 = 0.5;
				var sx2 = lamp.data.raw.size * f24;
				var sy2 = lamp.data.raw.size_y * f24;
				iron_object_Uniforms.helpVec.set(sx2,-sy2,0.0);
				iron_object_Uniforms.helpVec.applymat(lamp.transform.world);
				v1 = iron_object_Uniforms.helpVec;
			}
		} else if(c.link == "_lampArea3") {
			if(lamp != null && lamp.data.raw.size != null) {
				var f25 = 0.5;
				var sx3 = lamp.data.raw.size * f25;
				var sy3 = lamp.data.raw.size_y * f25;
				iron_object_Uniforms.helpVec.set(-sx3,-sy3,0.0);
				iron_object_Uniforms.helpVec.applymat(lamp.transform.world);
				v1 = iron_object_Uniforms.helpVec;
			}
		} else if(c.link == "_cameraPosition") {
			iron_object_Uniforms.helpVec.set(camera.transform.world.self._30,camera.transform.world.self._31,camera.transform.world.self._32);
			v1 = iron_object_Uniforms.helpVec;
		} else if(c.link == "_cameraLook") {
			iron_object_Uniforms.helpVec = new iron_math_Vec4(-camera.transform.world.self._20,-camera.transform.world.self._21,-camera.transform.world.self._22);
			v1 = iron_object_Uniforms.helpVec;
		} else if(c.link == "_cameraUp") {
			iron_object_Uniforms.helpVec = new iron_math_Vec4(camera.transform.world.self._10,camera.transform.world.self._11,camera.transform.world.self._12);
			v1 = iron_object_Uniforms.helpVec;
		} else if(c.link == "_cameraRight") {
			iron_object_Uniforms.helpVec = new iron_math_Vec4(camera.transform.world.self._00,camera.transform.world.self._01,camera.transform.world.self._02);
			v1 = iron_object_Uniforms.helpVec;
		} else if(c.link == "_backgroundCol") {
			if(camera.data.raw.clear_color != null) {
				iron_object_Uniforms.helpVec.set(camera.data.raw.clear_color[0],camera.data.raw.clear_color[1],camera.data.raw.clear_color[2]);
			}
			v1 = iron_object_Uniforms.helpVec;
		} else if(c.link == "_probeVolumeCenter") {
			v1 = iron_Scene.active.world.getProbeVolumeCenter(object.transform);
		} else if(c.link == "_probeVolumeSize") {
			v1 = iron_Scene.active.world.getProbeVolumeSize(object.transform);
		} else if(c.link == "_sunDirection") {
			var w = iron_Scene.active.world;
			if(w != null) {
				iron_object_Uniforms.helpVec.set(w.raw.sun_direction[0],w.raw.sun_direction[1],w.raw.sun_direction[2]);
				v1 = iron_object_Uniforms.helpVec;
			}
		} else if(iron_object_Uniforms.externalVec3Links != null) {
			var _g3 = 0;
			var _g12 = iron_object_Uniforms.externalVec3Links;
			while(_g3 < _g12.length) {
				var f = _g12[_g3];
				++_g3;
				v1 = f(c.link);
				if(v1 != null) {
					break;
				}
			}
		}
		if(v1 == null) {
			return;
		}
		g.setFloat3(location,v1.x,v1.y,v1.z);
	} else if(c.type == "vec2") {
		var vx = 0;
		var vy = 0;
		if(c.link == "_vec2x") {
			vx = 1.0;
		} else if(c.link == "_vec2xInv") {
			vx = 1.0 / iron_RenderPath.active.currentW;
		} else if(c.link == "_vec2x2") {
			vx = 2.0;
		} else if(c.link == "_vec2x2Inv") {
			vx = 2.0 / iron_RenderPath.active.currentW;
		} else if(c.link == "_vec2y") {
			vy = 1.0;
		} else if(c.link == "_vec2yInv") {
			vy = 1.0 / iron_RenderPath.active.currentH;
		} else if(c.link == "_vec2y2") {
			vy = 2.0;
		} else if(c.link == "_vec2y2Inv") {
			vy = 2.0 / iron_RenderPath.active.currentH;
		} else if(c.link == "_vec2y3") {
			vy = 3.0;
		} else if(c.link == "_vec2y3Inv") {
			vy = 3.0 / iron_RenderPath.active.currentH;
		} else if(c.link == "_windowSize") {
			vx = kha_System.windowWidth();
			vy = kha_System.windowHeight();
		} else if(c.link == "_windowSizeInv") {
			vx = 1.0 / kha_System.windowWidth();
			vy = 1.0 / kha_System.windowHeight();
		} else if(c.link == "_screenSize") {
			vx = iron_RenderPath.active.currentW;
			vy = iron_RenderPath.active.currentH;
		} else if(c.link == "_screenSizeInv") {
			vx = 1.0 / iron_RenderPath.active.currentW;
			vy = 1.0 / iron_RenderPath.active.currentH;
		} else if(c.link == "_aspectRatio") {
			vx = iron_RenderPath.active.currentH / iron_RenderPath.active.currentW;
			vy = iron_RenderPath.active.currentW / iron_RenderPath.active.currentH;
			if(vx > 1.0) {
				vx = 1.0;
			} else {
				vx = vx;
			}
			if(vy > 1.0) {
				vy = 1.0;
			} else {
				vy = vy;
			}
		} else if(c.link == "_cameraPlane") {
			vx = camera.data.raw.near_plane;
			vy = camera.data.raw.far_plane;
		} else if(c.link == "_cameraPlaneProj") {
			var near = camera.data.raw.near_plane;
			var far = camera.data.raw.far_plane;
			vx = far / (far - near);
			vy = -far * near / (far - near);
		} else if(c.link == "_lampPlane") {
			if(lamp == null) {
				vx = 0.0;
			} else {
				vx = lamp.data.raw.near_plane;
			}
			if(lamp == null) {
				vy = 0.0;
			} else {
				vy = lamp.data.raw.far_plane;
			}
		} else if(c.link == "_lampPlaneProj") {
			if(lamp != null) {
				var near1 = lamp.data.raw.near_plane;
				var far1 = lamp.data.raw.far_plane;
				var a = far1 + near1;
				var b = far1 - near1;
				var f26 = 2.0;
				var c1 = f26 * far1 * near1;
				vx = a / b;
				vy = c1 / b;
			}
		} else if(c.link == "_spotlampData") {
			if(lamp == null) {
				vx = 0.0;
			} else {
				vx = lamp.data.raw.spot_size;
			}
			if(lamp == null) {
				vy = 0.0;
			} else {
				vy = vx - lamp.data.raw.spot_blend;
			}
		} else if(c.link == "_tilesheetOffset") {
			var ts = (js_Boot.__cast(object , iron_object_MeshObject)).tilesheet;
			vx = ts.tileX;
			vy = ts.tileY;
		} else if(iron_object_Uniforms.externalVec2Links != null) {
			var _g4 = 0;
			var _g13 = iron_object_Uniforms.externalVec2Links;
			while(_g4 < _g13.length) {
				var fn2 = _g13[_g4];
				++_g4;
				var v2 = fn2(c.link);
				if(v2 != null) {
					vx = v2.x;
					vy = v2.y;
					break;
				}
			}
		}
		g.setFloat2(location,vx,vy);
	} else if(c.type == "float") {
		var f1 = 0.0;
		if(c.link == "_time") {
			f1 = kha_Scheduler.time();
		} else if(c.link == "_deltaTime") {
			f1 = 0.016666666666666666 * iron_system_Time.scale;
		} else if(c.link == "_lampRadius") {
			if(lamp == null) {
				f1 = 0.0;
			} else {
				f1 = lamp.data.raw.far_plane;
			}
		} else if(c.link == "_lampShadowsBias") {
			if(lamp == null) {
				f1 = 0.0;
			} else {
				f1 = lamp.data.raw.shadows_bias;
			}
		} else if(c.link == "_lampSize") {
			if(lamp != null && lamp.data.raw.lamp_size != null) {
				f1 = lamp.data.raw.lamp_size;
			}
		} else if(c.link == "_envmapStrength") {
			if(iron_Scene.active.world == null) {
				f1 = 0.0;
			} else {
				f1 = iron_Scene.active.world.getGlobalProbe().raw.strength;
			}
		} else if(c.link == "_probeStrength") {
			f1 = iron_Scene.active.world.getProbeStrength(object.transform);
		} else if(c.link == "_probeBlending") {
			f1 = iron_Scene.active.world.getProbeBlending(object.transform);
		} else if(c.link == "_aspectRatioF") {
			f1 = iron_RenderPath.active.currentW / iron_RenderPath.active.currentH;
		} else if(c.link == "_aspectRatioWindowF") {
			f1 = kha_System.windowWidth() / kha_System.windowHeight();
		} else if(c.link == "_objectInfoIndex") {
			f1 = object.uid;
		} else if(c.link == "_objectInfoMaterialIndex") {
			if(iron_RenderPath.active.currentMaterial != null) {
				f1 = iron_RenderPath.active.currentMaterial.uid;
			} else {
				f1 = (js_Boot.__cast(object , iron_object_MeshObject)).materials[0].uid;
			}
		} else if(c.link == "_objectInfoRandom") {
			f1 = object.urandom;
		} else if(c.link == "_frameScale") {
			f1 = iron_RenderPath.active.frameTime / (0.016666666666666666 * iron_system_Time.scale);
		} else if(iron_object_Uniforms.externalFloatLinks != null) {
			var _g5 = 0;
			var _g14 = iron_object_Uniforms.externalFloatLinks;
			while(_g5 < _g14.length) {
				var fn3 = _g14[_g5];
				++_g5;
				var res = fn3(c.link);
				if(res != null) {
					f1 = res;
					break;
				}
			}
		}
		g.setFloat(location,f1);
	} else if(c.type == "floats") {
		var fa = null;
		if(c.link == "_skinBones") {
			if(object.animation != null) {
				fa = (js_Boot.__cast(object.animation , iron_object_BoneAnimation)).skinBuffer;
			}
		} else if(c.link == "_envmapIrradiance") {
			if(iron_Scene.active.world == null) {
				fa = iron_data_WorldData.getEmptyIrradiance();
			} else {
				fa = iron_Scene.active.world.getSHIrradiance();
			}
		}
		if(c.link == "_cascadeData") {
			if(lamp != null) {
				fa = lamp.getCascadeData();
			}
		} else if(iron_object_Uniforms.externalFloatsLinks != null) {
			var _g6 = 0;
			var _g15 = iron_object_Uniforms.externalFloatsLinks;
			while(_g6 < _g15.length) {
				var fn4 = _g15[_g6];
				++_g6;
				fa = fn4(c.link);
				if(fa != null) {
					break;
				}
			}
		}
		if(fa != null) {
			g.setFloats(location,fa);
		}
	} else if(c.type == "int") {
		var i = 0;
		if(c.link == "_uid") {
			i = object.uid;
		}
		if(c.link == "_lampType") {
			if(lamp == null) {
				i = 0;
			} else {
				switch(lamp.data.raw.type) {
				case "area":
					i = 3;
					break;
				case "point":
					i = 1;
					break;
				case "spot":
					i = 2;
					break;
				case "sun":
					i = 0;
					break;
				default:
					i = 0;
				}
			}
		} else if(c.link == "_lampIndex") {
			i = iron_RenderPath.active.currentLampIndex;
		} else if(c.link == "_lampCastShadow") {
			if(lamp != null && lamp.data.raw.cast_shadow) {
				if(lamp.data.raw.shadowmap_cube) {
					i = 2;
				} else {
					i = 1;
				}
			}
		} else if(c.link == "_envmapNumMipmaps") {
			var w1 = iron_Scene.active.world;
			if(w1 != null) {
				i = w1.getGlobalProbe().raw.radiance_mipmaps + 1 - 2;
			} else {
				i = 1;
			}
		} else if(iron_object_Uniforms.externalIntLinks != null) {
			var _g7 = 0;
			var _g16 = iron_object_Uniforms.externalIntLinks;
			while(_g7 < _g16.length) {
				var fn5 = _g16[_g7];
				++_g7;
				var res1 = fn5(c.link);
				if(res1 != null) {
					i = res1;
					break;
				}
			}
		}
		g.setInt(location,i);
	}
};
iron_object_Uniforms.setMaterialConstants = function(g,context,materialContext) {
	if(materialContext.raw.bind_constants != null) {
		var _g1 = 0;
		var _g = materialContext.raw.bind_constants.length;
		while(_g1 < _g) {
			var i = _g1++;
			var matc = materialContext.raw.bind_constants[i];
			var pos = -1;
			var _g3 = 0;
			var _g2 = context.raw.constants.length;
			while(_g3 < _g2) {
				var i1 = _g3++;
				if(context.raw.constants[i1].name == matc.name) {
					pos = i1;
					break;
				}
			}
			if(pos == -1) {
				continue;
			}
			var c = context.raw.constants[pos];
			iron_object_Uniforms.setMaterialConstant(g,context.constants[pos],c,matc);
		}
	}
	if(materialContext.textures != null) {
		var _g11 = 0;
		var _g4 = materialContext.textures.length;
		while(_g11 < _g4) {
			var i2 = _g11++;
			var mname = materialContext.raw.bind_textures[i2].name;
			var _g31 = 0;
			var _g21 = context.textureUnits.length;
			while(_g31 < _g21) {
				var j = _g31++;
				var sname = context.raw.texture_units[j].name;
				if(mname == sname) {
					g.setTexture(context.textureUnits[j],materialContext.textures[i2]);
					materialContext.setTextureParameters(g,i2,context,j);
					break;
				}
			}
		}
	}
};
iron_object_Uniforms.setMaterialConstant = function(g,location,c,matc) {
	var _g = c.type;
	switch(_g) {
	case "bool":
		g.setBool(location,matc.bool);
		break;
	case "float":
		g.setFloat(location,matc["float"]);
		break;
	case "int":
		g.setInt(location,matc["int"]);
		break;
	case "vec2":
		g.setFloat2(location,matc.vec2[0],matc.vec2[1]);
		break;
	case "vec3":
		g.setFloat3(location,matc.vec3[0],matc.vec3[1],matc.vec3[2]);
		break;
	case "vec4":
		g.setFloat4(location,matc.vec4[0],matc.vec4[1],matc.vec4[2],matc.vec4[3]);
		break;
	}
};
var iron_system_ArmPack = $hxClasses["iron.system.ArmPack"] = function() { };
iron_system_ArmPack.__name__ = ["iron","system","ArmPack"];
iron_system_ArmPack.decode = function(b) {
	var i = new haxe_io_BytesInput(b);
	i.set_bigEndian(true);
	return iron_system_ArmPack.read(i);
};
iron_system_ArmPack.read = function(i) {
	try {
		var b = i.readByte();
		switch(b) {
		case 192:
			return null;
		case 194:
			return false;
		case 195:
			return true;
		case 196:
			return i.read(i.readByte());
		case 197:
			return i.read(i.readUInt16());
		case 198:
			return i.read(i.readInt32());
		case 202:
			return i.readFloat();
		case 204:
			return i.readByte();
		case 205:
			return i.readUInt16();
		case 206:
			return i.readInt32();
		case 208:
			return i.readInt8();
		case 209:
			return i.readInt16();
		case 210:
			return i.readInt32();
		case 217:
			return i.readString(i.readByte());
		case 218:
			return i.readString(i.readUInt16());
		case 219:
			return i.readString(i.readInt32());
		case 220:
			return iron_system_ArmPack.readArray(i,i.readUInt16());
		case 221:
			return iron_system_ArmPack.readArray(i,i.readInt32());
		case 222:
			return iron_system_ArmPack.readMap(i,i.readUInt16());
		case 223:
			return iron_system_ArmPack.readMap(i,i.readInt32());
		default:
			if(b < 128) {
				return b;
			} else if(b < 144) {
				return iron_system_ArmPack.readMap(i,15 & b);
			} else if(b < 160) {
				return iron_system_ArmPack.readArray(i,15 & b);
			} else if(b < 192) {
				return i.readString(31 & b);
			} else if(b > 223) {
				return -256 | b;
			}
		}
	} catch( e ) {
		if (e instanceof js__$Boot_HaxeError) e = e.val;
		if( js_Boot.__instanceof(e,haxe_io_Eof) ) {
		} else throw(e);
	}
	return null;
};
iron_system_ArmPack.readArray = function(i,length) {
	var b = i.readByte();
	var _g = i;
	var _g1 = _g.pos;
	_g.set_position(_g1 - 1);
	if(b == 202) {
		var _g2 = i;
		var _g11 = _g2.pos;
		_g2.set_position(_g11 + 1);
		var this1 = new Float32Array(length);
		var a = this1;
		var _g12 = 0;
		var _g3 = length;
		while(_g12 < _g3) {
			var x = _g12++;
			a[x] = i.readFloat();
		}
		return a;
	} else if(b == 210) {
		var _g4 = i;
		var _g13 = _g4.pos;
		_g4.set_position(_g13 + 1);
		var this2 = new Uint32Array(length);
		var a1 = this2;
		var _g14 = 0;
		var _g5 = length;
		while(_g14 < _g5) {
			var x1 = _g14++;
			a1[x1] = i.readInt32();
		}
		return a1;
	} else {
		var a2 = [];
		var _g15 = 0;
		var _g6 = length;
		while(_g15 < _g6) {
			var x2 = _g15++;
			a2.push(iron_system_ArmPack.read(i));
		}
		return a2;
	}
};
iron_system_ArmPack.readMap = function(i,length) {
	var out = { };
	var _g1 = 0;
	var _g = length;
	while(_g1 < _g) {
		var n = _g1++;
		var k = iron_system_ArmPack.read(i);
		var v = iron_system_ArmPack.read(i);
		out[Std.string(k)] = v;
	}
	return out;
};
var iron_system_Audio = $hxClasses["iron.system.Audio"] = function() {
};
iron_system_Audio.__name__ = ["iron","system","Audio"];
iron_system_Audio.play = function(sound,loop,stream) {
	if(stream == null) {
		stream = false;
	}
	if(loop == null) {
		loop = false;
	}
	if(stream && sound.compressedData != null) {
		return kha_audio2_Audio1.stream(sound,loop);
	} else if(sound.uncompressedData != null) {
		return kha_audio2_Audio1.play(sound,loop);
	} else {
		return null;
	}
};
iron_system_Audio.prototype = {
	__class__: iron_system_Audio
};
var iron_system_Input = $hxClasses["iron.system.Input"] = function() { };
iron_system_Input.__name__ = ["iron","system","Input"];
iron_system_Input.reset = function() {
	iron_system_Input.occupied = false;
	if(iron_system_Input.mouse != null) {
		iron_system_Input.mouse.reset();
	}
	if(iron_system_Input.pen != null) {
		iron_system_Input.pen.reset();
	}
	if(iron_system_Input.keyboard != null) {
		iron_system_Input.keyboard.reset();
	}
	var _g = 0;
	var _g1 = iron_system_Input.gamepads;
	while(_g < _g1.length) {
		var gamepad = _g1[_g];
		++_g;
		gamepad.reset();
	}
};
iron_system_Input.endFrame = function() {
	if(iron_system_Input.mouse != null) {
		iron_system_Input.mouse.endFrame();
	}
	if(iron_system_Input.pen != null) {
		iron_system_Input.pen.endFrame();
	}
	if(iron_system_Input.keyboard != null) {
		iron_system_Input.keyboard.endFrame();
	}
	var _g = 0;
	var _g1 = iron_system_Input.gamepads;
	while(_g < _g1.length) {
		var gamepad = _g1[_g];
		++_g;
		gamepad.endFrame();
	}
	if(iron_system_Input.virtualButtons != null) {
		var _this = iron_system_Input.virtualButtons;
		var vb = new haxe_ds__$StringMap_StringMapIterator(_this,_this.arrayKeys());
		while(vb.hasNext()) {
			var vb1 = vb.next();
			vb1.started = vb1.released = false;
		}
	}
};
iron_system_Input.getMouse = function() {
	if(iron_system_Input.mouse == null) {
		iron_system_Input.mouse = new iron_system_Mouse();
	}
	return iron_system_Input.mouse;
};
iron_system_Input.getPen = function() {
	if(iron_system_Input.pen == null) {
		iron_system_Input.pen = new iron_system_Pen();
	}
	return iron_system_Input.pen;
};
iron_system_Input.getSurface = function() {
	return iron_system_Input.getMouse();
};
iron_system_Input.getKeyboard = function() {
	if(iron_system_Input.keyboard == null) {
		iron_system_Input.keyboard = new iron_system_Keyboard();
	}
	return iron_system_Input.keyboard;
};
iron_system_Input.getGamepad = function(i) {
	if(i == null) {
		i = 0;
	}
	if(i >= 4) {
		return null;
	}
	while(iron_system_Input.gamepads.length <= i) iron_system_Input.gamepads.push(new iron_system_Gamepad(iron_system_Input.gamepads.length));
	if(iron_system_Input.gamepads[i].connected) {
		return iron_system_Input.gamepads[i];
	} else {
		return null;
	}
};
iron_system_Input.getSensor = function() {
	if(iron_system_Input.sensor == null) {
		iron_system_Input.sensor = new iron_system_Sensor();
	}
	return iron_system_Input.sensor;
};
iron_system_Input.getVirtualButton = function(virtual) {
	if(iron_system_Input.virtualButtons == null) {
		return null;
	}
	var _this = iron_system_Input.virtualButtons;
	if(__map_reserved[virtual] != null) {
		return _this.getReserved(virtual);
	} else {
		return _this.h[virtual];
	}
};
var iron_system_VirtualButton = $hxClasses["iron.system.VirtualButton"] = function() {
	this.down = false;
	this.released = false;
	this.started = false;
};
iron_system_VirtualButton.__name__ = ["iron","system","VirtualButton"];
iron_system_VirtualButton.prototype = {
	started: null
	,released: null
	,down: null
	,__class__: iron_system_VirtualButton
};
var iron_system_VirtualInput = $hxClasses["iron.system.VirtualInput"] = function() {
	this.virtualButtons = null;
};
iron_system_VirtualInput.__name__ = ["iron","system","VirtualInput"];
iron_system_VirtualInput.prototype = {
	virtualButtons: null
	,setVirtual: function(virtual,button) {
		if(iron_system_Input.virtualButtons == null) {
			iron_system_Input.virtualButtons = new haxe_ds_StringMap();
		}
		var _this = iron_system_Input.virtualButtons;
		var vb = __map_reserved[virtual] != null ? _this.getReserved(virtual) : _this.h[virtual];
		if(vb == null) {
			vb = new iron_system_VirtualButton();
			var _this1 = iron_system_Input.virtualButtons;
			if(__map_reserved[virtual] != null) {
				_this1.setReserved(virtual,vb);
			} else {
				_this1.h[virtual] = vb;
			}
		}
		if(this.virtualButtons == null) {
			this.virtualButtons = new haxe_ds_StringMap();
		}
		var _this2 = this.virtualButtons;
		if(__map_reserved[button] != null) {
			_this2.setReserved(button,vb);
		} else {
			_this2.h[button] = vb;
		}
	}
	,downVirtual: function(button) {
		if(this.virtualButtons != null) {
			var _this = this.virtualButtons;
			var vb = __map_reserved[button] != null ? _this.getReserved(button) : _this.h[button];
			if(vb != null) {
				vb.down = true;
				vb.started = true;
			}
		}
	}
	,upVirtual: function(button) {
		if(this.virtualButtons != null) {
			var _this = this.virtualButtons;
			var vb = __map_reserved[button] != null ? _this.getReserved(button) : _this.h[button];
			if(vb != null) {
				vb.down = false;
				vb.released = true;
			}
		}
	}
	,__class__: iron_system_VirtualInput
};
var iron_system_Mouse = $hxClasses["iron.system.Mouse"] = function() {
	this.lastY = -1.0;
	this.lastX = -1.0;
	this.locked = false;
	this.wheelDelta = 0;
	this.movementY = 0.0;
	this.movementX = 0.0;
	this.moved = false;
	this.y = 0.0;
	this.x = 0.0;
	this.buttonsReleased = [false,false,false];
	this.buttonsStarted = [false,false,false];
	this.buttonsDown = [false,false,false];
	iron_system_VirtualInput.call(this);
	kha_input_Mouse.get().notify($bind(this,this.downListener),$bind(this,this.upListener),$bind(this,this.moveListener),$bind(this,this.wheelListener));
};
iron_system_Mouse.__name__ = ["iron","system","Mouse"];
iron_system_Mouse.__super__ = iron_system_VirtualInput;
iron_system_Mouse.prototype = $extend(iron_system_VirtualInput.prototype,{
	buttonsDown: null
	,buttonsStarted: null
	,buttonsReleased: null
	,x: null
	,y: null
	,moved: null
	,movementX: null
	,movementY: null
	,wheelDelta: null
	,locked: null
	,lastX: null
	,lastY: null
	,endFrame: function() {
		var tmp = this.buttonsStarted[1] = this.buttonsStarted[2] = false;
		this.buttonsStarted[0] = tmp;
		var tmp1 = this.buttonsReleased[1] = this.buttonsReleased[2] = false;
		this.buttonsReleased[0] = tmp1;
		this.moved = false;
		this.movementX = 0;
		this.movementY = 0;
		this.wheelDelta = 0;
	}
	,reset: function() {
		var tmp = this.buttonsDown[1] = this.buttonsDown[2] = false;
		this.buttonsDown[0] = tmp;
		this.endFrame();
	}
	,buttonIndex: function(button) {
		if(button == "left") {
			return 0;
		} else if(button == "right") {
			return 1;
		} else {
			return 2;
		}
	}
	,down: function(button) {
		if(button == null) {
			button = "left";
		}
		return this.buttonsDown[this.buttonIndex(button)];
	}
	,started: function(button) {
		if(button == null) {
			button = "left";
		}
		return this.buttonsStarted[this.buttonIndex(button)];
	}
	,released: function(button) {
		if(button == null) {
			button = "left";
		}
		return this.buttonsReleased[this.buttonIndex(button)];
	}
	,lock: function() {
		if(kha_input_Mouse.get().canLock()) {
			kha_input_Mouse.get().lock();
			this.locked = true;
		}
	}
	,unlock: function() {
		if(kha_input_Mouse.get().canLock()) {
			kha_input_Mouse.get().unlock();
			this.locked = false;
		}
	}
	,downListener: function(index,x,y) {
		this.buttonsDown[index] = true;
		this.buttonsStarted[index] = true;
		this.x = x;
		this.y = y;
		this.downVirtual(iron_system_Mouse.buttons[index]);
	}
	,upListener: function(index,x,y) {
		this.buttonsDown[index] = false;
		this.buttonsReleased[index] = true;
		this.x = x;
		this.y = y;
		this.upVirtual(iron_system_Mouse.buttons[index]);
	}
	,moveListener: function(x,y,movementX,movementY) {
		if(this.lastX == -1.0 && this.lastY == -1.0) {
			this.lastX = x;
			this.lastY = y;
		}
		if(this.locked) {
			this.movementX = movementX;
			this.movementY = movementY;
		} else {
			this.movementX = x - this.lastX;
			this.movementY = y - this.lastY;
		}
		this.lastX = x;
		this.lastY = y;
		this.x = x;
		this.y = y;
		this.moved = true;
	}
	,wheelListener: function(delta) {
		this.wheelDelta = delta;
	}
	,__class__: iron_system_Mouse
});
var iron_system_Pen = $hxClasses["iron.system.Pen"] = function() {
	this.lastPressure = 0.0;
	this.lastY = -1.0;
	this.lastX = -1.0;
	this.pressure = 0.0;
	this.movementY = 0.0;
	this.movementX = 0.0;
	this.moved = false;
	this.y = 0.0;
	this.x = 0.0;
	this.buttonsReleased = [false];
	this.buttonsStarted = [false];
	this.buttonsDown = [false];
	iron_system_VirtualInput.call(this);
	kha_input_Pen.get().notify($bind(this,this.downListener),$bind(this,this.upListener),$bind(this,this.moveListener));
};
iron_system_Pen.__name__ = ["iron","system","Pen"];
iron_system_Pen.__super__ = iron_system_VirtualInput;
iron_system_Pen.prototype = $extend(iron_system_VirtualInput.prototype,{
	buttonsDown: null
	,buttonsStarted: null
	,buttonsReleased: null
	,x: null
	,y: null
	,moved: null
	,movementX: null
	,movementY: null
	,pressure: null
	,lastX: null
	,lastY: null
	,lastPressure: null
	,endFrame: function() {
		this.buttonsStarted[0] = false;
		this.buttonsReleased[0] = false;
		this.moved = false;
		this.movementX = 0;
		this.movementY = 0;
	}
	,reset: function() {
		this.buttonsDown[0] = false;
		this.endFrame();
	}
	,buttonIndex: function(button) {
		return 0;
	}
	,down: function(button) {
		if(button == null) {
			button = "tip";
		}
		return this.buttonsDown[this.buttonIndex(button)];
	}
	,started: function(button) {
		if(button == null) {
			button = "tip";
		}
		return this.buttonsStarted[this.buttonIndex(button)];
	}
	,released: function(button) {
		if(button == null) {
			button = "tip";
		}
		return this.buttonsReleased[this.buttonIndex(button)];
	}
	,downListener: function(x,y,pressure) {
	}
	,upListener: function(x,y,pressure) {
	}
	,moveListener: function(x,y,pressure) {
		if(this.lastX == -1.0 && this.lastY == -1.0) {
			this.lastX = x;
			this.lastY = y;
			this.lastPressure = pressure;
		}
		this.movementX = x - this.lastX;
		this.movementY = y - this.lastY;
		this.lastX = x;
		this.lastY = y;
		this.x = x;
		this.y = y;
		this.moved = true;
		this.pressure = pressure;
		if(pressure > 0 && this.lastPressure == 0.0) {
			this.buttonsDown[0] = true;
			this.buttonsStarted[0] = true;
		}
		if(pressure == 0 && this.lastPressure > 0) {
			this.buttonsDown[0] = false;
			this.buttonsReleased[0] = true;
		}
		this.lastPressure = pressure;
	}
	,__class__: iron_system_Pen
});
var iron_system_Keyboard = $hxClasses["iron.system.Keyboard"] = function() {
	this.keysFrame = [];
	this.keysReleased = new haxe_ds_StringMap();
	this.keysStarted = new haxe_ds_StringMap();
	this.keysDown = new haxe_ds_StringMap();
	iron_system_VirtualInput.call(this);
	this.reset();
	kha_input_Keyboard.get().notify($bind(this,this.downListener),$bind(this,this.upListener),$bind(this,this.pressListener));
};
iron_system_Keyboard.__name__ = ["iron","system","Keyboard"];
iron_system_Keyboard.keyCode = function(key) {
	if(key == 32) {
		return "space";
	} else if(key == 8) {
		return "backspace";
	} else if(key == 9) {
		return "tab";
	} else if(key == 13) {
		return "enter";
	} else if(key == 16) {
		return "shift";
	} else if(key == 17) {
		return "ctrl";
	} else if(key == 18) {
		return "alt";
	} else if(key == 27) {
		return "esc";
	} else if(key == 46) {
		return "del";
	} else if(key == 38) {
		return "up";
	} else if(key == 40) {
		return "down";
	} else if(key == 37) {
		return "left";
	} else if(key == 39) {
		return "right";
	} else if(key == 1) {
		return "back";
	} else if(key == 48) {
		return "0";
	} else if(key == 49) {
		return "1";
	} else if(key == 50) {
		return "2";
	} else if(key == 51) {
		return "3";
	} else if(key == 52) {
		return "4";
	} else if(key == 53) {
		return "5";
	} else if(key == 54) {
		return "6";
	} else if(key == 55) {
		return "7";
	} else if(key == 56) {
		return "8";
	} else if(key == 57) {
		return "9";
	} else {
		return String.fromCharCode(key).toLowerCase();
	}
};
iron_system_Keyboard.__super__ = iron_system_VirtualInput;
iron_system_Keyboard.prototype = $extend(iron_system_VirtualInput.prototype,{
	keysDown: null
	,keysStarted: null
	,keysReleased: null
	,keysFrame: null
	,endFrame: function() {
		if(this.keysFrame.length > 0) {
			var _g = 0;
			var _g1 = this.keysFrame;
			while(_g < _g1.length) {
				var s = _g1[_g];
				++_g;
				var _this = this.keysStarted;
				if(__map_reserved[s] != null) {
					_this.setReserved(s,false);
				} else {
					_this.h[s] = false;
				}
				var _this1 = this.keysReleased;
				if(__map_reserved[s] != null) {
					_this1.setReserved(s,false);
				} else {
					_this1.h[s] = false;
				}
			}
			this.keysFrame.splice(0,this.keysFrame.length);
		}
	}
	,reset: function() {
		var _g = 0;
		var _g1 = iron_system_Keyboard.keys;
		while(_g < _g1.length) {
			var s = _g1[_g];
			++_g;
			var _this = this.keysDown;
			if(__map_reserved[s] != null) {
				_this.setReserved(s,false);
			} else {
				_this.h[s] = false;
			}
			var _this1 = this.keysStarted;
			if(__map_reserved[s] != null) {
				_this1.setReserved(s,false);
			} else {
				_this1.h[s] = false;
			}
			var _this2 = this.keysReleased;
			if(__map_reserved[s] != null) {
				_this2.setReserved(s,false);
			} else {
				_this2.h[s] = false;
			}
		}
		this.endFrame();
	}
	,down: function(key) {
		var _this = this.keysDown;
		if(__map_reserved[key] != null) {
			return _this.getReserved(key);
		} else {
			return _this.h[key];
		}
	}
	,started: function(key) {
		var _this = this.keysStarted;
		if(__map_reserved[key] != null) {
			return _this.getReserved(key);
		} else {
			return _this.h[key];
		}
	}
	,released: function(key) {
		var _this = this.keysReleased;
		if(__map_reserved[key] != null) {
			return _this.getReserved(key);
		} else {
			return _this.h[key];
		}
	}
	,downListener: function(code) {
		var s = iron_system_Keyboard.keyCode(code);
		this.keysFrame.push(s);
		var _this = this.keysStarted;
		if(__map_reserved[s] != null) {
			_this.setReserved(s,true);
		} else {
			_this.h[s] = true;
		}
		var _this1 = this.keysDown;
		if(__map_reserved[s] != null) {
			_this1.setReserved(s,true);
		} else {
			_this1.h[s] = true;
		}
		this.downVirtual(s);
	}
	,upListener: function(code) {
		var s = iron_system_Keyboard.keyCode(code);
		this.keysFrame.push(s);
		var _this = this.keysReleased;
		if(__map_reserved[s] != null) {
			_this.setReserved(s,true);
		} else {
			_this.h[s] = true;
		}
		var _this1 = this.keysDown;
		if(__map_reserved[s] != null) {
			_this1.setReserved(s,false);
		} else {
			_this1.h[s] = false;
		}
		this.upVirtual(s);
	}
	,pressListener: function($char) {
	}
	,__class__: iron_system_Keyboard
});
var iron_system_GamepadStick = $hxClasses["iron.system.GamepadStick"] = function() {
	this.movementY = 0.0;
	this.movementX = 0.0;
	this.moved = false;
	this.lastY = 0.0;
	this.lastX = 0.0;
	this.y = 0.0;
	this.x = 0.0;
};
iron_system_GamepadStick.__name__ = ["iron","system","GamepadStick"];
iron_system_GamepadStick.prototype = {
	x: null
	,y: null
	,lastX: null
	,lastY: null
	,moved: null
	,movementX: null
	,movementY: null
	,__class__: iron_system_GamepadStick
};
var iron_system_Gamepad = $hxClasses["iron.system.Gamepad"] = function(i,virtual) {
	if(virtual == null) {
		virtual = false;
	}
	this.connects = 0;
	this.num = 0;
	this.connected = false;
	this.rightStick = new iron_system_GamepadStick();
	this.leftStick = new iron_system_GamepadStick();
	this.buttonsFrame = [];
	this.buttonsReleased = [];
	this.buttonsStarted = [];
	this.buttonsDown = [];
	iron_system_VirtualInput.call(this);
	var _g = 0;
	var _g1 = iron_system_Gamepad.buttons;
	while(_g < _g1.length) {
		var s = _g1[_g];
		++_g;
		this.buttonsDown.push(0.0);
		this.buttonsStarted.push(false);
		this.buttonsReleased.push(false);
	}
	this.num = i;
	this.reset();
	if(virtual) {
		this.connected = true;
	} else {
		this.connect();
	}
};
iron_system_Gamepad.__name__ = ["iron","system","Gamepad"];
iron_system_Gamepad.keyCode = function(button) {
	return iron_system_Gamepad.buttons[button];
};
iron_system_Gamepad.__super__ = iron_system_VirtualInput;
iron_system_Gamepad.prototype = $extend(iron_system_VirtualInput.prototype,{
	buttonsDown: null
	,buttonsStarted: null
	,buttonsReleased: null
	,buttonsFrame: null
	,leftStick: null
	,rightStick: null
	,connected: null
	,num: null
	,connects: null
	,connect: function() {
		var gamepad = kha_input_Gamepad.get(this.num);
		if(gamepad == null) {
			return;
		}
		this.connected = true;
		gamepad.notify($bind(this,this.axisListener),$bind(this,this.buttonListener));
	}
	,endFrame: function() {
		if(this.buttonsFrame.length > 0) {
			var _g = 0;
			var _g1 = this.buttonsFrame;
			while(_g < _g1.length) {
				var i = _g1[_g];
				++_g;
				this.buttonsStarted[i] = false;
				this.buttonsReleased[i] = false;
			}
			this.buttonsFrame.splice(0,this.buttonsFrame.length);
		}
		this.leftStick.moved = false;
		this.leftStick.movementX = 0;
		this.leftStick.movementY = 0;
		this.rightStick.moved = false;
		this.rightStick.movementX = 0;
		this.rightStick.movementY = 0;
	}
	,reset: function() {
		var _g1 = 0;
		var _g = this.buttonsDown.length;
		while(_g1 < _g) {
			var i = _g1++;
			this.buttonsDown[i] = 0.0;
			this.buttonsStarted[i] = false;
			this.buttonsReleased[i] = false;
		}
		this.endFrame();
	}
	,buttonIndex: function(button) {
		var _g1 = 0;
		var _g = iron_system_Gamepad.buttons.length;
		while(_g1 < _g) {
			var i = _g1++;
			if(iron_system_Gamepad.buttons[i] == button) {
				return i;
			}
		}
		return 0;
	}
	,down: function(button) {
		return this.buttonsDown[this.buttonIndex(button)];
	}
	,started: function(button) {
		return this.buttonsStarted[this.buttonIndex(button)];
	}
	,released: function(button) {
		return this.buttonsReleased[this.buttonIndex(button)];
	}
	,axisListener: function(axis,value) {
		var stick = axis <= 1 ? this.leftStick : this.rightStick;
		if(axis == 0 || axis == 2) {
			stick.x = value;
			stick.movementX = stick.x - stick.lastX;
			stick.lastX = stick.x;
		} else if(axis == 1 || axis == 3) {
			stick.y = axis == 1 ? -value : value;
			stick.movementY = stick.y - stick.lastY;
			stick.lastY = stick.y;
		}
		stick.moved = true;
	}
	,buttonListener: function(button,value) {
		this.buttonsFrame.push(button);
		this.buttonsDown[button] = value;
		if(value > 0) {
			this.buttonsStarted[button] = true;
		} else {
			this.buttonsReleased[button] = true;
		}
		if(value == 0.0) {
			this.upVirtual(iron_system_Gamepad.buttons[button]);
		} else if(value == 1.0) {
			this.downVirtual(iron_system_Gamepad.buttons[button]);
		}
	}
	,__class__: iron_system_Gamepad
});
var iron_system_Sensor = $hxClasses["iron.system.Sensor"] = function() {
	this.z = 0.0;
	this.y = 0.0;
	this.x = 0.0;
	kha_input_Sensor.get(kha_input_SensorType.Accelerometer).notify($bind(this,this.listener));
};
iron_system_Sensor.__name__ = ["iron","system","Sensor"];
iron_system_Sensor.prototype = {
	x: null
	,y: null
	,z: null
	,listener: function(x,y,z) {
		this.x = x;
		this.y = y;
		this.z = z;
	}
	,__class__: iron_system_Sensor
};
var iron_system_Storage = $hxClasses["iron.system.Storage"] = function() { };
iron_system_Storage.__name__ = ["iron","system","Storage"];
iron_system_Storage.__properties__ = {set_data:"set_data",get_data:"get_data"};
iron_system_Storage.init = function() {
	iron_system_Storage.file = kha_Storage.defaultFile();
	if(iron_system_Storage.file != null) {
		iron_system_Storage._data = iron_system_Storage.file.readObject();
		if(iron_system_Storage._data == null) {
			iron_system_Storage._data = { };
		}
		iron_system_Storage.save();
	}
};
iron_system_Storage.save = function() {
	if(iron_system_Storage.file != null) {
		iron_system_Storage.file.writeObject(iron_system_Storage._data);
	}
};
iron_system_Storage.clear = function() {
	iron_system_Storage._data = { };
};
iron_system_Storage.set_data = function(d) {
	return iron_system_Storage._data = d;
};
iron_system_Storage.get_data = function() {
	if(iron_system_Storage.file == null) {
		iron_system_Storage.init();
	}
	return iron_system_Storage._data;
};
var iron_system_Tween = $hxClasses["iron.system.Tween"] = function() { };
iron_system_Tween.__name__ = ["iron","system","Tween"];
iron_system_Tween.to = function(anim) {
	anim._time = 0;
	anim.isPlaying = anim.delay != null && anim.delay > 0.0 ? false : true;
	if(anim.ease == null) {
		anim.ease = 0;
	}
	if(anim.target != null && anim.props != null) {
		anim._comps = [];
		anim._x = [];
		anim._y = [];
		anim._z = [];
		anim._w = [];
		anim._normalize = [];
		var _g = 0;
		var _g1 = Reflect.fields(anim.props);
		while(_g < _g1.length) {
			var p = _g1[_g];
			++_g;
			var val = Reflect.getProperty(anim.target,p);
			if(js_Boot.__instanceof(val,iron_math_Vec4) || js_Boot.__instanceof(val,iron_math_Quat)) {
				anim._comps.push(4);
				anim._x.push(val.x);
				anim._y.push(val.y);
				anim._z.push(val.z);
				anim._w.push(val.w);
				anim._normalize.push(js_Boot.__instanceof(val,iron_math_Quat));
			} else {
				anim._comps.push(1);
				anim._x.push(val);
				anim._y.push(0);
				anim._z.push(0);
				anim._w.push(0);
			}
		}
	}
	iron_system_Tween.anims.push(anim);
	return anim;
};
iron_system_Tween.timer = function(delay,done) {
	return iron_system_Tween.to({ target : null, props : null, duration : 0, delay : delay, done : done});
};
iron_system_Tween.stop = function(anim) {
	anim.isPlaying = false;
	HxOverrides.remove(iron_system_Tween.anims,anim);
};
iron_system_Tween.reset = function() {
	iron_system_Tween.anims = [];
};
iron_system_Tween.update = function() {
	var d = 0.016666666666666666 * iron_system_Time.scale;
	var i = iron_system_Tween.anims.length;
	while(i-- > 0 && iron_system_Tween.anims.length > 0) {
		var a = iron_system_Tween.anims[i];
		if(a.delay > 0) {
			a.delay -= d;
			if(a.delay > 0) {
				continue;
			}
		}
		a._time += d;
		a.isPlaying = a._time < a.duration;
		if(a.target != null) {
			if(js_Boot.__instanceof(a.target,iron_object_Transform)) {
				a.target.dirty = true;
			}
			var ps = Reflect.fields(a.props);
			var _g1 = 0;
			var _g = ps.length;
			while(_g1 < _g) {
				var i1 = _g1++;
				var p = ps[i1];
				var k = a._time / a.duration;
				if(k > 1) {
					k = 1;
				}
				if(a._comps[i1] == 1) {
					var fromVal = a._x[i1];
					var toVal = Reflect.getProperty(a.props,p);
					var val = fromVal + (toVal - fromVal) * iron_system_Tween.eases[a.ease](k);
					Reflect.setProperty(a.target,p,val);
				} else {
					var obj = Reflect.getProperty(a.props,p);
					var toX = Reflect.getProperty(obj,"x");
					var toY = Reflect.getProperty(obj,"y");
					var toZ = Reflect.getProperty(obj,"z");
					var toW = Reflect.getProperty(obj,"w");
					if(a._normalize[i1]) {
						var qdot = a._x[i1] * toX + a._y[i1] * toY + a._z[i1] * toZ + a._w[i1] * toW;
						if(qdot < 0.0) {
							toX = -toX;
							toY = -toY;
							toZ = -toZ;
							toW = -toW;
						}
					}
					var x = a._x[i1] + (toX - a._x[i1]) * iron_system_Tween.eases[a.ease](k);
					var y = a._y[i1] + (toY - a._y[i1]) * iron_system_Tween.eases[a.ease](k);
					var z = a._z[i1] + (toZ - a._z[i1]) * iron_system_Tween.eases[a.ease](k);
					var w = a._w[i1] + (toW - a._w[i1]) * iron_system_Tween.eases[a.ease](k);
					if(a._normalize[i1]) {
						var l = Math.sqrt(x * x + y * y + z * z + w * w);
						if(l > 0.0) {
							l = 1.0 / l;
							x *= l;
							y *= l;
							z *= l;
							w *= l;
						}
					}
					var t = Reflect.getProperty(a.target,p);
					Reflect.setProperty(t,"x",x);
					Reflect.setProperty(t,"y",y);
					Reflect.setProperty(t,"z",z);
					Reflect.setProperty(t,"w",w);
				}
			}
		}
		if(a.isPlaying) {
			if(a.tick != null) {
				a.tick();
			}
		} else {
			iron_system_Tween.anims.splice(i,1);
			--i;
			a.isPlaying = false;
			if(a.done != null) {
				a.done();
			}
		}
	}
};
iron_system_Tween.easeLinear = function(k) {
	return k;
};
iron_system_Tween.easeSineIn = function(k) {
	if(k == 0) {
		return 0;
	} else if(k == 1) {
		return 1;
	} else {
		return 1 - Math.cos(k * Math.PI / 2);
	}
};
iron_system_Tween.easeSineOut = function(k) {
	if(k == 0) {
		return 0;
	} else if(k == 1) {
		return 1;
	} else {
		return Math.sin(k * (Math.PI * 0.5));
	}
};
iron_system_Tween.easeSineInOut = function(k) {
	if(k == 0) {
		return 0;
	} else if(k == 1) {
		return 1;
	} else {
		return -0.5 * (Math.cos(Math.PI * k) - 1);
	}
};
iron_system_Tween.easeQuadIn = function(k) {
	return k * k;
};
iron_system_Tween.easeQuadOut = function(k) {
	return -k * (k - 2);
};
iron_system_Tween.easeQuadInOut = function(k) {
	if(k < 0.5) {
		return 2 * k * k;
	} else {
		return -2 * (--k * k) + 1;
	}
};
iron_system_Tween.easeCubicIn = function(k) {
	return k * k * k;
};
iron_system_Tween.easeCubicOut = function(k) {
	return --k * k * k + 1;
};
iron_system_Tween.easeCubicInOut = function(k) {
	if((k *= 2) < 1) {
		return 0.5 * k * k * k;
	} else {
		return 0.5 * ((k -= 2) * k * k + 2);
	}
};
iron_system_Tween.easeQuartIn = function(k) {
	return (k *= k) * k;
};
iron_system_Tween.easeQuartOut = function(k) {
	k = --k * k;
	return 1 - k * k;
};
iron_system_Tween.easeQuartInOut = function(k) {
	if((k *= 2) < 1) {
		return 0.5 * (k *= k) * k;
	} else {
		k = (k -= 2) * k;
		return -0.5 * (k * k - 2);
	}
};
iron_system_Tween.easeQuintIn = function(k) {
	return k * (k *= k) * k;
};
iron_system_Tween.easeQuintOut = function(k) {
	return --k * (k *= k) * k + 1;
};
iron_system_Tween.easeQuintInOut = function(k) {
	if((k *= 2) < 1) {
		return 0.5 * k * (k *= k) * k;
	} else {
		return 0.5 * (k -= 2) * (k *= k) * k + 1;
	}
};
iron_system_Tween.easeExpoIn = function(k) {
	if(k == 0) {
		return 0;
	} else {
		return Math.pow(2,10 * (k - 1));
	}
};
iron_system_Tween.easeExpoOut = function(k) {
	if(k == 1) {
		return 1;
	} else {
		return 1 - Math.pow(2,-10 * k);
	}
};
iron_system_Tween.easeExpoInOut = function(k) {
	if(k == 0) {
		return 0;
	}
	if(k == 1) {
		return 1;
	}
	if((k /= 0.5) < 1.0) {
		return 0.5 * Math.pow(2,10 * (k - 1));
	}
	return 0.5 * (2 - Math.pow(2,-10 * --k));
};
iron_system_Tween.easeCircIn = function(k) {
	return -(Math.sqrt(1 - k * k) - 1);
};
iron_system_Tween.easeCircOut = function(k) {
	return Math.sqrt(1 - (k - 1) * (k - 1));
};
iron_system_Tween.easeCircInOut = function(k) {
	if(k <= .5) {
		return (Math.sqrt(1 - k * k * 4) - 1) / -2;
	} else {
		return (Math.sqrt(1 - (k * 2 - 2) * (k * 2 - 2)) + 1) / 2;
	}
};
iron_system_Tween.easeBackIn = function(k) {
	if(k == 0) {
		return 0;
	} else if(k == 1) {
		return 1;
	} else {
		return k * k * (2.70158 * k - 1.70158);
	}
};
iron_system_Tween.easeBackOut = function(k) {
	if(k == 0) {
		return 0;
	} else if(k == 1) {
		return 1;
	} else {
		return --k * k * (2.70158 * k + 1.70158) + 1;
	}
};
iron_system_Tween.easeBackInOut = function(k) {
	if(k == 0) {
		return 0;
	} else if(k == 1) {
		return 1;
	} else if((k *= 2) < 1) {
		return 0.5 * (k * k * (3.5949095 * k - 2.5949095));
	} else {
		return 0.5 * ((k -= 2) * k * (3.5949095 * k + 2.5949095) + 2);
	}
};
var js__$Boot_HaxeError = $hxClasses["js._Boot.HaxeError"] = function(val) {
	Error.call(this);
	this.val = val;
	this.message = String(val);
	if(Error.captureStackTrace) {
		Error.captureStackTrace(this,js__$Boot_HaxeError);
	}
};
js__$Boot_HaxeError.__name__ = ["js","_Boot","HaxeError"];
js__$Boot_HaxeError.wrap = function(val) {
	if((val instanceof Error)) {
		return val;
	} else {
		return new js__$Boot_HaxeError(val);
	}
};
js__$Boot_HaxeError.__super__ = Error;
js__$Boot_HaxeError.prototype = $extend(Error.prototype,{
	val: null
	,__class__: js__$Boot_HaxeError
});
var js_Boot = $hxClasses["js.Boot"] = function() { };
js_Boot.__name__ = ["js","Boot"];
js_Boot.__unhtml = function(s) {
	return s.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");
};
js_Boot.__trace = function(v,i) {
	var msg = i != null ? i.fileName + ":" + i.lineNumber + ": " : "";
	msg += js_Boot.__string_rec(v,"");
	if(i != null && i.customParams != null) {
		var _g = 0;
		var _g1 = i.customParams;
		while(_g < _g1.length) {
			var v1 = _g1[_g];
			++_g;
			msg += "," + js_Boot.__string_rec(v1,"");
		}
	}
	var d;
	var tmp;
	if(typeof(document) != "undefined") {
		d = document.getElementById("haxe:trace");
		tmp = d != null;
	} else {
		tmp = false;
	}
	if(tmp) {
		d.innerHTML += js_Boot.__unhtml(msg) + "<br/>";
	} else if(typeof console != "undefined" && console.log != null) {
		console.log(msg);
	}
};
js_Boot.getClass = function(o) {
	if((o instanceof Array) && o.__enum__ == null) {
		return Array;
	} else {
		var cl = o.__class__;
		if(cl != null) {
			return cl;
		}
		var name = js_Boot.__nativeClassName(o);
		if(name != null) {
			return js_Boot.__resolveNativeClass(name);
		}
		return null;
	}
};
js_Boot.__string_rec = function(o,s) {
	if(o == null) {
		return "null";
	}
	if(s.length >= 5) {
		return "<...>";
	}
	var t = typeof(o);
	if(t == "function" && (o.__name__ || o.__ename__)) {
		t = "object";
	}
	switch(t) {
	case "function":
		return "<function>";
	case "object":
		if(o instanceof Array) {
			if(o.__enum__) {
				if(o.length == 2) {
					return o[0];
				}
				var str = o[0] + "(";
				s += "\t";
				var _g1 = 2;
				var _g = o.length;
				while(_g1 < _g) {
					var i = _g1++;
					if(i != 2) {
						str += "," + js_Boot.__string_rec(o[i],s);
					} else {
						str += js_Boot.__string_rec(o[i],s);
					}
				}
				return str + ")";
			}
			var l = o.length;
			var i1;
			var str1 = "[";
			s += "\t";
			var _g11 = 0;
			var _g2 = l;
			while(_g11 < _g2) {
				var i2 = _g11++;
				str1 += (i2 > 0 ? "," : "") + js_Boot.__string_rec(o[i2],s);
			}
			str1 += "]";
			return str1;
		}
		var tostr;
		try {
			tostr = o.toString;
		} catch( e ) {
			return "???";
		}
		if(tostr != null && tostr != Object.toString && typeof(tostr) == "function") {
			var s2 = o.toString();
			if(s2 != "[object Object]") {
				return s2;
			}
		}
		var k = null;
		var str2 = "{\n";
		s += "\t";
		var hasp = o.hasOwnProperty != null;
		for( var k in o ) {
		if(hasp && !o.hasOwnProperty(k)) {
			continue;
		}
		if(k == "prototype" || k == "__class__" || k == "__super__" || k == "__interfaces__" || k == "__properties__") {
			continue;
		}
		if(str2.length != 2) {
			str2 += ", \n";
		}
		str2 += s + k + " : " + js_Boot.__string_rec(o[k],s);
		}
		s = s.substring(1);
		str2 += "\n" + s + "}";
		return str2;
	case "string":
		return o;
	default:
		return String(o);
	}
};
js_Boot.__interfLoop = function(cc,cl) {
	if(cc == null) {
		return false;
	}
	if(cc == cl) {
		return true;
	}
	var intf = cc.__interfaces__;
	if(intf != null) {
		var _g1 = 0;
		var _g = intf.length;
		while(_g1 < _g) {
			var i = _g1++;
			var i1 = intf[i];
			if(i1 == cl || js_Boot.__interfLoop(i1,cl)) {
				return true;
			}
		}
	}
	return js_Boot.__interfLoop(cc.__super__,cl);
};
js_Boot.__instanceof = function(o,cl) {
	if(cl == null) {
		return false;
	}
	switch(cl) {
	case Array:
		if((o instanceof Array)) {
			return o.__enum__ == null;
		} else {
			return false;
		}
		break;
	case Bool:
		return typeof(o) == "boolean";
	case Dynamic:
		return true;
	case Float:
		return typeof(o) == "number";
	case Int:
		if(typeof(o) == "number") {
			return (o|0) === o;
		} else {
			return false;
		}
		break;
	case String:
		return typeof(o) == "string";
	default:
		if(o != null) {
			if(typeof(cl) == "function") {
				if(o instanceof cl) {
					return true;
				}
				if(js_Boot.__interfLoop(js_Boot.getClass(o),cl)) {
					return true;
				}
			} else if(typeof(cl) == "object" && js_Boot.__isNativeObj(cl)) {
				if(o instanceof cl) {
					return true;
				}
			}
		} else {
			return false;
		}
		if(cl == Class ? o.__name__ != null : false) {
			return true;
		}
		if(cl == Enum ? o.__ename__ != null : false) {
			return true;
		}
		return o.__enum__ == cl;
	}
};
js_Boot.__cast = function(o,t) {
	if(js_Boot.__instanceof(o,t)) {
		return o;
	} else {
		throw new js__$Boot_HaxeError("Cannot cast " + Std.string(o) + " to " + Std.string(t));
	}
};
js_Boot.__nativeClassName = function(o) {
	var name = js_Boot.__toStr.call(o).slice(8,-1);
	if(name == "Object" || name == "Function" || name == "Math" || name == "JSON") {
		return null;
	}
	return name;
};
js_Boot.__isNativeObj = function(o) {
	return js_Boot.__nativeClassName(o) != null;
};
js_Boot.__resolveNativeClass = function(name) {
	return $global[name];
};
var js_html_compat_ArrayBuffer = $hxClasses["js.html.compat.ArrayBuffer"] = function(a) {
	if((a instanceof Array) && a.__enum__ == null) {
		this.a = a;
		this.byteLength = a.length;
	} else {
		var len = a;
		this.a = [];
		var _g1 = 0;
		var _g = len;
		while(_g1 < _g) {
			var i = _g1++;
			this.a[i] = 0;
		}
		this.byteLength = len;
	}
};
js_html_compat_ArrayBuffer.__name__ = ["js","html","compat","ArrayBuffer"];
js_html_compat_ArrayBuffer.sliceImpl = function(begin,end) {
	var u = new Uint8Array(this,begin,end == null ? null : end - begin);
	var result = new ArrayBuffer(u.byteLength);
	var resultArray = new Uint8Array(result);
	resultArray.set(u);
	return result;
};
js_html_compat_ArrayBuffer.prototype = {
	byteLength: null
	,a: null
	,slice: function(begin,end) {
		return new js_html_compat_ArrayBuffer(this.a.slice(begin,end));
	}
	,__class__: js_html_compat_ArrayBuffer
};
var js_html_compat_DataView = $hxClasses["js.html.compat.DataView"] = function(buffer,byteOffset,byteLength) {
	this.buf = buffer;
	this.offset = byteOffset == null ? 0 : byteOffset;
	this.length = byteLength == null ? buffer.byteLength - this.offset : byteLength;
	if(this.offset < 0 || this.length < 0 || this.offset + this.length > buffer.byteLength) {
		throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds);
	}
	this.byteLength = this.length;
	this.byteOffset = this.offset;
	this.buffer = this.buf;
};
js_html_compat_DataView.__name__ = ["js","html","compat","DataView"];
js_html_compat_DataView.prototype = {
	buf: null
	,offset: null
	,length: null
	,byteLength: null
	,byteOffset: null
	,buffer: null
	,getInt8: function(byteOffset) {
		var v = this.buf.a[this.offset + byteOffset];
		if(v >= 128) {
			return v - 256;
		} else {
			return v;
		}
	}
	,getUint8: function(byteOffset) {
		return this.buf.a[this.offset + byteOffset];
	}
	,getInt16: function(byteOffset,littleEndian) {
		var v = this.getUint16(byteOffset,littleEndian);
		if(v >= 32768) {
			return v - 65536;
		} else {
			return v;
		}
	}
	,getUint16: function(byteOffset,littleEndian) {
		if(littleEndian) {
			return this.buf.a[this.offset + byteOffset] | this.buf.a[this.offset + byteOffset + 1] << 8;
		} else {
			return this.buf.a[this.offset + byteOffset] << 8 | this.buf.a[this.offset + byteOffset + 1];
		}
	}
	,getInt32: function(byteOffset,littleEndian) {
		var p = this.offset + byteOffset;
		var a = this.buf.a[p++];
		var b = this.buf.a[p++];
		var c = this.buf.a[p++];
		var d = this.buf.a[p++];
		if(littleEndian) {
			return a | b << 8 | c << 16 | d << 24;
		} else {
			return d | c << 8 | b << 16 | a << 24;
		}
	}
	,getUint32: function(byteOffset,littleEndian) {
		var v = this.getInt32(byteOffset,littleEndian);
		if(v < 0) {
			return v + 4294967296.;
		} else {
			return v;
		}
	}
	,getFloat32: function(byteOffset,littleEndian) {
		return haxe_io_FPHelper.i32ToFloat(this.getInt32(byteOffset,littleEndian));
	}
	,getFloat64: function(byteOffset,littleEndian) {
		var a = this.getInt32(byteOffset,littleEndian);
		var b = this.getInt32(byteOffset + 4,littleEndian);
		return haxe_io_FPHelper.i64ToDouble(littleEndian ? a : b,littleEndian ? b : a);
	}
	,setInt8: function(byteOffset,value) {
		this.buf.a[byteOffset + this.offset] = value < 0 ? value + 128 & 255 : value & 255;
	}
	,setUint8: function(byteOffset,value) {
		this.buf.a[byteOffset + this.offset] = value & 255;
	}
	,setInt16: function(byteOffset,value,littleEndian) {
		this.setUint16(byteOffset,value < 0 ? value + 65536 : value,littleEndian);
	}
	,setUint16: function(byteOffset,value,littleEndian) {
		var p = byteOffset + this.offset;
		if(littleEndian) {
			this.buf.a[p] = value & 255;
			this.buf.a[p++] = value >> 8 & 255;
		} else {
			this.buf.a[p++] = value >> 8 & 255;
			this.buf.a[p] = value & 255;
		}
	}
	,setInt32: function(byteOffset,value,littleEndian) {
		this.setUint32(byteOffset,value,littleEndian);
	}
	,setUint32: function(byteOffset,value,littleEndian) {
		var p = byteOffset + this.offset;
		if(littleEndian) {
			this.buf.a[p++] = value & 255;
			this.buf.a[p++] = value >> 8 & 255;
			this.buf.a[p++] = value >> 16 & 255;
			this.buf.a[p++] = value >>> 24;
		} else {
			this.buf.a[p++] = value >>> 24;
			this.buf.a[p++] = value >> 16 & 255;
			this.buf.a[p++] = value >> 8 & 255;
			this.buf.a[p++] = value & 255;
		}
	}
	,setFloat32: function(byteOffset,value,littleEndian) {
		this.setUint32(byteOffset,haxe_io_FPHelper.floatToI32(value),littleEndian);
	}
	,setFloat64: function(byteOffset,value,littleEndian) {
		var i64 = haxe_io_FPHelper.doubleToI64(value);
		if(littleEndian) {
			this.setUint32(byteOffset,i64.low);
			this.setUint32(byteOffset,i64.high);
		} else {
			this.setUint32(byteOffset,i64.high);
			this.setUint32(byteOffset,i64.low);
		}
	}
	,__class__: js_html_compat_DataView
};
var js_html_compat_Float32Array = $hxClasses["js.html.compat.Float32Array"] = function() { };
js_html_compat_Float32Array.__name__ = ["js","html","compat","Float32Array"];
js_html_compat_Float32Array._new = function(arg1,offset,length) {
	var arr;
	if(typeof(arg1) == "number") {
		arr = [];
		var _g1 = 0;
		var _g = arg1;
		while(_g1 < _g) {
			var i = _g1++;
			arr[i] = 0;
		}
		arr.byteLength = arr.length << 2;
		arr.byteOffset = 0;
		var _g2 = [];
		var _g21 = 0;
		var _g11 = arr.length << 2;
		while(_g21 < _g11) {
			var i1 = _g21++;
			_g2.push(0);
		}
		arr.buffer = new js_html_compat_ArrayBuffer(_g2);
	} else if(js_Boot.__instanceof(arg1,js_html_compat_ArrayBuffer)) {
		var buffer = arg1;
		if(offset == null) {
			offset = 0;
		}
		if(length == null) {
			length = buffer.byteLength - offset >> 2;
		}
		arr = [];
		var _g12 = 0;
		var _g3 = length;
		while(_g12 < _g3) {
			var i2 = _g12++;
			var val = buffer.a[offset++] | buffer.a[offset++] << 8 | buffer.a[offset++] << 16 | buffer.a[offset++] << 24;
			arr.push(haxe_io_FPHelper.i32ToFloat(val));
		}
		arr.byteLength = arr.length << 2;
		arr.byteOffset = offset;
		arr.buffer = buffer;
	} else if((arg1 instanceof Array) && arg1.__enum__ == null) {
		arr = arg1.slice();
		var buffer1 = [];
		var _g4 = 0;
		while(_g4 < arr.length) {
			var f = arr[_g4];
			++_g4;
			var i3 = haxe_io_FPHelper.floatToI32(f);
			buffer1.push(i3 & 255);
			buffer1.push(i3 >> 8 & 255);
			buffer1.push(i3 >> 16 & 255);
			buffer1.push(i3 >>> 24);
		}
		arr.byteLength = arr.length << 2;
		arr.byteOffset = 0;
		arr.buffer = new js_html_compat_ArrayBuffer(buffer1);
	} else {
		throw new js__$Boot_HaxeError("TODO " + Std.string(arg1));
	}
	arr.subarray = js_html_compat_Float32Array._subarray;
	arr.set = js_html_compat_Float32Array._set;
	return arr;
};
js_html_compat_Float32Array._set = function(arg,offset) {
	if(js_Boot.__instanceof(arg.buffer,js_html_compat_ArrayBuffer)) {
		var a = arg;
		if(arg.byteLength + offset > this.byteLength) {
			throw new js__$Boot_HaxeError("set() outside of range");
		}
		var _g1 = 0;
		var _g = arg.byteLength;
		while(_g1 < _g) {
			var i = _g1++;
			this[i + offset] = a[i];
		}
	} else if((arg instanceof Array) && arg.__enum__ == null) {
		var a1 = arg;
		if(a1.length + offset > this.byteLength) {
			throw new js__$Boot_HaxeError("set() outside of range");
		}
		var _g11 = 0;
		var _g2 = a1.length;
		while(_g11 < _g2) {
			var i1 = _g11++;
			this[i1 + offset] = a1[i1];
		}
	} else {
		throw new js__$Boot_HaxeError("TODO");
	}
};
js_html_compat_Float32Array._subarray = function(start,end) {
	var a = js_html_compat_Float32Array._new(this.slice(start,end));
	a.byteOffset = start * 4;
	return a;
};
var js_html_compat_Uint8Array = $hxClasses["js.html.compat.Uint8Array"] = function() { };
js_html_compat_Uint8Array.__name__ = ["js","html","compat","Uint8Array"];
js_html_compat_Uint8Array._new = function(arg1,offset,length) {
	var arr;
	if(typeof(arg1) == "number") {
		arr = [];
		var _g1 = 0;
		var _g = arg1;
		while(_g1 < _g) {
			var i = _g1++;
			arr[i] = 0;
		}
		arr.byteLength = arr.length;
		arr.byteOffset = 0;
		arr.buffer = new js_html_compat_ArrayBuffer(arr);
	} else if(js_Boot.__instanceof(arg1,js_html_compat_ArrayBuffer)) {
		var buffer = arg1;
		if(offset == null) {
			offset = 0;
		}
		if(length == null) {
			length = buffer.byteLength - offset;
		}
		if(offset == 0) {
			arr = buffer.a;
		} else {
			arr = buffer.a.slice(offset,offset + length);
		}
		arr.byteLength = arr.length;
		arr.byteOffset = offset;
		arr.buffer = buffer;
	} else if((arg1 instanceof Array) && arg1.__enum__ == null) {
		arr = arg1.slice();
		arr.byteLength = arr.length;
		arr.byteOffset = 0;
		arr.buffer = new js_html_compat_ArrayBuffer(arr);
	} else {
		throw new js__$Boot_HaxeError("TODO " + Std.string(arg1));
	}
	arr.subarray = js_html_compat_Uint8Array._subarray;
	arr.set = js_html_compat_Uint8Array._set;
	return arr;
};
js_html_compat_Uint8Array._set = function(arg,offset) {
	if(js_Boot.__instanceof(arg.buffer,js_html_compat_ArrayBuffer)) {
		var a = arg;
		if(arg.byteLength + offset > this.byteLength) {
			throw new js__$Boot_HaxeError("set() outside of range");
		}
		var _g1 = 0;
		var _g = arg.byteLength;
		while(_g1 < _g) {
			var i = _g1++;
			this[i + offset] = a[i];
		}
	} else if((arg instanceof Array) && arg.__enum__ == null) {
		var a1 = arg;
		if(a1.length + offset > this.byteLength) {
			throw new js__$Boot_HaxeError("set() outside of range");
		}
		var _g11 = 0;
		var _g2 = a1.length;
		while(_g11 < _g2) {
			var i1 = _g11++;
			this[i1 + offset] = a1[i1];
		}
	} else {
		throw new js__$Boot_HaxeError("TODO");
	}
};
js_html_compat_Uint8Array._subarray = function(start,end) {
	var a = js_html_compat_Uint8Array._new(this.slice(start,end));
	a.byteOffset = start;
	return a;
};
var kha__$Assets_ImageList = $hxClasses["kha._Assets.ImageList"] = function() {
	this.names = ["brdf","hosek_radiance","hosek_radiance_0","hosek_radiance_1","hosek_radiance_2","hosek_radiance_3","hosek_radiance_4","hosek_radiance_5","hosek_radiance_6","hosek_radiance_7","noise8"];
	this.noise8Description = { files : ["noise8.png"], original_height : 8, type : "image", original_width : 8, name : "noise8"};
	this.noise8Name = "noise8";
	this.noise8 = null;
	this.hosek_radiance_7Description = { files : ["hosek_radiance_7.hdr"], original_height : 1, type : "image", original_width : 1, name : "hosek_radiance_7"};
	this.hosek_radiance_7Name = "hosek_radiance_7";
	this.hosek_radiance_7 = null;
	this.hosek_radiance_6Description = { files : ["hosek_radiance_6.hdr"], original_height : 1, type : "image", original_width : 2, name : "hosek_radiance_6"};
	this.hosek_radiance_6Name = "hosek_radiance_6";
	this.hosek_radiance_6 = null;
	this.hosek_radiance_5Description = { files : ["hosek_radiance_5.hdr"], original_height : 2, type : "image", original_width : 4, name : "hosek_radiance_5"};
	this.hosek_radiance_5Name = "hosek_radiance_5";
	this.hosek_radiance_5 = null;
	this.hosek_radiance_4Description = { files : ["hosek_radiance_4.hdr"], original_height : 4, type : "image", original_width : 8, name : "hosek_radiance_4"};
	this.hosek_radiance_4Name = "hosek_radiance_4";
	this.hosek_radiance_4 = null;
	this.hosek_radiance_3Description = { files : ["hosek_radiance_3.hdr"], original_height : 8, type : "image", original_width : 16, name : "hosek_radiance_3"};
	this.hosek_radiance_3Name = "hosek_radiance_3";
	this.hosek_radiance_3 = null;
	this.hosek_radiance_2Description = { files : ["hosek_radiance_2.hdr"], original_height : 16, type : "image", original_width : 32, name : "hosek_radiance_2"};
	this.hosek_radiance_2Name = "hosek_radiance_2";
	this.hosek_radiance_2 = null;
	this.hosek_radiance_1Description = { files : ["hosek_radiance_1.hdr"], original_height : 32, type : "image", original_width : 64, name : "hosek_radiance_1"};
	this.hosek_radiance_1Name = "hosek_radiance_1";
	this.hosek_radiance_1 = null;
	this.hosek_radiance_0Description = { files : ["hosek_radiance_0.hdr"], original_height : 64, type : "image", original_width : 128, name : "hosek_radiance_0"};
	this.hosek_radiance_0Name = "hosek_radiance_0";
	this.hosek_radiance_0 = null;
	this.hosek_radianceDescription = { files : ["hosek_radiance.hdr"], original_height : 128, type : "image", original_width : 256, name : "hosek_radiance"};
	this.hosek_radianceName = "hosek_radiance";
	this.hosek_radiance = null;
	this.brdfDescription = { files : ["brdf.png"], original_height : 256, type : "image", original_width : 256, name : "brdf"};
	this.brdfName = "brdf";
	this.brdf = null;
};
kha__$Assets_ImageList.__name__ = ["kha","_Assets","ImageList"];
kha__$Assets_ImageList.prototype = {
	get: function(name) {
		return Reflect.field(this,name);
	}
	,brdf: null
	,brdfName: null
	,brdfDescription: null
	,brdfLoad: function(done) {
		kha_Assets.loadImage("brdf",function(image) {
			done();
		});
	}
	,brdfUnload: function() {
		this.brdf.unload();
		this.brdf = null;
	}
	,hosek_radiance: null
	,hosek_radianceName: null
	,hosek_radianceDescription: null
	,hosek_radianceLoad: function(done) {
		kha_Assets.loadImage("hosek_radiance",function(image) {
			done();
		});
	}
	,hosek_radianceUnload: function() {
		this.hosek_radiance.unload();
		this.hosek_radiance = null;
	}
	,hosek_radiance_0: null
	,hosek_radiance_0Name: null
	,hosek_radiance_0Description: null
	,hosek_radiance_0Load: function(done) {
		kha_Assets.loadImage("hosek_radiance_0",function(image) {
			done();
		});
	}
	,hosek_radiance_0Unload: function() {
		this.hosek_radiance_0.unload();
		this.hosek_radiance_0 = null;
	}
	,hosek_radiance_1: null
	,hosek_radiance_1Name: null
	,hosek_radiance_1Description: null
	,hosek_radiance_1Load: function(done) {
		kha_Assets.loadImage("hosek_radiance_1",function(image) {
			done();
		});
	}
	,hosek_radiance_1Unload: function() {
		this.hosek_radiance_1.unload();
		this.hosek_radiance_1 = null;
	}
	,hosek_radiance_2: null
	,hosek_radiance_2Name: null
	,hosek_radiance_2Description: null
	,hosek_radiance_2Load: function(done) {
		kha_Assets.loadImage("hosek_radiance_2",function(image) {
			done();
		});
	}
	,hosek_radiance_2Unload: function() {
		this.hosek_radiance_2.unload();
		this.hosek_radiance_2 = null;
	}
	,hosek_radiance_3: null
	,hosek_radiance_3Name: null
	,hosek_radiance_3Description: null
	,hosek_radiance_3Load: function(done) {
		kha_Assets.loadImage("hosek_radiance_3",function(image) {
			done();
		});
	}
	,hosek_radiance_3Unload: function() {
		this.hosek_radiance_3.unload();
		this.hosek_radiance_3 = null;
	}
	,hosek_radiance_4: null
	,hosek_radiance_4Name: null
	,hosek_radiance_4Description: null
	,hosek_radiance_4Load: function(done) {
		kha_Assets.loadImage("hosek_radiance_4",function(image) {
			done();
		});
	}
	,hosek_radiance_4Unload: function() {
		this.hosek_radiance_4.unload();
		this.hosek_radiance_4 = null;
	}
	,hosek_radiance_5: null
	,hosek_radiance_5Name: null
	,hosek_radiance_5Description: null
	,hosek_radiance_5Load: function(done) {
		kha_Assets.loadImage("hosek_radiance_5",function(image) {
			done();
		});
	}
	,hosek_radiance_5Unload: function() {
		this.hosek_radiance_5.unload();
		this.hosek_radiance_5 = null;
	}
	,hosek_radiance_6: null
	,hosek_radiance_6Name: null
	,hosek_radiance_6Description: null
	,hosek_radiance_6Load: function(done) {
		kha_Assets.loadImage("hosek_radiance_6",function(image) {
			done();
		});
	}
	,hosek_radiance_6Unload: function() {
		this.hosek_radiance_6.unload();
		this.hosek_radiance_6 = null;
	}
	,hosek_radiance_7: null
	,hosek_radiance_7Name: null
	,hosek_radiance_7Description: null
	,hosek_radiance_7Load: function(done) {
		kha_Assets.loadImage("hosek_radiance_7",function(image) {
			done();
		});
	}
	,hosek_radiance_7Unload: function() {
		this.hosek_radiance_7.unload();
		this.hosek_radiance_7 = null;
	}
	,noise8: null
	,noise8Name: null
	,noise8Description: null
	,noise8Load: function(done) {
		kha_Assets.loadImage("noise8",function(image) {
			done();
		});
	}
	,noise8Unload: function() {
		this.noise8.unload();
		this.noise8 = null;
	}
	,names: null
	,__class__: kha__$Assets_ImageList
};
var kha__$Assets_SoundList = $hxClasses["kha._Assets.SoundList"] = function() {
	this.names = [];
};
kha__$Assets_SoundList.__name__ = ["kha","_Assets","SoundList"];
kha__$Assets_SoundList.prototype = {
	get: function(name) {
		return Reflect.field(this,name);
	}
	,names: null
	,__class__: kha__$Assets_SoundList
};
var kha__$Assets_BlobList = $hxClasses["kha._Assets.BlobList"] = function() {
	this.names = ["ammo_js","Material_001_data_arm","Material_data_arm","armdefault_data_arm","shader_datas_arm","UI_files","UI_json","Scene_arm","mesh_Cube_001_arm","mesh_Cube_002_arm","mesh_Cube_arm","World_irradiance_arm"];
	this.World_irradiance_armDescription = { files : ["World_irradiance.arm"], type : "blob", name : "World_irradiance_arm"};
	this.World_irradiance_armName = "World_irradiance_arm";
	this.World_irradiance_arm = null;
	this.mesh_Cube_armDescription = { files : ["mesh_Cube.arm"], type : "blob", name : "mesh_Cube_arm"};
	this.mesh_Cube_armName = "mesh_Cube_arm";
	this.mesh_Cube_arm = null;
	this.mesh_Cube_002_armDescription = { files : ["mesh_Cube.002.arm"], type : "blob", name : "mesh_Cube_002_arm"};
	this.mesh_Cube_002_armName = "mesh_Cube_002_arm";
	this.mesh_Cube_002_arm = null;
	this.mesh_Cube_001_armDescription = { files : ["mesh_Cube.001.arm"], type : "blob", name : "mesh_Cube_001_arm"};
	this.mesh_Cube_001_armName = "mesh_Cube_001_arm";
	this.mesh_Cube_001_arm = null;
	this.Scene_armDescription = { files : ["Scene.arm"], type : "blob", name : "Scene_arm"};
	this.Scene_armName = "Scene_arm";
	this.Scene_arm = null;
	this.UI_jsonDescription = { files : ["UI.json"], type : "blob", name : "UI_json"};
	this.UI_jsonName = "UI_json";
	this.UI_json = null;
	this.UI_filesDescription = { files : ["UI.files"], type : "blob", name : "UI_files"};
	this.UI_filesName = "UI_files";
	this.UI_files = null;
	this.shader_datas_armDescription = { files : ["shader_datas.arm"], type : "blob", name : "shader_datas_arm"};
	this.shader_datas_armName = "shader_datas_arm";
	this.shader_datas_arm = null;
	this.armdefault_data_armDescription = { files : ["armdefault_data.arm"], type : "blob", name : "armdefault_data_arm"};
	this.armdefault_data_armName = "armdefault_data_arm";
	this.armdefault_data_arm = null;
	this.Material_data_armDescription = { files : ["Material_data.arm"], type : "blob", name : "Material_data_arm"};
	this.Material_data_armName = "Material_data_arm";
	this.Material_data_arm = null;
	this.Material_001_data_armDescription = { files : ["Material_001_data.arm"], type : "blob", name : "Material_001_data_arm"};
	this.Material_001_data_armName = "Material_001_data_arm";
	this.Material_001_data_arm = null;
	this.ammo_jsDescription = { files : ["ammo.js"], type : "blob", name : "ammo_js"};
	this.ammo_jsName = "ammo_js";
	this.ammo_js = null;
};
kha__$Assets_BlobList.__name__ = ["kha","_Assets","BlobList"];
kha__$Assets_BlobList.prototype = {
	get: function(name) {
		return Reflect.field(this,name);
	}
	,ammo_js: null
	,ammo_jsName: null
	,ammo_jsDescription: null
	,ammo_jsLoad: function(done) {
		kha_Assets.loadBlob("ammo_js",function(blob) {
			done();
		});
	}
	,ammo_jsUnload: function() {
		this.ammo_js.unload();
		this.ammo_js = null;
	}
	,Material_001_data_arm: null
	,Material_001_data_armName: null
	,Material_001_data_armDescription: null
	,Material_001_data_armLoad: function(done) {
		kha_Assets.loadBlob("Material_001_data_arm",function(blob) {
			done();
		});
	}
	,Material_001_data_armUnload: function() {
		this.Material_001_data_arm.unload();
		this.Material_001_data_arm = null;
	}
	,Material_data_arm: null
	,Material_data_armName: null
	,Material_data_armDescription: null
	,Material_data_armLoad: function(done) {
		kha_Assets.loadBlob("Material_data_arm",function(blob) {
			done();
		});
	}
	,Material_data_armUnload: function() {
		this.Material_data_arm.unload();
		this.Material_data_arm = null;
	}
	,armdefault_data_arm: null
	,armdefault_data_armName: null
	,armdefault_data_armDescription: null
	,armdefault_data_armLoad: function(done) {
		kha_Assets.loadBlob("armdefault_data_arm",function(blob) {
			done();
		});
	}
	,armdefault_data_armUnload: function() {
		this.armdefault_data_arm.unload();
		this.armdefault_data_arm = null;
	}
	,shader_datas_arm: null
	,shader_datas_armName: null
	,shader_datas_armDescription: null
	,shader_datas_armLoad: function(done) {
		kha_Assets.loadBlob("shader_datas_arm",function(blob) {
			done();
		});
	}
	,shader_datas_armUnload: function() {
		this.shader_datas_arm.unload();
		this.shader_datas_arm = null;
	}
	,UI_files: null
	,UI_filesName: null
	,UI_filesDescription: null
	,UI_filesLoad: function(done) {
		kha_Assets.loadBlob("UI_files",function(blob) {
			done();
		});
	}
	,UI_filesUnload: function() {
		this.UI_files.unload();
		this.UI_files = null;
	}
	,UI_json: null
	,UI_jsonName: null
	,UI_jsonDescription: null
	,UI_jsonLoad: function(done) {
		kha_Assets.loadBlob("UI_json",function(blob) {
			done();
		});
	}
	,UI_jsonUnload: function() {
		this.UI_json.unload();
		this.UI_json = null;
	}
	,Scene_arm: null
	,Scene_armName: null
	,Scene_armDescription: null
	,Scene_armLoad: function(done) {
		kha_Assets.loadBlob("Scene_arm",function(blob) {
			done();
		});
	}
	,Scene_armUnload: function() {
		this.Scene_arm.unload();
		this.Scene_arm = null;
	}
	,mesh_Cube_001_arm: null
	,mesh_Cube_001_armName: null
	,mesh_Cube_001_armDescription: null
	,mesh_Cube_001_armLoad: function(done) {
		kha_Assets.loadBlob("mesh_Cube_001_arm",function(blob) {
			done();
		});
	}
	,mesh_Cube_001_armUnload: function() {
		this.mesh_Cube_001_arm.unload();
		this.mesh_Cube_001_arm = null;
	}
	,mesh_Cube_002_arm: null
	,mesh_Cube_002_armName: null
	,mesh_Cube_002_armDescription: null
	,mesh_Cube_002_armLoad: function(done) {
		kha_Assets.loadBlob("mesh_Cube_002_arm",function(blob) {
			done();
		});
	}
	,mesh_Cube_002_armUnload: function() {
		this.mesh_Cube_002_arm.unload();
		this.mesh_Cube_002_arm = null;
	}
	,mesh_Cube_arm: null
	,mesh_Cube_armName: null
	,mesh_Cube_armDescription: null
	,mesh_Cube_armLoad: function(done) {
		kha_Assets.loadBlob("mesh_Cube_arm",function(blob) {
			done();
		});
	}
	,mesh_Cube_armUnload: function() {
		this.mesh_Cube_arm.unload();
		this.mesh_Cube_arm = null;
	}
	,World_irradiance_arm: null
	,World_irradiance_armName: null
	,World_irradiance_armDescription: null
	,World_irradiance_armLoad: function(done) {
		kha_Assets.loadBlob("World_irradiance_arm",function(blob) {
			done();
		});
	}
	,World_irradiance_armUnload: function() {
		this.World_irradiance_arm.unload();
		this.World_irradiance_arm = null;
	}
	,names: null
	,__class__: kha__$Assets_BlobList
};
var kha__$Assets_FontList = $hxClasses["kha._Assets.FontList"] = function() {
	this.names = ["droid_sans"];
	this.droid_sansDescription = { files : ["droid_sans.ttf"], type : "font", name : "droid_sans"};
	this.droid_sansName = "droid_sans";
	this.droid_sans = null;
};
kha__$Assets_FontList.__name__ = ["kha","_Assets","FontList"];
kha__$Assets_FontList.prototype = {
	get: function(name) {
		return Reflect.field(this,name);
	}
	,droid_sans: null
	,droid_sansName: null
	,droid_sansDescription: null
	,droid_sansLoad: function(done) {
		kha_Assets.loadFont("droid_sans",function(font) {
			done();
		});
	}
	,droid_sansUnload: function() {
		this.droid_sans.unload();
		this.droid_sans = null;
	}
	,names: null
	,__class__: kha__$Assets_FontList
};
var kha__$Assets_VideoList = $hxClasses["kha._Assets.VideoList"] = function() {
	this.names = [];
};
kha__$Assets_VideoList.__name__ = ["kha","_Assets","VideoList"];
kha__$Assets_VideoList.prototype = {
	get: function(name) {
		return Reflect.field(this,name);
	}
	,names: null
	,__class__: kha__$Assets_VideoList
};
var kha_Assets = $hxClasses["kha.Assets"] = function() { };
kha_Assets.__name__ = ["kha","Assets"];
kha_Assets.__properties__ = {get_videoFormats:"get_videoFormats",get_fontFormats:"get_fontFormats",get_soundFormats:"get_soundFormats",get_imageFormats:"get_imageFormats"};
kha_Assets.loadEverything = function(callback,filter,uncompressSoundsFilter) {
	var fileCount = 0;
	var _g = 0;
	var _g1 = Type.getInstanceFields(kha__$Assets_BlobList);
	while(_g < _g1.length) {
		var blob = _g1[_g];
		++_g;
		if(StringTools.endsWith(blob,"Load")) {
			fileCount += 1;
		}
	}
	var _g2 = 0;
	var _g11 = Type.getInstanceFields(kha__$Assets_ImageList);
	while(_g2 < _g11.length) {
		var image = _g11[_g2];
		++_g2;
		if(StringTools.endsWith(image,"Load")) {
			fileCount += 1;
		}
	}
	var _g3 = 0;
	var _g12 = Type.getInstanceFields(kha__$Assets_SoundList);
	while(_g3 < _g12.length) {
		var sound = _g12[_g3];
		++_g3;
		if(StringTools.endsWith(sound,"Load")) {
			fileCount += 1;
		}
	}
	var _g4 = 0;
	var _g13 = Type.getInstanceFields(kha__$Assets_FontList);
	while(_g4 < _g13.length) {
		var font = _g13[_g4];
		++_g4;
		if(StringTools.endsWith(font,"Load")) {
			fileCount += 1;
		}
	}
	var _g5 = 0;
	var _g14 = Type.getInstanceFields(kha__$Assets_VideoList);
	while(_g5 < _g14.length) {
		var video = _g14[_g5];
		++_g5;
		if(StringTools.endsWith(video,"Load")) {
			fileCount += 1;
		}
	}
	if(fileCount == 0) {
		callback();
		return;
	}
	var filesLeft = fileCount;
	var _g6 = 0;
	var _g15 = Type.getInstanceFields(kha__$Assets_BlobList);
	while(_g6 < _g15.length) {
		var blob1 = _g15[_g6];
		++_g6;
		if(StringTools.endsWith(blob1,"Load")) {
			var name = HxOverrides.substr(blob1,0,blob1.length - 4);
			var description = Reflect.field(kha_Assets.blobs,name + "Description");
			if(filter == null || filter(description)) {
				(Reflect.field(kha_Assets.blobs,blob1))(function() {
					filesLeft -= 1;
					kha_Assets.progress = 1 - filesLeft / fileCount;
					if(filesLeft == 0) {
						callback();
					}
				});
			} else {
				filesLeft -= 1;
				kha_Assets.progress = 1 - filesLeft / fileCount;
				if(filesLeft == 0) {
					callback();
				}
			}
		}
	}
	var _g7 = 0;
	var _g16 = Type.getInstanceFields(kha__$Assets_ImageList);
	while(_g7 < _g16.length) {
		var image1 = _g16[_g7];
		++_g7;
		if(StringTools.endsWith(image1,"Load")) {
			var name1 = HxOverrides.substr(image1,0,image1.length - 4);
			var description1 = Reflect.field(kha_Assets.images,name1 + "Description");
			if(filter == null || filter(description1)) {
				(Reflect.field(kha_Assets.images,image1))(function() {
					filesLeft -= 1;
					kha_Assets.progress = 1 - filesLeft / fileCount;
					if(filesLeft == 0) {
						callback();
					}
				});
			} else {
				filesLeft -= 1;
				kha_Assets.progress = 1 - filesLeft / fileCount;
				if(filesLeft == 0) {
					callback();
				}
			}
		}
	}
	var _g8 = 0;
	var _g17 = Type.getInstanceFields(kha__$Assets_SoundList);
	while(_g8 < _g17.length) {
		var sound1 = [_g17[_g8]];
		++_g8;
		if(StringTools.endsWith(sound1[0],"Load")) {
			var name2 = HxOverrides.substr(sound1[0],0,sound1[0].length - 4);
			var description2 = [Reflect.field(kha_Assets.sounds,name2 + "Description")];
			if(filter == null || filter(description2[0])) {
				(Reflect.field(kha_Assets.sounds,sound1[0]))((function(description3,sound2) {
					return function() {
						if(uncompressSoundsFilter == null || uncompressSoundsFilter(description3[0])) {
							var sound3 = Reflect.field(kha_Assets.sounds,sound2[0].substring(0,sound2[0].length - 4));
							sound3.uncompress((function() {
								return function() {
									filesLeft -= 1;
									kha_Assets.progress = 1 - filesLeft / fileCount;
									if(filesLeft == 0) {
										callback();
									}
								};
							})());
						} else {
							filesLeft -= 1;
							kha_Assets.progress = 1 - filesLeft / fileCount;
							if(filesLeft == 0) {
								callback();
							}
						}
					};
				})(description2,sound1));
			} else {
				filesLeft -= 1;
				kha_Assets.progress = 1 - filesLeft / fileCount;
				if(filesLeft == 0) {
					callback();
				}
			}
		}
	}
	var _g9 = 0;
	var _g18 = Type.getInstanceFields(kha__$Assets_FontList);
	while(_g9 < _g18.length) {
		var font1 = _g18[_g9];
		++_g9;
		if(StringTools.endsWith(font1,"Load")) {
			var name3 = HxOverrides.substr(font1,0,font1.length - 4);
			var description4 = Reflect.field(kha_Assets.fonts,name3 + "Description");
			if(filter == null || filter(description4)) {
				(Reflect.field(kha_Assets.fonts,font1))(function() {
					filesLeft -= 1;
					kha_Assets.progress = 1 - filesLeft / fileCount;
					if(filesLeft == 0) {
						callback();
					}
				});
			} else {
				filesLeft -= 1;
				kha_Assets.progress = 1 - filesLeft / fileCount;
				if(filesLeft == 0) {
					callback();
				}
			}
		}
	}
	var _g10 = 0;
	var _g19 = Type.getInstanceFields(kha__$Assets_VideoList);
	while(_g10 < _g19.length) {
		var video1 = _g19[_g10];
		++_g10;
		if(StringTools.endsWith(video1,"Load")) {
			var name4 = HxOverrides.substr(video1,0,video1.length - 4);
			var description5 = Reflect.field(kha_Assets.videos,name4 + "Description");
			if(filter == null || filter(description5)) {
				(Reflect.field(kha_Assets.videos,video1))(function() {
					filesLeft -= 1;
					kha_Assets.progress = 1 - filesLeft / fileCount;
					if(filesLeft == 0) {
						callback();
					}
				});
			} else {
				filesLeft -= 1;
				kha_Assets.progress = 1 - filesLeft / fileCount;
				if(filesLeft == 0) {
					callback();
				}
			}
		}
	}
};
kha_Assets.loadImage = function(name,done) {
	var description = Reflect.field(kha_Assets.images,name + "Description");
	kha_LoaderImpl.loadImageFromDescription(description,function(image) {
		kha_Assets.images[name] = image;
		done(image);
	});
};
kha_Assets.loadImageFromPath = function(path,readable,done) {
	var description = { files : [path], readable : readable};
	kha_LoaderImpl.loadImageFromDescription(description,done);
};
kha_Assets.get_imageFormats = function() {
	return kha_LoaderImpl.getImageFormats();
};
kha_Assets.loadBlob = function(name,done) {
	var description = Reflect.field(kha_Assets.blobs,name + "Description");
	kha_LoaderImpl.loadBlobFromDescription(description,function(blob) {
		kha_Assets.blobs[name] = blob;
		done(blob);
	});
};
kha_Assets.loadBlobFromPath = function(path,done) {
	var description = { files : [path]};
	kha_LoaderImpl.loadBlobFromDescription(description,done);
};
kha_Assets.loadSound = function(name,done) {
	var description = Reflect.field(kha_Assets.sounds,name + "Description");
	kha_LoaderImpl.loadSoundFromDescription(description,function(sound) {
		kha_Assets.sounds[name] = sound;
		done(sound);
	});
	return;
};
kha_Assets.loadSoundFromPath = function(path,done) {
	var description = { files : [path]};
	kha_LoaderImpl.loadSoundFromDescription(description,done);
	return;
};
kha_Assets.get_soundFormats = function() {
	return kha_LoaderImpl.getSoundFormats();
};
kha_Assets.loadFont = function(name,done) {
	var description = Reflect.field(kha_Assets.fonts,name + "Description");
	kha_LoaderImpl.loadFontFromDescription(description,function(font) {
		kha_Assets.fonts[name] = font;
		done(font);
	});
	return;
};
kha_Assets.loadFontFromPath = function(path,done) {
	var description = { files : [path]};
	kha_LoaderImpl.loadFontFromDescription(description,done);
	return;
};
kha_Assets.get_fontFormats = function() {
	return ["ttf"];
};
kha_Assets.loadVideo = function(name,done) {
	var description = Reflect.field(kha_Assets.videos,name + "Description");
	kha_LoaderImpl.loadVideoFromDescription(description,function(video) {
		kha_Assets.videos[name] = video;
		done(video);
	});
	return;
};
kha_Assets.loadVideoFromPath = function(path,done) {
	var description = { files : [path]};
	kha_LoaderImpl.loadVideoFromDescription(description,done);
	return;
};
kha_Assets.get_videoFormats = function() {
	return kha_LoaderImpl.getVideoFormats();
};
var kha_Canvas = $hxClasses["kha.Canvas"] = function() { };
kha_Canvas.__name__ = ["kha","Canvas"];
kha_Canvas.prototype = {
	get_width: null
	,get_height: null
	,get_g1: null
	,get_g2: null
	,get_g4: null
	,width: null
	,height: null
	,g1: null
	,g2: null
	,g4: null
	,__class__: kha_Canvas
	,__properties__: {get_g4:"get_g4",get_g2:"get_g2",get_g1:"get_g1",get_height:"get_height",get_width:"get_width"}
};
var kha__$Color_Color_$Impl_$ = $hxClasses["kha._Color.Color_Impl_"] = $hx_exports["kha"]["_Color"]["Color_Impl_"] = {};
kha__$Color_Color_$Impl_$.__name__ = ["kha","_Color","Color_Impl_"];
kha__$Color_Color_$Impl_$.__properties__ = {set_value:"set_value",get_value:"get_value",set_A:"set_A",get_A:"get_A",set_B:"set_B",get_B:"get_B",set_G:"set_G",get_G:"get_G",set_R:"set_R",get_R:"get_R",set_Ab:"set_Ab",get_Ab:"get_Ab",set_Bb:"set_Bb",get_Bb:"get_Bb",set_Gb:"set_Gb",get_Gb:"get_Gb",set_Rb:"set_Rb",get_Rb:"get_Rb"};
kha__$Color_Color_$Impl_$.fromValue = function(value) {
	return kha__$Color_Color_$Impl_$._new(value);
};
kha__$Color_Color_$Impl_$.fromBytes = function(r,g,b,a) {
	if(a == null) {
		a = 255;
	}
	return kha__$Color_Color_$Impl_$._new(a << 24 | r << 16 | g << 8 | b);
};
kha__$Color_Color_$Impl_$.fromFloats = function(r,g,b,a) {
	if(a == null) {
		a = 1;
	}
	return kha__$Color_Color_$Impl_$._new((a * 255 | 0) << 24 | (r * 255 | 0) << 16 | (g * 255 | 0) << 8 | (b * 255 | 0));
};
kha__$Color_Color_$Impl_$.fromString = function(value) {
	if((value.length == 7 || value.length == 9) && value.charCodeAt(0) == 35) {
		var colorValue = Std.parseInt("0x" + HxOverrides.substr(value,1,null));
		if(value.length == 7) {
			colorValue += -16777216;
		}
		return kha__$Color_Color_$Impl_$._new(colorValue);
	} else {
		throw new js__$Boot_HaxeError("Invalid Color string: '" + value + "'");
	}
};
kha__$Color_Color_$Impl_$._new = function(value) {
	var this1 = value;
	return this1;
};
kha__$Color_Color_$Impl_$.get_value = function(this1) {
	return this1;
};
kha__$Color_Color_$Impl_$.set_value = function(this1,value) {
	this1 = value;
	return this1;
};
kha__$Color_Color_$Impl_$.get_Rb = function(this1) {
	return (this1 & 16711680) >>> 16;
};
kha__$Color_Color_$Impl_$.get_Gb = function(this1) {
	return (this1 & 65280) >>> 8;
};
kha__$Color_Color_$Impl_$.get_Bb = function(this1) {
	return this1 & 255;
};
kha__$Color_Color_$Impl_$.get_Ab = function(this1) {
	return this1 >>> 24;
};
kha__$Color_Color_$Impl_$.set_Rb = function(this1,i) {
	this1 = this1 >>> 24 << 24 | i << 16 | (this1 & 65280) >>> 8 << 8 | this1 & 255;
	return i;
};
kha__$Color_Color_$Impl_$.set_Gb = function(this1,i) {
	this1 = this1 >>> 24 << 24 | (this1 & 16711680) >>> 16 << 16 | i << 8 | this1 & 255;
	return i;
};
kha__$Color_Color_$Impl_$.set_Bb = function(this1,i) {
	this1 = this1 >>> 24 << 24 | (this1 & 16711680) >>> 16 << 16 | (this1 & 65280) >>> 8 << 8 | i;
	return i;
};
kha__$Color_Color_$Impl_$.set_Ab = function(this1,i) {
	this1 = i << 24 | (this1 & 16711680) >>> 16 << 16 | (this1 & 65280) >>> 8 << 8 | this1 & 255;
	return i;
};
kha__$Color_Color_$Impl_$.get_R = function(this1) {
	return ((this1 & 16711680) >>> 16) * 0.00392156862745098;
};
kha__$Color_Color_$Impl_$.get_G = function(this1) {
	return ((this1 & 65280) >>> 8) * 0.00392156862745098;
};
kha__$Color_Color_$Impl_$.get_B = function(this1) {
	return (this1 & 255) * 0.00392156862745098;
};
kha__$Color_Color_$Impl_$.get_A = function(this1) {
	return (this1 >>> 24) * 0.00392156862745098;
};
kha__$Color_Color_$Impl_$.set_R = function(this1,f) {
	this1 = ((this1 >>> 24) * 0.00392156862745098 * 255 | 0) << 24 | (f * 255 | 0) << 16 | (((this1 & 65280) >>> 8) * 0.00392156862745098 * 255 | 0) << 8 | ((this1 & 255) * 0.00392156862745098 * 255 | 0);
	return f;
};
kha__$Color_Color_$Impl_$.set_G = function(this1,f) {
	this1 = ((this1 >>> 24) * 0.00392156862745098 * 255 | 0) << 24 | (((this1 & 16711680) >>> 16) * 0.00392156862745098 * 255 | 0) << 16 | (f * 255 | 0) << 8 | ((this1 & 255) * 0.00392156862745098 * 255 | 0);
	return f;
};
kha__$Color_Color_$Impl_$.set_B = function(this1,f) {
	this1 = ((this1 >>> 24) * 0.00392156862745098 * 255 | 0) << 24 | (((this1 & 16711680) >>> 16) * 0.00392156862745098 * 255 | 0) << 16 | (((this1 & 65280) >>> 8) * 0.00392156862745098 * 255 | 0) << 8 | (f * 255 | 0);
	return f;
};
kha__$Color_Color_$Impl_$.set_A = function(this1,f) {
	this1 = (f * 255 | 0) << 24 | (((this1 & 16711680) >>> 16) * 0.00392156862745098 * 255 | 0) << 16 | (((this1 & 65280) >>> 8) * 0.00392156862745098 * 255 | 0) << 8 | ((this1 & 255) * 0.00392156862745098 * 255 | 0);
	return f;
};
var kha_Display = $hxClasses["kha.Display"] = function() { };
kha_Display.__name__ = ["kha","Display"];
kha_Display.__properties__ = {get_count:"get_count"};
kha_Display.width = function(index) {
	return kha_DisplayImpl.width(index);
};
kha_Display.height = function(index) {
	return kha_DisplayImpl.height(index);
};
kha_Display.x = function(index) {
	return kha_DisplayImpl.x(index);
};
kha_Display.y = function(index) {
	return kha_DisplayImpl.y(index);
};
kha_Display.isPrimary = function(index) {
	return kha_DisplayImpl.isPrimary(index);
};
kha_Display.get_count = function() {
	return kha_DisplayImpl.count();
};
var kha_DisplayImpl = $hxClasses["kha.DisplayImpl"] = function() { };
kha_DisplayImpl.__name__ = ["kha","DisplayImpl"];
kha_DisplayImpl.count = function() {
	return Krom.displayCount();
};
kha_DisplayImpl.width = function(index) {
	return Krom.displayWidth(index);
};
kha_DisplayImpl.height = function(index) {
	return Krom.displayHeight(index);
};
kha_DisplayImpl.x = function(index) {
	return Krom.displayX(index);
};
kha_DisplayImpl.y = function(index) {
	return Krom.displayY(index);
};
kha_DisplayImpl.isPrimary = function(index) {
	return Krom.displayIsPrimary(index);
};
var kha_FontStyle = $hxClasses["kha.FontStyle"] = function(bold,italic,underlined) {
	this.bold = bold;
	this.italic = italic;
	this.underlined = underlined;
};
kha_FontStyle.__name__ = ["kha","FontStyle"];
kha_FontStyle.prototype = {
	bold: null
	,italic: null
	,underlined: null
	,getBold: function() {
		return this.bold;
	}
	,getItalic: function() {
		return this.italic;
	}
	,getUnderlined: function() {
		return this.underlined;
	}
	,__class__: kha_FontStyle
};
var kha_Framebuffer = $hxClasses["kha.Framebuffer"] = function(windowId,g1,g2,g4) {
	this.windowId = windowId;
	this.graphics1 = g1;
	this.graphics2 = g2;
	this.graphics4 = g4;
};
kha_Framebuffer.__name__ = ["kha","Framebuffer"];
kha_Framebuffer.__interfaces__ = [kha_Canvas];
kha_Framebuffer.prototype = {
	windowId: null
	,graphics1: null
	,graphics2: null
	,graphics4: null
	,init: function(g1,g2,g4) {
		this.graphics1 = g1;
		this.graphics2 = g2;
		this.graphics4 = g4;
	}
	,g1: null
	,get_g1: function() {
		return this.graphics1;
	}
	,g2: null
	,get_g2: function() {
		return this.graphics2;
	}
	,g4: null
	,get_g4: function() {
		return this.graphics4;
	}
	,width: null
	,get_width: function() {
		return kha_System.windowWidth(this.windowId);
	}
	,height: null
	,get_height: function() {
		return kha_System.windowHeight(this.windowId);
	}
	,__class__: kha_Framebuffer
	,__properties__: {get_height:"get_height",get_width:"get_width",get_g4:"get_g4",get_g2:"get_g2",get_g1:"get_g1"}
};
var kha_Resource = $hxClasses["kha.Resource"] = function() { };
kha_Resource.__name__ = ["kha","Resource"];
kha_Resource.prototype = {
	unload: null
	,__class__: kha_Resource
};
var kha_Image = $hxClasses["kha.Image"] = function(texture) {
	this.pixels = null;
	this.bytes = null;
	this.texture_ = texture;
};
kha_Image.__name__ = ["kha","Image"];
kha_Image.__interfaces__ = [kha_Resource,kha_Canvas];
kha_Image.__properties__ = {get_nonPow2Supported:"get_nonPow2Supported",get_maxSize:"get_maxSize"};
kha_Image.getRenderTargetFormat = function(format) {
	switch(format[1]) {
	case 0:
		return 0;
	case 1:
		return 5;
	case 2:
		return 3;
	case 3:
		return 4;
	case 4:
		return 1;
	case 5:
		return 2;
	case 6:
		return 6;
	}
};
kha_Image.getDepthBufferBits = function(depthAndStencil) {
	switch(depthAndStencil) {
	case 0:
		return -1;
	case 1:
		return 24;
	case 2:
		return 24;
	case 3:
		return 24;
	case 4:
		return 32;
	case 5:
		return 16;
	}
};
kha_Image.getStencilBufferBits = function(depthAndStencil) {
	switch(depthAndStencil) {
	case 0:
		return -1;
	case 1:
		return -1;
	case 2:
		return 8;
	case 3:
		return 8;
	case 4:
		return 8;
	case 5:
		return 0;
	}
};
kha_Image.getTextureFormat = function(format) {
	switch(format[1]) {
	case 0:
		return 0;
	case 2:
		return 3;
	case 4:
		return 4;
	case 5:
		return 5;
	case 6:
		return 7;
	default:
		return 1;
	}
};
kha_Image._fromTexture = function(texture) {
	return new kha_Image(texture);
};
kha_Image.fromBytes = function(bytes,width,height,format,usage) {
	if(format == null) {
		format = kha_graphics4_TextureFormat.RGBA32;
	}
	var readable = true;
	var image = new kha_Image(null);
	image.format = format;
	image.texture_ = Krom.createTextureFromBytes(bytes.b.bufferValue,width,height,kha_Image.getTextureFormat(format),readable);
	return image;
};
kha_Image.fromBytes3D = function(bytes,width,height,depth,format,usage) {
	if(format == null) {
		format = kha_graphics4_TextureFormat.RGBA32;
	}
	var readable = true;
	var image = new kha_Image(null);
	image.format = format;
	image.texture_ = Krom.createTextureFromBytes3D(bytes.b.bufferValue,width,height,depth,kha_Image.getTextureFormat(format),readable);
	return image;
};
kha_Image.create = function(width,height,format,usage) {
	if(format == null) {
		format = kha_graphics4_TextureFormat.RGBA32;
	}
	var image = new kha_Image(null);
	image.format = format;
	image.texture_ = Krom.createTexture(width,height,kha_Image.getTextureFormat(format));
	return image;
};
kha_Image.create3D = function(width,height,depth,format,usage) {
	if(format == null) {
		format = kha_graphics4_TextureFormat.RGBA32;
	}
	var image = new kha_Image(null);
	image.format = format;
	image.texture_ = Krom.createTexture3D(width,height,depth,kha_Image.getTextureFormat(format));
	return image;
};
kha_Image.createRenderTarget = function(width,height,format,depthStencil,antiAliasingSamples,contextId) {
	if(contextId == null) {
		contextId = 0;
	}
	if(antiAliasingSamples == null) {
		antiAliasingSamples = 1;
	}
	if(depthStencil == null) {
		depthStencil = 0;
	}
	if(format == null) {
		format = kha_graphics4_TextureFormat.RGBA32;
	}
	var image = new kha_Image(null);
	image.format = format;
	image.renderTarget_ = Krom.createRenderTarget(width,height,kha_Image.getDepthBufferBits(depthStencil),kha_Image.getRenderTargetFormat(format),kha_Image.getStencilBufferBits(depthStencil),contextId);
	return image;
};
kha_Image.get_maxSize = function() {
	return 4096;
};
kha_Image.get_nonPow2Supported = function() {
	return true;
};
kha_Image.formatByteSize = function(format) {
	switch(format[1]) {
	case 0:
		return 4;
	case 1:
		return 1;
	case 2:
		return 16;
	case 3:
		return 2;
	case 4:
		return 8;
	case 5:
		return 4;
	case 6:
		return 2;
	}
};
kha_Image.prototype = {
	texture_: null
	,renderTarget_: null
	,format: null
	,readable: null
	,graphics1: null
	,graphics2: null
	,graphics4: null
	,isOpaque: function(x,y) {
		return false;
	}
	,at: function(x,y) {
		return -16777216;
	}
	,unload: function() {
		Krom.unloadImage(this);
		this.texture_ = null;
		this.renderTarget_ = null;
	}
	,bytes: null
	,lock: function(level) {
		if(level == null) {
			level = 0;
		}
		this.bytes = new haxe_io_Bytes(new ArrayBuffer(this.format == kha_graphics4_TextureFormat.RGBA32 ? 4 * this.get_width() * this.get_height() : this.get_width() * this.get_height()));
		return this.bytes;
	}
	,unlock: function() {
		Krom.unlockTexture(this.texture_,this.bytes.b.bufferValue);
	}
	,pixels: null
	,getPixels: function() {
		if(this.renderTarget_ == null) {
			return null;
		}
		if(this.pixels == null) {
			this.pixels = new haxe_io_Bytes(new ArrayBuffer(kha_Image.formatByteSize(this.format) * this.get_width() * this.get_height()));
		}
		Krom.getRenderTargetPixels(this.renderTarget_,this.pixels.b.bufferValue);
		return this.pixels;
	}
	,generateMipmaps: function(levels) {
		if(this.texture_ == null) {
			Krom.generateRenderTargetMipmaps(this.renderTarget_,levels);
		} else {
			Krom.generateTextureMipmaps(this.texture_,levels);
		}
	}
	,setMipmaps: function(mipmaps) {
		Krom.setMipmaps(this.texture_,mipmaps);
	}
	,setDepthStencilFrom: function(image) {
		Krom.setDepthStencilFrom(this.renderTarget_,image.renderTarget_);
	}
	,clear: function(x,y,z,width,height,depth,color) {
		Krom.clearTexture(this.texture_,x,y,z,width,height,depth,color);
	}
	,width: null
	,get_width: function() {
		if(this.texture_ == null) {
			return this.renderTarget_.width;
		} else {
			return this.texture_.width;
		}
	}
	,height: null
	,get_height: function() {
		if(this.texture_ == null) {
			return this.renderTarget_.height;
		} else {
			return this.texture_.height;
		}
	}
	,depth: null
	,get_depth: function() {
		if(this.texture_ != null) {
			return this.texture_.depth;
		} else {
			return 1;
		}
	}
	,realWidth: null
	,get_realWidth: function() {
		if(this.texture_ == null) {
			return this.renderTarget_.width;
		} else {
			return this.texture_.realWidth;
		}
	}
	,realHeight: null
	,get_realHeight: function() {
		if(this.texture_ == null) {
			return this.renderTarget_.height;
		} else {
			return this.texture_.realHeight;
		}
	}
	,g1: null
	,get_g1: function() {
		if(this.graphics1 == null) {
			this.graphics1 = new kha_graphics2_Graphics1(this);
		}
		return this.graphics1;
	}
	,g2: null
	,get_g2: function() {
		if(this.graphics2 == null) {
			this.graphics2 = new kha_graphics4_Graphics2(this);
		}
		return this.graphics2;
	}
	,g4: null
	,get_g4: function() {
		if(this.graphics4 == null) {
			this.graphics4 = new kha_krom_Graphics(this);
		}
		return this.graphics4;
	}
	,__class__: kha_Image
	,__properties__: {get_g4:"get_g4",get_g2:"get_g2",get_g1:"get_g1",get_realHeight:"get_realHeight",get_realWidth:"get_realWidth",get_depth:"get_depth",get_height:"get_height",get_width:"get_width"}
};
var kha_AlignedQuad = $hxClasses["kha.AlignedQuad"] = function() {
};
kha_AlignedQuad.__name__ = ["kha","AlignedQuad"];
kha_AlignedQuad.prototype = {
	x0: null
	,y0: null
	,s0: null
	,t0: null
	,x1: null
	,y1: null
	,s1: null
	,t1: null
	,xadvance: null
	,__class__: kha_AlignedQuad
};
var kha_KravurImage = $hxClasses["kha.KravurImage"] = function(size,ascent,descent,lineGap,width,height,chars,pixels) {
	this.mySize = size;
	this.width = width;
	this.height = height;
	this.chars = chars;
	this.baseline = ascent;
	var _g = 0;
	while(_g < chars.length) {
		var $char = chars[_g];
		++_g;
		$char.yoff += this.baseline;
	}
	this.texture = kha_Image.create(width,height,kha_graphics4_TextureFormat.L8);
	var bytes = this.texture.lock();
	var pos = 0;
	var _g1 = 0;
	var _g2 = height;
	while(_g1 < _g2) {
		var y = _g1++;
		var _g3 = 0;
		var _g21 = width;
		while(_g3 < _g21) {
			var x = _g3++;
			var v = pixels.readU8(pos);
			bytes.b[pos] = v & 255;
			++pos;
		}
	}
	this.texture.unlock();
};
kha_KravurImage.__name__ = ["kha","KravurImage"];
kha_KravurImage.prototype = {
	mySize: null
	,chars: null
	,texture: null
	,width: null
	,height: null
	,baseline: null
	,getTexture: function() {
		return this.texture;
	}
	,getBakedQuad: function(q,char_index,xpos,ypos) {
		if(char_index >= this.chars.length) {
			return null;
		}
		var ipw = 1.0 / this.width;
		var iph = 1.0 / this.height;
		var b = this.chars[char_index];
		if(b == null) {
			return null;
		}
		var round_x = Math.round(xpos + b.xoff);
		var round_y = Math.round(ypos + b.yoff);
		q.x0 = round_x;
		q.y0 = round_y;
		q.x1 = round_x + b.x1 - b.x0;
		q.y1 = round_y + b.y1 - b.y0;
		q.s0 = b.x0 * ipw;
		q.t0 = b.y0 * iph;
		q.s1 = b.x1 * ipw;
		q.t1 = b.y1 * iph;
		q.xadvance = b.xadvance;
		return q;
	}
	,getCharWidth: function(charIndex) {
		if(this.chars.length == 0) {
			return 0;
		}
		var offset = kha_KravurImage.gaps[0];
		if(charIndex < offset) {
			return this.chars[0].xadvance;
		}
		var _g1 = 1;
		var _g = kha_KravurImage.gaps.length / 2 | 0;
		while(_g1 < _g) {
			var i = _g1++;
			var prevEnd = kha_KravurImage.gaps[i * 2 - 1];
			var start = kha_KravurImage.gaps[i * 2];
			if(charIndex > start - 1) {
				offset += start - 1 - prevEnd;
			}
		}
		if(charIndex - offset >= this.chars.length) {
			return this.chars[0].xadvance;
		}
		return this.chars[charIndex - offset].xadvance;
	}
	,getHeight: function() {
		return this.mySize;
	}
	,stringWidth: function(string) {
		var str = new String(string);
		var width = 0;
		var _g1 = 0;
		var _g = str.length;
		while(_g1 < _g) {
			var c = _g1++;
			width += this.getCharWidth(HxOverrides.cca(str,c));
		}
		return width;
	}
	,charactersWidth: function(characters,start,length) {
		var width = 0;
		var _g1 = start;
		var _g = start + length;
		while(_g1 < _g) {
			var i = _g1++;
			width += this.getCharWidth(characters[i]);
		}
		return width;
	}
	,getBaselinePosition: function() {
		return this.baseline;
	}
	,__class__: kha_KravurImage
};
var kha_Kravur = $hxClasses["kha.Kravur"] = function(blob) {
	this.images = new haxe_ds_IntMap();
	this.blob = blob;
};
kha_Kravur.__name__ = ["kha","Kravur"];
kha_Kravur.__interfaces__ = [kha_Resource];
kha_Kravur.fromBytes = function(bytes) {
	return new kha_Kravur(kha_internal_BytesBlob.fromBytes(bytes));
};
kha_Kravur.prototype = {
	oldGlyphs: null
	,blob: null
	,images: null
	,_get: function(fontSize,glyphs) {
		if(glyphs == null) {
			glyphs = kha_graphics2_Graphics._glyphs;
		}
		if(glyphs != this.oldGlyphs) {
			this.oldGlyphs = glyphs;
			kha_KravurImage.gaps = [glyphs[0]];
			var next = kha_KravurImage.gaps[0] + 1;
			var _g1 = 1;
			var _g = glyphs.length;
			while(_g1 < _g) {
				var i = _g1++;
				if(glyphs[i] != next) {
					kha_KravurImage.gaps.push(glyphs[i - 1]);
					kha_KravurImage.gaps.push(glyphs[i]);
					next = glyphs[i] + 1;
				} else {
					++next;
				}
			}
			kha_KravurImage.gaps.push(glyphs[glyphs.length - 1]);
		}
		var imageIndex = glyphs == null ? fontSize : fontSize * 10000 + glyphs.length;
		if(!this.images.h.hasOwnProperty(imageIndex)) {
			var width = 64;
			var height = 32;
			var length = glyphs.length;
			var this1 = new Array(length);
			var baked = this1;
			var _g11 = 0;
			var _g2 = baked.length;
			while(_g11 < _g2) {
				var i1 = _g11++;
				baked[i1] = new kha_graphics2_truetype_Stbtt_$bakedchar();
			}
			var pixels = null;
			var status = -1;
			while(status < 0) {
				if(height < width) {
					height *= 2;
				} else {
					width *= 2;
				}
				pixels = kha_internal_BytesBlob.alloc(width * height);
				status = kha_graphics2_truetype_StbTruetype.stbtt_BakeFontBitmap(this.blob,0,fontSize,pixels,width,height,glyphs,baked);
			}
			var info = new kha_graphics2_truetype_Stbtt_$fontinfo();
			kha_graphics2_truetype_StbTruetype.stbtt_InitFont(info,this.blob,0);
			var metrics = kha_graphics2_truetype_StbTruetype.stbtt_GetFontVMetrics(info);
			var scale = kha_graphics2_truetype_StbTruetype.stbtt_ScaleForPixelHeight(info,fontSize);
			var ascent = Math.round(metrics.ascent * scale);
			var descent = Math.round(metrics.descent * scale);
			var lineGap = Math.round(metrics.lineGap * scale);
			var image = new kha_KravurImage(fontSize | 0,ascent,descent,lineGap,width,height,baked,pixels);
			this.images.h[imageIndex] = image;
			return image;
		}
		return this.images.h[imageIndex];
	}
	,height: function(fontSize) {
		return this._get(fontSize).getHeight();
	}
	,width: function(fontSize,str) {
		return this._get(fontSize).stringWidth(str);
	}
	,widthOfCharacters: function(fontSize,characters,start,length) {
		return this._get(fontSize).charactersWidth(characters,start,length);
	}
	,baseline: function(fontSize) {
		return this._get(fontSize).getBaselinePosition();
	}
	,unload: function() {
		this.blob = null;
		this.images = null;
	}
	,__class__: kha_Kravur
};
var kha_LoaderImpl = $hxClasses["kha.LoaderImpl"] = function() { };
kha_LoaderImpl.__name__ = ["kha","LoaderImpl"];
kha_LoaderImpl.getImageFormats = function() {
	return ["png","jpg"];
};
kha_LoaderImpl.loadImageFromDescription = function(desc,done) {
	var readable = Object.prototype.hasOwnProperty.call(desc,"readable") && desc.readable;
	done(kha_Image._fromTexture(Krom.loadImage(desc.files[0],readable)));
};
kha_LoaderImpl.getSoundFormats = function() {
	return ["wav","ogg"];
};
kha_LoaderImpl.loadSoundFromDescription = function(desc,done) {
	done(new kha_krom_Sound(haxe_io_Bytes.ofData(Krom.loadSound(desc.files[0]))));
};
kha_LoaderImpl.getVideoFormats = function() {
	return ["webm"];
};
kha_LoaderImpl.loadVideoFromDescription = function(desc,done) {
};
kha_LoaderImpl.loadBlobFromDescription = function(desc,done) {
	done(new kha_internal_BytesBlob(haxe_io_Bytes.ofData(Krom.loadBlob(desc.files[0]))));
};
kha_LoaderImpl.loadFontFromDescription = function(desc,done) {
	kha_LoaderImpl.loadBlobFromDescription(desc,function(blob) {
		done(new kha_Kravur(blob));
	});
};
var kha_TimeTask = $hxClasses["kha.TimeTask"] = function() {
};
kha_TimeTask.__name__ = ["kha","TimeTask"];
kha_TimeTask.prototype = {
	task: null
	,start: null
	,period: null
	,duration: null
	,next: null
	,id: null
	,groupId: null
	,active: null
	,paused: null
	,__class__: kha_TimeTask
};
var kha_FrameTask = $hxClasses["kha.FrameTask"] = function(task,priority,id) {
	this.task = task;
	this.priority = priority;
	this.id = id;
	this.active = true;
	this.paused = false;
};
kha_FrameTask.__name__ = ["kha","FrameTask"];
kha_FrameTask.prototype = {
	task: null
	,priority: null
	,id: null
	,active: null
	,paused: null
	,__class__: kha_FrameTask
};
var kha_Scheduler = $hxClasses["kha.Scheduler"] = function() { };
kha_Scheduler.__name__ = ["kha","Scheduler"];
kha_Scheduler.init = function() {
	kha_Scheduler.deltas = [];
	var _g1 = 0;
	var _g = kha_Scheduler.DIF_COUNT;
	while(_g1 < _g) {
		var i = _g1++;
		kha_Scheduler.deltas[i] = 0;
	}
	kha_Scheduler.stopped = true;
	kha_Scheduler.frame_tasks_sorted = true;
	kha_Scheduler.current = kha_Scheduler.lastTime = kha_Scheduler.realTime();
	kha_Scheduler.currentFrameTaskId = 0;
	kha_Scheduler.currentTimeTaskId = 0;
	kha_Scheduler.currentGroupId = 0;
	kha_Scheduler.timeTasks = [];
	kha_Scheduler.pausedTimeTasks = [];
	kha_Scheduler.outdatedTimeTasks = [];
	kha_Scheduler.timeTasksScratchpad = [];
	kha_Scheduler.frameTasks = [];
	kha_Scheduler.toDeleteFrame = [];
};
kha_Scheduler.start = function(restartTimers) {
	if(restartTimers == null) {
		restartTimers = false;
	}
	kha_Scheduler.vsync = kha_System.get_vsync();
	var hz = kha_System.get_refreshRate();
	if(hz >= 57 && hz <= 63) {
		hz = 60;
	}
	kha_Scheduler.onedifhz = 1.0 / hz;
	kha_Scheduler.stopped = false;
	kha_Scheduler.resetTime();
	kha_Scheduler.lastTime = kha_Scheduler.realTime() - kha_Scheduler.startTime;
	var _g1 = 0;
	var _g = kha_Scheduler.DIF_COUNT;
	while(_g1 < _g) {
		var i = _g1++;
		kha_Scheduler.deltas[i] = 0;
	}
	if(restartTimers) {
		var _g2 = 0;
		var _g11 = kha_Scheduler.timeTasks;
		while(_g2 < _g11.length) {
			var timeTask = _g11[_g2];
			++_g2;
			timeTask.paused = false;
		}
		var _g3 = 0;
		var _g12 = kha_Scheduler.frameTasks;
		while(_g3 < _g12.length) {
			var frameTask = _g12[_g3];
			++_g3;
			frameTask.paused = false;
		}
	}
};
kha_Scheduler.stop = function() {
	kha_Scheduler.stopped = true;
};
kha_Scheduler.isStopped = function() {
	return kha_Scheduler.stopped;
};
kha_Scheduler.warpTimeTasksBack = function(time,tasks) {
	var _g = 0;
	while(_g < tasks.length) {
		var timeTask = tasks[_g];
		++_g;
		if(timeTask.start >= time) {
			timeTask.next = timeTask.start;
		} else if(timeTask.period > 0) {
			var sinceStart = time - timeTask.start;
			var times = Math.ceil(sinceStart / timeTask.period);
			timeTask.next = timeTask.start + times * timeTask.period;
		}
	}
};
kha_Scheduler.warp = function(time) {
	if(time < kha_Scheduler.lastTime) {
		kha_Scheduler.current = time;
		kha_Scheduler.lastTime = time;
		kha_Scheduler.warpTimeTasksBack(time,kha_Scheduler.outdatedTimeTasks);
		kha_Scheduler.warpTimeTasksBack(time,kha_Scheduler.timeTasks);
		var _g = 0;
		var _g1 = kha_Scheduler.outdatedTimeTasks;
		while(_g < _g1.length) {
			var task = _g1[_g];
			++_g;
			if(task.next >= time) {
				kha_Scheduler.timeTasksScratchpad.push(task);
			}
		}
		var _g2 = 0;
		var _g11 = kha_Scheduler.timeTasksScratchpad;
		while(_g2 < _g11.length) {
			var task1 = _g11[_g2];
			++_g2;
			HxOverrides.remove(kha_Scheduler.outdatedTimeTasks,task1);
		}
		var _g3 = 0;
		var _g12 = kha_Scheduler.timeTasksScratchpad;
		while(_g3 < _g12.length) {
			var task2 = _g12[_g3];
			++_g3;
			kha_Scheduler.insertSorted(kha_Scheduler.timeTasks,task2);
		}
		while(kha_Scheduler.timeTasksScratchpad.length > 0) HxOverrides.remove(kha_Scheduler.timeTasksScratchpad,kha_Scheduler.timeTasksScratchpad[0]);
	} else if(time > kha_Scheduler.lastTime) {
		kha_Scheduler.startTime -= time - kha_Scheduler.lastTime;
		kha_Scheduler.current = time;
		kha_Scheduler.lastTime = time;
		kha_Scheduler.executeTimeTasks(time);
	}
};
kha_Scheduler.executeFrame = function() {
	var now = kha_Scheduler.realTime() - kha_Scheduler.startTime;
	var delta = now - kha_Scheduler.lastTime;
	var frameEnd = kha_Scheduler.current;
	if(delta >= 0) {
		if(kha_network_Session.the() == null) {
			if(delta > kha_Scheduler.maxframetime) {
				kha_Scheduler.startTime += delta - kha_Scheduler.maxframetime;
				delta = kha_Scheduler.maxframetime;
				frameEnd += delta;
			} else if(kha_Scheduler.vsync) {
				var realdif = kha_Scheduler.onedifhz;
				while(realdif < delta - kha_Scheduler.onedifhz) realdif += kha_Scheduler.onedifhz;
				delta = realdif;
				var _g1 = 0;
				var _g = kha_Scheduler.DIF_COUNT - 2;
				while(_g1 < _g) {
					var i = _g1++;
					delta += kha_Scheduler.deltas[i];
					kha_Scheduler.deltas[i] = kha_Scheduler.deltas[i + 1];
				}
				delta += kha_Scheduler.deltas[kha_Scheduler.DIF_COUNT - 2];
				delta /= kha_Scheduler.DIF_COUNT;
				kha_Scheduler.deltas[kha_Scheduler.DIF_COUNT - 2] = realdif;
				frameEnd += delta;
			} else {
				var _g11 = 0;
				var _g2 = kha_Scheduler.DIF_COUNT - 1;
				while(_g11 < _g2) {
					var i1 = _g11++;
					kha_Scheduler.deltas[i1] = kha_Scheduler.deltas[i1 + 1];
				}
				kha_Scheduler.deltas[kha_Scheduler.DIF_COUNT - 1] = delta;
				var next = 0;
				var _g12 = 0;
				var _g3 = kha_Scheduler.DIF_COUNT;
				while(_g12 < _g3) {
					var i2 = _g12++;
					next += kha_Scheduler.deltas[i2];
				}
				next /= kha_Scheduler.DIF_COUNT;
				frameEnd += next;
			}
		} else {
			frameEnd += delta;
		}
		kha_Scheduler.lastTime = frameEnd;
		if(!kha_Scheduler.stopped) {
			kha_Scheduler.current = frameEnd;
		}
		var _g4 = 0;
		var _g13 = kha_Scheduler.pausedTimeTasks;
		while(_g4 < _g13.length) {
			var pausedTask = _g13[_g4];
			++_g4;
			pausedTask.next += delta;
		}
		if(kha_Scheduler.stopped) {
			var _g5 = 0;
			var _g14 = kha_Scheduler.timeTasks;
			while(_g5 < _g14.length) {
				var timeTask = _g14[_g5];
				++_g5;
				timeTask.next += delta;
			}
		}
		kha_Scheduler.executeTimeTasks(frameEnd);
		var _g6 = 0;
		var _g15 = kha_Scheduler.outdatedTimeTasks;
		while(_g6 < _g15.length) {
			var task = _g15[_g6];
			++_g6;
			if(task.next < frameEnd - 10.0) {
				kha_Scheduler.timeTasksScratchpad.push(task);
			}
		}
		var _g7 = 0;
		var _g16 = kha_Scheduler.timeTasksScratchpad;
		while(_g7 < _g16.length) {
			var task1 = _g16[_g7];
			++_g7;
			HxOverrides.remove(kha_Scheduler.outdatedTimeTasks,task1);
		}
		while(kha_Scheduler.timeTasksScratchpad.length > 0) HxOverrides.remove(kha_Scheduler.timeTasksScratchpad,kha_Scheduler.timeTasksScratchpad[0]);
	}
	kha_Scheduler.sortFrameTasks();
	var _g8 = 0;
	var _g17 = kha_Scheduler.frameTasks;
	while(_g8 < _g17.length) {
		var frameTask = _g17[_g8];
		++_g8;
		if(!kha_Scheduler.stopped && !frameTask.paused && frameTask.active) {
			if(!frameTask.task()) {
				frameTask.active = false;
			}
		}
	}
	var _g9 = 0;
	var _g18 = kha_Scheduler.frameTasks;
	while(_g9 < _g18.length) {
		var frameTask1 = _g18[_g9];
		++_g9;
		if(!frameTask1.active) {
			kha_Scheduler.toDeleteFrame.push(frameTask1);
		}
	}
	while(kha_Scheduler.toDeleteFrame.length > 0) HxOverrides.remove(kha_Scheduler.frameTasks,kha_Scheduler.toDeleteFrame.pop());
};
kha_Scheduler.executeTimeTasks = function(until) {
	while(kha_Scheduler.timeTasks.length > 0) {
		kha_Scheduler.activeTimeTask = kha_Scheduler.timeTasks[0];
		if(kha_Scheduler.activeTimeTask.next <= until) {
			kha_Scheduler.activeTimeTask.next += kha_Scheduler.activeTimeTask.period;
			HxOverrides.remove(kha_Scheduler.timeTasks,kha_Scheduler.activeTimeTask);
			if(kha_Scheduler.activeTimeTask.active && kha_Scheduler.activeTimeTask.task()) {
				if(kha_Scheduler.activeTimeTask.period > 0 && (kha_Scheduler.activeTimeTask.duration == 0 || kha_Scheduler.activeTimeTask.duration >= kha_Scheduler.activeTimeTask.start + kha_Scheduler.activeTimeTask.next)) {
					kha_Scheduler.insertSorted(kha_Scheduler.timeTasks,kha_Scheduler.activeTimeTask);
				} else {
					kha_Scheduler.archiveTimeTask(kha_Scheduler.activeTimeTask,until);
				}
			} else {
				kha_Scheduler.activeTimeTask.active = false;
				kha_Scheduler.archiveTimeTask(kha_Scheduler.activeTimeTask,until);
			}
		} else {
			break;
		}
	}
	kha_Scheduler.activeTimeTask = null;
};
kha_Scheduler.archiveTimeTask = function(timeTask,frameEnd) {
};
kha_Scheduler.time = function() {
	return kha_Scheduler.current;
};
kha_Scheduler.realTime = function() {
	return kha_System.get_time();
};
kha_Scheduler.resetTime = function() {
	var now = kha_System.get_time();
	var dif = now - kha_Scheduler.startTime;
	kha_Scheduler.startTime = now;
	var _g = 0;
	var _g1 = kha_Scheduler.timeTasks;
	while(_g < _g1.length) {
		var timeTask = _g1[_g];
		++_g;
		timeTask.start -= dif;
		timeTask.next -= dif;
	}
	var _g11 = 0;
	var _g2 = kha_Scheduler.DIF_COUNT;
	while(_g11 < _g2) {
		var i = _g11++;
		kha_Scheduler.deltas[i] = 0;
	}
	kha_Scheduler.current = 0;
	kha_Scheduler.lastTime = 0;
};
kha_Scheduler.addBreakableFrameTask = function(task,priority) {
	kha_Scheduler.frameTasks.push(new kha_FrameTask(task,priority,++kha_Scheduler.currentFrameTaskId));
	kha_Scheduler.frame_tasks_sorted = false;
	return kha_Scheduler.currentFrameTaskId;
};
kha_Scheduler.addFrameTask = function(task,priority) {
	return kha_Scheduler.addBreakableFrameTask(function() {
		task();
		return true;
	},priority);
};
kha_Scheduler.pauseFrameTask = function(id,paused) {
	var _g = 0;
	var _g1 = kha_Scheduler.frameTasks;
	while(_g < _g1.length) {
		var frameTask = _g1[_g];
		++_g;
		if(frameTask.id == id) {
			frameTask.paused = paused;
			break;
		}
	}
};
kha_Scheduler.removeFrameTask = function(id) {
	var _g = 0;
	var _g1 = kha_Scheduler.frameTasks;
	while(_g < _g1.length) {
		var frameTask = _g1[_g];
		++_g;
		if(frameTask.id == id) {
			frameTask.active = false;
			break;
		}
	}
};
kha_Scheduler.generateGroupId = function() {
	return ++kha_Scheduler.currentGroupId;
};
kha_Scheduler.addBreakableTimeTaskToGroup = function(groupId,task,start,period,duration) {
	if(duration == null) {
		duration = 0;
	}
	if(period == null) {
		period = 0;
	}
	var t = new kha_TimeTask();
	t.active = true;
	t.task = task;
	t.id = ++kha_Scheduler.currentTimeTaskId;
	t.groupId = groupId;
	t.start = kha_Scheduler.current + start;
	t.period = 0;
	if(period != 0) {
		t.period = period;
	}
	t.duration = 0;
	if(duration != 0) {
		t.duration = t.start + duration;
	}
	t.next = t.start;
	kha_Scheduler.insertSorted(kha_Scheduler.timeTasks,t);
	return t.id;
};
kha_Scheduler.addTimeTaskToGroup = function(groupId,task,start,period,duration) {
	if(duration == null) {
		duration = 0;
	}
	if(period == null) {
		period = 0;
	}
	return kha_Scheduler.addBreakableTimeTaskToGroup(groupId,function() {
		task();
		return true;
	},start,period,duration);
};
kha_Scheduler.addBreakableTimeTask = function(task,start,period,duration) {
	if(duration == null) {
		duration = 0;
	}
	if(period == null) {
		period = 0;
	}
	return kha_Scheduler.addBreakableTimeTaskToGroup(0,task,start,period,duration);
};
kha_Scheduler.addTimeTask = function(task,start,period,duration) {
	if(duration == null) {
		duration = 0;
	}
	if(period == null) {
		period = 0;
	}
	return kha_Scheduler.addTimeTaskToGroup(0,task,start,period,duration);
};
kha_Scheduler.getTimeTask = function(id) {
	if(kha_Scheduler.activeTimeTask != null && kha_Scheduler.activeTimeTask.id == id) {
		return kha_Scheduler.activeTimeTask;
	}
	var _g = 0;
	var _g1 = kha_Scheduler.timeTasks;
	while(_g < _g1.length) {
		var timeTask = _g1[_g];
		++_g;
		if(timeTask.id == id) {
			return timeTask;
		}
	}
	var _g2 = 0;
	var _g11 = kha_Scheduler.pausedTimeTasks;
	while(_g2 < _g11.length) {
		var timeTask1 = _g11[_g2];
		++_g2;
		if(timeTask1.id == id) {
			return timeTask1;
		}
	}
	return null;
};
kha_Scheduler.pauseTimeTask = function(id,paused) {
	var timeTask = kha_Scheduler.getTimeTask(id);
	if(timeTask != null) {
		kha_Scheduler.pauseRunningTimeTask(timeTask,paused);
	}
	if(kha_Scheduler.activeTimeTask != null && kha_Scheduler.activeTimeTask.id == id) {
		kha_Scheduler.activeTimeTask.paused = paused;
	}
};
kha_Scheduler.pauseRunningTimeTask = function(timeTask,paused) {
	timeTask.paused = paused;
	if(paused) {
		HxOverrides.remove(kha_Scheduler.timeTasks,timeTask);
		kha_Scheduler.pausedTimeTasks.push(timeTask);
	} else {
		kha_Scheduler.insertSorted(kha_Scheduler.timeTasks,timeTask);
		HxOverrides.remove(kha_Scheduler.pausedTimeTasks,timeTask);
	}
};
kha_Scheduler.pauseTimeTasks = function(groupId,paused) {
	var _g = 0;
	var _g1 = kha_Scheduler.timeTasks;
	while(_g < _g1.length) {
		var timeTask = _g1[_g];
		++_g;
		if(timeTask.groupId == groupId) {
			kha_Scheduler.pauseRunningTimeTask(timeTask,paused);
		}
	}
	if(kha_Scheduler.activeTimeTask != null && kha_Scheduler.activeTimeTask.groupId == groupId) {
		kha_Scheduler.activeTimeTask.paused = paused;
	}
};
kha_Scheduler.removeTimeTask = function(id) {
	var timeTask = kha_Scheduler.getTimeTask(id);
	if(timeTask != null) {
		timeTask.active = false;
		HxOverrides.remove(kha_Scheduler.timeTasks,timeTask);
	}
};
kha_Scheduler.removeTimeTasks = function(groupId) {
	var _g = 0;
	var _g1 = kha_Scheduler.timeTasks;
	while(_g < _g1.length) {
		var timeTask = _g1[_g];
		++_g;
		if(timeTask.groupId == groupId) {
			timeTask.active = false;
			kha_Scheduler.timeTasksScratchpad.push(timeTask);
		}
	}
	var _g2 = 0;
	var _g11 = kha_Scheduler.timeTasksScratchpad;
	while(_g2 < _g11.length) {
		var timeTask1 = _g11[_g2];
		++_g2;
		HxOverrides.remove(kha_Scheduler.timeTasks,timeTask1);
	}
	while(kha_Scheduler.timeTasksScratchpad.length > 0) HxOverrides.remove(kha_Scheduler.timeTasksScratchpad,kha_Scheduler.timeTasksScratchpad[0]);
	if(kha_Scheduler.activeTimeTask != null && kha_Scheduler.activeTimeTask.groupId == groupId) {
		kha_Scheduler.activeTimeTask.active = false;
	}
};
kha_Scheduler.numTasksInSchedule = function() {
	return kha_Scheduler.timeTasks.length + kha_Scheduler.frameTasks.length;
};
kha_Scheduler.insertSorted = function(list,task) {
	var _g1 = 0;
	var _g = list.length;
	while(_g1 < _g) {
		var i = _g1++;
		if(list[i].next > task.next) {
			list.splice(i,0,task);
			return;
		}
	}
	list.push(task);
};
kha_Scheduler.sortFrameTasks = function() {
	if(kha_Scheduler.frame_tasks_sorted) {
		return;
	}
	kha_Scheduler.frameTasks.sort(function(a,b) {
		if(a.priority > b.priority) {
			return 1;
		} else if(a.priority < b.priority) {
			return -1;
		} else {
			return 0;
		}
	});
	kha_Scheduler.frame_tasks_sorted = true;
};
var kha_ScreenRotation = $hxClasses["kha.ScreenRotation"] = { __ename__ : ["kha","ScreenRotation"], __constructs__ : ["RotationNone","Rotation90","Rotation180","Rotation270"] };
kha_ScreenRotation.RotationNone = ["RotationNone",0];
kha_ScreenRotation.RotationNone.toString = $estr;
kha_ScreenRotation.RotationNone.__enum__ = kha_ScreenRotation;
kha_ScreenRotation.Rotation90 = ["Rotation90",1];
kha_ScreenRotation.Rotation90.toString = $estr;
kha_ScreenRotation.Rotation90.__enum__ = kha_ScreenRotation;
kha_ScreenRotation.Rotation180 = ["Rotation180",2];
kha_ScreenRotation.Rotation180.toString = $estr;
kha_ScreenRotation.Rotation180.__enum__ = kha_ScreenRotation;
kha_ScreenRotation.Rotation270 = ["Rotation270",3];
kha_ScreenRotation.Rotation270.toString = $estr;
kha_ScreenRotation.Rotation270.__enum__ = kha_ScreenRotation;
var kha_Shaders = $hxClasses["kha.Shaders"] = function() { };
kha_Shaders.__name__ = ["kha","Shaders"];
kha_Shaders.init = function() {
	var blobs = [];
	var _g = 0;
	while(_g < 1) {
		var i = _g++;
		var data = Reflect.field(kha_Shaders,"blur_edge_pass_fragData" + i);
		var bytes = haxe_Unserializer.run(data);
		blobs.push(kha_internal_BytesBlob.fromBytes(bytes));
	}
	kha_Shaders.blur_edge_pass_frag = new kha_graphics4_FragmentShader(blobs,["blur_edge_pass.frag.glsl"]);
	var blobs1 = [];
	var _g1 = 0;
	while(_g1 < 1) {
		var i1 = _g1++;
		var data1 = Reflect.field(kha_Shaders,"compositor_pass_fragData" + i1);
		var bytes1 = haxe_Unserializer.run(data1);
		blobs1.push(kha_internal_BytesBlob.fromBytes(bytes1));
	}
	kha_Shaders.compositor_pass_frag = new kha_graphics4_FragmentShader(blobs1,["compositor_pass.frag.glsl"]);
	var blobs2 = [];
	var _g2 = 0;
	while(_g2 < 1) {
		var i2 = _g2++;
		var data2 = Reflect.field(kha_Shaders,"compositor_pass_vertData" + i2);
		var bytes2 = haxe_Unserializer.run(data2);
		blobs2.push(kha_internal_BytesBlob.fromBytes(bytes2));
	}
	kha_Shaders.compositor_pass_vert = new kha_graphics4_VertexShader(blobs2,["compositor_pass.vert.glsl"]);
	var blobs3 = [];
	var _g3 = 0;
	while(_g3 < 1) {
		var i3 = _g3++;
		var data3 = Reflect.field(kha_Shaders,"deferred_indirect_fragData" + i3);
		var bytes3 = haxe_Unserializer.run(data3);
		blobs3.push(kha_internal_BytesBlob.fromBytes(bytes3));
	}
	kha_Shaders.deferred_indirect_frag = new kha_graphics4_FragmentShader(blobs3,["deferred_indirect.frag.glsl"]);
	var blobs4 = [];
	var _g4 = 0;
	while(_g4 < 1) {
		var i4 = _g4++;
		var data4 = Reflect.field(kha_Shaders,"deferred_indirect_vertData" + i4);
		var bytes4 = haxe_Unserializer.run(data4);
		blobs4.push(kha_internal_BytesBlob.fromBytes(bytes4));
	}
	kha_Shaders.deferred_indirect_vert = new kha_graphics4_VertexShader(blobs4,["deferred_indirect.vert.glsl"]);
	var blobs5 = [];
	var _g5 = 0;
	while(_g5 < 1) {
		var i5 = _g5++;
		var data5 = Reflect.field(kha_Shaders,"deferred_light_fragData" + i5);
		var bytes5 = haxe_Unserializer.run(data5);
		blobs5.push(kha_internal_BytesBlob.fromBytes(bytes5));
	}
	kha_Shaders.deferred_light_frag = new kha_graphics4_FragmentShader(blobs5,["deferred_light.frag.glsl"]);
	var blobs6 = [];
	var _g6 = 0;
	while(_g6 < 1) {
		var i6 = _g6++;
		var data6 = Reflect.field(kha_Shaders,"deferred_light_quad_fragData" + i6);
		var bytes6 = haxe_Unserializer.run(data6);
		blobs6.push(kha_internal_BytesBlob.fromBytes(bytes6));
	}
	kha_Shaders.deferred_light_quad_frag = new kha_graphics4_FragmentShader(blobs6,["deferred_light_quad.frag.glsl"]);
	var blobs7 = [];
	var _g7 = 0;
	while(_g7 < 1) {
		var i7 = _g7++;
		var data7 = Reflect.field(kha_Shaders,"pass_vertData" + i7);
		var bytes7 = haxe_Unserializer.run(data7);
		blobs7.push(kha_internal_BytesBlob.fromBytes(bytes7));
	}
	kha_Shaders.pass_vert = new kha_graphics4_VertexShader(blobs7,["pass.vert.glsl"]);
	var blobs8 = [];
	var _g8 = 0;
	while(_g8 < 1) {
		var i8 = _g8++;
		var data8 = Reflect.field(kha_Shaders,"pass_lamp_volume_vertData" + i8);
		var bytes8 = haxe_Unserializer.run(data8);
		blobs8.push(kha_internal_BytesBlob.fromBytes(bytes8));
	}
	kha_Shaders.pass_lamp_volume_vert = new kha_graphics4_VertexShader(blobs8,["pass_lamp_volume.vert.glsl"]);
	var blobs9 = [];
	var _g9 = 0;
	while(_g9 < 1) {
		var i9 = _g9++;
		var data9 = Reflect.field(kha_Shaders,"pass_viewray_vertData" + i9);
		var bytes9 = haxe_Unserializer.run(data9);
		blobs9.push(kha_internal_BytesBlob.fromBytes(bytes9));
	}
	kha_Shaders.pass_viewray_vert = new kha_graphics4_VertexShader(blobs9,["pass_viewray.vert.glsl"]);
	var blobs10 = [];
	var _g10 = 0;
	while(_g10 < 1) {
		var i10 = _g10++;
		var data10 = Reflect.field(kha_Shaders,"ssao_pass_fragData" + i10);
		var bytes10 = haxe_Unserializer.run(data10);
		blobs10.push(kha_internal_BytesBlob.fromBytes(bytes10));
	}
	kha_Shaders.ssao_pass_frag = new kha_graphics4_FragmentShader(blobs10,["ssao_pass.frag.glsl"]);
	var blobs11 = [];
	var _g11 = 0;
	while(_g11 < 1) {
		var i11 = _g11++;
		var data11 = Reflect.field(kha_Shaders,"translucent_resolve_fragData" + i11);
		var bytes11 = haxe_Unserializer.run(data11);
		blobs11.push(kha_internal_BytesBlob.fromBytes(bytes11));
	}
	kha_Shaders.translucent_resolve_frag = new kha_graphics4_FragmentShader(blobs11,["translucent_resolve.frag.glsl"]);
	var blobs12 = [];
	var _g12 = 0;
	while(_g12 < 1) {
		var i12 = _g12++;
		var data12 = Reflect.field(kha_Shaders,"world_pass_fragData" + i12);
		var bytes12 = haxe_Unserializer.run(data12);
		blobs12.push(kha_internal_BytesBlob.fromBytes(bytes12));
	}
	kha_Shaders.world_pass_frag = new kha_graphics4_FragmentShader(blobs12,["world_pass.frag.glsl"]);
	var blobs13 = [];
	var _g13 = 0;
	while(_g13 < 1) {
		var i13 = _g13++;
		var data13 = Reflect.field(kha_Shaders,"world_pass_vertData" + i13);
		var bytes13 = haxe_Unserializer.run(data13);
		blobs13.push(kha_internal_BytesBlob.fromBytes(bytes13));
	}
	kha_Shaders.world_pass_vert = new kha_graphics4_VertexShader(blobs13,["world_pass.vert.glsl"]);
	var blobs14 = [];
	var _g14 = 0;
	while(_g14 < 1) {
		var i14 = _g14++;
		var data14 = Reflect.field(kha_Shaders,"Material_001_shadowmap_fragData" + i14);
		var bytes14 = haxe_Unserializer.run(data14);
		blobs14.push(kha_internal_BytesBlob.fromBytes(bytes14));
	}
	kha_Shaders.Material_001_shadowmap_frag = new kha_graphics4_FragmentShader(blobs14,["Material_001_shadowmap.frag.glsl"]);
	var blobs15 = [];
	var _g15 = 0;
	while(_g15 < 1) {
		var i15 = _g15++;
		var data15 = Reflect.field(kha_Shaders,"Material_001_shadowmap_vertData" + i15);
		var bytes15 = haxe_Unserializer.run(data15);
		blobs15.push(kha_internal_BytesBlob.fromBytes(bytes15));
	}
	kha_Shaders.Material_001_shadowmap_vert = new kha_graphics4_VertexShader(blobs15,["Material_001_shadowmap.vert.glsl"]);
	var blobs16 = [];
	var _g16 = 0;
	while(_g16 < 1) {
		var i16 = _g16++;
		var data16 = Reflect.field(kha_Shaders,"Material_001_translucent_fragData" + i16);
		var bytes16 = haxe_Unserializer.run(data16);
		blobs16.push(kha_internal_BytesBlob.fromBytes(bytes16));
	}
	kha_Shaders.Material_001_translucent_frag = new kha_graphics4_FragmentShader(blobs16,["Material_001_translucent.frag.glsl"]);
	var blobs17 = [];
	var _g17 = 0;
	while(_g17 < 1) {
		var i17 = _g17++;
		var data17 = Reflect.field(kha_Shaders,"Material_001_translucent_vertData" + i17);
		var bytes17 = haxe_Unserializer.run(data17);
		blobs17.push(kha_internal_BytesBlob.fromBytes(bytes17));
	}
	kha_Shaders.Material_001_translucent_vert = new kha_graphics4_VertexShader(blobs17,["Material_001_translucent.vert.glsl"]);
	var blobs18 = [];
	var _g18 = 0;
	while(_g18 < 1) {
		var i18 = _g18++;
		var data18 = Reflect.field(kha_Shaders,"Material_mesh_fragData" + i18);
		var bytes18 = haxe_Unserializer.run(data18);
		blobs18.push(kha_internal_BytesBlob.fromBytes(bytes18));
	}
	kha_Shaders.Material_mesh_frag = new kha_graphics4_FragmentShader(blobs18,["Material_mesh.frag.glsl"]);
	var blobs19 = [];
	var _g19 = 0;
	while(_g19 < 1) {
		var i19 = _g19++;
		var data19 = Reflect.field(kha_Shaders,"Material_mesh_vertData" + i19);
		var bytes19 = haxe_Unserializer.run(data19);
		blobs19.push(kha_internal_BytesBlob.fromBytes(bytes19));
	}
	kha_Shaders.Material_mesh_vert = new kha_graphics4_VertexShader(blobs19,["Material_mesh.vert.glsl"]);
	var blobs20 = [];
	var _g20 = 0;
	while(_g20 < 1) {
		var i20 = _g20++;
		var data20 = Reflect.field(kha_Shaders,"Material_shadowmap_fragData" + i20);
		var bytes20 = haxe_Unserializer.run(data20);
		blobs20.push(kha_internal_BytesBlob.fromBytes(bytes20));
	}
	kha_Shaders.Material_shadowmap_frag = new kha_graphics4_FragmentShader(blobs20,["Material_shadowmap.frag.glsl"]);
	var blobs21 = [];
	var _g21 = 0;
	while(_g21 < 1) {
		var i21 = _g21++;
		var data21 = Reflect.field(kha_Shaders,"Material_shadowmap_vertData" + i21);
		var bytes21 = haxe_Unserializer.run(data21);
		blobs21.push(kha_internal_BytesBlob.fromBytes(bytes21));
	}
	kha_Shaders.Material_shadowmap_vert = new kha_graphics4_VertexShader(blobs21,["Material_shadowmap.vert.glsl"]);
	var blobs22 = [];
	var _g22 = 0;
	while(_g22 < 1) {
		var i22 = _g22++;
		var data22 = Reflect.field(kha_Shaders,"armdefault_mesh_fragData" + i22);
		var bytes22 = haxe_Unserializer.run(data22);
		blobs22.push(kha_internal_BytesBlob.fromBytes(bytes22));
	}
	kha_Shaders.armdefault_mesh_frag = new kha_graphics4_FragmentShader(blobs22,["armdefault_mesh.frag.glsl"]);
	var blobs23 = [];
	var _g23 = 0;
	while(_g23 < 1) {
		var i23 = _g23++;
		var data23 = Reflect.field(kha_Shaders,"armdefault_mesh_vertData" + i23);
		var bytes23 = haxe_Unserializer.run(data23);
		blobs23.push(kha_internal_BytesBlob.fromBytes(bytes23));
	}
	kha_Shaders.armdefault_mesh_vert = new kha_graphics4_VertexShader(blobs23,["armdefault_mesh.vert.glsl"]);
	var blobs24 = [];
	var _g24 = 0;
	while(_g24 < 1) {
		var i24 = _g24++;
		var data24 = Reflect.field(kha_Shaders,"line_fragData" + i24);
		var bytes24 = haxe_Unserializer.run(data24);
		blobs24.push(kha_internal_BytesBlob.fromBytes(bytes24));
	}
	kha_Shaders.line_frag = new kha_graphics4_FragmentShader(blobs24,["line.frag.glsl"]);
	var blobs25 = [];
	var _g25 = 0;
	while(_g25 < 1) {
		var i25 = _g25++;
		var data25 = Reflect.field(kha_Shaders,"line_deferred_fragData" + i25);
		var bytes25 = haxe_Unserializer.run(data25);
		blobs25.push(kha_internal_BytesBlob.fromBytes(bytes25));
	}
	kha_Shaders.line_deferred_frag = new kha_graphics4_FragmentShader(blobs25,["line_deferred.frag.glsl"]);
	var blobs26 = [];
	var _g26 = 0;
	while(_g26 < 1) {
		var i26 = _g26++;
		var data26 = Reflect.field(kha_Shaders,"line_vertData" + i26);
		var bytes26 = haxe_Unserializer.run(data26);
		blobs26.push(kha_internal_BytesBlob.fromBytes(bytes26));
	}
	kha_Shaders.line_vert = new kha_graphics4_VertexShader(blobs26,["line.vert.glsl"]);
	var blobs27 = [];
	var _g27 = 0;
	while(_g27 < 1) {
		var i27 = _g27++;
		var data27 = Reflect.field(kha_Shaders,"painter_colored_fragData" + i27);
		var bytes27 = haxe_Unserializer.run(data27);
		blobs27.push(kha_internal_BytesBlob.fromBytes(bytes27));
	}
	kha_Shaders.painter_colored_frag = new kha_graphics4_FragmentShader(blobs27,["painter-colored.frag.glsl"]);
	var blobs28 = [];
	var _g28 = 0;
	while(_g28 < 1) {
		var i28 = _g28++;
		var data28 = Reflect.field(kha_Shaders,"painter_colored_vertData" + i28);
		var bytes28 = haxe_Unserializer.run(data28);
		blobs28.push(kha_internal_BytesBlob.fromBytes(bytes28));
	}
	kha_Shaders.painter_colored_vert = new kha_graphics4_VertexShader(blobs28,["painter-colored.vert.glsl"]);
	var blobs29 = [];
	var _g29 = 0;
	while(_g29 < 1) {
		var i29 = _g29++;
		var data29 = Reflect.field(kha_Shaders,"painter_image_vertData" + i29);
		var bytes29 = haxe_Unserializer.run(data29);
		blobs29.push(kha_internal_BytesBlob.fromBytes(bytes29));
	}
	kha_Shaders.painter_image_vert = new kha_graphics4_VertexShader(blobs29,["painter-image.vert.glsl"]);
	var blobs30 = [];
	var _g30 = 0;
	while(_g30 < 1) {
		var i30 = _g30++;
		var data30 = Reflect.field(kha_Shaders,"painter_image_fragData" + i30);
		var bytes30 = haxe_Unserializer.run(data30);
		blobs30.push(kha_internal_BytesBlob.fromBytes(bytes30));
	}
	kha_Shaders.painter_image_frag = new kha_graphics4_FragmentShader(blobs30,["painter-image.frag.glsl"]);
	var blobs31 = [];
	var _g31 = 0;
	while(_g31 < 1) {
		var i31 = _g31++;
		var data31 = Reflect.field(kha_Shaders,"painter_text_fragData" + i31);
		var bytes31 = haxe_Unserializer.run(data31);
		blobs31.push(kha_internal_BytesBlob.fromBytes(bytes31));
	}
	kha_Shaders.painter_text_frag = new kha_graphics4_FragmentShader(blobs31,["painter-text.frag.glsl"]);
	var blobs32 = [];
	var _g32 = 0;
	while(_g32 < 1) {
		var i32 = _g32++;
		var data32 = Reflect.field(kha_Shaders,"painter_video_fragData" + i32);
		var bytes32 = haxe_Unserializer.run(data32);
		blobs32.push(kha_internal_BytesBlob.fromBytes(bytes32));
	}
	kha_Shaders.painter_video_frag = new kha_graphics4_FragmentShader(blobs32,["painter-video.frag.glsl"]);
	var blobs33 = [];
	var _g33 = 0;
	while(_g33 < 1) {
		var i33 = _g33++;
		var data33 = Reflect.field(kha_Shaders,"painter_text_vertData" + i33);
		var bytes33 = haxe_Unserializer.run(data33);
		blobs33.push(kha_internal_BytesBlob.fromBytes(bytes33));
	}
	kha_Shaders.painter_text_vert = new kha_graphics4_VertexShader(blobs33,["painter-text.vert.glsl"]);
	var blobs34 = [];
	var _g34 = 0;
	while(_g34 < 1) {
		var i34 = _g34++;
		var data34 = Reflect.field(kha_Shaders,"painter_video_vertData" + i34);
		var bytes34 = haxe_Unserializer.run(data34);
		blobs34.push(kha_internal_BytesBlob.fromBytes(bytes34));
	}
	kha_Shaders.painter_video_vert = new kha_graphics4_VertexShader(blobs34,["painter-video.vert.glsl"]);
};
var kha_Sound = $hxClasses["kha.Sound"] = function() {
};
kha_Sound.__name__ = ["kha","Sound"];
kha_Sound.__interfaces__ = [kha_Resource];
kha_Sound.prototype = {
	compressedData: null
	,uncompressedData: null
	,uncompress: function(done) {
		var output = new haxe_io_BytesOutput();
		var header = kha_audio2_ogg_vorbis_Reader.readAll(this.compressedData,output,true);
		var soundBytes = output.getBytes();
		var count = soundBytes.length / 4 | 0;
		if(header.channel == 1) {
			var this1 = new Array(count * 2);
			this.uncompressedData = this1;
			var _g1 = 0;
			var _g = count;
			while(_g1 < _g) {
				var i = _g1++;
				this.uncompressedData[i * 2] = soundBytes.getFloat(i * 4);
				this.uncompressedData[i * 2 + 1] = soundBytes.getFloat(i * 4);
			}
		} else {
			var this2 = new Array(count);
			this.uncompressedData = this2;
			var _g11 = 0;
			var _g2 = count;
			while(_g11 < _g2) {
				var i1 = _g11++;
				this.uncompressedData[i1] = soundBytes.getFloat(i1 * 4);
			}
		}
		this.compressedData = null;
		done();
	}
	,unload: function() {
		this.compressedData = null;
		this.uncompressedData = null;
	}
	,__class__: kha_Sound
};
var kha_StorageFile = $hxClasses["kha.StorageFile"] = function() { };
kha_StorageFile.__name__ = ["kha","StorageFile"];
kha_StorageFile.prototype = {
	read: function() {
		return null;
	}
	,write: function(data) {
	}
	,append: function(data) {
	}
	,canAppend: function() {
		return false;
	}
	,maxSize: function() {
		return -1;
	}
	,writeString: function(data) {
		var bytes = haxe_io_Bytes.ofString(data);
		this.write(kha_internal_BytesBlob.fromBytes(bytes));
	}
	,appendString: function(data) {
		var bytes = haxe_io_Bytes.ofString(data);
		this.append(kha_internal_BytesBlob.fromBytes(bytes));
	}
	,readString: function() {
		var blob = this.read();
		if(blob == null) {
			return null;
		} else {
			return blob.toString();
		}
	}
	,writeObject: function(object) {
		this.writeString(haxe_Serializer.run(object));
	}
	,readObject: function() {
		var s = this.readString();
		if(s == null) {
			return null;
		}
		try {
			return haxe_Unserializer.run(s);
		} catch( e ) {
			return null;
		}
	}
	,__class__: kha_StorageFile
};
var kha_KromStorageFile = $hxClasses["kha.KromStorageFile"] = function(name) {
	this.name = name;
};
kha_KromStorageFile.__name__ = ["kha","KromStorageFile"];
kha_KromStorageFile.__super__ = kha_StorageFile;
kha_KromStorageFile.prototype = $extend(kha_StorageFile.prototype,{
	name: null
	,read: function() {
		var data = Krom.readStorage(this.name);
		if(data != null) {
			return kha_internal_BytesBlob.fromBytes(haxe_io_Bytes.ofData(data));
		} else {
			return null;
		}
	}
	,write: function(data) {
		if(data != null) {
			Krom.writeStorage(this.name,data.toBytes().b.bufferValue);
		}
	}
	,__class__: kha_KromStorageFile
});
var kha_Storage = $hxClasses["kha.Storage"] = function() { };
kha_Storage.__name__ = ["kha","Storage"];
kha_Storage.namedFile = function(name) {
	name = StringTools.replace(name,"\\",".");
	name = StringTools.replace(name,"/",".");
	return new kha_KromStorageFile(name);
};
kha_Storage.defaultFile = function() {
	return kha_Storage.namedFile("default.kha");
};
var kha_System = $hxClasses["kha.System"] = function() { };
kha_System.__name__ = ["kha","System"];
kha_System.__properties__ = {get_systemId:"get_systemId",get_refreshRate:"get_refreshRate",get_vsync:"get_vsync",get_screenRotation:"get_screenRotation",get_time:"get_time",get_title:"get_title"};
kha_System.init = function(options,callback) {
	if(options.title == null) {
		options.title = "Kha";
	}
	if(options.width == null) {
		options.width = 800;
	}
	if(options.height == null) {
		options.height = 600;
	}
	if(options.samplesPerPixel == null) {
		options.samplesPerPixel = 1;
	}
	if(options.vSync == null) {
		options.vSync = true;
	}
	if(options.windowMode == null) {
		options.windowMode = kha_WindowMode.Window;
	}
	if(options.resizable == null) {
		options.resizable = false;
	}
	if(options.maximizable == null) {
		options.maximizable = false;
	}
	if(options.minimizable == null) {
		options.minimizable = true;
	}
	kha_System.theTitle = options.title;
	kha_SystemImpl.init(options,callback);
};
kha_System.initEx = function(title,options,windowCallback,callback) {
	kha_System.theTitle = title;
	kha_SystemImpl.initEx(title,options,windowCallback,callback);
};
kha_System.get_title = function() {
	return kha_System.theTitle;
};
kha_System.notifyOnRender = function(listener,id) {
	if(id == null) {
		id = 0;
	}
	while(id >= kha_System.renderListeners.length) kha_System.renderListeners.push([]);
	kha_System.renderListeners[id].push(listener);
};
kha_System.removeRenderListener = function(listener,id) {
	if(id == null) {
		id = 0;
	}
	HxOverrides.remove(kha_System.renderListeners[id],listener);
};
kha_System.notifyOnApplicationState = function(foregroundListener,resumeListener,pauseListener,backgroundListener,shutdownListener) {
	if(foregroundListener != null) {
		kha_System.foregroundListeners.push(foregroundListener);
	}
	if(resumeListener != null) {
		kha_System.resumeListeners.push(resumeListener);
	}
	if(pauseListener != null) {
		kha_System.pauseListeners.push(pauseListener);
	}
	if(backgroundListener != null) {
		kha_System.backgroundListeners.push(backgroundListener);
	}
	if(shutdownListener != null) {
		kha_System.shutdownListeners.push(shutdownListener);
	}
};
kha_System.notifyOnDropFiles = function(dropFilesListener) {
	kha_System.dropFilesListeners.push(dropFilesListener);
};
kha_System.notifyOnCutCopyPaste = function(cutListener,copyListener,pasteListener) {
	kha_System.cutListener = cutListener;
	kha_System.copyListener = copyListener;
	kha_System.pasteListener = pasteListener;
};
kha_System.render = function(id,framebuffer) {
	if(kha_System.renderListeners.length == 0) {
		return;
	}
	var _g = 0;
	var _g1 = kha_System.renderListeners[id];
	while(_g < _g1.length) {
		var listener = _g1[_g];
		++_g;
		listener(framebuffer);
	}
};
kha_System.foreground = function() {
	var _g = 0;
	var _g1 = kha_System.foregroundListeners;
	while(_g < _g1.length) {
		var listener = _g1[_g];
		++_g;
		listener();
	}
};
kha_System.resume = function() {
	var _g = 0;
	var _g1 = kha_System.resumeListeners;
	while(_g < _g1.length) {
		var listener = _g1[_g];
		++_g;
		listener();
	}
};
kha_System.pause = function() {
	var _g = 0;
	var _g1 = kha_System.pauseListeners;
	while(_g < _g1.length) {
		var listener = _g1[_g];
		++_g;
		listener();
	}
};
kha_System.background = function() {
	var _g = 0;
	var _g1 = kha_System.backgroundListeners;
	while(_g < _g1.length) {
		var listener = _g1[_g];
		++_g;
		listener();
	}
};
kha_System.shutdown = function() {
	var _g = 0;
	var _g1 = kha_System.shutdownListeners;
	while(_g < _g1.length) {
		var listener = _g1[_g];
		++_g;
		listener();
	}
};
kha_System.dropFiles = function(filePath) {
	var _g = 0;
	var _g1 = kha_System.dropFilesListeners;
	while(_g < _g1.length) {
		var listener = _g1[_g];
		++_g;
		listener(filePath);
	}
};
kha_System.get_time = function() {
	return kha_SystemImpl.getTime();
};
kha_System.windowWidth = function(windowId) {
	if(windowId == null) {
		windowId = 0;
	}
	return kha_SystemImpl.windowWidth(windowId);
};
kha_System.windowHeight = function(windowId) {
	if(windowId == null) {
		windowId = 0;
	}
	return kha_SystemImpl.windowHeight(windowId);
};
kha_System.screenDpi = function() {
	return kha_SystemImpl.screenDpi();
};
kha_System.get_screenRotation = function() {
	return kha_SystemImpl.getScreenRotation();
};
kha_System.get_vsync = function() {
	return kha_SystemImpl.getVsync();
};
kha_System.get_refreshRate = function() {
	return kha_SystemImpl.getRefreshRate();
};
kha_System.get_systemId = function() {
	return kha_SystemImpl.getSystemId();
};
kha_System.requestShutdown = function() {
	kha_SystemImpl.requestShutdown();
};
kha_System.changeResolution = function(width,height) {
	kha_SystemImpl.changeResolution(width,height);
};
kha_System.loadUrl = function(url) {
	kha_SystemImpl.loadUrl(url);
};
kha_System.canSwitchFullscreen = function() {
	return kha_SystemImpl.canSwitchFullscreen();
};
kha_System.isFullscreen = function() {
	return kha_SystemImpl.isFullscreen();
};
kha_System.requestFullscreen = function() {
	kha_SystemImpl.requestFullscreen();
};
kha_System.exitFullscreen = function() {
	kha_SystemImpl.exitFullscreen();
};
kha_System.notifyOnFullscreenChange = function(func,error) {
	kha_SystemImpl.notifyOfFullscreenChange(func,error);
};
kha_System.removeFullscreenListener = function(func,error) {
	kha_SystemImpl.removeFromFullscreenChange(func,error);
};
var kha_SystemImpl = $hxClasses["kha.SystemImpl"] = function() { };
kha_SystemImpl.__name__ = ["kha","SystemImpl"];
kha_SystemImpl.renderCallback = function() {
	kha_Scheduler.executeFrame();
	kha_System.render(0,kha_SystemImpl.framebuffer);
};
kha_SystemImpl.dropFilesCallback = function(filePath) {
	kha_System.dropFiles(filePath);
};
kha_SystemImpl.keyboardDownCallback = function(code) {
	kha_SystemImpl.keyboard.sendDownEvent(code);
};
kha_SystemImpl.keyboardUpCallback = function(code) {
	kha_SystemImpl.keyboard.sendUpEvent(code);
};
kha_SystemImpl.keyboardPressCallback = function(charCode) {
	kha_SystemImpl.keyboard.sendPressEvent(String.fromCharCode(charCode));
};
kha_SystemImpl.mouseDownCallback = function(button,x,y) {
	kha_SystemImpl.mouse.sendDownEvent(0,button,x,y);
};
kha_SystemImpl.mouseUpCallback = function(button,x,y) {
	kha_SystemImpl.mouse.sendUpEvent(0,button,x,y);
};
kha_SystemImpl.mouseMoveCallback = function(x,y,mx,my) {
	kha_SystemImpl.mouse.sendMoveEvent(0,x,y,mx,my);
};
kha_SystemImpl.mouseWheelCallback = function(delta) {
	kha_SystemImpl.mouse.sendWheelEvent(0,delta);
};
kha_SystemImpl.penDownCallback = function(x,y,pressure) {
	kha_SystemImpl.pen.sendDownEvent(0,x,y,pressure);
};
kha_SystemImpl.penUpCallback = function(x,y,pressure) {
	kha_SystemImpl.pen.sendUpEvent(0,x,y,pressure);
};
kha_SystemImpl.penMoveCallback = function(x,y,pressure) {
	kha_SystemImpl.pen.sendMoveEvent(0,x,y,pressure);
};
kha_SystemImpl.gamepadAxisCallback = function(gamepad,axis,value) {
	kha_SystemImpl.gamepads[gamepad].sendAxisEvent(axis,value);
};
kha_SystemImpl.gamepadButtonCallback = function(gamepad,button,value) {
	kha_SystemImpl.gamepads[gamepad].sendButtonEvent(button,value);
};
kha_SystemImpl.audioCallback = function(samples) {
	var this1 = new Array(samples);
	kha_SystemImpl.audioOutputData = this1;
	kha_audio2_Audio._callCallback(samples);
	var _g1 = 0;
	var _g = samples;
	while(_g1 < _g) {
		var i = _g1++;
		var value = kha_audio2_Audio._readSample();
		kha_SystemImpl.audioOutputData[i] = value;
	}
	var _g11 = 0;
	var _g2 = samples;
	while(_g11 < _g2) {
		var i1 = _g11++;
		Krom.writeAudioBuffer(kha_SystemImpl.audioOutputData[i1]);
	}
};
kha_SystemImpl.init = function(options,callback) {
	Krom.init(options.title,options.width,options.height,options.samplesPerPixel,options.vSync,kha_SystemImpl.translateWindowMode(options.windowMode),options.resizable,options.maximizable,options.minimizable);
	kha_SystemImpl.start = Krom.getTime();
	haxe_Log.trace = function(v,infos) {
		Krom.log(v);
	};
	kha_Scheduler.init();
	kha_Shaders.init();
	var g4 = new kha_krom_Graphics();
	kha_SystemImpl.framebuffer = new kha_Framebuffer(0,null,null,g4);
	kha_SystemImpl.framebuffer.init(new kha_graphics2_Graphics1(kha_SystemImpl.framebuffer),new kha_graphics4_Graphics2(kha_SystemImpl.framebuffer),g4);
	Krom.setCallback(kha_SystemImpl.renderCallback);
	Krom.setDropFilesCallback(kha_SystemImpl.dropFilesCallback);
	kha_SystemImpl.keyboard = new kha_input_Keyboard();
	kha_SystemImpl.mouse = new kha_input_MouseImpl();
	kha_SystemImpl.pen = new kha_input_Pen();
	kha_SystemImpl.gamepads = [];
	var _g1 = 0;
	var _g = kha_SystemImpl.maxGamepads;
	while(_g1 < _g) {
		var i = _g1++;
		kha_SystemImpl.gamepads[i] = new kha_input_Gamepad(i);
	}
	Krom.setKeyboardDownCallback(kha_SystemImpl.keyboardDownCallback);
	Krom.setKeyboardUpCallback(kha_SystemImpl.keyboardUpCallback);
	Krom.setKeyboardPressCallback(kha_SystemImpl.keyboardPressCallback);
	Krom.setMouseDownCallback(kha_SystemImpl.mouseDownCallback);
	Krom.setMouseUpCallback(kha_SystemImpl.mouseUpCallback);
	Krom.setMouseMoveCallback(kha_SystemImpl.mouseMoveCallback);
	Krom.setMouseWheelCallback(kha_SystemImpl.mouseWheelCallback);
	Krom.setPenDownCallback(kha_SystemImpl.penDownCallback);
	Krom.setPenUpCallback(kha_SystemImpl.penUpCallback);
	Krom.setPenMoveCallback(kha_SystemImpl.penMoveCallback);
	Krom.setGamepadAxisCallback(kha_SystemImpl.gamepadAxisCallback);
	Krom.setGamepadButtonCallback(kha_SystemImpl.gamepadButtonCallback);
	kha_audio2_Audio._init();
	kha_audio2_Audio1._init();
	Krom.setAudioCallback(kha_SystemImpl.audioCallback);
	kha_Scheduler.start();
	callback();
};
kha_SystemImpl.initEx = function(title,options,windowCallback,callback) {
};
kha_SystemImpl.translateWindowMode = function(value) {
	if(value == null) {
		return 0;
	}
	switch(value[1]) {
	case 0:
		return 0;
	case 1:
		return 1;
	case 2:
		return 2;
	}
};
kha_SystemImpl.getScreenRotation = function() {
	return kha_ScreenRotation.RotationNone;
};
kha_SystemImpl.getTime = function() {
	return Krom.getTime() - kha_SystemImpl.start;
};
kha_SystemImpl.windowWidth = function(id) {
	return Krom.windowWidth(id);
};
kha_SystemImpl.windowHeight = function(id) {
	return Krom.windowHeight(id);
};
kha_SystemImpl.screenDpi = function() {
	return Krom.screenDpi();
};
kha_SystemImpl.getVsync = function() {
	return true;
};
kha_SystemImpl.getRefreshRate = function() {
	return 60;
};
kha_SystemImpl.getSystemId = function() {
	return Krom.systemId();
};
kha_SystemImpl.requestShutdown = function() {
	Krom.requestShutdown();
};
kha_SystemImpl.getMouse = function(num) {
	return kha_SystemImpl.mouse;
};
kha_SystemImpl.getPen = function(num) {
	return kha_SystemImpl.pen;
};
kha_SystemImpl.getKeyboard = function(num) {
	return kha_SystemImpl.keyboard;
};
kha_SystemImpl.lockMouse = function() {
	if(!kha_SystemImpl.isMouseLocked()) {
		Krom.lockMouse();
		var _g = 0;
		var _g1 = kha_SystemImpl.mouseLockListeners;
		while(_g < _g1.length) {
			var listener = _g1[_g];
			++_g;
			listener();
		}
	}
};
kha_SystemImpl.unlockMouse = function() {
	if(kha_SystemImpl.isMouseLocked()) {
		Krom.unlockMouse();
		var _g = 0;
		var _g1 = kha_SystemImpl.mouseLockListeners;
		while(_g < _g1.length) {
			var listener = _g1[_g];
			++_g;
			listener();
		}
	}
};
kha_SystemImpl.canLockMouse = function() {
	return Krom.canLockMouse();
};
kha_SystemImpl.isMouseLocked = function() {
	return Krom.isMouseLocked();
};
kha_SystemImpl.notifyOfMouseLockChange = function(func,error) {
	if(kha_SystemImpl.canLockMouse() && func != null) {
		kha_SystemImpl.mouseLockListeners.push(func);
	}
};
kha_SystemImpl.removeFromMouseLockChange = function(func,error) {
	if(kha_SystemImpl.canLockMouse() && func != null) {
		HxOverrides.remove(kha_SystemImpl.mouseLockListeners,func);
	}
};
kha_SystemImpl.unload = function() {
};
kha_SystemImpl.canSwitchFullscreen = function() {
	return false;
};
kha_SystemImpl.isFullscreen = function() {
	return false;
};
kha_SystemImpl.requestFullscreen = function() {
};
kha_SystemImpl.exitFullscreen = function() {
};
kha_SystemImpl.notifyOfFullscreenChange = function(func,error) {
};
kha_SystemImpl.removeFromFullscreenChange = function(func,error) {
};
kha_SystemImpl.changeResolution = function(width,height) {
};
kha_SystemImpl.setKeepScreenOn = function(on) {
};
kha_SystemImpl.loadUrl = function(url) {
};
kha_SystemImpl.getGamepadId = function(index) {
	return "unkown";
};
var kha_Video = $hxClasses["kha.Video"] = function() {
};
kha_Video.__name__ = ["kha","Video"];
kha_Video.__interfaces__ = [kha_Resource];
kha_Video.prototype = {
	width: function() {
		return 100;
	}
	,height: function() {
		return 100;
	}
	,play: function(loop) {
		if(loop == null) {
			loop = false;
		}
	}
	,pause: function() {
	}
	,stop: function() {
	}
	,getLength: function() {
		return 0;
	}
	,getCurrentPos: function() {
		return 0;
	}
	,get_position: function() {
		return 0;
	}
	,set_position: function(value) {
		return 0;
	}
	,getVolume: function() {
		return 1;
	}
	,setVolume: function(volume) {
	}
	,isFinished: function() {
		return this.getCurrentPos() >= this.getLength();
	}
	,unload: function() {
	}
	,__class__: kha_Video
	,__properties__: {set_position:"set_position",get_position:"get_position"}
};
var kha_WindowMode = $hxClasses["kha.WindowMode"] = { __ename__ : ["kha","WindowMode"], __constructs__ : ["Window","BorderlessWindow","Fullscreen"] };
kha_WindowMode.Window = ["Window",0];
kha_WindowMode.Window.toString = $estr;
kha_WindowMode.Window.__enum__ = kha_WindowMode;
kha_WindowMode.BorderlessWindow = ["BorderlessWindow",1];
kha_WindowMode.BorderlessWindow.toString = $estr;
kha_WindowMode.BorderlessWindow.__enum__ = kha_WindowMode;
kha_WindowMode.Fullscreen = ["Fullscreen",2];
kha_WindowMode.Fullscreen.toString = $estr;
kha_WindowMode.Fullscreen.__enum__ = kha_WindowMode;
var kha_Position = $hxClasses["kha.Position"] = { __ename__ : ["kha","Position"], __constructs__ : ["Center","Fixed"] };
kha_Position.Center = ["Center",0];
kha_Position.Center.toString = $estr;
kha_Position.Center.__enum__ = kha_Position;
kha_Position.Fixed = function(v) { var $x = ["Fixed",1,v]; $x.__enum__ = kha_Position; $x.toString = $estr; return $x; };
var kha_TargetDisplay = $hxClasses["kha.TargetDisplay"] = { __ename__ : ["kha","TargetDisplay"], __constructs__ : ["Primary","ById"] };
kha_TargetDisplay.Primary = ["Primary",0];
kha_TargetDisplay.Primary.toString = $estr;
kha_TargetDisplay.Primary.__enum__ = kha_TargetDisplay;
kha_TargetDisplay.ById = function(id) { var $x = ["ById",1,id]; $x.__enum__ = kha_TargetDisplay; $x.toString = $estr; return $x; };
var kha_RendererOptions = $hxClasses["kha.RendererOptions"] = function(textureFormat,depthStencilFormat,samplesPerPixel) {
	this.textureFormat = textureFormat;
	this.depthStencilFormat = depthStencilFormat;
	this.samplesPerPixel = samplesPerPixel;
};
kha_RendererOptions.__name__ = ["kha","RendererOptions"];
kha_RendererOptions.prototype = {
	textureFormat: null
	,depthStencilFormat: null
	,samplesPerPixel: null
	,__class__: kha_RendererOptions
};
var kha_WindowedModeOptions = $hxClasses["kha.WindowedModeOptions"] = function(minimizable,maximizable,resizable) {
	this.minimizable = minimizable;
	this.maximizable = maximizable;
	this.resizable = resizable;
};
kha_WindowedModeOptions.__name__ = ["kha","WindowedModeOptions"];
kha_WindowedModeOptions.prototype = {
	minimizable: null
	,maximizable: null
	,resizable: null
	,__class__: kha_WindowedModeOptions
};
var kha_WindowOptions = $hxClasses["kha.WindowOptions"] = function(width,height,mode,title,x,y,targetDisplay,rendererOptions,windowedModeOptions) {
	this.width = width;
	this.height = height;
	this.mode = mode;
	this.title = title;
	this.x = x;
	this.y = y;
	this.targetDisplay = targetDisplay;
	this.rendererOptions = rendererOptions;
	this.windowedModeOptions = windowedModeOptions;
};
kha_WindowOptions.__name__ = ["kha","WindowOptions"];
kha_WindowOptions.prototype = {
	width: null
	,height: null
	,mode: null
	,title: null
	,x: null
	,y: null
	,targetDisplay: null
	,rendererOptions: null
	,windowedModeOptions: null
	,__class__: kha_WindowOptions
};
var kha_arrays__$Float32Array_Float32Array_$Impl_$ = $hxClasses["kha.arrays._Float32Array.Float32Array_Impl_"] = {};
kha_arrays__$Float32Array_Float32Array_$Impl_$.__name__ = ["kha","arrays","_Float32Array","Float32Array_Impl_"];
kha_arrays__$Float32Array_Float32Array_$Impl_$.__properties__ = {get_length:"get_length"};
kha_arrays__$Float32Array_Float32Array_$Impl_$._new = function(elements) {
	var this1 = new Float32Array(elements);
	return this1;
};
kha_arrays__$Float32Array_Float32Array_$Impl_$.get_length = function(this1) {
	return this1.length;
};
kha_arrays__$Float32Array_Float32Array_$Impl_$.set = function(this1,index,value) {
	return this1[index] = value;
};
kha_arrays__$Float32Array_Float32Array_$Impl_$.get = function(this1,index) {
	return this1[index];
};
kha_arrays__$Float32Array_Float32Array_$Impl_$.data = function(this1) {
	return this1;
};
kha_arrays__$Float32Array_Float32Array_$Impl_$.arrayRead = function(this1,index) {
	return this1[index];
};
kha_arrays__$Float32Array_Float32Array_$Impl_$.arrayWrite = function(this1,index,value) {
	return this1[index] = value;
};
kha_arrays__$Float32Array_Float32Array_$Impl_$.subarray = function(this1,start,end) {
	return this1.subarray(start,end);
};
var kha_arrays__$Uint32Array_Uint32Array_$Impl_$ = $hxClasses["kha.arrays._Uint32Array.Uint32Array_Impl_"] = {};
kha_arrays__$Uint32Array_Uint32Array_$Impl_$.__name__ = ["kha","arrays","_Uint32Array","Uint32Array_Impl_"];
kha_arrays__$Uint32Array_Uint32Array_$Impl_$.__properties__ = {get_length:"get_length"};
kha_arrays__$Uint32Array_Uint32Array_$Impl_$._new = function(elements) {
	var this1 = new Uint32Array(elements);
	return this1;
};
kha_arrays__$Uint32Array_Uint32Array_$Impl_$.get_length = function(this1) {
	return this1.length;
};
kha_arrays__$Uint32Array_Uint32Array_$Impl_$.set = function(this1,index,value) {
	return this1[index] = value;
};
kha_arrays__$Uint32Array_Uint32Array_$Impl_$.get = function(this1,index) {
	return this1[index];
};
kha_arrays__$Uint32Array_Uint32Array_$Impl_$.data = function(this1) {
	return this1;
};
kha_arrays__$Uint32Array_Uint32Array_$Impl_$.arrayRead = function(this1,index) {
	return this1[index];
};
kha_arrays__$Uint32Array_Uint32Array_$Impl_$.arrayWrite = function(this1,index,value) {
	return this1[index] = value;
};
kha_arrays__$Uint32Array_Uint32Array_$Impl_$.subarray = function(this1,start,end) {
	return this1.subarray(start,end);
};
var kha_audio1_AudioChannel = $hxClasses["kha.audio1.AudioChannel"] = function() { };
kha_audio1_AudioChannel.__name__ = ["kha","audio1","AudioChannel"];
kha_audio1_AudioChannel.prototype = {
	play: null
	,pause: null
	,stop: null
	,length: null
	,get_length: null
	,position: null
	,get_position: null
	,get_volume: null
	,set_volume: null
	,finished: null
	,get_finished: null
	,__class__: kha_audio1_AudioChannel
	,__properties__: {get_finished:"get_finished",set_volume:"set_volume",get_volume:"get_volume",get_position:"get_position",get_length:"get_length"}
};
var kha_audio2_Audio = $hxClasses["kha.audio2.Audio"] = function() { };
kha_audio2_Audio.__name__ = ["kha","audio2","Audio"];
kha_audio2_Audio._init = function() {
	var bufferSize = 2048;
	kha_audio2_Audio.buffer = new kha_audio2_Buffer(bufferSize * 4,2,44100);
};
kha_audio2_Audio._callCallback = function(samples) {
	if(kha_audio2_Audio.buffer == null) {
		return;
	}
	if(kha_audio2_Audio.audioCallback != null) {
		kha_audio2_Audio.audioCallback(samples,kha_audio2_Audio.buffer);
	} else {
		var _g1 = 0;
		var _g = samples;
		while(_g1 < _g) {
			var i = _g1++;
			kha_audio2_Audio.buffer.data[kha_audio2_Audio.buffer.writeLocation] = 0;
			kha_audio2_Audio.buffer.writeLocation += 1;
			if(kha_audio2_Audio.buffer.writeLocation >= kha_audio2_Audio.buffer.size) {
				kha_audio2_Audio.buffer.writeLocation = 0;
			}
		}
	}
};
kha_audio2_Audio._readSample = function() {
	if(kha_audio2_Audio.buffer == null) {
		return 0;
	}
	var value = kha_audio2_Audio.buffer.data[kha_audio2_Audio.buffer.readLocation];
	kha_audio2_Audio.buffer.readLocation += 1;
	if(kha_audio2_Audio.buffer.readLocation >= kha_audio2_Audio.buffer.size) {
		kha_audio2_Audio.buffer.readLocation = 0;
	}
	return value;
};
kha_audio2_Audio.play = function(sound,loop) {
	if(loop == null) {
		loop = false;
	}
	return null;
};
kha_audio2_Audio.stream = function(sound,loop) {
	if(loop == null) {
		loop = false;
	}
	return null;
};
var kha_audio2_Audio1 = $hxClasses["kha.audio2.Audio1"] = function() { };
kha_audio2_Audio1.__name__ = ["kha","audio2","Audio1"];
kha_audio2_Audio1._init = function() {
	var this1 = new Array(16);
	kha_audio2_Audio1.soundChannels = this1;
	var this2 = new Array(16);
	kha_audio2_Audio1.streamChannels = this2;
	var this3 = new Array(16);
	kha_audio2_Audio1.internalSoundChannels = this3;
	var this4 = new Array(16);
	kha_audio2_Audio1.internalStreamChannels = this4;
	var this5 = new Array(512);
	kha_audio2_Audio1.sampleCache1 = this5;
	var this6 = new Array(512);
	kha_audio2_Audio1.sampleCache2 = this6;
	kha_audio2_Audio.audioCallback = kha_audio2_Audio1.mix;
};
kha_audio2_Audio1.max = function(a,b) {
	if(a > b) {
		return a;
	} else {
		return b;
	}
};
kha_audio2_Audio1.min = function(a,b) {
	if(a < b) {
		return a;
	} else {
		return b;
	}
};
kha_audio2_Audio1.mix = function(samples,buffer) {
	if(kha_audio2_Audio1.sampleCache1.length < samples) {
		var this1 = new Array(samples);
		kha_audio2_Audio1.sampleCache1 = this1;
		var this2 = new Array(samples);
		kha_audio2_Audio1.sampleCache2 = this2;
	}
	var _g1 = 0;
	var _g = samples;
	while(_g1 < _g) {
		var i = _g1++;
		kha_audio2_Audio1.sampleCache2[i] = 0;
	}
	var _g2 = 0;
	while(_g2 < 16) {
		var i1 = _g2++;
		kha_audio2_Audio1.internalSoundChannels[i1] = kha_audio2_Audio1.soundChannels[i1];
	}
	var _g3 = 0;
	while(_g3 < 16) {
		var i2 = _g3++;
		kha_audio2_Audio1.internalStreamChannels[i2] = kha_audio2_Audio1.streamChannels[i2];
	}
	var _g4 = 0;
	var _g11 = kha_audio2_Audio1.internalSoundChannels;
	while(_g4 < _g11.length) {
		var channel = _g11[_g4];
		++_g4;
		if(channel == null || channel.get_finished()) {
			continue;
		}
		channel.nextSamples(kha_audio2_Audio1.sampleCache1,samples,buffer.samplesPerSecond);
		var _g31 = 0;
		var _g21 = samples;
		while(_g31 < _g21) {
			var i3 = _g31++;
			var _g41 = i3;
			var _g5 = kha_audio2_Audio1.sampleCache2;
			var val = kha_audio2_Audio1.sampleCache1[i3] * channel.get_volume();
			_g5[_g41] = _g5[_g41] + val;
		}
	}
	var _g6 = 0;
	var _g12 = kha_audio2_Audio1.internalStreamChannels;
	while(_g6 < _g12.length) {
		var channel1 = _g12[_g6];
		++_g6;
		if(channel1 == null || channel1.get_finished()) {
			continue;
		}
		channel1.nextSamples(kha_audio2_Audio1.sampleCache1,samples,buffer.samplesPerSecond);
		var _g32 = 0;
		var _g22 = samples;
		while(_g32 < _g22) {
			var i4 = _g32++;
			var _g42 = i4;
			var _g51 = kha_audio2_Audio1.sampleCache2;
			var val1 = kha_audio2_Audio1.sampleCache1[i4] * channel1.get_volume();
			_g51[_g42] = _g51[_g42] + val1;
		}
	}
	var _g13 = 0;
	var _g7 = samples;
	while(_g13 < _g7) {
		var i5 = _g13++;
		var a = kha_audio2_Audio1.sampleCache2[i5];
		var a1 = a < 1.0 ? a : 1.0;
		buffer.data[buffer.writeLocation] = a1 > -1.0 ? a1 : -1.0;
		buffer.writeLocation += 1;
		if(buffer.writeLocation >= buffer.size) {
			buffer.writeLocation = 0;
		}
	}
};
kha_audio2_Audio1.play = function(sound,loop) {
	if(loop == null) {
		loop = false;
	}
	var channel = null;
	var _g = 0;
	while(_g < 16) {
		var i = _g++;
		if(kha_audio2_Audio1.soundChannels[i] == null || kha_audio2_Audio1.soundChannels[i].get_finished()) {
			channel = new kha_audio2_AudioChannel(loop);
			channel.data = sound.uncompressedData;
			kha_audio2_Audio1.soundChannels[i] = channel;
			break;
		}
	}
	return channel;
};
kha_audio2_Audio1._playAgain = function(channel) {
	var _g = 0;
	while(_g < 16) {
		var i = _g++;
		if(kha_audio2_Audio1.soundChannels[i] == null || kha_audio2_Audio1.soundChannels[i].get_finished() || kha_audio2_Audio1.soundChannels[i] == channel) {
			kha_audio2_Audio1.soundChannels[i] = channel;
			break;
		}
	}
};
kha_audio2_Audio1.stream = function(sound,loop) {
	if(loop == null) {
		loop = false;
	}
	var hardwareChannel = kha_audio2_Audio.stream(sound,loop);
	if(hardwareChannel != null) {
		return hardwareChannel;
	}
	var channel = null;
	var _g = 0;
	while(_g < 16) {
		var i = _g++;
		if(kha_audio2_Audio1.streamChannels[i] == null || kha_audio2_Audio1.streamChannels[i].get_finished()) {
			channel = new kha_audio2_StreamChannel(sound.compressedData,loop);
			kha_audio2_Audio1.streamChannels[i] = channel;
			break;
		}
	}
	return channel;
};
var kha_audio2_AudioChannel = $hxClasses["kha.audio2.AudioChannel"] = function(looping) {
	this.paused = false;
	this.looping = looping;
	this.myVolume = 1;
	this.myPosition = 0;
};
kha_audio2_AudioChannel.__name__ = ["kha","audio2","AudioChannel"];
kha_audio2_AudioChannel.__interfaces__ = [kha_audio1_AudioChannel];
kha_audio2_AudioChannel.prototype = {
	data: null
	,myVolume: null
	,myPosition: null
	,paused: null
	,looping: null
	,nextSamples: function(samples,length,sampleRate) {
		if(this.paused) {
			var _g1 = 0;
			var _g = length;
			while(_g1 < _g) {
				var i = _g1++;
				samples[i] = 0;
			}
			return;
		}
		var w_ptr = 0;
		var chk_ptr = 0;
		while(w_ptr < length) {
			var addressable_data = this.data.length - this.myPosition;
			var next_chunk = addressable_data < length - w_ptr ? addressable_data : length - w_ptr;
			while(chk_ptr < next_chunk) {
				samples[w_ptr] = this.data[this.myPosition];
				++this.myPosition;
				++chk_ptr;
				++w_ptr;
			}
			if(!this.looping) {
				break;
			} else {
				chk_ptr = 0;
				if(this.myPosition >= this.data.length) {
					this.myPosition = 0;
				}
			}
		}
		while(w_ptr < length) {
			samples[w_ptr] = 0;
			++w_ptr;
		}
	}
	,play: function() {
		this.paused = false;
		if(this.get_finished()) {
			this.myPosition = 0;
			kha_audio2_Audio1._playAgain(this);
		}
	}
	,pause: function() {
		this.paused = true;
	}
	,stop: function() {
		this.myPosition = this.data.length;
	}
	,length: null
	,get_length: function() {
		return this.data.length / 44100 / 2;
	}
	,position: null
	,get_position: function() {
		return this.myPosition / 44100 / 2;
	}
	,get_volume: function() {
		return this.myVolume;
	}
	,set_volume: function(value) {
		return this.myVolume = value;
	}
	,finished: null
	,get_finished: function() {
		return this.myPosition >= this.data.length;
	}
	,__class__: kha_audio2_AudioChannel
	,__properties__: {get_finished:"get_finished",set_volume:"set_volume",get_volume:"get_volume",get_position:"get_position",get_length:"get_length"}
};
var kha_audio2_Buffer = $hxClasses["kha.audio2.Buffer"] = function(size,channels,samplesPerSecond) {
	this.size = size;
	var this1 = new Array(size);
	this.data = this1;
	this.channels = channels;
	this.samplesPerSecond = samplesPerSecond;
	this.readLocation = 0;
	this.writeLocation = 0;
};
kha_audio2_Buffer.__name__ = ["kha","audio2","Buffer"];
kha_audio2_Buffer.prototype = {
	channels: null
	,samplesPerSecond: null
	,data: null
	,size: null
	,readLocation: null
	,writeLocation: null
	,__class__: kha_audio2_Buffer
};
var kha_audio2_StreamChannel = $hxClasses["kha.audio2.StreamChannel"] = function(data,loop) {
	this.paused = false;
	this.atend = false;
	this.myVolume = 1;
	this.loop = loop;
	this.reader = kha_audio2_ogg_vorbis_Reader.openFromBytes(data);
};
kha_audio2_StreamChannel.__name__ = ["kha","audio2","StreamChannel"];
kha_audio2_StreamChannel.__interfaces__ = [kha_audio1_AudioChannel];
kha_audio2_StreamChannel.prototype = {
	reader: null
	,atend: null
	,loop: null
	,myVolume: null
	,paused: null
	,nextSamples: function(samples,length,sampleRate) {
		if(this.paused) {
			var _g1 = 0;
			var _g = length;
			while(_g1 < _g) {
				var i = _g1++;
				samples[i] = 0;
			}
			return;
		}
		var count = this.reader.read(samples,length / 2 | 0,2,sampleRate,true) * 2;
		if(count < length) {
			if(this.loop) {
				this.reader.set_currentMillisecond(0);
			} else {
				this.atend = true;
			}
			var _g11 = count;
			var _g2 = length;
			while(_g11 < _g2) {
				var i1 = _g11++;
				samples[i1] = 0;
			}
		}
	}
	,play: function() {
		this.paused = false;
	}
	,pause: function() {
		this.paused = true;
	}
	,stop: function() {
		this.atend = true;
	}
	,length: null
	,get_length: function() {
		return this.reader.get_totalMillisecond() / 1000.0;
	}
	,position: null
	,get_position: function() {
		return this.reader.get_currentMillisecond() / 1000.0;
	}
	,get_volume: function() {
		return this.myVolume;
	}
	,set_volume: function(value) {
		return this.myVolume = value;
	}
	,finished: null
	,get_finished: function() {
		return this.atend;
	}
	,__class__: kha_audio2_StreamChannel
	,__properties__: {get_finished:"get_finished",set_volume:"set_volume",get_volume:"get_volume",get_position:"get_position",get_length:"get_length"}
};
var kha_audio2_ogg_tools_Crc32 = $hxClasses["kha.audio2.ogg.tools.Crc32"] = function() { };
kha_audio2_ogg_tools_Crc32.__name__ = ["kha","audio2","ogg","tools","Crc32"];
kha_audio2_ogg_tools_Crc32.init = function() {
	if(kha_audio2_ogg_tools_Crc32.table != null) {
		return;
	}
	var this1 = new Array(256);
	kha_audio2_ogg_tools_Crc32.table = this1;
	var _g = 0;
	while(_g < 256) {
		var i = _g++;
		var s = i << 24;
		var _g1 = 0;
		while(_g1 < 8) {
			var j = _g1++;
			s = s << 1 ^ (_$UInt_UInt_$Impl_$.gte(s,1 << 31) ? 79764919 : 0);
		}
		kha_audio2_ogg_tools_Crc32.table[i] = s;
	}
};
kha_audio2_ogg_tools_Crc32.update = function(crc,$byte) {
	return crc << 8 ^ kha_audio2_ogg_tools_Crc32.table[$byte ^ crc >>> 24];
};
var kha_audio2_ogg_tools_MathTools = $hxClasses["kha.audio2.ogg.tools.MathTools"] = function() { };
kha_audio2_ogg_tools_MathTools.__name__ = ["kha","audio2","ogg","tools","MathTools"];
kha_audio2_ogg_tools_MathTools.ilog = function(n) {
	var log2_4 = [0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];
	if(n < 16384) {
		if(n < 16) {
			return log2_4[n];
		} else if(n < 512) {
			return 5 + log2_4[n >> 5];
		} else {
			return 10 + log2_4[n >> 10];
		}
	} else if(n < 16777216) {
		if(n < 524288) {
			return 15 + log2_4[n >> 15];
		} else {
			return 20 + log2_4[n >> 20];
		}
	} else if(n < 536870912) {
		return 25 + log2_4[n >> 25];
	} else if(n < -2147483648) {
		return 30 + log2_4[n >> 30];
	} else {
		return 0;
	}
};
var kha_audio2_ogg_tools_Mdct = $hxClasses["kha.audio2.ogg.tools.Mdct"] = function() { };
kha_audio2_ogg_tools_Mdct.__name__ = ["kha","audio2","ogg","tools","Mdct"];
kha_audio2_ogg_tools_Mdct.inverseTransform = function(buffer,n,a,b,c,bitReverse) {
	var n2 = n >> 1;
	var n4 = n >> 2;
	var n8 = n >> 3;
	var this1 = new Array(n2);
	var buf2 = this1;
	var dOffset = n2 - 2;
	var aaOffset = 0;
	var eOffset = 0;
	var eStopOffset = n2;
	while(eOffset != eStopOffset) {
		buf2[dOffset + 1] = buffer[eOffset] * a[aaOffset] - buffer[eOffset + 2] * a[aaOffset + 1];
		buf2[dOffset] = buffer[eOffset] * a[aaOffset + 1] + buffer[eOffset + 2] * a[aaOffset];
		dOffset -= 2;
		aaOffset += 2;
		eOffset += 4;
	}
	eOffset = n2 - 3;
	while(dOffset >= 0) {
		buf2[dOffset + 1] = -buffer[eOffset + 2] * a[aaOffset] - -buffer[eOffset] * a[aaOffset + 1];
		buf2[dOffset] = -buffer[eOffset + 2] * a[aaOffset + 1] + -buffer[eOffset] * a[aaOffset];
		dOffset -= 2;
		aaOffset += 2;
		eOffset -= 4;
	}
	var u = buffer;
	var v = buf2;
	var aaOffset1 = n2 - 8;
	var eOffset0 = n4;
	var eOffset1 = 0;
	var dOffset0 = n4;
	var dOffset1 = 0;
	while(aaOffset1 >= 0) {
		var v41_21 = v[eOffset0 + 1] - v[eOffset1 + 1];
		var v40_20 = v[eOffset0] - v[eOffset1];
		u[dOffset0 + 1] = v[eOffset0 + 1] + v[eOffset1 + 1];
		u[dOffset0] = v[eOffset0] + v[eOffset1];
		u[dOffset1 + 1] = v41_21 * a[aaOffset1 + 4] - v40_20 * a[aaOffset1 + 5];
		u[dOffset1] = v40_20 * a[aaOffset1 + 4] + v41_21 * a[aaOffset1 + 5];
		v41_21 = v[eOffset0 + 3] - v[eOffset1 + 3];
		v40_20 = v[eOffset0 + 2] - v[eOffset1 + 2];
		u[dOffset0 + 3] = v[eOffset0 + 3] + v[eOffset1 + 3];
		u[dOffset0 + 2] = v[eOffset0 + 2] + v[eOffset1 + 2];
		u[dOffset1 + 3] = v41_21 * a[aaOffset1] - v40_20 * a[aaOffset1 + 1];
		u[dOffset1 + 2] = v40_20 * a[aaOffset1] + v41_21 * a[aaOffset1 + 1];
		aaOffset1 -= 8;
		dOffset0 += 4;
		dOffset1 += 4;
		eOffset0 += 4;
		eOffset1 += 4;
	}
	var log2_4 = [0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];
	var ld = (n < 16384 ? n < 16 ? log2_4[n] : n < 512 ? 5 + log2_4[n >> 5] : 10 + log2_4[n >> 10] : n < 16777216 ? n < 524288 ? 15 + log2_4[n >> 15] : 20 + log2_4[n >> 20] : n < 536870912 ? 25 + log2_4[n >> 25] : n < -2147483648 ? 30 + log2_4[n >> 30] : 0) - 1;
	var i_off = n2 - 1 - n4 * 0;
	var eeOffset0 = i_off;
	var eeOffset2 = i_off + -(n >> 3);
	var aOffset = 0;
	var i = (n >> 4 >> 2) + 1;
	while(--i > 0) {
		var k00_20 = u[eeOffset0] - u[eeOffset2];
		var k01_21 = u[eeOffset0 + -1] - u[eeOffset2 + -1];
		var _g = eeOffset0;
		var _g1 = u;
		_g1[_g] = _g1[_g] + u[eeOffset2];
		var _g2 = eeOffset0 + -1;
		var _g11 = u;
		_g11[_g2] = _g11[_g2] + u[eeOffset2 + -1];
		u[eeOffset2] = k00_20 * a[aOffset] - k01_21 * a[aOffset + 1];
		u[eeOffset2 + -1] = k01_21 * a[aOffset] + k00_20 * a[aOffset + 1];
		aOffset += 8;
		k00_20 = u[eeOffset0 + -2] - u[eeOffset2 + -2];
		k01_21 = u[eeOffset0 + -3] - u[eeOffset2 + -3];
		var _g3 = eeOffset0 + -2;
		var _g12 = u;
		_g12[_g3] = _g12[_g3] + u[eeOffset2 + -2];
		var _g4 = eeOffset0 + -3;
		var _g13 = u;
		_g13[_g4] = _g13[_g4] + u[eeOffset2 + -3];
		u[eeOffset2 + -2] = k00_20 * a[aOffset] - k01_21 * a[aOffset + 1];
		u[eeOffset2 + -3] = k01_21 * a[aOffset] + k00_20 * a[aOffset + 1];
		aOffset += 8;
		k00_20 = u[eeOffset0 + -4] - u[eeOffset2 + -4];
		k01_21 = u[eeOffset0 + -5] - u[eeOffset2 + -5];
		var _g5 = eeOffset0 + -4;
		var _g14 = u;
		_g14[_g5] = _g14[_g5] + u[eeOffset2 + -4];
		var _g6 = eeOffset0 + -5;
		var _g15 = u;
		_g15[_g6] = _g15[_g6] + u[eeOffset2 + -5];
		u[eeOffset2 + -4] = k00_20 * a[aOffset] - k01_21 * a[aOffset + 1];
		u[eeOffset2 + -5] = k01_21 * a[aOffset] + k00_20 * a[aOffset + 1];
		aOffset += 8;
		k00_20 = u[eeOffset0 + -6] - u[eeOffset2 + -6];
		k01_21 = u[eeOffset0 + -7] - u[eeOffset2 + -7];
		var _g7 = eeOffset0 + -6;
		var _g16 = u;
		_g16[_g7] = _g16[_g7] + u[eeOffset2 + -6];
		var _g8 = eeOffset0 + -7;
		var _g17 = u;
		_g17[_g8] = _g17[_g8] + u[eeOffset2 + -7];
		u[eeOffset2 + -6] = k00_20 * a[aOffset] - k01_21 * a[aOffset + 1];
		u[eeOffset2 + -7] = k01_21 * a[aOffset] + k00_20 * a[aOffset + 1];
		aOffset += 8;
		eeOffset0 -= 8;
		eeOffset2 -= 8;
	}
	var i_off1 = n2 - 1 - n4;
	var eeOffset01 = i_off1;
	var eeOffset21 = i_off1 + -(n >> 3);
	var aOffset1 = 0;
	var i1 = (n >> 4 >> 2) + 1;
	while(--i1 > 0) {
		var k00_201 = u[eeOffset01] - u[eeOffset21];
		var k01_211 = u[eeOffset01 + -1] - u[eeOffset21 + -1];
		var _g9 = eeOffset01;
		var _g18 = u;
		_g18[_g9] = _g18[_g9] + u[eeOffset21];
		var _g10 = eeOffset01 + -1;
		var _g19 = u;
		_g19[_g10] = _g19[_g10] + u[eeOffset21 + -1];
		u[eeOffset21] = k00_201 * a[aOffset1] - k01_211 * a[aOffset1 + 1];
		u[eeOffset21 + -1] = k01_211 * a[aOffset1] + k00_201 * a[aOffset1 + 1];
		aOffset1 += 8;
		k00_201 = u[eeOffset01 + -2] - u[eeOffset21 + -2];
		k01_211 = u[eeOffset01 + -3] - u[eeOffset21 + -3];
		var _g20 = eeOffset01 + -2;
		var _g110 = u;
		_g110[_g20] = _g110[_g20] + u[eeOffset21 + -2];
		var _g21 = eeOffset01 + -3;
		var _g111 = u;
		_g111[_g21] = _g111[_g21] + u[eeOffset21 + -3];
		u[eeOffset21 + -2] = k00_201 * a[aOffset1] - k01_211 * a[aOffset1 + 1];
		u[eeOffset21 + -3] = k01_211 * a[aOffset1] + k00_201 * a[aOffset1 + 1];
		aOffset1 += 8;
		k00_201 = u[eeOffset01 + -4] - u[eeOffset21 + -4];
		k01_211 = u[eeOffset01 + -5] - u[eeOffset21 + -5];
		var _g22 = eeOffset01 + -4;
		var _g112 = u;
		_g112[_g22] = _g112[_g22] + u[eeOffset21 + -4];
		var _g23 = eeOffset01 + -5;
		var _g113 = u;
		_g113[_g23] = _g113[_g23] + u[eeOffset21 + -5];
		u[eeOffset21 + -4] = k00_201 * a[aOffset1] - k01_211 * a[aOffset1 + 1];
		u[eeOffset21 + -5] = k01_211 * a[aOffset1] + k00_201 * a[aOffset1 + 1];
		aOffset1 += 8;
		k00_201 = u[eeOffset01 + -6] - u[eeOffset21 + -6];
		k01_211 = u[eeOffset01 + -7] - u[eeOffset21 + -7];
		var _g24 = eeOffset01 + -6;
		var _g114 = u;
		_g114[_g24] = _g114[_g24] + u[eeOffset21 + -6];
		var _g25 = eeOffset01 + -7;
		var _g115 = u;
		_g115[_g25] = _g115[_g25] + u[eeOffset21 + -7];
		u[eeOffset21 + -6] = k00_201 * a[aOffset1] - k01_211 * a[aOffset1 + 1];
		u[eeOffset21 + -7] = k01_211 * a[aOffset1] + k00_201 * a[aOffset1 + 1];
		aOffset1 += 8;
		eeOffset01 -= 8;
		eeOffset21 -= 8;
	}
	var d0 = n2 - 1 - n8 * 0;
	var aOffset2 = 0;
	var eOffset01 = d0;
	var eOffset2 = d0 + -(n >> 4);
	var i2 = (n >> 5 >> 2) + 1;
	while(--i2 > 0) {
		var k00_202 = u[eOffset01] - u[eOffset2];
		var k01_212 = u[eOffset01 + -1] - u[eOffset2 + -1];
		var _g26 = eOffset01;
		var _g116 = u;
		_g116[_g26] = _g116[_g26] + u[eOffset2];
		var _g27 = eOffset01 + -1;
		var _g117 = u;
		_g117[_g27] = _g117[_g27] + u[eOffset2 + -1];
		u[eOffset2] = k00_202 * a[aOffset2] - k01_212 * a[aOffset2 + 1];
		u[eOffset2 + -1] = k01_212 * a[aOffset2] + k00_202 * a[aOffset2 + 1];
		aOffset2 += 16;
		k00_202 = u[eOffset01 + -2] - u[eOffset2 + -2];
		k01_212 = u[eOffset01 + -3] - u[eOffset2 + -3];
		var _g28 = eOffset01 + -2;
		var _g118 = u;
		_g118[_g28] = _g118[_g28] + u[eOffset2 + -2];
		var _g29 = eOffset01 + -3;
		var _g119 = u;
		_g119[_g29] = _g119[_g29] + u[eOffset2 + -3];
		u[eOffset2 + -2] = k00_202 * a[aOffset2] - k01_212 * a[aOffset2 + 1];
		u[eOffset2 + -3] = k01_212 * a[aOffset2] + k00_202 * a[aOffset2 + 1];
		aOffset2 += 16;
		k00_202 = u[eOffset01 + -4] - u[eOffset2 + -4];
		k01_212 = u[eOffset01 + -5] - u[eOffset2 + -5];
		var _g30 = eOffset01 + -4;
		var _g120 = u;
		_g120[_g30] = _g120[_g30] + u[eOffset2 + -4];
		var _g31 = eOffset01 + -5;
		var _g121 = u;
		_g121[_g31] = _g121[_g31] + u[eOffset2 + -5];
		u[eOffset2 + -4] = k00_202 * a[aOffset2] - k01_212 * a[aOffset2 + 1];
		u[eOffset2 + -5] = k01_212 * a[aOffset2] + k00_202 * a[aOffset2 + 1];
		aOffset2 += 16;
		k00_202 = u[eOffset01 + -6] - u[eOffset2 + -6];
		k01_212 = u[eOffset01 + -7] - u[eOffset2 + -7];
		var _g32 = eOffset01 + -6;
		var _g122 = u;
		_g122[_g32] = _g122[_g32] + u[eOffset2 + -6];
		var _g33 = eOffset01 + -7;
		var _g123 = u;
		_g123[_g33] = _g123[_g33] + u[eOffset2 + -7];
		u[eOffset2 + -6] = k00_202 * a[aOffset2] - k01_212 * a[aOffset2 + 1];
		u[eOffset2 + -7] = k01_212 * a[aOffset2] + k00_202 * a[aOffset2 + 1];
		eOffset01 -= 8;
		eOffset2 -= 8;
		aOffset2 += 16;
	}
	var d01 = n2 - 1 - n8;
	var aOffset3 = 0;
	var eOffset02 = d01;
	var eOffset21 = d01 + -(n >> 4);
	var i3 = (n >> 5 >> 2) + 1;
	while(--i3 > 0) {
		var k00_203 = u[eOffset02] - u[eOffset21];
		var k01_213 = u[eOffset02 + -1] - u[eOffset21 + -1];
		var _g34 = eOffset02;
		var _g124 = u;
		_g124[_g34] = _g124[_g34] + u[eOffset21];
		var _g35 = eOffset02 + -1;
		var _g125 = u;
		_g125[_g35] = _g125[_g35] + u[eOffset21 + -1];
		u[eOffset21] = k00_203 * a[aOffset3] - k01_213 * a[aOffset3 + 1];
		u[eOffset21 + -1] = k01_213 * a[aOffset3] + k00_203 * a[aOffset3 + 1];
		aOffset3 += 16;
		k00_203 = u[eOffset02 + -2] - u[eOffset21 + -2];
		k01_213 = u[eOffset02 + -3] - u[eOffset21 + -3];
		var _g36 = eOffset02 + -2;
		var _g126 = u;
		_g126[_g36] = _g126[_g36] + u[eOffset21 + -2];
		var _g37 = eOffset02 + -3;
		var _g127 = u;
		_g127[_g37] = _g127[_g37] + u[eOffset21 + -3];
		u[eOffset21 + -2] = k00_203 * a[aOffset3] - k01_213 * a[aOffset3 + 1];
		u[eOffset21 + -3] = k01_213 * a[aOffset3] + k00_203 * a[aOffset3 + 1];
		aOffset3 += 16;
		k00_203 = u[eOffset02 + -4] - u[eOffset21 + -4];
		k01_213 = u[eOffset02 + -5] - u[eOffset21 + -5];
		var _g38 = eOffset02 + -4;
		var _g128 = u;
		_g128[_g38] = _g128[_g38] + u[eOffset21 + -4];
		var _g39 = eOffset02 + -5;
		var _g129 = u;
		_g129[_g39] = _g129[_g39] + u[eOffset21 + -5];
		u[eOffset21 + -4] = k00_203 * a[aOffset3] - k01_213 * a[aOffset3 + 1];
		u[eOffset21 + -5] = k01_213 * a[aOffset3] + k00_203 * a[aOffset3 + 1];
		aOffset3 += 16;
		k00_203 = u[eOffset02 + -6] - u[eOffset21 + -6];
		k01_213 = u[eOffset02 + -7] - u[eOffset21 + -7];
		var _g40 = eOffset02 + -6;
		var _g130 = u;
		_g130[_g40] = _g130[_g40] + u[eOffset21 + -6];
		var _g41 = eOffset02 + -7;
		var _g131 = u;
		_g131[_g41] = _g131[_g41] + u[eOffset21 + -7];
		u[eOffset21 + -6] = k00_203 * a[aOffset3] - k01_213 * a[aOffset3 + 1];
		u[eOffset21 + -7] = k01_213 * a[aOffset3] + k00_203 * a[aOffset3 + 1];
		eOffset02 -= 8;
		eOffset21 -= 8;
		aOffset3 += 16;
	}
	var d02 = n2 - 1 - n8 * 2;
	var aOffset4 = 0;
	var eOffset03 = d02;
	var eOffset22 = d02 + -(n >> 4);
	var i4 = (n >> 5 >> 2) + 1;
	while(--i4 > 0) {
		var k00_204 = u[eOffset03] - u[eOffset22];
		var k01_214 = u[eOffset03 + -1] - u[eOffset22 + -1];
		var _g42 = eOffset03;
		var _g132 = u;
		_g132[_g42] = _g132[_g42] + u[eOffset22];
		var _g43 = eOffset03 + -1;
		var _g133 = u;
		_g133[_g43] = _g133[_g43] + u[eOffset22 + -1];
		u[eOffset22] = k00_204 * a[aOffset4] - k01_214 * a[aOffset4 + 1];
		u[eOffset22 + -1] = k01_214 * a[aOffset4] + k00_204 * a[aOffset4 + 1];
		aOffset4 += 16;
		k00_204 = u[eOffset03 + -2] - u[eOffset22 + -2];
		k01_214 = u[eOffset03 + -3] - u[eOffset22 + -3];
		var _g44 = eOffset03 + -2;
		var _g134 = u;
		_g134[_g44] = _g134[_g44] + u[eOffset22 + -2];
		var _g45 = eOffset03 + -3;
		var _g135 = u;
		_g135[_g45] = _g135[_g45] + u[eOffset22 + -3];
		u[eOffset22 + -2] = k00_204 * a[aOffset4] - k01_214 * a[aOffset4 + 1];
		u[eOffset22 + -3] = k01_214 * a[aOffset4] + k00_204 * a[aOffset4 + 1];
		aOffset4 += 16;
		k00_204 = u[eOffset03 + -4] - u[eOffset22 + -4];
		k01_214 = u[eOffset03 + -5] - u[eOffset22 + -5];
		var _g46 = eOffset03 + -4;
		var _g136 = u;
		_g136[_g46] = _g136[_g46] + u[eOffset22 + -4];
		var _g47 = eOffset03 + -5;
		var _g137 = u;
		_g137[_g47] = _g137[_g47] + u[eOffset22 + -5];
		u[eOffset22 + -4] = k00_204 * a[aOffset4] - k01_214 * a[aOffset4 + 1];
		u[eOffset22 + -5] = k01_214 * a[aOffset4] + k00_204 * a[aOffset4 + 1];
		aOffset4 += 16;
		k00_204 = u[eOffset03 + -6] - u[eOffset22 + -6];
		k01_214 = u[eOffset03 + -7] - u[eOffset22 + -7];
		var _g48 = eOffset03 + -6;
		var _g138 = u;
		_g138[_g48] = _g138[_g48] + u[eOffset22 + -6];
		var _g49 = eOffset03 + -7;
		var _g139 = u;
		_g139[_g49] = _g139[_g49] + u[eOffset22 + -7];
		u[eOffset22 + -6] = k00_204 * a[aOffset4] - k01_214 * a[aOffset4 + 1];
		u[eOffset22 + -7] = k01_214 * a[aOffset4] + k00_204 * a[aOffset4 + 1];
		eOffset03 -= 8;
		eOffset22 -= 8;
		aOffset4 += 16;
	}
	var d03 = n2 - 1 - n8 * 3;
	var aOffset5 = 0;
	var eOffset04 = d03;
	var eOffset23 = d03 + -(n >> 4);
	var i5 = (n >> 5 >> 2) + 1;
	while(--i5 > 0) {
		var k00_205 = u[eOffset04] - u[eOffset23];
		var k01_215 = u[eOffset04 + -1] - u[eOffset23 + -1];
		var _g50 = eOffset04;
		var _g140 = u;
		_g140[_g50] = _g140[_g50] + u[eOffset23];
		var _g51 = eOffset04 + -1;
		var _g141 = u;
		_g141[_g51] = _g141[_g51] + u[eOffset23 + -1];
		u[eOffset23] = k00_205 * a[aOffset5] - k01_215 * a[aOffset5 + 1];
		u[eOffset23 + -1] = k01_215 * a[aOffset5] + k00_205 * a[aOffset5 + 1];
		aOffset5 += 16;
		k00_205 = u[eOffset04 + -2] - u[eOffset23 + -2];
		k01_215 = u[eOffset04 + -3] - u[eOffset23 + -3];
		var _g52 = eOffset04 + -2;
		var _g142 = u;
		_g142[_g52] = _g142[_g52] + u[eOffset23 + -2];
		var _g53 = eOffset04 + -3;
		var _g143 = u;
		_g143[_g53] = _g143[_g53] + u[eOffset23 + -3];
		u[eOffset23 + -2] = k00_205 * a[aOffset5] - k01_215 * a[aOffset5 + 1];
		u[eOffset23 + -3] = k01_215 * a[aOffset5] + k00_205 * a[aOffset5 + 1];
		aOffset5 += 16;
		k00_205 = u[eOffset04 + -4] - u[eOffset23 + -4];
		k01_215 = u[eOffset04 + -5] - u[eOffset23 + -5];
		var _g54 = eOffset04 + -4;
		var _g144 = u;
		_g144[_g54] = _g144[_g54] + u[eOffset23 + -4];
		var _g55 = eOffset04 + -5;
		var _g145 = u;
		_g145[_g55] = _g145[_g55] + u[eOffset23 + -5];
		u[eOffset23 + -4] = k00_205 * a[aOffset5] - k01_215 * a[aOffset5 + 1];
		u[eOffset23 + -5] = k01_215 * a[aOffset5] + k00_205 * a[aOffset5 + 1];
		aOffset5 += 16;
		k00_205 = u[eOffset04 + -6] - u[eOffset23 + -6];
		k01_215 = u[eOffset04 + -7] - u[eOffset23 + -7];
		var _g56 = eOffset04 + -6;
		var _g146 = u;
		_g146[_g56] = _g146[_g56] + u[eOffset23 + -6];
		var _g57 = eOffset04 + -7;
		var _g147 = u;
		_g147[_g57] = _g147[_g57] + u[eOffset23 + -7];
		u[eOffset23 + -6] = k00_205 * a[aOffset5] - k01_215 * a[aOffset5 + 1];
		u[eOffset23 + -7] = k01_215 * a[aOffset5] + k00_205 * a[aOffset5 + 1];
		eOffset04 -= 8;
		eOffset23 -= 8;
		aOffset5 += 16;
	}
	var _g148 = 2;
	var _g58 = ld - 3 >> 1;
	while(_g148 < _g58) {
		var l = _g148++;
		var k0 = n >> l + 2;
		var k0_2 = k0 >> 1;
		var lim = 1 << l + 1;
		var _g310 = 0;
		var _g210 = lim;
		while(_g310 < _g210) {
			var i6 = _g310++;
			var d04 = n2 - 1 - k0 * i6;
			var k1 = 1 << l + 3;
			var aOffset6 = 0;
			var eOffset05 = d04;
			var eOffset24 = d04 + -k0_2;
			var i7 = (n >> l + 4 >> 2) + 1;
			while(--i7 > 0) {
				var k00_206 = u[eOffset05] - u[eOffset24];
				var k01_216 = u[eOffset05 + -1] - u[eOffset24 + -1];
				var _g59 = eOffset05;
				var _g149 = u;
				_g149[_g59] = _g149[_g59] + u[eOffset24];
				var _g60 = eOffset05 + -1;
				var _g150 = u;
				_g150[_g60] = _g150[_g60] + u[eOffset24 + -1];
				u[eOffset24] = k00_206 * a[aOffset6] - k01_216 * a[aOffset6 + 1];
				u[eOffset24 + -1] = k01_216 * a[aOffset6] + k00_206 * a[aOffset6 + 1];
				aOffset6 += k1;
				k00_206 = u[eOffset05 + -2] - u[eOffset24 + -2];
				k01_216 = u[eOffset05 + -3] - u[eOffset24 + -3];
				var _g61 = eOffset05 + -2;
				var _g151 = u;
				_g151[_g61] = _g151[_g61] + u[eOffset24 + -2];
				var _g62 = eOffset05 + -3;
				var _g152 = u;
				_g152[_g62] = _g152[_g62] + u[eOffset24 + -3];
				u[eOffset24 + -2] = k00_206 * a[aOffset6] - k01_216 * a[aOffset6 + 1];
				u[eOffset24 + -3] = k01_216 * a[aOffset6] + k00_206 * a[aOffset6 + 1];
				aOffset6 += k1;
				k00_206 = u[eOffset05 + -4] - u[eOffset24 + -4];
				k01_216 = u[eOffset05 + -5] - u[eOffset24 + -5];
				var _g63 = eOffset05 + -4;
				var _g153 = u;
				_g153[_g63] = _g153[_g63] + u[eOffset24 + -4];
				var _g64 = eOffset05 + -5;
				var _g154 = u;
				_g154[_g64] = _g154[_g64] + u[eOffset24 + -5];
				u[eOffset24 + -4] = k00_206 * a[aOffset6] - k01_216 * a[aOffset6 + 1];
				u[eOffset24 + -5] = k01_216 * a[aOffset6] + k00_206 * a[aOffset6 + 1];
				aOffset6 += k1;
				k00_206 = u[eOffset05 + -6] - u[eOffset24 + -6];
				k01_216 = u[eOffset05 + -7] - u[eOffset24 + -7];
				var _g65 = eOffset05 + -6;
				var _g155 = u;
				_g155[_g65] = _g155[_g65] + u[eOffset24 + -6];
				var _g66 = eOffset05 + -7;
				var _g156 = u;
				_g156[_g66] = _g156[_g66] + u[eOffset24 + -7];
				u[eOffset24 + -6] = k00_206 * a[aOffset6] - k01_216 * a[aOffset6 + 1];
				u[eOffset24 + -7] = k01_216 * a[aOffset6] + k00_206 * a[aOffset6 + 1];
				eOffset05 -= 8;
				eOffset24 -= 8;
				aOffset6 += k1;
			}
		}
	}
	var _g157 = ld - 3 >> 1;
	var _g67 = ld - 6;
	while(_g157 < _g67) {
		var l1 = _g157++;
		var k01 = n >> l1 + 2;
		var k11 = 1 << l1 + 3;
		var k0_21 = k01 >> 1;
		var rlim = n >> l1 + 6;
		var lim1 = 1 << l1 + 1;
		var aOffset7 = 0;
		var i_off2 = n2 - 1;
		var r = rlim + 1;
		while(--r > 0) {
			var A0 = a[aOffset7];
			var A1 = a[aOffset7 + 1];
			var A2 = a[aOffset7 + k11];
			var A3 = a[aOffset7 + k11 + 1];
			var A4 = a[aOffset7 + k11 * 2];
			var A5 = a[aOffset7 + k11 * 2 + 1];
			var A6 = a[aOffset7 + k11 * 3];
			var A7 = a[aOffset7 + k11 * 3 + 1];
			var eeOffset02 = i_off2;
			var eeOffset22 = i_off2 + -k0_21;
			var i8 = lim1 + 1;
			while(--i8 > 0) {
				var k00 = u[eeOffset02] - u[eeOffset22];
				var k111 = u[eeOffset02 + -1] - u[eeOffset22 + -1];
				u[eeOffset02] = u[eeOffset02] + u[eeOffset22];
				u[eeOffset02 + -1] = u[eeOffset02 + -1] + u[eeOffset22 + -1];
				u[eeOffset22] = k00 * A0 - k111 * A1;
				u[eeOffset22 + -1] = k111 * A0 + k00 * A1;
				k00 = u[eeOffset02 + -2] - u[eeOffset22 + -2];
				k111 = u[eeOffset02 + -3] - u[eeOffset22 + -3];
				u[eeOffset02 + -2] = u[eeOffset02 + -2] + u[eeOffset22 + -2];
				u[eeOffset02 + -3] = u[eeOffset02 + -3] + u[eeOffset22 + -3];
				u[eeOffset22 + -2] = k00 * A2 - k111 * A3;
				u[eeOffset22 + -3] = k111 * A2 + k00 * A3;
				k00 = u[eeOffset02 + -4] - u[eeOffset22 + -4];
				k111 = u[eeOffset02 + -5] - u[eeOffset22 + -5];
				u[eeOffset02 + -4] = u[eeOffset02 + -4] + u[eeOffset22 + -4];
				u[eeOffset02 + -5] = u[eeOffset02 + -5] + u[eeOffset22 + -5];
				u[eeOffset22 + -4] = k00 * A4 - k111 * A5;
				u[eeOffset22 + -5] = k111 * A4 + k00 * A5;
				k00 = u[eeOffset02 + -6] - u[eeOffset22 + -6];
				k111 = u[eeOffset02 + -7] - u[eeOffset22 + -7];
				u[eeOffset02 + -6] = u[eeOffset02 + -6] + u[eeOffset22 + -6];
				u[eeOffset02 + -7] = u[eeOffset02 + -7] + u[eeOffset22 + -7];
				u[eeOffset22 + -6] = k00 * A6 - k111 * A7;
				u[eeOffset22 + -7] = k111 * A6 + k00 * A7;
				eeOffset02 -= k01;
				eeOffset22 -= k01;
			}
			aOffset7 += k11 * 4;
			i_off2 -= 8;
		}
	}
	var i_off3 = n2 - 1;
	var A21 = a[n >> 3];
	var zOffset = i_off3;
	var baseOffset = i_off3 - 16 * (n >> 5);
	while(zOffset > baseOffset) {
		var t0 = u[zOffset];
		var t1 = u[zOffset + -8];
		u[zOffset + -8] = t0 - t1;
		u[zOffset] = t0 + t1;
		t0 = u[zOffset + -1];
		t1 = u[zOffset + -9];
		u[zOffset + -9] = t0 - t1;
		u[zOffset + -1] = t0 + t1;
		t0 = u[zOffset + -2];
		t1 = u[zOffset + -10];
		var k001 = t0 - t1;
		u[zOffset + -2] = t0 + t1;
		t0 = u[zOffset + -3];
		t1 = u[zOffset + -11];
		var k112 = t0 - t1;
		u[zOffset + -3] = t0 + t1;
		u[zOffset + -10] = (k001 + k112) * A21;
		u[zOffset + -11] = (k112 - k001) * A21;
		t0 = u[zOffset + -4];
		t1 = u[zOffset + -12];
		k001 = t1 - t0;
		u[zOffset + -4] = t0 + t1;
		t0 = u[zOffset + -5];
		t1 = u[zOffset + -13];
		k112 = t0 - t1;
		u[zOffset + -5] = t0 + t1;
		u[zOffset + -12] = k112;
		u[zOffset + -13] = k001;
		t0 = u[zOffset + -6];
		t1 = u[zOffset + -14];
		k001 = t1 - t0;
		u[zOffset + -6] = t0 + t1;
		t0 = u[zOffset + -7];
		t1 = u[zOffset + -15];
		k112 = t0 - t1;
		u[zOffset + -7] = t0 + t1;
		u[zOffset + -14] = (k001 + k112) * A21;
		u[zOffset + -15] = (k001 - k112) * A21;
		var t01 = u[zOffset];
		var t11 = u[zOffset + -4];
		var k002 = t01 - t11;
		var y0 = t01 + t11;
		t01 = u[zOffset + -2];
		t11 = u[zOffset + -6];
		var y2 = t01 + t11;
		var k22 = t01 - t11;
		u[zOffset] = y0 + y2;
		u[zOffset + -2] = y0 - y2;
		var k33 = u[zOffset + -3] - u[zOffset + -7];
		u[zOffset + -4] = k002 + k33;
		u[zOffset + -6] = k002 - k33;
		t01 = u[zOffset + -1];
		t11 = u[zOffset + -5];
		var k113 = t01 - t11;
		var y1 = t01 + t11;
		var y3 = u[zOffset + -3] + u[zOffset + -7];
		u[zOffset + -1] = y1 + y3;
		u[zOffset + -3] = y1 - y3;
		u[zOffset + -5] = k113 - k22;
		u[zOffset + -7] = k113 + k22;
		var zOffset1 = zOffset - 8;
		var t02 = u[zOffset1];
		var t12 = u[zOffset1 + -4];
		var k003 = t02 - t12;
		var y01 = t02 + t12;
		t02 = u[zOffset1 + -2];
		t12 = u[zOffset1 + -6];
		var y21 = t02 + t12;
		var k221 = t02 - t12;
		u[zOffset1] = y01 + y21;
		u[zOffset1 + -2] = y01 - y21;
		var k331 = u[zOffset1 + -3] - u[zOffset1 + -7];
		u[zOffset1 + -4] = k003 + k331;
		u[zOffset1 + -6] = k003 - k331;
		t02 = u[zOffset1 + -1];
		t12 = u[zOffset1 + -5];
		var k114 = t02 - t12;
		var y11 = t02 + t12;
		var y31 = u[zOffset1 + -3] + u[zOffset1 + -7];
		u[zOffset1 + -1] = y11 + y31;
		u[zOffset1 + -3] = y11 - y31;
		u[zOffset1 + -5] = k114 - k221;
		u[zOffset1 + -7] = k114 + k221;
		zOffset -= 16;
	}
	var brOffset = 0;
	var dOffset01 = n4 - 4;
	var dOffset11 = n2 - 4;
	while(dOffset01 >= 0) {
		var k4 = bitReverse[brOffset];
		v[dOffset11 + 3] = u[k4];
		v[dOffset11 + 2] = u[k4 + 1];
		v[dOffset01 + 3] = u[k4 + 2];
		v[dOffset01 + 2] = u[k4 + 3];
		k4 = bitReverse[brOffset + 1];
		v[dOffset11 + 1] = u[k4];
		v[dOffset11] = u[k4 + 1];
		v[dOffset01 + 1] = u[k4 + 2];
		v[dOffset01] = u[k4 + 3];
		dOffset01 -= 4;
		dOffset11 -= 4;
		brOffset += 2;
	}
	var cOffset = 0;
	var dOffset2 = 0;
	var eOffset3 = n2 - 4;
	while(dOffset2 < eOffset3) {
		var a02 = v[dOffset2] - v[eOffset3 + 2];
		var a11 = v[dOffset2 + 1] + v[eOffset3 + 3];
		var b0 = c[cOffset + 1] * a02 + c[cOffset] * a11;
		var b1 = c[cOffset + 1] * a11 - c[cOffset] * a02;
		var b2 = v[dOffset2] + v[eOffset3 + 2];
		var b3 = v[dOffset2 + 1] - v[eOffset3 + 3];
		v[dOffset2] = b2 + b0;
		v[dOffset2 + 1] = b3 + b1;
		v[eOffset3 + 2] = b2 - b0;
		v[eOffset3 + 3] = b1 - b3;
		a02 = v[dOffset2 + 2] - v[eOffset3];
		a11 = v[dOffset2 + 3] + v[eOffset3 + 1];
		b0 = c[cOffset + 3] * a02 + c[cOffset + 2] * a11;
		b1 = c[cOffset + 3] * a11 - c[cOffset + 2] * a02;
		b2 = v[dOffset2 + 2] + v[eOffset3];
		b3 = v[dOffset2 + 3] - v[eOffset3 + 1];
		v[dOffset2 + 2] = b2 + b0;
		v[dOffset2 + 3] = b3 + b1;
		v[eOffset3] = b2 - b0;
		v[eOffset3 + 1] = b1 - b3;
		cOffset += 4;
		dOffset2 += 4;
		eOffset3 -= 4;
	}
	var bOffset = n2 - 8;
	var eOffset4 = n2 - 8;
	var dOffset02 = 0;
	var dOffset12 = n2 - 4;
	var dOffset21 = n2;
	var dOffset3 = n - 4;
	while(eOffset4 >= 0) {
		var p3 = buf2[eOffset4 + 6] * b[bOffset + 7] - buf2[eOffset4 + 7] * b[bOffset + 6];
		var p2 = -buf2[eOffset4 + 6] * b[bOffset + 6] - buf2[eOffset4 + 7] * b[bOffset + 7];
		buffer[dOffset02] = p3;
		buffer[dOffset12 + 3] = -p3;
		buffer[dOffset21] = p2;
		buffer[dOffset3 + 3] = p2;
		var p1 = buf2[eOffset4 + 4] * b[bOffset + 5] - buf2[eOffset4 + 5] * b[bOffset + 4];
		var p0 = -buf2[eOffset4 + 4] * b[bOffset + 4] - buf2[eOffset4 + 5] * b[bOffset + 5];
		buffer[dOffset02 + 1] = p1;
		buffer[dOffset12 + 2] = -p1;
		buffer[dOffset21 + 1] = p0;
		buffer[dOffset3 + 2] = p0;
		p3 = buf2[eOffset4 + 2] * b[bOffset + 3] - buf2[eOffset4 + 3] * b[bOffset + 2];
		p2 = -buf2[eOffset4 + 2] * b[bOffset + 2] - buf2[eOffset4 + 3] * b[bOffset + 3];
		buffer[dOffset02 + 2] = p3;
		buffer[dOffset12 + 1] = -p3;
		buffer[dOffset21 + 2] = p2;
		buffer[dOffset3 + 1] = p2;
		p1 = buf2[eOffset4] * b[bOffset + 1] - buf2[eOffset4 + 1] * b[bOffset];
		p0 = -buf2[eOffset4] * b[bOffset] - buf2[eOffset4 + 1] * b[bOffset + 1];
		buffer[dOffset02 + 3] = p1;
		buffer[dOffset12] = -p1;
		buffer[dOffset21 + 3] = p0;
		buffer[dOffset3] = p0;
		bOffset -= 8;
		eOffset4 -= 8;
		dOffset02 += 4;
		dOffset21 += 4;
		dOffset12 -= 4;
		dOffset3 -= 4;
	}
};
kha_audio2_ogg_tools_Mdct.step3Iter0Loop = function(n,e,i_off,k_off,a) {
	var eeOffset0 = i_off;
	var eeOffset2 = i_off + k_off;
	var aOffset = 0;
	var i = (n >> 2) + 1;
	while(--i > 0) {
		var k00_20 = e[eeOffset0] - e[eeOffset2];
		var k01_21 = e[eeOffset0 + -1] - e[eeOffset2 + -1];
		var _g = eeOffset0;
		var _g1 = e;
		_g1[_g] = _g1[_g] + e[eeOffset2];
		var _g2 = eeOffset0 + -1;
		var _g11 = e;
		_g11[_g2] = _g11[_g2] + e[eeOffset2 + -1];
		e[eeOffset2] = k00_20 * a[aOffset] - k01_21 * a[aOffset + 1];
		e[eeOffset2 + -1] = k01_21 * a[aOffset] + k00_20 * a[aOffset + 1];
		aOffset += 8;
		k00_20 = e[eeOffset0 + -2] - e[eeOffset2 + -2];
		k01_21 = e[eeOffset0 + -3] - e[eeOffset2 + -3];
		var _g3 = eeOffset0 + -2;
		var _g12 = e;
		_g12[_g3] = _g12[_g3] + e[eeOffset2 + -2];
		var _g4 = eeOffset0 + -3;
		var _g13 = e;
		_g13[_g4] = _g13[_g4] + e[eeOffset2 + -3];
		e[eeOffset2 + -2] = k00_20 * a[aOffset] - k01_21 * a[aOffset + 1];
		e[eeOffset2 + -3] = k01_21 * a[aOffset] + k00_20 * a[aOffset + 1];
		aOffset += 8;
		k00_20 = e[eeOffset0 + -4] - e[eeOffset2 + -4];
		k01_21 = e[eeOffset0 + -5] - e[eeOffset2 + -5];
		var _g5 = eeOffset0 + -4;
		var _g14 = e;
		_g14[_g5] = _g14[_g5] + e[eeOffset2 + -4];
		var _g6 = eeOffset0 + -5;
		var _g15 = e;
		_g15[_g6] = _g15[_g6] + e[eeOffset2 + -5];
		e[eeOffset2 + -4] = k00_20 * a[aOffset] - k01_21 * a[aOffset + 1];
		e[eeOffset2 + -5] = k01_21 * a[aOffset] + k00_20 * a[aOffset + 1];
		aOffset += 8;
		k00_20 = e[eeOffset0 + -6] - e[eeOffset2 + -6];
		k01_21 = e[eeOffset0 + -7] - e[eeOffset2 + -7];
		var _g7 = eeOffset0 + -6;
		var _g16 = e;
		_g16[_g7] = _g16[_g7] + e[eeOffset2 + -6];
		var _g8 = eeOffset0 + -7;
		var _g17 = e;
		_g17[_g8] = _g17[_g8] + e[eeOffset2 + -7];
		e[eeOffset2 + -6] = k00_20 * a[aOffset] - k01_21 * a[aOffset + 1];
		e[eeOffset2 + -7] = k01_21 * a[aOffset] + k00_20 * a[aOffset + 1];
		aOffset += 8;
		eeOffset0 -= 8;
		eeOffset2 -= 8;
	}
};
kha_audio2_ogg_tools_Mdct.step3InnerRLoop = function(lim,e,d0,k_off,a,k1) {
	var aOffset = 0;
	var eOffset0 = d0;
	var eOffset2 = d0 + k_off;
	var i = (lim >> 2) + 1;
	while(--i > 0) {
		var k00_20 = e[eOffset0] - e[eOffset2];
		var k01_21 = e[eOffset0 + -1] - e[eOffset2 + -1];
		var _g = eOffset0;
		var _g1 = e;
		_g1[_g] = _g1[_g] + e[eOffset2];
		var _g2 = eOffset0 + -1;
		var _g11 = e;
		_g11[_g2] = _g11[_g2] + e[eOffset2 + -1];
		e[eOffset2] = k00_20 * a[aOffset] - k01_21 * a[aOffset + 1];
		e[eOffset2 + -1] = k01_21 * a[aOffset] + k00_20 * a[aOffset + 1];
		aOffset += k1;
		k00_20 = e[eOffset0 + -2] - e[eOffset2 + -2];
		k01_21 = e[eOffset0 + -3] - e[eOffset2 + -3];
		var _g3 = eOffset0 + -2;
		var _g12 = e;
		_g12[_g3] = _g12[_g3] + e[eOffset2 + -2];
		var _g4 = eOffset0 + -3;
		var _g13 = e;
		_g13[_g4] = _g13[_g4] + e[eOffset2 + -3];
		e[eOffset2 + -2] = k00_20 * a[aOffset] - k01_21 * a[aOffset + 1];
		e[eOffset2 + -3] = k01_21 * a[aOffset] + k00_20 * a[aOffset + 1];
		aOffset += k1;
		k00_20 = e[eOffset0 + -4] - e[eOffset2 + -4];
		k01_21 = e[eOffset0 + -5] - e[eOffset2 + -5];
		var _g5 = eOffset0 + -4;
		var _g14 = e;
		_g14[_g5] = _g14[_g5] + e[eOffset2 + -4];
		var _g6 = eOffset0 + -5;
		var _g15 = e;
		_g15[_g6] = _g15[_g6] + e[eOffset2 + -5];
		e[eOffset2 + -4] = k00_20 * a[aOffset] - k01_21 * a[aOffset + 1];
		e[eOffset2 + -5] = k01_21 * a[aOffset] + k00_20 * a[aOffset + 1];
		aOffset += k1;
		k00_20 = e[eOffset0 + -6] - e[eOffset2 + -6];
		k01_21 = e[eOffset0 + -7] - e[eOffset2 + -7];
		var _g7 = eOffset0 + -6;
		var _g16 = e;
		_g16[_g7] = _g16[_g7] + e[eOffset2 + -6];
		var _g8 = eOffset0 + -7;
		var _g17 = e;
		_g17[_g8] = _g17[_g8] + e[eOffset2 + -7];
		e[eOffset2 + -6] = k00_20 * a[aOffset] - k01_21 * a[aOffset + 1];
		e[eOffset2 + -7] = k01_21 * a[aOffset] + k00_20 * a[aOffset + 1];
		eOffset0 -= 8;
		eOffset2 -= 8;
		aOffset += k1;
	}
};
kha_audio2_ogg_tools_Mdct.step3InnerSLoop = function(n,e,i_off,k_off,a,aOffset0,aOffset1,k0) {
	var A0 = a[aOffset0];
	var A1 = a[aOffset0 + 1];
	var A2 = a[aOffset0 + aOffset1];
	var A3 = a[aOffset0 + aOffset1 + 1];
	var A4 = a[aOffset0 + aOffset1 * 2];
	var A5 = a[aOffset0 + aOffset1 * 2 + 1];
	var A6 = a[aOffset0 + aOffset1 * 3];
	var A7 = a[aOffset0 + aOffset1 * 3 + 1];
	var eeOffset0 = i_off;
	var eeOffset2 = i_off + k_off;
	var i = n + 1;
	while(--i > 0) {
		var k00 = e[eeOffset0] - e[eeOffset2];
		var k11 = e[eeOffset0 + -1] - e[eeOffset2 + -1];
		e[eeOffset0] = e[eeOffset0] + e[eeOffset2];
		e[eeOffset0 + -1] = e[eeOffset0 + -1] + e[eeOffset2 + -1];
		e[eeOffset2] = k00 * A0 - k11 * A1;
		e[eeOffset2 + -1] = k11 * A0 + k00 * A1;
		k00 = e[eeOffset0 + -2] - e[eeOffset2 + -2];
		k11 = e[eeOffset0 + -3] - e[eeOffset2 + -3];
		e[eeOffset0 + -2] = e[eeOffset0 + -2] + e[eeOffset2 + -2];
		e[eeOffset0 + -3] = e[eeOffset0 + -3] + e[eeOffset2 + -3];
		e[eeOffset2 + -2] = k00 * A2 - k11 * A3;
		e[eeOffset2 + -3] = k11 * A2 + k00 * A3;
		k00 = e[eeOffset0 + -4] - e[eeOffset2 + -4];
		k11 = e[eeOffset0 + -5] - e[eeOffset2 + -5];
		e[eeOffset0 + -4] = e[eeOffset0 + -4] + e[eeOffset2 + -4];
		e[eeOffset0 + -5] = e[eeOffset0 + -5] + e[eeOffset2 + -5];
		e[eeOffset2 + -4] = k00 * A4 - k11 * A5;
		e[eeOffset2 + -5] = k11 * A4 + k00 * A5;
		k00 = e[eeOffset0 + -6] - e[eeOffset2 + -6];
		k11 = e[eeOffset0 + -7] - e[eeOffset2 + -7];
		e[eeOffset0 + -6] = e[eeOffset0 + -6] + e[eeOffset2 + -6];
		e[eeOffset0 + -7] = e[eeOffset0 + -7] + e[eeOffset2 + -7];
		e[eeOffset2 + -6] = k00 * A6 - k11 * A7;
		e[eeOffset2 + -7] = k11 * A6 + k00 * A7;
		eeOffset0 -= k0;
		eeOffset2 -= k0;
	}
};
kha_audio2_ogg_tools_Mdct.iter54 = function(e,zOffset) {
	var t0 = e[zOffset];
	var t1 = e[zOffset + -4];
	var k00 = t0 - t1;
	var y0 = t0 + t1;
	t0 = e[zOffset + -2];
	t1 = e[zOffset + -6];
	var y2 = t0 + t1;
	var k22 = t0 - t1;
	e[zOffset] = y0 + y2;
	e[zOffset + -2] = y0 - y2;
	var k33 = e[zOffset + -3] - e[zOffset + -7];
	e[zOffset + -4] = k00 + k33;
	e[zOffset + -6] = k00 - k33;
	t0 = e[zOffset + -1];
	t1 = e[zOffset + -5];
	var k11 = t0 - t1;
	var y1 = t0 + t1;
	var y3 = e[zOffset + -3] + e[zOffset + -7];
	e[zOffset + -1] = y1 + y3;
	e[zOffset + -3] = y1 - y3;
	e[zOffset + -5] = k11 - k22;
	e[zOffset + -7] = k11 + k22;
};
kha_audio2_ogg_tools_Mdct.step3InnerSLoopLd654 = function(n,e,i_off,a,baseN) {
	var A2 = a[baseN >> 3];
	var zOffset = i_off;
	var baseOffset = i_off - 16 * n;
	while(zOffset > baseOffset) {
		var t0 = e[zOffset];
		var t1 = e[zOffset + -8];
		e[zOffset + -8] = t0 - t1;
		e[zOffset] = t0 + t1;
		t0 = e[zOffset + -1];
		t1 = e[zOffset + -9];
		e[zOffset + -9] = t0 - t1;
		e[zOffset + -1] = t0 + t1;
		t0 = e[zOffset + -2];
		t1 = e[zOffset + -10];
		var k00 = t0 - t1;
		e[zOffset + -2] = t0 + t1;
		t0 = e[zOffset + -3];
		t1 = e[zOffset + -11];
		var k11 = t0 - t1;
		e[zOffset + -3] = t0 + t1;
		e[zOffset + -10] = (k00 + k11) * A2;
		e[zOffset + -11] = (k11 - k00) * A2;
		t0 = e[zOffset + -4];
		t1 = e[zOffset + -12];
		k00 = t1 - t0;
		e[zOffset + -4] = t0 + t1;
		t0 = e[zOffset + -5];
		t1 = e[zOffset + -13];
		k11 = t0 - t1;
		e[zOffset + -5] = t0 + t1;
		e[zOffset + -12] = k11;
		e[zOffset + -13] = k00;
		t0 = e[zOffset + -6];
		t1 = e[zOffset + -14];
		k00 = t1 - t0;
		e[zOffset + -6] = t0 + t1;
		t0 = e[zOffset + -7];
		t1 = e[zOffset + -15];
		k11 = t0 - t1;
		e[zOffset + -7] = t0 + t1;
		e[zOffset + -14] = (k00 + k11) * A2;
		e[zOffset + -15] = (k00 - k11) * A2;
		var t01 = e[zOffset];
		var t11 = e[zOffset + -4];
		var k001 = t01 - t11;
		var y0 = t01 + t11;
		t01 = e[zOffset + -2];
		t11 = e[zOffset + -6];
		var y2 = t01 + t11;
		var k22 = t01 - t11;
		e[zOffset] = y0 + y2;
		e[zOffset + -2] = y0 - y2;
		var k33 = e[zOffset + -3] - e[zOffset + -7];
		e[zOffset + -4] = k001 + k33;
		e[zOffset + -6] = k001 - k33;
		t01 = e[zOffset + -1];
		t11 = e[zOffset + -5];
		var k111 = t01 - t11;
		var y1 = t01 + t11;
		var y3 = e[zOffset + -3] + e[zOffset + -7];
		e[zOffset + -1] = y1 + y3;
		e[zOffset + -3] = y1 - y3;
		e[zOffset + -5] = k111 - k22;
		e[zOffset + -7] = k111 + k22;
		var zOffset1 = zOffset - 8;
		var t02 = e[zOffset1];
		var t12 = e[zOffset1 + -4];
		var k002 = t02 - t12;
		var y01 = t02 + t12;
		t02 = e[zOffset1 + -2];
		t12 = e[zOffset1 + -6];
		var y21 = t02 + t12;
		var k221 = t02 - t12;
		e[zOffset1] = y01 + y21;
		e[zOffset1 + -2] = y01 - y21;
		var k331 = e[zOffset1 + -3] - e[zOffset1 + -7];
		e[zOffset1 + -4] = k002 + k331;
		e[zOffset1 + -6] = k002 - k331;
		t02 = e[zOffset1 + -1];
		t12 = e[zOffset1 + -5];
		var k112 = t02 - t12;
		var y11 = t02 + t12;
		var y31 = e[zOffset1 + -3] + e[zOffset1 + -7];
		e[zOffset1 + -1] = y11 + y31;
		e[zOffset1 + -3] = y11 - y31;
		e[zOffset1 + -5] = k112 - k221;
		e[zOffset1 + -7] = k112 + k221;
		zOffset -= 16;
	}
};
var kha_audio2_ogg_vorbis_Reader = $hxClasses["kha.audio2.ogg.vorbis.Reader"] = function(input,seekFunc,inputLength) {
	this.seekFunc = seekFunc;
	this.inputLength = inputLength;
	this.decoder = kha_audio2_ogg_vorbis_VorbisDecoder.start(input);
	this.decoder.setupSampleNumber(seekFunc,inputLength);
	this.loopStart = this.get_header().comment.get_loopStart();
	this.loopLength = this.get_header().comment.get_loopLength();
};
kha_audio2_ogg_vorbis_Reader.__name__ = ["kha","audio2","ogg","vorbis","Reader"];
kha_audio2_ogg_vorbis_Reader.openFromBytes = function(bytes) {
	var input = new haxe_io_BytesInput(bytes);
	var a1 = input;
	return new kha_audio2_ogg_vorbis_Reader(input,function(a2) {
		kha_audio2_ogg_vorbis_Reader.seekBytes(a1,a2);
	},bytes.length);
};
kha_audio2_ogg_vorbis_Reader.seekBytes = function(bytes,pos) {
	bytes.set_position(pos);
};
kha_audio2_ogg_vorbis_Reader.readAll = function(bytes,output,useFloat) {
	if(useFloat == null) {
		useFloat = false;
	}
	var input = new haxe_io_BytesInput(bytes);
	var decoder = kha_audio2_ogg_vorbis_VorbisDecoder.start(input);
	var a1 = input;
	decoder.setupSampleNumber(function(a2) {
		kha_audio2_ogg_vorbis_Reader.seekBytes(a1,a2);
	},bytes.length);
	var header = decoder.header;
	var count = 0;
	var bufferSize = 4096;
	var length = bufferSize * header.channel;
	var this1 = new Array(length);
	var buffer = this1;
	while(true) {
		var n = decoder.read(buffer,bufferSize,header.channel,header.sampleRate,useFloat);
		var _g1 = 0;
		var _g = n * header.channel;
		while(_g1 < _g) {
			var i = _g1++;
			output.writeFloat(buffer[i]);
		}
		if(n == 0) {
			break;
		}
		count += n;
	}
	return decoder.header;
};
kha_audio2_ogg_vorbis_Reader.prototype = {
	decoder: null
	,get_header: function() {
		return this.decoder.header;
	}
	,get_totalSample: function() {
		return this.decoder.totalSample;
	}
	,get_totalMillisecond: function() {
		var samples = this.decoder.totalSample;
		var b = this.get_header().sampleRate;
		return _$UInt_UInt_$Impl_$.toFloat(samples) / _$UInt_UInt_$Impl_$.toFloat(b) * 1000;
	}
	,get_currentSample: function() {
		return this.decoder.currentSample;
	}
	,set_currentSample: function(value) {
		this.decoder.seek(this.seekFunc,this.inputLength,value);
		return this.decoder.currentSample;
	}
	,get_currentMillisecond: function() {
		var samples = this.get_currentSample();
		var b = this.get_header().sampleRate;
		return _$UInt_UInt_$Impl_$.toFloat(samples) / _$UInt_UInt_$Impl_$.toFloat(b) * 1000;
	}
	,set_currentMillisecond: function(value) {
		var _g = value / 1000;
		var _g1 = this.get_header().sampleRate;
		this.set_currentSample(Math.floor(_$UInt_UInt_$Impl_$.toFloat(_g1) * _g));
		return this.get_currentMillisecond();
	}
	,loopStart: null
	,loopLength: null
	,seekFunc: null
	,inputLength: null
	,read: function(output,samples,channels,sampleRate,useFloat) {
		if(useFloat == null) {
			useFloat = false;
		}
		this.decoder.ensurePosition(this.seekFunc);
		if(samples == null) {
			samples = this.decoder.totalSample;
		}
		if(channels == null) {
			channels = this.get_header().channel;
		}
		if(sampleRate == null) {
			sampleRate = this.get_header().sampleRate;
		}
		return this.decoder.read(output,samples,channels,sampleRate,useFloat);
	}
	,clone: function() {
		var reader = Type.createEmptyInstance(kha_audio2_ogg_vorbis_Reader);
		reader.seekFunc = this.seekFunc;
		reader.inputLength = this.inputLength;
		reader.decoder = this.decoder.clone(this.seekFunc);
		reader.loopStart = this.loopStart;
		reader.loopLength = this.loopLength;
		return reader;
	}
	,sampleToMillisecond: function(samples) {
		var b = this.get_header().sampleRate;
		return _$UInt_UInt_$Impl_$.toFloat(samples) / _$UInt_UInt_$Impl_$.toFloat(b) * 1000;
	}
	,millisecondToSample: function(millseconds) {
		var _g = millseconds / 1000;
		var _g1 = this.get_header().sampleRate;
		return Math.floor(_$UInt_UInt_$Impl_$.toFloat(_g1) * _g);
	}
	,__class__: kha_audio2_ogg_vorbis_Reader
	,__properties__: {set_currentMillisecond:"set_currentMillisecond",get_currentMillisecond:"get_currentMillisecond",set_currentSample:"set_currentSample",get_currentSample:"get_currentSample",get_totalMillisecond:"get_totalMillisecond",get_totalSample:"get_totalSample",get_header:"get_header"}
};
var kha_audio2_ogg_vorbis_VorbisDecodeState = $hxClasses["kha.audio2.ogg.vorbis.VorbisDecodeState"] = function(input) {
	this.nextSeg = 0;
	this.firstDecode = false;
	this.bytesInSeg = 0;
	this.validBits = 0;
	this.input = input;
	this.inputPosition = 0;
	this.page = new kha_audio2_ogg_vorbis_data_Page();
	kha_audio2_ogg_tools_Crc32.init();
};
kha_audio2_ogg_vorbis_VorbisDecodeState.__name__ = ["kha","audio2","ogg","vorbis","VorbisDecodeState"];
kha_audio2_ogg_vorbis_VorbisDecodeState.prototype = {
	page: null
	,eof: null
	,pFirst: null
	,pLast: null
	,validBits: null
	,inputPosition: null
	,input: null
	,discardSamplesDeferred: null
	,segments: null
	,bytesInSeg: null
	,channelBuffers: null
	,channelBufferStart: null
	,channelBufferEnd: null
	,currentSample: null
	,previousWindow: null
	,previousLength: null
	,finalY: null
	,firstDecode: null
	,nextSeg: null
	,acc: null
	,lastSeg: null
	,lastSegWhich: null
	,endSegWithKnownLoc: null
	,knownLocForPacket: null
	,error: null
	,currentLoc: null
	,currentLocValid: null
	,firstAudioPageOffset: null
	,setup: function(loc0,loc1) {
		this.inputPosition += 1;
		var segmentCount = this.input.readByte();
		this.inputPosition += segmentCount;
		var this1 = new Array(segmentCount);
		var vec = this1;
		var _g1 = 0;
		var _g = segmentCount;
		while(_g1 < _g) {
			var i = _g1++;
			vec[i] = this.input.readByte();
		}
		this.segments = vec;
		this.endSegWithKnownLoc = -2;
		if(loc0 != -1 || loc1 != -1) {
			var i1 = segmentCount - 1;
			while(i1 >= 0) {
				if(this.segments[i1] < 255) {
					break;
				}
				if(i1 >= 0) {
					this.endSegWithKnownLoc = i1;
					this.knownLocForPacket = loc0;
				}
				--i1;
			}
		}
		if(this.firstDecode) {
			var i2 = 0;
			var len = 0;
			var p = new kha_audio2_ogg_vorbis_data_ProbedPage();
			var _g11 = 0;
			var _g2 = segmentCount;
			while(_g11 < _g2) {
				var i3 = _g11++;
				len += this.segments[i3];
			}
			len += 27 + segmentCount;
			p.pageStart = this.firstAudioPageOffset;
			p.pageEnd = p.pageStart + len;
			p.firstDecodedSample = 0;
			p.lastDecodedSample = loc0;
			this.pFirst = p;
		}
		this.nextSeg = 0;
	}
	,clone: function(seekFunc) {
		var state = Type.createEmptyInstance(kha_audio2_ogg_vorbis_VorbisDecodeState);
		seekFunc(this.inputPosition);
		state.input = this.input;
		state.eof = this.eof;
		state.validBits = this.validBits;
		state.discardSamplesDeferred = this.discardSamplesDeferred;
		state.firstDecode = this.firstDecode;
		state.nextSeg = this.nextSeg;
		state.bytesInSeg = this.bytesInSeg;
		state.acc = state.acc;
		state.lastSeg = this.lastSeg;
		state.lastSegWhich = this.lastSegWhich;
		state.currentLoc = this.currentLoc;
		state.currentLocValid = this.currentLocValid;
		state.inputPosition = this.inputPosition;
		state.firstAudioPageOffset = this.firstAudioPageOffset;
		state.error = this.error;
		state.segments = this.segments;
		state.pFirst = this.pFirst;
		state.pLast = this.pLast;
		state.page = this.page.clone();
		return state;
	}
	,next: function() {
		if(this.lastSeg) {
			return 0;
		}
		if(this.nextSeg == -1) {
			this.lastSegWhich = this.segments.length - 1;
			try {
				this.page.start(this);
			} catch( e ) {
				if (e instanceof js__$Boot_HaxeError) e = e.val;
				if( js_Boot.__instanceof(e,kha_audio2_ogg_vorbis_data_ReaderError) ) {
					this.lastSeg = true;
					this.error = e;
					return 0;
				} else throw(e);
			}
			if((this.page.flag & 1) == 0) {
				throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.CONTINUED_PACKET_FLAG_INVALID,null,{ fileName : "VorbisDecodeState.hx", lineNumber : 171, className : "kha.audio2.ogg.vorbis.VorbisDecodeState", methodName : "next"}));
			}
		}
		var len = this.segments[this.nextSeg++];
		if(len < 255) {
			this.lastSeg = true;
			this.lastSegWhich = this.nextSeg - 1;
		}
		if(this.nextSeg >= this.segments.length) {
			this.nextSeg = -1;
		}
		if(this.bytesInSeg != 0) {
			throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.OTHER,"",{ fileName : "VorbisDecodeState.hx", lineNumber : 184, className : "kha.audio2.ogg.vorbis.VorbisDecodeState", methodName : "next"}));
		}
		this.bytesInSeg = len;
		return len;
	}
	,startPacket: function() {
		while(this.nextSeg == -1) {
			this.page.start(this);
			if((this.page.flag & 1) != 0) {
				throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.MISSING_CAPTURE_PATTERN,null,{ fileName : "VorbisDecodeState.hx", lineNumber : 193, className : "kha.audio2.ogg.vorbis.VorbisDecodeState", methodName : "startPacket"}));
			}
		}
		this.lastSeg = false;
		this.validBits = 0;
		this.bytesInSeg = 0;
	}
	,maybeStartPacket: function() {
		if(this.nextSeg == -1) {
			var eof = false;
			var x;
			try {
				this.inputPosition += 1;
				x = this.input.readByte();
			} catch( e ) {
				if (e instanceof js__$Boot_HaxeError) e = e.val;
				if( js_Boot.__instanceof(e,haxe_io_Eof) ) {
					eof = true;
					x = 0;
				} else throw(e);
			}
			if(eof) {
				return false;
			}
			var tmp;
			var tmp1;
			var tmp2;
			if(x == 79) {
				this.inputPosition += 1;
				tmp2 = this.input.readByte() != 103;
			} else {
				tmp2 = true;
			}
			if(!tmp2) {
				this.inputPosition += 1;
				tmp1 = this.input.readByte() != 103;
			} else {
				tmp1 = true;
			}
			if(!tmp1) {
				this.inputPosition += 1;
				tmp = this.input.readByte() != 83;
			} else {
				tmp = true;
			}
			if(tmp) {
				throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.MISSING_CAPTURE_PATTERN,null,{ fileName : "VorbisDecodeState.hx", lineNumber : 218, className : "kha.audio2.ogg.vorbis.VorbisDecodeState", methodName : "maybeStartPacket"}));
			}
			this.page.startWithoutCapturePattern(this);
		}
		this.startPacket();
		return true;
	}
	,readBits: function(n) {
		if(this.validBits < 0) {
			return 0;
		} else if(this.validBits < n) {
			if(n > 24) {
				return this.readBits(24) + (this.readBits(n - 24) << 24);
			} else {
				if(this.validBits == 0) {
					this.acc = 0;
				}
				while(true) {
					if(this.bytesInSeg == 0 && (this.lastSeg || this.next() == 0)) {
						this.validBits = -1;
						break;
					} else {
						this.bytesInSeg--;
						this.inputPosition += 1;
						this.acc = this.acc + (this.input.readByte() << this.validBits);
						this.validBits += 8;
					}
					if(!(this.validBits < n)) {
						break;
					}
				}
				if(this.validBits < 0) {
					return 0;
				} else {
					var z = this.acc & (1 << n) - 1;
					this.acc = this.acc >>> n;
					this.validBits -= n;
					return z;
				}
			}
		} else {
			var z1 = this.acc & (1 << n) - 1;
			this.acc = this.acc >>> n;
			this.validBits -= n;
			return z1;
		}
	}
	,readPacketRaw: function() {
		if(this.bytesInSeg == 0 && (this.lastSeg || this.next() == 0)) {
			return -1;
		} else {
			this.bytesInSeg--;
			this.inputPosition += 1;
			return this.input.readByte();
		}
	}
	,readPacket: function() {
		var x;
		if(this.bytesInSeg == 0 && (this.lastSeg || this.next() == 0)) {
			x = -1;
		} else {
			this.bytesInSeg--;
			this.inputPosition += 1;
			x = this.input.readByte();
		}
		this.validBits = 0;
		return x;
	}
	,flushPacket: function() {
		while(this.bytesInSeg != 0 || !this.lastSeg && this.next() != 0) {
			this.bytesInSeg--;
			this.inputPosition += 1;
			this.input.readByte();
		}
	}
	,vorbisValidate: function() {
		var header = new haxe_io_Bytes(new ArrayBuffer(6));
		var _g = 0;
		while(_g < 6) {
			var i = _g++;
			var x;
			if(this.bytesInSeg == 0 && (this.lastSeg || this.next() == 0)) {
				x = -1;
			} else {
				this.bytesInSeg--;
				this.inputPosition += 1;
				x = this.input.readByte();
			}
			this.validBits = 0;
			header.b[i] = x & 255;
		}
		if(header.toString() != "vorbis") {
			throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,"vorbis header",{ fileName : "VorbisDecodeState.hx", lineNumber : 300, className : "kha.audio2.ogg.vorbis.VorbisDecodeState", methodName : "vorbisValidate"}));
		}
	}
	,firstPageValidate: function() {
		if(this.segments.length != 1) {
			throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE,"segmentCount",{ fileName : "VorbisDecodeState.hx", lineNumber : 307, className : "kha.audio2.ogg.vorbis.VorbisDecodeState", methodName : "firstPageValidate"}));
		}
		if(this.segments[0] != 30) {
			throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE,"decodeState head",{ fileName : "VorbisDecodeState.hx", lineNumber : 310, className : "kha.audio2.ogg.vorbis.VorbisDecodeState", methodName : "firstPageValidate"}));
		}
	}
	,startFirstDecode: function() {
		this.firstAudioPageOffset = this.inputPosition;
		this.firstDecode = true;
	}
	,capturePattern: function() {
		var tmp;
		var tmp1;
		var tmp2;
		this.inputPosition += 1;
		if(this.input.readByte() == 79) {
			this.inputPosition += 1;
			tmp2 = this.input.readByte() != 103;
		} else {
			tmp2 = true;
		}
		if(!tmp2) {
			this.inputPosition += 1;
			tmp1 = this.input.readByte() != 103;
		} else {
			tmp1 = true;
		}
		if(!tmp1) {
			this.inputPosition += 1;
			tmp = this.input.readByte() != 83;
		} else {
			tmp = true;
		}
		if(tmp) {
			throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.MISSING_CAPTURE_PATTERN,null,{ fileName : "VorbisDecodeState.hx", lineNumber : 323, className : "kha.audio2.ogg.vorbis.VorbisDecodeState", methodName : "capturePattern"}));
		}
	}
	,skip: function(len) {
		this.inputPosition += len;
		var this1 = new Array(len);
		var vec = this1;
		var _g1 = 0;
		var _g = len;
		while(_g1 < _g) {
			var i = _g1++;
			vec[i] = this.input.readByte();
		}
	}
	,prepHuffman: function() {
		if(this.validBits <= 24) {
			if(this.validBits == 0) {
				this.acc = 0;
			}
			while(true) {
				if(this.bytesInSeg == 0 && (this.lastSeg || this.next() == 0)) {
					return;
				} else {
					this.bytesInSeg--;
					this.inputPosition += 1;
					this.acc = this.acc + (this.input.readByte() << this.validBits);
					this.validBits += 8;
				}
				if(!(this.validBits <= 24)) {
					break;
				}
			}
		}
	}
	,decode: function(c) {
		if(this.validBits < 10) {
			this.prepHuffman();
		}
		var i = c.fastHuffman[this.acc & 1023];
		var val;
		if(i >= 0) {
			var l = c.codewordLengths[i];
			this.acc = this.acc >>> l;
			this.validBits -= l;
			if(this.validBits < 0) {
				this.validBits = 0;
				val = -1;
			} else {
				val = i;
			}
		} else {
			val = this.decodeScalarRaw(c);
		}
		if(c.sparse) {
			val = c.sortedValues[val];
		}
		return val;
	}
	,decodeRaw: function(c) {
		if(this.validBits < 10) {
			this.prepHuffman();
		}
		var i = c.fastHuffman[this.acc & 1023];
		if(i >= 0) {
			var l = c.codewordLengths[i];
			this.acc = this.acc >>> l;
			this.validBits -= l;
			if(this.validBits < 0) {
				this.validBits = 0;
				return -1;
			} else {
				return i;
			}
		} else {
			return this.decodeScalarRaw(c);
		}
	}
	,isLastByte: function() {
		if(this.bytesInSeg == 0) {
			return this.lastSeg;
		} else {
			return false;
		}
	}
	,finishDecodePacket: function(previousLength,n,r) {
		var left = r.left.start;
		var currentLocValid = false;
		var n2 = n >> 1;
		if(this.firstDecode) {
			this.currentLoc = -n2;
			this.discardSamplesDeferred = n - r.right.end;
			currentLocValid = true;
			this.firstDecode = false;
		} else if(this.discardSamplesDeferred != 0) {
			r.left.start += this.discardSamplesDeferred;
			left = r.left.start;
			this.discardSamplesDeferred = 0;
		} else {
			var tmp = previousLength == 0 && currentLocValid;
		}
		if(this.lastSegWhich == this.endSegWithKnownLoc) {
			if(currentLocValid && (this.page.flag & 4) != 0) {
				var currentEnd = this.knownLocForPacket - (n - r.right.end);
				if(currentEnd < this.currentLoc + r.right.end) {
					var len = currentEnd < this.currentLoc ? 0 : currentEnd - this.currentLoc;
					len += r.left.start;
					this.currentLoc += len;
					return { len : len, left : left, right : r.right.start};
				}
			}
			this.currentLoc = this.knownLocForPacket - (n2 - r.left.start);
			currentLocValid = true;
		}
		if(currentLocValid) {
			this.currentLoc += r.right.start - r.left.start;
		}
		return { len : r.right.end, left : left, right : r.right.start};
	}
	,readInt32: function() {
		this.inputPosition += 4;
		return this.input.readInt32();
	}
	,readByte: function() {
		this.inputPosition += 1;
		return this.input.readByte();
	}
	,read: function(n) {
		this.inputPosition += n;
		var this1 = new Array(n);
		var vec = this1;
		var _g1 = 0;
		var _g = n;
		while(_g1 < _g) {
			var i = _g1++;
			vec[i] = this.input.readByte();
		}
		return vec;
	}
	,readBytes: function(n) {
		this.inputPosition += n;
		return this.input.read(n);
	}
	,readString: function(n) {
		this.inputPosition += n;
		return this.input.readString(n);
	}
	,getSampleNumber: function(seekFunc,inputLength) {
		var restoreOffset = this.inputPosition;
		var previousSafe = _$UInt_UInt_$Impl_$.gte(inputLength,65536) && _$UInt_UInt_$Impl_$.gte(inputLength - 65536,this.firstAudioPageOffset) ? inputLength - 65536 : this.firstAudioPageOffset;
		seekFunc(this.inputPosition = previousSafe);
		var end = 0;
		var last = false;
		var _g = this.findPage(seekFunc,inputLength);
		switch(_g[1]) {
		case 0:
			var l = _g[3];
			var e = _g[2];
			end = e;
			last = l;
			break;
		case 1:
			throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.CANT_FIND_LAST_PAGE,null,{ fileName : "VorbisDecodeState.hx", lineNumber : 518, className : "kha.audio2.ogg.vorbis.VorbisDecodeState", methodName : "getSampleNumber"}));
			break;
		}
		var lastPageLoc = this.inputPosition;
		try {
			while(!last) {
				seekFunc(this.inputPosition = end);
				var _g1 = this.findPage(seekFunc,inputLength);
				switch(_g1[1]) {
				case 0:
					var l1 = _g1[3];
					var e1 = _g1[2];
					end = e1;
					last = l1;
					break;
				case 1:
					throw "__break__";
					break;
				}
				previousSafe = lastPageLoc + 1;
				lastPageLoc = this.inputPosition;
			}
		} catch( e ) { if( e != "__break__" ) throw e; }
		seekFunc(this.inputPosition = lastPageLoc);
		this.inputPosition += 6;
		var this1 = new Array(6);
		var vec = this1;
		var _g11 = 0;
		var _g2 = 6;
		while(_g11 < _g2) {
			var i = _g11++;
			vec[i] = this.input.readByte();
		}
		var vorbisHeader = vec;
		this.inputPosition += 4;
		var lo = this.input.readInt32();
		this.inputPosition += 4;
		var hi = this.input.readInt32();
		if(lo == -1 && hi == -1 || hi > 0) {
			throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.CANT_FIND_LAST_PAGE,null,{ fileName : "VorbisDecodeState.hx", lineNumber : 552, className : "kha.audio2.ogg.vorbis.VorbisDecodeState", methodName : "getSampleNumber"}));
		}
		this.pLast = new kha_audio2_ogg_vorbis_data_ProbedPage();
		this.pLast.pageStart = lastPageLoc;
		this.pLast.pageEnd = end;
		this.pLast.lastDecodedSample = lo;
		this.pLast.firstDecodedSample = null;
		this.pLast.afterPreviousPageStart = previousSafe;
		seekFunc(this.inputPosition = restoreOffset);
		return lo;
	}
	,forcePageResync: function() {
		this.nextSeg = -1;
	}
	,setInputOffset: function(seekFunc,n) {
		seekFunc(this.inputPosition = n);
	}
	,findPage: function(seekFunc,inputLength) {
		try {
			while(true) {
				this.inputPosition += 1;
				var n = this.input.readByte();
				if(n == 79) {
					var retryLoc = this.inputPosition;
					if(retryLoc - 25 > inputLength) {
						return kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult.NotFound;
					}
					var tmp;
					var tmp1;
					this.inputPosition += 1;
					if(this.input.readByte() == 103) {
						this.inputPosition += 1;
						tmp1 = this.input.readByte() != 103;
					} else {
						tmp1 = true;
					}
					if(!tmp1) {
						this.inputPosition += 1;
						tmp = this.input.readByte() != 83;
					} else {
						tmp = true;
					}
					if(tmp) {
						continue;
					}
					var this1 = new Array(27);
					var header = this1;
					header[0] = 79;
					header[1] = 103;
					header[2] = 103;
					header[3] = 83;
					var _g = 4;
					while(_g < 27) {
						var i = _g++;
						this.inputPosition += 1;
						header[i] = this.input.readByte();
					}
					if(header[4] != 0) {
						seekFunc(this.inputPosition = retryLoc);
						continue;
					}
					var goal = header[22] + (header[23] << 8) + (header[24] << 16) + (header[25] << 24);
					var _g1 = 22;
					while(_g1 < 26) {
						var i1 = _g1++;
						header[i1] = 0;
					}
					var crc = 0;
					var _g2 = 0;
					while(_g2 < 27) {
						var i2 = _g2++;
						crc = crc << 8 ^ kha_audio2_ogg_tools_Crc32.table[header[i2] ^ crc >>> 24];
					}
					var len = 0;
					try {
						var _g11 = 0;
						var _g3 = header[26];
						while(_g11 < _g3) {
							var i3 = _g11++;
							this.inputPosition += 1;
							var s = this.input.readByte();
							crc = crc << 8 ^ kha_audio2_ogg_tools_Crc32.table[s ^ crc >>> 24];
							len += s;
						}
						var _g12 = 0;
						var _g4 = len;
						while(_g12 < _g4) {
							var i4 = _g12++;
							this.inputPosition += 1;
							var $byte = this.input.readByte();
							crc = crc << 8 ^ kha_audio2_ogg_tools_Crc32.table[$byte ^ crc >>> 24];
						}
					} catch( e ) {
						if (e instanceof js__$Boot_HaxeError) e = e.val;
						if( js_Boot.__instanceof(e,haxe_io_Eof) ) {
							return kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult.NotFound;
						} else throw(e);
					}
					if(crc == goal) {
						var end = this.inputPosition;
						seekFunc(this.inputPosition = retryLoc - 1);
						return kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult.Found(end,(header[5] & 4) != 0);
					}
				}
			}
		} catch( e1 ) {
			if (e1 instanceof js__$Boot_HaxeError) e1 = e1.val;
			if( js_Boot.__instanceof(e1,haxe_io_Eof) ) {
				return kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult.NotFound;
			} else throw(e1);
		}
	}
	,analyzePage: function(seekFunc,h) {
		var z = new kha_audio2_ogg_vorbis_data_ProbedPage();
		var this1 = new Array(255);
		var packetType = this1;
		z.pageStart = this.inputPosition;
		this.inputPosition += 27;
		var this2 = new Array(27);
		var vec = this2;
		var _g1 = 0;
		var _g = 27;
		while(_g1 < _g) {
			var i = _g1++;
			vec[i] = this.input.readByte();
		}
		var pageHeader = vec;
		if(!(pageHeader[0] == 79 && pageHeader[1] == 103 && pageHeader[2] == 103 && pageHeader[3] == 83)) {
			throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.OTHER,"",{ fileName : "VorbisDecodeState.hx", lineNumber : 660, className : "kha.audio2.ogg.vorbis.VorbisDecodeState", methodName : "analyzePage"}));
		}
		var n = pageHeader[26];
		this.inputPosition += n;
		var this3 = new Array(n);
		var vec1 = this3;
		var _g11 = 0;
		var _g2 = n;
		while(_g11 < _g2) {
			var i1 = _g11++;
			vec1[i1] = this.input.readByte();
		}
		var lacing = vec1;
		var len = 0;
		var _g12 = 0;
		var _g3 = pageHeader[26];
		while(_g12 < _g3) {
			var i2 = _g12++;
			len += lacing[i2];
		}
		z.pageEnd = z.pageStart + 27 + pageHeader[26] + len;
		z.lastDecodedSample = pageHeader[6] + (pageHeader[7] << 8) + (pageHeader[8] << 16) + (pageHeader[9] << 16);
		if((pageHeader[5] & 4) != 0) {
			z.firstDecodedSample = null;
			seekFunc(this.inputPosition = z.pageStart);
			return z;
		}
		var numPacket = 0;
		var packetStart = (pageHeader[5] & 1) == 0;
		var modeCount = h.modes.length;
		var _g13 = 0;
		var _g4 = pageHeader[26];
		while(_g13 < _g4) {
			var i3 = _g13++;
			if(packetStart) {
				if(lacing[i3] == 0) {
					seekFunc(this.inputPosition = z.pageStart);
					return null;
				}
				this.inputPosition += 1;
				var n1 = this.input.readByte();
				if((n1 & 1) != 0) {
					seekFunc(this.inputPosition = z.pageStart);
					return null;
				}
				n1 >>= 1;
				var n2 = modeCount - 1;
				var log2_4 = [0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];
				var b = n2 < 16384 ? n2 < 16 ? log2_4[n2] : n2 < 512 ? 5 + log2_4[n2 >> 5] : 10 + log2_4[n2 >> 10] : n2 < 16777216 ? n2 < 524288 ? 15 + log2_4[n2 >> 15] : 20 + log2_4[n2 >> 20] : n2 < 536870912 ? 25 + log2_4[n2 >> 25] : n2 < -2147483648 ? 30 + log2_4[n2 >> 30] : 0;
				n1 &= (1 << b) - 1;
				if(n1 >= modeCount) {
					seekFunc(this.inputPosition = z.pageStart);
					return null;
				}
				packetType[numPacket++] = h.modes[n1].blockflag;
				var len1 = lacing[i3] - 1;
				this.inputPosition += len1;
				var this4 = new Array(len1);
				var vec2 = this4;
				var _g14 = 0;
				var _g5 = len1;
				while(_g14 < _g5) {
					var i4 = _g14++;
					vec2[i4] = this.input.readByte();
				}
			} else {
				var len2 = lacing[i3];
				this.inputPosition += len2;
				var this5 = new Array(len2);
				var vec3 = this5;
				var _g15 = 0;
				var _g6 = len2;
				while(_g15 < _g6) {
					var i5 = _g15++;
					vec3[i5] = this.input.readByte();
				}
			}
			packetStart = lacing[i3] < 255;
		}
		var samples = 0;
		if(numPacket > 1) {
			samples += packetType[numPacket - 1] ? h.blocksize1 : h.blocksize0;
		}
		var i6 = numPacket - 2;
		while(i6 >= 1) {
			--i6;
			if(packetType[i6]) {
				if(packetType[i6 + 1]) {
					samples += h.blocksize1 >> 1;
				} else {
					samples += (h.blocksize1 - h.blocksize0 >> 2) + (h.blocksize0 >> 1);
				}
			} else {
				samples += h.blocksize0 >> 1;
			}
			--i6;
		}
		z.firstDecodedSample = z.lastDecodedSample - samples;
		seekFunc(this.inputPosition = z.pageStart);
		return z;
	}
	,decodeScalarRaw: function(c) {
		this.prepHuffman();
		if(!(c.sortedCodewords != null || c.codewords != null)) {
			throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.OTHER,"",{ fileName : "VorbisDecodeState.hx", lineNumber : 787, className : "kha.audio2.ogg.vorbis.VorbisDecodeState", methodName : "decodeScalarRaw"}));
		}
		var codewordLengths = c.codewordLengths;
		var codewords = c.codewords;
		var sortedCodewords = c.sortedCodewords;
		if(c.entries > 8 ? sortedCodewords != null : codewords != null) {
			var n = this.acc;
			n = (n & -1431655766) >>> 1 | (n & 1431655765) << 1;
			n = (n & -858993460) >>> 2 | (n & 858993459) << 2;
			n = (n & -252645136) >>> 4 | (n & 252645135) << 4;
			n = (n & -16711936) >>> 8 | (n & 16711935) << 8;
			var code = n >>> 16 | n << 16;
			var x = 0;
			var n1 = c.sortedEntries;
			while(n1 > 1) {
				var m = x + (n1 >> 1);
				if(_$UInt_UInt_$Impl_$.gte(code,sortedCodewords[m])) {
					x = m;
					n1 -= n1 >> 1;
				} else {
					n1 >>= 1;
				}
			}
			if(!c.sparse) {
				x = c.sortedValues[x];
			}
			var len = codewordLengths[x];
			if(this.validBits >= len) {
				this.acc = this.acc >>> len;
				this.validBits -= len;
				return x;
			}
			this.validBits = 0;
			return -1;
		}
		if(!(!c.sparse)) {
			throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.OTHER,"",{ fileName : "VorbisDecodeState.hx", lineNumber : 829, className : "kha.audio2.ogg.vorbis.VorbisDecodeState", methodName : "decodeScalarRaw"}));
		}
		var _g1 = 0;
		var _g = c.entries;
		while(_g1 < _g) {
			var i = _g1++;
			var cl = codewordLengths[i];
			if(cl == 255) {
				continue;
			}
			if(codewords[i] == (this.acc & (1 << cl) - 1)) {
				if(this.validBits >= cl) {
					this.acc = this.acc >>> cl;
					this.validBits -= cl;
					return i;
				}
				this.validBits = 0;
				return -1;
			}
		}
		this.error = new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM,null,{ fileName : "VorbisDecodeState.hx", lineNumber : 846, className : "kha.audio2.ogg.vorbis.VorbisDecodeState", methodName : "decodeScalarRaw"});
		this.validBits = 0;
		return -1;
	}
	,__class__: kha_audio2_ogg_vorbis_VorbisDecodeState
};
var kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult = $hxClasses["kha.audio2.ogg.vorbis._VorbisDecodeState.FindPageResult"] = { __ename__ : ["kha","audio2","ogg","vorbis","_VorbisDecodeState","FindPageResult"], __constructs__ : ["Found","NotFound"] };
kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult.Found = function(end,last) { var $x = ["Found",0,end,last]; $x.__enum__ = kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult; $x.toString = $estr; return $x; };
kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult.NotFound = ["NotFound",1];
kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult.NotFound.toString = $estr;
kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult.NotFound.__enum__ = kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult;
var kha_audio2_ogg_vorbis_VorbisDecoder = $hxClasses["kha.audio2.ogg.vorbis.VorbisDecoder"] = function(header,decodeState) {
	this.header = header;
	this.decodeState = decodeState;
	this.totalSample = null;
	this.currentSample = 0;
	this.previousLength = 0;
	var length = header.channel;
	var this1 = new Array(length);
	this.channelBuffers = this1;
	var length1 = header.channel;
	var this2 = new Array(length1);
	this.previousWindow = this2;
	var length2 = header.channel;
	var this3 = new Array(length2);
	this.finalY = this3;
	var _g1 = 0;
	var _g = header.channel;
	while(_g1 < _g) {
		var i = _g1++;
		var this4 = this.channelBuffers;
		var len = header.blocksize1;
		var this5 = new Array(len);
		var vec = this5;
		this4[i] = vec;
		var this6 = this.previousWindow;
		var len1 = header.blocksize1 / 2 | 0;
		var this7 = new Array(len1);
		var vec1 = this7;
		this6[i] = vec1;
		this.finalY[i] = [];
	}
	var this8 = new Array(2);
	this.a = this8;
	var this9 = new Array(2);
	this.b = this9;
	var this10 = new Array(2);
	this.c = this10;
	var this11 = new Array(2);
	this.window = this11;
	var this12 = new Array(2);
	this.bitReverseData = this12;
	this.initBlocksize(0,header.blocksize0);
	this.initBlocksize(1,header.blocksize1);
};
kha_audio2_ogg_vorbis_VorbisDecoder.__name__ = ["kha","audio2","ogg","vorbis","VorbisDecoder"];
kha_audio2_ogg_vorbis_VorbisDecoder.start = function(input) {
	var decodeState = new kha_audio2_ogg_vorbis_VorbisDecodeState(input);
	var header = kha_audio2_ogg_vorbis_data_Header.read(decodeState);
	var decoder = new kha_audio2_ogg_vorbis_VorbisDecoder(header,decodeState);
	decodeState.startFirstDecode();
	decoder.pumpFirstFrame();
	return decoder;
};
kha_audio2_ogg_vorbis_VorbisDecoder.prototype = {
	previousWindow: null
	,previousLength: null
	,finalY: null
	,a: null
	,b: null
	,c: null
	,window: null
	,bitReverseData: null
	,channelBuffers: null
	,channelBufferStart: null
	,channelBufferEnd: null
	,header: null
	,currentSample: null
	,totalSample: null
	,decodeState: null
	,read: function(output,samples,channels,sampleRate,useFloat) {
		var b = this.header.sampleRate;
		if((_$UInt_UInt_$Impl_$.toFloat(sampleRate) % _$UInt_UInt_$Impl_$.toFloat(b) | 0) != 0) {
			throw new js__$Boot_HaxeError("Unsupported sampleRate : can't convert " + Std.string(_$UInt_UInt_$Impl_$.toFloat(this.header.sampleRate)) + " to " + sampleRate);
		}
		if(channels % this.header.channel != 0) {
			throw new js__$Boot_HaxeError("Unsupported channels : can't convert " + this.header.channel + " to " + channels);
		}
		var b1 = this.header.sampleRate;
		var sampleRepeat = _$UInt_UInt_$Impl_$.toFloat(sampleRate) / _$UInt_UInt_$Impl_$.toFloat(b1) | 0;
		var channelRepeat = channels / this.header.channel | 0;
		var n = 0;
		var len = Math.floor(samples / sampleRepeat);
		if(this.totalSample != null && len > this.totalSample - this.currentSample) {
			len = this.totalSample - this.currentSample;
		}
		var index = 0;
		while(n < len) {
			var k = this.channelBufferEnd - this.channelBufferStart;
			if(k >= len - n) {
				k = len - n;
			}
			var _g1 = this.channelBufferStart;
			var _g = this.channelBufferStart + k;
			while(_g1 < _g) {
				var j = _g1++;
				var _g3 = 0;
				var _g2 = sampleRepeat;
				while(_g3 < _g2) {
					var sr = _g3++;
					var _g5 = 0;
					var _g4 = this.header.channel;
					while(_g5 < _g4) {
						var i = _g5++;
						var _g7 = 0;
						var _g6 = channelRepeat;
						while(_g7 < _g6) {
							var cr = _g7++;
							var value = this.channelBuffers[i][j];
							if(value > 1) {
								value = 1;
							} else if(value < -1) {
								value = -1;
							}
							if(useFloat) {
								output[index] = value;
								++index;
							}
						}
					}
				}
			}
			n += k;
			this.channelBufferStart += k;
			if(n == len || this.getFrameFloat() == 0) {
				break;
			}
		}
		var _g11 = n;
		var _g8 = len;
		while(_g11 < _g8) {
			var j1 = _g11++;
			var _g31 = 0;
			var _g21 = sampleRepeat;
			while(_g31 < _g21) {
				var sr1 = _g31++;
				var _g51 = 0;
				var _g41 = this.header.channel;
				while(_g51 < _g41) {
					var i1 = _g51++;
					var _g71 = 0;
					var _g61 = channelRepeat;
					while(_g71 < _g61) {
						var cr1 = _g71++;
						if(useFloat) {
							output[index] = 0;
							++index;
						}
					}
				}
			}
		}
		this.currentSample += len;
		return len * sampleRepeat;
	}
	,skipSamples: function(len) {
		var n = 0;
		if(this.totalSample != null && len > this.totalSample - this.currentSample) {
			len = this.totalSample - this.currentSample;
		}
		while(n < len) {
			var k = this.channelBufferEnd - this.channelBufferStart;
			if(k >= len - n) {
				k = len - n;
			}
			n += k;
			this.channelBufferStart += k;
			if(n == len || this.getFrameFloat() == 0) {
				break;
			}
		}
		this.currentSample += len;
		return len;
	}
	,setupSampleNumber: function(seekFunc,inputLength) {
		if(this.totalSample == null) {
			this.totalSample = this.decodeState.getSampleNumber(seekFunc,inputLength);
		}
	}
	,seek: function(seekFunc,inputLength,sampleNumber) {
		if(this.currentSample == sampleNumber) {
			return;
		}
		if(this.totalSample == null) {
			this.setupSampleNumber(seekFunc,inputLength);
			if(this.totalSample == 0) {
				throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.CANT_FIND_LAST_PAGE,null,{ fileName : "VorbisDecoder.hx", lineNumber : 187, className : "kha.audio2.ogg.vorbis.VorbisDecoder", methodName : "seek"}));
			}
		}
		if(sampleNumber < 0) {
			sampleNumber = 0;
		}
		var p0 = this.decodeState.pFirst;
		var p1 = this.decodeState.pLast;
		if(sampleNumber >= p1.lastDecodedSample) {
			sampleNumber = p1.lastDecodedSample - 1;
		}
		if(sampleNumber < p0.lastDecodedSample) {
			this.seekFrameFromPage(seekFunc,p0.pageStart,0,sampleNumber);
		} else {
			var attempts = 0;
			while(p0.pageEnd < p1.pageStart) {
				var startOffset = p0.pageEnd;
				var endOffset = p1.afterPreviousPageStart;
				var startSample = p0.lastDecodedSample;
				var endSample = p1.lastDecodedSample;
				if(startSample == null || endSample == null) {
					throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_FAILED,null,{ fileName : "VorbisDecoder.hx", lineNumber : 219, className : "kha.audio2.ogg.vorbis.VorbisDecoder", methodName : "seek"}));
				}
				if(_$UInt_UInt_$Impl_$.gt(endOffset,startOffset + 4000)) {
					endOffset = endOffset - 4000;
				}
				var probe = startOffset + Math.floor(_$UInt_UInt_$Impl_$.toFloat(endOffset - startOffset) / _$UInt_UInt_$Impl_$.toFloat(endSample - startSample) * (sampleNumber - startSample));
				if(attempts >= 4) {
					var probe2 = startOffset + (endOffset - startOffset >>> 1);
					if(attempts >= 8) {
						probe = probe2;
					} else if(_$UInt_UInt_$Impl_$.gt(probe2,probe)) {
						probe = probe + (probe2 - probe >>> 1);
					} else {
						probe = probe2 + (probe - probe2 >>> 1);
					}
				}
				++attempts;
				seekFunc(this.decodeState.inputPosition = probe);
				var _g = this.decodeState.findPage(seekFunc,inputLength);
				switch(_g[1]) {
				case 0:
					break;
				case 1:
					throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_FAILED,null,{ fileName : "VorbisDecoder.hx", lineNumber : 249, className : "kha.audio2.ogg.vorbis.VorbisDecoder", methodName : "seek"}));
					break;
				}
				var q = this.decodeState.analyzePage(seekFunc,this.header);
				if(q == null) {
					throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_FAILED,null,{ fileName : "VorbisDecoder.hx", lineNumber : 255, className : "kha.audio2.ogg.vorbis.VorbisDecoder", methodName : "seek"}));
				}
				q.afterPreviousPageStart = probe;
				if(q.pageStart == p1.pageStart) {
					p1 = q;
					continue;
				}
				if(sampleNumber < q.lastDecodedSample) {
					p1 = q;
				} else {
					p0 = q;
				}
			}
			if(p0.lastDecodedSample <= sampleNumber && sampleNumber < p1.lastDecodedSample) {
				this.seekFrameFromPage(seekFunc,p1.pageStart,p0.lastDecodedSample,sampleNumber);
			} else {
				throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_FAILED,null,{ fileName : "VorbisDecoder.hx", lineNumber : 275, className : "kha.audio2.ogg.vorbis.VorbisDecoder", methodName : "seek"}));
			}
		}
	}
	,seekFrameFromPage: function(seekFunc,pageStart,firstSample,targetSample) {
		var frame = 0;
		var frameStart = firstSample;
		seekFunc(this.decodeState.inputPosition = pageStart);
		this.decodeState.nextSeg = -1;
		var leftEnd = 0;
		var leftStart = 0;
		var prevState = null;
		var lastState = null;
		while(true) {
			prevState = lastState;
			lastState = this.decodeState.clone(seekFunc);
			var initialResult = this.decodeInitial();
			if(initialResult == null) {
				lastState = prevState;
				break;
			}
			leftStart = initialResult.left.start;
			leftEnd = initialResult.left.end;
			var start = frame == 0 ? leftEnd : leftStart;
			if(targetSample < frameStart + initialResult.right.start - start) {
				break;
			}
			var _this = this.decodeState;
			while(_this.bytesInSeg != 0 || !_this.lastSeg && _this.next() != 0) {
				_this.bytesInSeg--;
				_this.inputPosition += 1;
				_this.input.readByte();
			}
			frameStart += initialResult.right.start - start;
			++frame;
		}
		this.decodeState = lastState;
		seekFunc(this.decodeState.inputPosition);
		this.previousLength = 0;
		this.pumpFirstFrame();
		this.currentSample = frameStart;
		this.skipSamples(targetSample - frameStart);
	}
	,clone: function(seekFunc) {
		var decoder = Type.createEmptyInstance(kha_audio2_ogg_vorbis_VorbisDecoder);
		decoder.currentSample = this.currentSample;
		decoder.totalSample = this.totalSample;
		decoder.previousLength = this.previousLength;
		decoder.channelBufferStart = this.channelBufferStart;
		decoder.channelBufferEnd = this.channelBufferEnd;
		decoder.a = this.a;
		decoder.b = this.b;
		decoder.c = this.c;
		decoder.window = this.window;
		decoder.bitReverseData = this.bitReverseData;
		decoder.header = this.header;
		decoder.decodeState = this.decodeState.clone(seekFunc);
		var length = this.header.channel;
		var this1 = new Array(length);
		decoder.channelBuffers = this1;
		var length1 = this.header.channel;
		var this2 = new Array(length1);
		decoder.previousWindow = this2;
		var length2 = this.header.channel;
		var this3 = new Array(length2);
		decoder.finalY = this3;
		var _g1 = 0;
		var _g = this.header.channel;
		while(_g1 < _g) {
			var i = _g1++;
			decoder.channelBuffers[i] = kha_audio2_ogg_vorbis_VorbisTools.copyVector(this.channelBuffers[i]);
			decoder.previousWindow[i] = kha_audio2_ogg_vorbis_VorbisTools.copyVector(this.previousWindow[i]);
			decoder.finalY[i] = Lambda.array(this.finalY[i]);
		}
		return decoder;
	}
	,ensurePosition: function(seekFunc) {
		seekFunc(this.decodeState.inputPosition);
	}
	,getFrameFloat: function() {
		var result = this.decodePacket();
		if(result == null) {
			this.channelBufferStart = this.channelBufferEnd = 0;
			return 0;
		}
		var len = this.finishFrame(result);
		this.channelBufferStart = result.left;
		this.channelBufferEnd = result.left + len;
		return len;
	}
	,pumpFirstFrame: function() {
		this.finishFrame(this.decodePacket());
	}
	,finishFrame: function(r) {
		var len = r.len;
		var right = r.right;
		var left = r.left;
		if(this.previousLength != 0) {
			var n = this.previousLength;
			var w = this.getWindow(n);
			var _g1 = 0;
			var _g = this.header.channel;
			while(_g1 < _g) {
				var i = _g1++;
				var cb = this.channelBuffers[i];
				var pw = this.previousWindow[i];
				var _g3 = 0;
				var _g2 = n;
				while(_g3 < _g2) {
					var j = _g3++;
					cb[left + j] = cb[left + j] * w[j] + pw[j] * w[n - 1 - j];
				}
			}
		}
		var prev = this.previousLength;
		this.previousLength = len - right;
		var _g11 = 0;
		var _g4 = this.header.channel;
		while(_g11 < _g4) {
			var i1 = _g11++;
			var pw1 = this.previousWindow[i1];
			var cb1 = this.channelBuffers[i1];
			var _g31 = 0;
			var _g21 = len - right;
			while(_g31 < _g21) {
				var j1 = _g31++;
				pw1[j1] = cb1[right + j1];
			}
		}
		if(prev == 0) {
			return 0;
		}
		if(len < right) {
			right = len;
		}
		return right - left;
	}
	,getWindow: function(len) {
		len <<= 1;
		if(len == this.header.blocksize0) {
			return this.window[0];
		} else if(len == this.header.blocksize1) {
			return this.window[1];
		} else {
			throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.OTHER,"",{ fileName : "VorbisDecoder.hx", lineNumber : 466, className : "kha.audio2.ogg.vorbis.VorbisDecoder", methodName : "getWindow"}));
		}
	}
	,initBlocksize: function(bs,n) {
		var n2 = n >> 1;
		var n4 = n >> 2;
		var n8 = n >> 3;
		var this1 = this.a;
		var this2 = new Array(n2);
		this1[bs] = this2;
		var this3 = this.b;
		var this4 = new Array(n2);
		this3[bs] = this4;
		var this5 = this.c;
		var this6 = new Array(n4);
		this5[bs] = this6;
		var this7 = this.window;
		var this8 = new Array(n2);
		this7[bs] = this8;
		var this9 = this.bitReverseData;
		var this10 = new Array(n8);
		this9[bs] = this10;
		kha_audio2_ogg_vorbis_VorbisTools.computeTwiddleFactors(n,this.a[bs],this.b[bs],this.c[bs]);
		kha_audio2_ogg_vorbis_VorbisTools.computeWindow(n,this.window[bs]);
		kha_audio2_ogg_vorbis_VorbisTools.computeBitReverse(n,this.bitReverseData[bs]);
	}
	,inverseMdct: function(buffer,n,blocktype) {
		var bt = blocktype ? 1 : 0;
		var a = this.a[bt];
		var b = this.b[bt];
		var c = this.c[bt];
		var bitReverse = this.bitReverseData[bt];
		var n2 = n >> 1;
		var n4 = n >> 2;
		var n8 = n >> 3;
		var this1 = new Array(n2);
		var buf2 = this1;
		var dOffset = n2 - 2;
		var aaOffset = 0;
		var eOffset = 0;
		var eStopOffset = n2;
		while(eOffset != eStopOffset) {
			buf2[dOffset + 1] = buffer[eOffset] * a[aaOffset] - buffer[eOffset + 2] * a[aaOffset + 1];
			buf2[dOffset] = buffer[eOffset] * a[aaOffset + 1] + buffer[eOffset + 2] * a[aaOffset];
			dOffset -= 2;
			aaOffset += 2;
			eOffset += 4;
		}
		eOffset = n2 - 3;
		while(dOffset >= 0) {
			buf2[dOffset + 1] = -buffer[eOffset + 2] * a[aaOffset] - -buffer[eOffset] * a[aaOffset + 1];
			buf2[dOffset] = -buffer[eOffset + 2] * a[aaOffset + 1] + -buffer[eOffset] * a[aaOffset];
			dOffset -= 2;
			aaOffset += 2;
			eOffset -= 4;
		}
		var u = buffer;
		var v = buf2;
		var aaOffset1 = n2 - 8;
		var eOffset0 = n4;
		var eOffset1 = 0;
		var dOffset0 = n4;
		var dOffset1 = 0;
		while(aaOffset1 >= 0) {
			var v41_21 = v[eOffset0 + 1] - v[eOffset1 + 1];
			var v40_20 = v[eOffset0] - v[eOffset1];
			u[dOffset0 + 1] = v[eOffset0 + 1] + v[eOffset1 + 1];
			u[dOffset0] = v[eOffset0] + v[eOffset1];
			u[dOffset1 + 1] = v41_21 * a[aaOffset1 + 4] - v40_20 * a[aaOffset1 + 5];
			u[dOffset1] = v40_20 * a[aaOffset1 + 4] + v41_21 * a[aaOffset1 + 5];
			v41_21 = v[eOffset0 + 3] - v[eOffset1 + 3];
			v40_20 = v[eOffset0 + 2] - v[eOffset1 + 2];
			u[dOffset0 + 3] = v[eOffset0 + 3] + v[eOffset1 + 3];
			u[dOffset0 + 2] = v[eOffset0 + 2] + v[eOffset1 + 2];
			u[dOffset1 + 3] = v41_21 * a[aaOffset1] - v40_20 * a[aaOffset1 + 1];
			u[dOffset1 + 2] = v40_20 * a[aaOffset1] + v41_21 * a[aaOffset1 + 1];
			aaOffset1 -= 8;
			dOffset0 += 4;
			dOffset1 += 4;
			eOffset0 += 4;
			eOffset1 += 4;
		}
		var log2_4 = [0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];
		var ld = (n < 16384 ? n < 16 ? log2_4[n] : n < 512 ? 5 + log2_4[n >> 5] : 10 + log2_4[n >> 10] : n < 16777216 ? n < 524288 ? 15 + log2_4[n >> 15] : 20 + log2_4[n >> 20] : n < 536870912 ? 25 + log2_4[n >> 25] : n < -2147483648 ? 30 + log2_4[n >> 30] : 0) - 1;
		var i_off = n2 - 1 - n4 * 0;
		var eeOffset0 = i_off;
		var eeOffset2 = i_off + -(n >> 3);
		var aOffset = 0;
		var i = (n >> 4 >> 2) + 1;
		while(--i > 0) {
			var k00_20 = u[eeOffset0] - u[eeOffset2];
			var k01_21 = u[eeOffset0 + -1] - u[eeOffset2 + -1];
			var _g = eeOffset0;
			var _g1 = u;
			_g1[_g] = _g1[_g] + u[eeOffset2];
			var _g2 = eeOffset0 + -1;
			var _g11 = u;
			_g11[_g2] = _g11[_g2] + u[eeOffset2 + -1];
			u[eeOffset2] = k00_20 * a[aOffset] - k01_21 * a[aOffset + 1];
			u[eeOffset2 + -1] = k01_21 * a[aOffset] + k00_20 * a[aOffset + 1];
			aOffset += 8;
			k00_20 = u[eeOffset0 + -2] - u[eeOffset2 + -2];
			k01_21 = u[eeOffset0 + -3] - u[eeOffset2 + -3];
			var _g3 = eeOffset0 + -2;
			var _g12 = u;
			_g12[_g3] = _g12[_g3] + u[eeOffset2 + -2];
			var _g4 = eeOffset0 + -3;
			var _g13 = u;
			_g13[_g4] = _g13[_g4] + u[eeOffset2 + -3];
			u[eeOffset2 + -2] = k00_20 * a[aOffset] - k01_21 * a[aOffset + 1];
			u[eeOffset2 + -3] = k01_21 * a[aOffset] + k00_20 * a[aOffset + 1];
			aOffset += 8;
			k00_20 = u[eeOffset0 + -4] - u[eeOffset2 + -4];
			k01_21 = u[eeOffset0 + -5] - u[eeOffset2 + -5];
			var _g5 = eeOffset0 + -4;
			var _g14 = u;
			_g14[_g5] = _g14[_g5] + u[eeOffset2 + -4];
			var _g6 = eeOffset0 + -5;
			var _g15 = u;
			_g15[_g6] = _g15[_g6] + u[eeOffset2 + -5];
			u[eeOffset2 + -4] = k00_20 * a[aOffset] - k01_21 * a[aOffset + 1];
			u[eeOffset2 + -5] = k01_21 * a[aOffset] + k00_20 * a[aOffset + 1];
			aOffset += 8;
			k00_20 = u[eeOffset0 + -6] - u[eeOffset2 + -6];
			k01_21 = u[eeOffset0 + -7] - u[eeOffset2 + -7];
			var _g7 = eeOffset0 + -6;
			var _g16 = u;
			_g16[_g7] = _g16[_g7] + u[eeOffset2 + -6];
			var _g8 = eeOffset0 + -7;
			var _g17 = u;
			_g17[_g8] = _g17[_g8] + u[eeOffset2 + -7];
			u[eeOffset2 + -6] = k00_20 * a[aOffset] - k01_21 * a[aOffset + 1];
			u[eeOffset2 + -7] = k01_21 * a[aOffset] + k00_20 * a[aOffset + 1];
			aOffset += 8;
			eeOffset0 -= 8;
			eeOffset2 -= 8;
		}
		var i_off1 = n2 - 1 - n4;
		var eeOffset01 = i_off1;
		var eeOffset21 = i_off1 + -(n >> 3);
		var aOffset1 = 0;
		var i1 = (n >> 4 >> 2) + 1;
		while(--i1 > 0) {
			var k00_201 = u[eeOffset01] - u[eeOffset21];
			var k01_211 = u[eeOffset01 + -1] - u[eeOffset21 + -1];
			var _g9 = eeOffset01;
			var _g18 = u;
			_g18[_g9] = _g18[_g9] + u[eeOffset21];
			var _g10 = eeOffset01 + -1;
			var _g19 = u;
			_g19[_g10] = _g19[_g10] + u[eeOffset21 + -1];
			u[eeOffset21] = k00_201 * a[aOffset1] - k01_211 * a[aOffset1 + 1];
			u[eeOffset21 + -1] = k01_211 * a[aOffset1] + k00_201 * a[aOffset1 + 1];
			aOffset1 += 8;
			k00_201 = u[eeOffset01 + -2] - u[eeOffset21 + -2];
			k01_211 = u[eeOffset01 + -3] - u[eeOffset21 + -3];
			var _g20 = eeOffset01 + -2;
			var _g110 = u;
			_g110[_g20] = _g110[_g20] + u[eeOffset21 + -2];
			var _g21 = eeOffset01 + -3;
			var _g111 = u;
			_g111[_g21] = _g111[_g21] + u[eeOffset21 + -3];
			u[eeOffset21 + -2] = k00_201 * a[aOffset1] - k01_211 * a[aOffset1 + 1];
			u[eeOffset21 + -3] = k01_211 * a[aOffset1] + k00_201 * a[aOffset1 + 1];
			aOffset1 += 8;
			k00_201 = u[eeOffset01 + -4] - u[eeOffset21 + -4];
			k01_211 = u[eeOffset01 + -5] - u[eeOffset21 + -5];
			var _g22 = eeOffset01 + -4;
			var _g112 = u;
			_g112[_g22] = _g112[_g22] + u[eeOffset21 + -4];
			var _g23 = eeOffset01 + -5;
			var _g113 = u;
			_g113[_g23] = _g113[_g23] + u[eeOffset21 + -5];
			u[eeOffset21 + -4] = k00_201 * a[aOffset1] - k01_211 * a[aOffset1 + 1];
			u[eeOffset21 + -5] = k01_211 * a[aOffset1] + k00_201 * a[aOffset1 + 1];
			aOffset1 += 8;
			k00_201 = u[eeOffset01 + -6] - u[eeOffset21 + -6];
			k01_211 = u[eeOffset01 + -7] - u[eeOffset21 + -7];
			var _g24 = eeOffset01 + -6;
			var _g114 = u;
			_g114[_g24] = _g114[_g24] + u[eeOffset21 + -6];
			var _g25 = eeOffset01 + -7;
			var _g115 = u;
			_g115[_g25] = _g115[_g25] + u[eeOffset21 + -7];
			u[eeOffset21 + -6] = k00_201 * a[aOffset1] - k01_211 * a[aOffset1 + 1];
			u[eeOffset21 + -7] = k01_211 * a[aOffset1] + k00_201 * a[aOffset1 + 1];
			aOffset1 += 8;
			eeOffset01 -= 8;
			eeOffset21 -= 8;
		}
		var d0 = n2 - 1 - n8 * 0;
		var aOffset2 = 0;
		var eOffset01 = d0;
		var eOffset2 = d0 + -(n >> 4);
		var i2 = (n >> 5 >> 2) + 1;
		while(--i2 > 0) {
			var k00_202 = u[eOffset01] - u[eOffset2];
			var k01_212 = u[eOffset01 + -1] - u[eOffset2 + -1];
			var _g26 = eOffset01;
			var _g116 = u;
			_g116[_g26] = _g116[_g26] + u[eOffset2];
			var _g27 = eOffset01 + -1;
			var _g117 = u;
			_g117[_g27] = _g117[_g27] + u[eOffset2 + -1];
			u[eOffset2] = k00_202 * a[aOffset2] - k01_212 * a[aOffset2 + 1];
			u[eOffset2 + -1] = k01_212 * a[aOffset2] + k00_202 * a[aOffset2 + 1];
			aOffset2 += 16;
			k00_202 = u[eOffset01 + -2] - u[eOffset2 + -2];
			k01_212 = u[eOffset01 + -3] - u[eOffset2 + -3];
			var _g28 = eOffset01 + -2;
			var _g118 = u;
			_g118[_g28] = _g118[_g28] + u[eOffset2 + -2];
			var _g29 = eOffset01 + -3;
			var _g119 = u;
			_g119[_g29] = _g119[_g29] + u[eOffset2 + -3];
			u[eOffset2 + -2] = k00_202 * a[aOffset2] - k01_212 * a[aOffset2 + 1];
			u[eOffset2 + -3] = k01_212 * a[aOffset2] + k00_202 * a[aOffset2 + 1];
			aOffset2 += 16;
			k00_202 = u[eOffset01 + -4] - u[eOffset2 + -4];
			k01_212 = u[eOffset01 + -5] - u[eOffset2 + -5];
			var _g30 = eOffset01 + -4;
			var _g120 = u;
			_g120[_g30] = _g120[_g30] + u[eOffset2 + -4];
			var _g31 = eOffset01 + -5;
			var _g121 = u;
			_g121[_g31] = _g121[_g31] + u[eOffset2 + -5];
			u[eOffset2 + -4] = k00_202 * a[aOffset2] - k01_212 * a[aOffset2 + 1];
			u[eOffset2 + -5] = k01_212 * a[aOffset2] + k00_202 * a[aOffset2 + 1];
			aOffset2 += 16;
			k00_202 = u[eOffset01 + -6] - u[eOffset2 + -6];
			k01_212 = u[eOffset01 + -7] - u[eOffset2 + -7];
			var _g32 = eOffset01 + -6;
			var _g122 = u;
			_g122[_g32] = _g122[_g32] + u[eOffset2 + -6];
			var _g33 = eOffset01 + -7;
			var _g123 = u;
			_g123[_g33] = _g123[_g33] + u[eOffset2 + -7];
			u[eOffset2 + -6] = k00_202 * a[aOffset2] - k01_212 * a[aOffset2 + 1];
			u[eOffset2 + -7] = k01_212 * a[aOffset2] + k00_202 * a[aOffset2 + 1];
			eOffset01 -= 8;
			eOffset2 -= 8;
			aOffset2 += 16;
		}
		var d01 = n2 - 1 - n8;
		var aOffset3 = 0;
		var eOffset02 = d01;
		var eOffset21 = d01 + -(n >> 4);
		var i3 = (n >> 5 >> 2) + 1;
		while(--i3 > 0) {
			var k00_203 = u[eOffset02] - u[eOffset21];
			var k01_213 = u[eOffset02 + -1] - u[eOffset21 + -1];
			var _g34 = eOffset02;
			var _g124 = u;
			_g124[_g34] = _g124[_g34] + u[eOffset21];
			var _g35 = eOffset02 + -1;
			var _g125 = u;
			_g125[_g35] = _g125[_g35] + u[eOffset21 + -1];
			u[eOffset21] = k00_203 * a[aOffset3] - k01_213 * a[aOffset3 + 1];
			u[eOffset21 + -1] = k01_213 * a[aOffset3] + k00_203 * a[aOffset3 + 1];
			aOffset3 += 16;
			k00_203 = u[eOffset02 + -2] - u[eOffset21 + -2];
			k01_213 = u[eOffset02 + -3] - u[eOffset21 + -3];
			var _g36 = eOffset02 + -2;
			var _g126 = u;
			_g126[_g36] = _g126[_g36] + u[eOffset21 + -2];
			var _g37 = eOffset02 + -3;
			var _g127 = u;
			_g127[_g37] = _g127[_g37] + u[eOffset21 + -3];
			u[eOffset21 + -2] = k00_203 * a[aOffset3] - k01_213 * a[aOffset3 + 1];
			u[eOffset21 + -3] = k01_213 * a[aOffset3] + k00_203 * a[aOffset3 + 1];
			aOffset3 += 16;
			k00_203 = u[eOffset02 + -4] - u[eOffset21 + -4];
			k01_213 = u[eOffset02 + -5] - u[eOffset21 + -5];
			var _g38 = eOffset02 + -4;
			var _g128 = u;
			_g128[_g38] = _g128[_g38] + u[eOffset21 + -4];
			var _g39 = eOffset02 + -5;
			var _g129 = u;
			_g129[_g39] = _g129[_g39] + u[eOffset21 + -5];
			u[eOffset21 + -4] = k00_203 * a[aOffset3] - k01_213 * a[aOffset3 + 1];
			u[eOffset21 + -5] = k01_213 * a[aOffset3] + k00_203 * a[aOffset3 + 1];
			aOffset3 += 16;
			k00_203 = u[eOffset02 + -6] - u[eOffset21 + -6];
			k01_213 = u[eOffset02 + -7] - u[eOffset21 + -7];
			var _g40 = eOffset02 + -6;
			var _g130 = u;
			_g130[_g40] = _g130[_g40] + u[eOffset21 + -6];
			var _g41 = eOffset02 + -7;
			var _g131 = u;
			_g131[_g41] = _g131[_g41] + u[eOffset21 + -7];
			u[eOffset21 + -6] = k00_203 * a[aOffset3] - k01_213 * a[aOffset3 + 1];
			u[eOffset21 + -7] = k01_213 * a[aOffset3] + k00_203 * a[aOffset3 + 1];
			eOffset02 -= 8;
			eOffset21 -= 8;
			aOffset3 += 16;
		}
		var d02 = n2 - 1 - n8 * 2;
		var aOffset4 = 0;
		var eOffset03 = d02;
		var eOffset22 = d02 + -(n >> 4);
		var i4 = (n >> 5 >> 2) + 1;
		while(--i4 > 0) {
			var k00_204 = u[eOffset03] - u[eOffset22];
			var k01_214 = u[eOffset03 + -1] - u[eOffset22 + -1];
			var _g42 = eOffset03;
			var _g132 = u;
			_g132[_g42] = _g132[_g42] + u[eOffset22];
			var _g43 = eOffset03 + -1;
			var _g133 = u;
			_g133[_g43] = _g133[_g43] + u[eOffset22 + -1];
			u[eOffset22] = k00_204 * a[aOffset4] - k01_214 * a[aOffset4 + 1];
			u[eOffset22 + -1] = k01_214 * a[aOffset4] + k00_204 * a[aOffset4 + 1];
			aOffset4 += 16;
			k00_204 = u[eOffset03 + -2] - u[eOffset22 + -2];
			k01_214 = u[eOffset03 + -3] - u[eOffset22 + -3];
			var _g44 = eOffset03 + -2;
			var _g134 = u;
			_g134[_g44] = _g134[_g44] + u[eOffset22 + -2];
			var _g45 = eOffset03 + -3;
			var _g135 = u;
			_g135[_g45] = _g135[_g45] + u[eOffset22 + -3];
			u[eOffset22 + -2] = k00_204 * a[aOffset4] - k01_214 * a[aOffset4 + 1];
			u[eOffset22 + -3] = k01_214 * a[aOffset4] + k00_204 * a[aOffset4 + 1];
			aOffset4 += 16;
			k00_204 = u[eOffset03 + -4] - u[eOffset22 + -4];
			k01_214 = u[eOffset03 + -5] - u[eOffset22 + -5];
			var _g46 = eOffset03 + -4;
			var _g136 = u;
			_g136[_g46] = _g136[_g46] + u[eOffset22 + -4];
			var _g47 = eOffset03 + -5;
			var _g137 = u;
			_g137[_g47] = _g137[_g47] + u[eOffset22 + -5];
			u[eOffset22 + -4] = k00_204 * a[aOffset4] - k01_214 * a[aOffset4 + 1];
			u[eOffset22 + -5] = k01_214 * a[aOffset4] + k00_204 * a[aOffset4 + 1];
			aOffset4 += 16;
			k00_204 = u[eOffset03 + -6] - u[eOffset22 + -6];
			k01_214 = u[eOffset03 + -7] - u[eOffset22 + -7];
			var _g48 = eOffset03 + -6;
			var _g138 = u;
			_g138[_g48] = _g138[_g48] + u[eOffset22 + -6];
			var _g49 = eOffset03 + -7;
			var _g139 = u;
			_g139[_g49] = _g139[_g49] + u[eOffset22 + -7];
			u[eOffset22 + -6] = k00_204 * a[aOffset4] - k01_214 * a[aOffset4 + 1];
			u[eOffset22 + -7] = k01_214 * a[aOffset4] + k00_204 * a[aOffset4 + 1];
			eOffset03 -= 8;
			eOffset22 -= 8;
			aOffset4 += 16;
		}
		var d03 = n2 - 1 - n8 * 3;
		var aOffset5 = 0;
		var eOffset04 = d03;
		var eOffset23 = d03 + -(n >> 4);
		var i5 = (n >> 5 >> 2) + 1;
		while(--i5 > 0) {
			var k00_205 = u[eOffset04] - u[eOffset23];
			var k01_215 = u[eOffset04 + -1] - u[eOffset23 + -1];
			var _g50 = eOffset04;
			var _g140 = u;
			_g140[_g50] = _g140[_g50] + u[eOffset23];
			var _g51 = eOffset04 + -1;
			var _g141 = u;
			_g141[_g51] = _g141[_g51] + u[eOffset23 + -1];
			u[eOffset23] = k00_205 * a[aOffset5] - k01_215 * a[aOffset5 + 1];
			u[eOffset23 + -1] = k01_215 * a[aOffset5] + k00_205 * a[aOffset5 + 1];
			aOffset5 += 16;
			k00_205 = u[eOffset04 + -2] - u[eOffset23 + -2];
			k01_215 = u[eOffset04 + -3] - u[eOffset23 + -3];
			var _g52 = eOffset04 + -2;
			var _g142 = u;
			_g142[_g52] = _g142[_g52] + u[eOffset23 + -2];
			var _g53 = eOffset04 + -3;
			var _g143 = u;
			_g143[_g53] = _g143[_g53] + u[eOffset23 + -3];
			u[eOffset23 + -2] = k00_205 * a[aOffset5] - k01_215 * a[aOffset5 + 1];
			u[eOffset23 + -3] = k01_215 * a[aOffset5] + k00_205 * a[aOffset5 + 1];
			aOffset5 += 16;
			k00_205 = u[eOffset04 + -4] - u[eOffset23 + -4];
			k01_215 = u[eOffset04 + -5] - u[eOffset23 + -5];
			var _g54 = eOffset04 + -4;
			var _g144 = u;
			_g144[_g54] = _g144[_g54] + u[eOffset23 + -4];
			var _g55 = eOffset04 + -5;
			var _g145 = u;
			_g145[_g55] = _g145[_g55] + u[eOffset23 + -5];
			u[eOffset23 + -4] = k00_205 * a[aOffset5] - k01_215 * a[aOffset5 + 1];
			u[eOffset23 + -5] = k01_215 * a[aOffset5] + k00_205 * a[aOffset5 + 1];
			aOffset5 += 16;
			k00_205 = u[eOffset04 + -6] - u[eOffset23 + -6];
			k01_215 = u[eOffset04 + -7] - u[eOffset23 + -7];
			var _g56 = eOffset04 + -6;
			var _g146 = u;
			_g146[_g56] = _g146[_g56] + u[eOffset23 + -6];
			var _g57 = eOffset04 + -7;
			var _g147 = u;
			_g147[_g57] = _g147[_g57] + u[eOffset23 + -7];
			u[eOffset23 + -6] = k00_205 * a[aOffset5] - k01_215 * a[aOffset5 + 1];
			u[eOffset23 + -7] = k01_215 * a[aOffset5] + k00_205 * a[aOffset5 + 1];
			eOffset04 -= 8;
			eOffset23 -= 8;
			aOffset5 += 16;
		}
		var _g148 = 2;
		var _g58 = ld - 3 >> 1;
		while(_g148 < _g58) {
			var l = _g148++;
			var k0 = n >> l + 2;
			var k0_2 = k0 >> 1;
			var lim = 1 << l + 1;
			var _g310 = 0;
			var _g210 = lim;
			while(_g310 < _g210) {
				var i6 = _g310++;
				var d04 = n2 - 1 - k0 * i6;
				var k1 = 1 << l + 3;
				var aOffset6 = 0;
				var eOffset05 = d04;
				var eOffset24 = d04 + -k0_2;
				var i7 = (n >> l + 4 >> 2) + 1;
				while(--i7 > 0) {
					var k00_206 = u[eOffset05] - u[eOffset24];
					var k01_216 = u[eOffset05 + -1] - u[eOffset24 + -1];
					var _g59 = eOffset05;
					var _g149 = u;
					_g149[_g59] = _g149[_g59] + u[eOffset24];
					var _g60 = eOffset05 + -1;
					var _g150 = u;
					_g150[_g60] = _g150[_g60] + u[eOffset24 + -1];
					u[eOffset24] = k00_206 * a[aOffset6] - k01_216 * a[aOffset6 + 1];
					u[eOffset24 + -1] = k01_216 * a[aOffset6] + k00_206 * a[aOffset6 + 1];
					aOffset6 += k1;
					k00_206 = u[eOffset05 + -2] - u[eOffset24 + -2];
					k01_216 = u[eOffset05 + -3] - u[eOffset24 + -3];
					var _g61 = eOffset05 + -2;
					var _g151 = u;
					_g151[_g61] = _g151[_g61] + u[eOffset24 + -2];
					var _g62 = eOffset05 + -3;
					var _g152 = u;
					_g152[_g62] = _g152[_g62] + u[eOffset24 + -3];
					u[eOffset24 + -2] = k00_206 * a[aOffset6] - k01_216 * a[aOffset6 + 1];
					u[eOffset24 + -3] = k01_216 * a[aOffset6] + k00_206 * a[aOffset6 + 1];
					aOffset6 += k1;
					k00_206 = u[eOffset05 + -4] - u[eOffset24 + -4];
					k01_216 = u[eOffset05 + -5] - u[eOffset24 + -5];
					var _g63 = eOffset05 + -4;
					var _g153 = u;
					_g153[_g63] = _g153[_g63] + u[eOffset24 + -4];
					var _g64 = eOffset05 + -5;
					var _g154 = u;
					_g154[_g64] = _g154[_g64] + u[eOffset24 + -5];
					u[eOffset24 + -4] = k00_206 * a[aOffset6] - k01_216 * a[aOffset6 + 1];
					u[eOffset24 + -5] = k01_216 * a[aOffset6] + k00_206 * a[aOffset6 + 1];
					aOffset6 += k1;
					k00_206 = u[eOffset05 + -6] - u[eOffset24 + -6];
					k01_216 = u[eOffset05 + -7] - u[eOffset24 + -7];
					var _g65 = eOffset05 + -6;
					var _g155 = u;
					_g155[_g65] = _g155[_g65] + u[eOffset24 + -6];
					var _g66 = eOffset05 + -7;
					var _g156 = u;
					_g156[_g66] = _g156[_g66] + u[eOffset24 + -7];
					u[eOffset24 + -6] = k00_206 * a[aOffset6] - k01_216 * a[aOffset6 + 1];
					u[eOffset24 + -7] = k01_216 * a[aOffset6] + k00_206 * a[aOffset6 + 1];
					eOffset05 -= 8;
					eOffset24 -= 8;
					aOffset6 += k1;
				}
			}
		}
		var _g157 = ld - 3 >> 1;
		var _g67 = ld - 6;
		while(_g157 < _g67) {
			var l1 = _g157++;
			var k01 = n >> l1 + 2;
			var k11 = 1 << l1 + 3;
			var k0_21 = k01 >> 1;
			var rlim = n >> l1 + 6;
			var lim1 = 1 << l1 + 1;
			var aOffset7 = 0;
			var i_off2 = n2 - 1;
			var r = rlim + 1;
			while(--r > 0) {
				var A0 = a[aOffset7];
				var A1 = a[aOffset7 + 1];
				var A2 = a[aOffset7 + k11];
				var A3 = a[aOffset7 + k11 + 1];
				var A4 = a[aOffset7 + k11 * 2];
				var A5 = a[aOffset7 + k11 * 2 + 1];
				var A6 = a[aOffset7 + k11 * 3];
				var A7 = a[aOffset7 + k11 * 3 + 1];
				var eeOffset02 = i_off2;
				var eeOffset22 = i_off2 + -k0_21;
				var i8 = lim1 + 1;
				while(--i8 > 0) {
					var k00 = u[eeOffset02] - u[eeOffset22];
					var k111 = u[eeOffset02 + -1] - u[eeOffset22 + -1];
					u[eeOffset02] = u[eeOffset02] + u[eeOffset22];
					u[eeOffset02 + -1] = u[eeOffset02 + -1] + u[eeOffset22 + -1];
					u[eeOffset22] = k00 * A0 - k111 * A1;
					u[eeOffset22 + -1] = k111 * A0 + k00 * A1;
					k00 = u[eeOffset02 + -2] - u[eeOffset22 + -2];
					k111 = u[eeOffset02 + -3] - u[eeOffset22 + -3];
					u[eeOffset02 + -2] = u[eeOffset02 + -2] + u[eeOffset22 + -2];
					u[eeOffset02 + -3] = u[eeOffset02 + -3] + u[eeOffset22 + -3];
					u[eeOffset22 + -2] = k00 * A2 - k111 * A3;
					u[eeOffset22 + -3] = k111 * A2 + k00 * A3;
					k00 = u[eeOffset02 + -4] - u[eeOffset22 + -4];
					k111 = u[eeOffset02 + -5] - u[eeOffset22 + -5];
					u[eeOffset02 + -4] = u[eeOffset02 + -4] + u[eeOffset22 + -4];
					u[eeOffset02 + -5] = u[eeOffset02 + -5] + u[eeOffset22 + -5];
					u[eeOffset22 + -4] = k00 * A4 - k111 * A5;
					u[eeOffset22 + -5] = k111 * A4 + k00 * A5;
					k00 = u[eeOffset02 + -6] - u[eeOffset22 + -6];
					k111 = u[eeOffset02 + -7] - u[eeOffset22 + -7];
					u[eeOffset02 + -6] = u[eeOffset02 + -6] + u[eeOffset22 + -6];
					u[eeOffset02 + -7] = u[eeOffset02 + -7] + u[eeOffset22 + -7];
					u[eeOffset22 + -6] = k00 * A6 - k111 * A7;
					u[eeOffset22 + -7] = k111 * A6 + k00 * A7;
					eeOffset02 -= k01;
					eeOffset22 -= k01;
				}
				aOffset7 += k11 * 4;
				i_off2 -= 8;
			}
		}
		var i_off3 = n2 - 1;
		var A21 = a[n >> 3];
		var zOffset = i_off3;
		var baseOffset = i_off3 - 16 * (n >> 5);
		while(zOffset > baseOffset) {
			var t0 = u[zOffset];
			var t1 = u[zOffset + -8];
			u[zOffset + -8] = t0 - t1;
			u[zOffset] = t0 + t1;
			t0 = u[zOffset + -1];
			t1 = u[zOffset + -9];
			u[zOffset + -9] = t0 - t1;
			u[zOffset + -1] = t0 + t1;
			t0 = u[zOffset + -2];
			t1 = u[zOffset + -10];
			var k001 = t0 - t1;
			u[zOffset + -2] = t0 + t1;
			t0 = u[zOffset + -3];
			t1 = u[zOffset + -11];
			var k112 = t0 - t1;
			u[zOffset + -3] = t0 + t1;
			u[zOffset + -10] = (k001 + k112) * A21;
			u[zOffset + -11] = (k112 - k001) * A21;
			t0 = u[zOffset + -4];
			t1 = u[zOffset + -12];
			k001 = t1 - t0;
			u[zOffset + -4] = t0 + t1;
			t0 = u[zOffset + -5];
			t1 = u[zOffset + -13];
			k112 = t0 - t1;
			u[zOffset + -5] = t0 + t1;
			u[zOffset + -12] = k112;
			u[zOffset + -13] = k001;
			t0 = u[zOffset + -6];
			t1 = u[zOffset + -14];
			k001 = t1 - t0;
			u[zOffset + -6] = t0 + t1;
			t0 = u[zOffset + -7];
			t1 = u[zOffset + -15];
			k112 = t0 - t1;
			u[zOffset + -7] = t0 + t1;
			u[zOffset + -14] = (k001 + k112) * A21;
			u[zOffset + -15] = (k001 - k112) * A21;
			var t01 = u[zOffset];
			var t11 = u[zOffset + -4];
			var k002 = t01 - t11;
			var y0 = t01 + t11;
			t01 = u[zOffset + -2];
			t11 = u[zOffset + -6];
			var y2 = t01 + t11;
			var k22 = t01 - t11;
			u[zOffset] = y0 + y2;
			u[zOffset + -2] = y0 - y2;
			var k33 = u[zOffset + -3] - u[zOffset + -7];
			u[zOffset + -4] = k002 + k33;
			u[zOffset + -6] = k002 - k33;
			t01 = u[zOffset + -1];
			t11 = u[zOffset + -5];
			var k113 = t01 - t11;
			var y1 = t01 + t11;
			var y3 = u[zOffset + -3] + u[zOffset + -7];
			u[zOffset + -1] = y1 + y3;
			u[zOffset + -3] = y1 - y3;
			u[zOffset + -5] = k113 - k22;
			u[zOffset + -7] = k113 + k22;
			var zOffset1 = zOffset - 8;
			var t02 = u[zOffset1];
			var t12 = u[zOffset1 + -4];
			var k003 = t02 - t12;
			var y01 = t02 + t12;
			t02 = u[zOffset1 + -2];
			t12 = u[zOffset1 + -6];
			var y21 = t02 + t12;
			var k221 = t02 - t12;
			u[zOffset1] = y01 + y21;
			u[zOffset1 + -2] = y01 - y21;
			var k331 = u[zOffset1 + -3] - u[zOffset1 + -7];
			u[zOffset1 + -4] = k003 + k331;
			u[zOffset1 + -6] = k003 - k331;
			t02 = u[zOffset1 + -1];
			t12 = u[zOffset1 + -5];
			var k114 = t02 - t12;
			var y11 = t02 + t12;
			var y31 = u[zOffset1 + -3] + u[zOffset1 + -7];
			u[zOffset1 + -1] = y11 + y31;
			u[zOffset1 + -3] = y11 - y31;
			u[zOffset1 + -5] = k114 - k221;
			u[zOffset1 + -7] = k114 + k221;
			zOffset -= 16;
		}
		var brOffset = 0;
		var dOffset01 = n4 - 4;
		var dOffset11 = n2 - 4;
		while(dOffset01 >= 0) {
			var k4 = bitReverse[brOffset];
			v[dOffset11 + 3] = u[k4];
			v[dOffset11 + 2] = u[k4 + 1];
			v[dOffset01 + 3] = u[k4 + 2];
			v[dOffset01 + 2] = u[k4 + 3];
			k4 = bitReverse[brOffset + 1];
			v[dOffset11 + 1] = u[k4];
			v[dOffset11] = u[k4 + 1];
			v[dOffset01 + 1] = u[k4 + 2];
			v[dOffset01] = u[k4 + 3];
			dOffset01 -= 4;
			dOffset11 -= 4;
			brOffset += 2;
		}
		var cOffset = 0;
		var dOffset2 = 0;
		var eOffset3 = n2 - 4;
		while(dOffset2 < eOffset3) {
			var a02 = v[dOffset2] - v[eOffset3 + 2];
			var a11 = v[dOffset2 + 1] + v[eOffset3 + 3];
			var b0 = c[cOffset + 1] * a02 + c[cOffset] * a11;
			var b1 = c[cOffset + 1] * a11 - c[cOffset] * a02;
			var b2 = v[dOffset2] + v[eOffset3 + 2];
			var b3 = v[dOffset2 + 1] - v[eOffset3 + 3];
			v[dOffset2] = b2 + b0;
			v[dOffset2 + 1] = b3 + b1;
			v[eOffset3 + 2] = b2 - b0;
			v[eOffset3 + 3] = b1 - b3;
			a02 = v[dOffset2 + 2] - v[eOffset3];
			a11 = v[dOffset2 + 3] + v[eOffset3 + 1];
			b0 = c[cOffset + 3] * a02 + c[cOffset + 2] * a11;
			b1 = c[cOffset + 3] * a11 - c[cOffset + 2] * a02;
			b2 = v[dOffset2 + 2] + v[eOffset3];
			b3 = v[dOffset2 + 3] - v[eOffset3 + 1];
			v[dOffset2 + 2] = b2 + b0;
			v[dOffset2 + 3] = b3 + b1;
			v[eOffset3] = b2 - b0;
			v[eOffset3 + 1] = b1 - b3;
			cOffset += 4;
			dOffset2 += 4;
			eOffset3 -= 4;
		}
		var bOffset = n2 - 8;
		var eOffset4 = n2 - 8;
		var dOffset02 = 0;
		var dOffset12 = n2 - 4;
		var dOffset21 = n2;
		var dOffset3 = n - 4;
		while(eOffset4 >= 0) {
			var p3 = buf2[eOffset4 + 6] * b[bOffset + 7] - buf2[eOffset4 + 7] * b[bOffset + 6];
			var p2 = -buf2[eOffset4 + 6] * b[bOffset + 6] - buf2[eOffset4 + 7] * b[bOffset + 7];
			buffer[dOffset02] = p3;
			buffer[dOffset12 + 3] = -p3;
			buffer[dOffset21] = p2;
			buffer[dOffset3 + 3] = p2;
			var p1 = buf2[eOffset4 + 4] * b[bOffset + 5] - buf2[eOffset4 + 5] * b[bOffset + 4];
			var p0 = -buf2[eOffset4 + 4] * b[bOffset + 4] - buf2[eOffset4 + 5] * b[bOffset + 5];
			buffer[dOffset02 + 1] = p1;
			buffer[dOffset12 + 2] = -p1;
			buffer[dOffset21 + 1] = p0;
			buffer[dOffset3 + 2] = p0;
			p3 = buf2[eOffset4 + 2] * b[bOffset + 3] - buf2[eOffset4 + 3] * b[bOffset + 2];
			p2 = -buf2[eOffset4 + 2] * b[bOffset + 2] - buf2[eOffset4 + 3] * b[bOffset + 3];
			buffer[dOffset02 + 2] = p3;
			buffer[dOffset12 + 1] = -p3;
			buffer[dOffset21 + 2] = p2;
			buffer[dOffset3 + 1] = p2;
			p1 = buf2[eOffset4] * b[bOffset + 1] - buf2[eOffset4 + 1] * b[bOffset];
			p0 = -buf2[eOffset4] * b[bOffset] - buf2[eOffset4 + 1] * b[bOffset + 1];
			buffer[dOffset02 + 3] = p1;
			buffer[dOffset12] = -p1;
			buffer[dOffset21 + 3] = p0;
			buffer[dOffset3] = p0;
			bOffset -= 8;
			eOffset4 -= 8;
			dOffset02 += 4;
			dOffset21 += 4;
			dOffset12 -= 4;
			dOffset3 -= 4;
		}
	}
	,decodePacket: function() {
		var result = this.decodeInitial();
		if(result == null) {
			return null;
		}
		var rest = this.decodePacketRest(result);
		return rest;
	}
	,decodeInitial: function() {
		this.channelBufferStart = this.channelBufferEnd = 0;
		while(true) {
			if(!this.decodeState.maybeStartPacket()) {
				return null;
			}
			var _this = this.decodeState;
			var tmp;
			if(_this.validBits < 0) {
				tmp = 0;
			} else if(_this.validBits < 1) {
				if(_this.validBits == 0) {
					_this.acc = 0;
				}
				while(true) {
					if(_this.bytesInSeg == 0 && (_this.lastSeg || _this.next() == 0)) {
						_this.validBits = -1;
						break;
					} else {
						_this.bytesInSeg--;
						_this.inputPosition += 1;
						_this.acc = _this.acc + (_this.input.readByte() << _this.validBits);
						_this.validBits += 8;
					}
					if(!(_this.validBits < 1)) {
						break;
					}
				}
				if(_this.validBits < 0) {
					tmp = 0;
				} else {
					var z = _this.acc & 1;
					_this.acc = _this.acc >>> 1;
					_this.validBits -= 1;
					tmp = z;
				}
			} else {
				var z1 = _this.acc & 1;
				_this.acc = _this.acc >>> 1;
				_this.validBits -= 1;
				tmp = z1;
			}
			if(tmp != 0) {
				while(true) {
					var _this1 = this.decodeState;
					var x;
					if(_this1.bytesInSeg == 0 && (_this1.lastSeg || _this1.next() == 0)) {
						x = -1;
					} else {
						_this1.bytesInSeg--;
						_this1.inputPosition += 1;
						x = _this1.input.readByte();
					}
					_this1.validBits = 0;
					if(!(-1 != x)) {
						break;
					}
				}
				continue;
			}
			break;
		}
		var _this2 = this.decodeState;
		var n = this.header.modes.length - 1;
		var log2_4 = [0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];
		var n1 = n < 16384 ? n < 16 ? log2_4[n] : n < 512 ? 5 + log2_4[n >> 5] : 10 + log2_4[n >> 10] : n < 16777216 ? n < 524288 ? 15 + log2_4[n >> 15] : 20 + log2_4[n >> 20] : n < 536870912 ? 25 + log2_4[n >> 25] : n < -2147483648 ? 30 + log2_4[n >> 30] : 0;
		var i;
		if(_this2.validBits < 0) {
			i = 0;
		} else if(_this2.validBits < n1) {
			if(n1 > 24) {
				i = _this2.readBits(24) + (_this2.readBits(n1 - 24) << 24);
			} else {
				if(_this2.validBits == 0) {
					_this2.acc = 0;
				}
				while(true) {
					if(_this2.bytesInSeg == 0 && (_this2.lastSeg || _this2.next() == 0)) {
						_this2.validBits = -1;
						break;
					} else {
						_this2.bytesInSeg--;
						_this2.inputPosition += 1;
						_this2.acc = _this2.acc + (_this2.input.readByte() << _this2.validBits);
						_this2.validBits += 8;
					}
					if(!(_this2.validBits < n1)) {
						break;
					}
				}
				if(_this2.validBits < 0) {
					i = 0;
				} else {
					var z2 = _this2.acc & (1 << n1) - 1;
					_this2.acc = _this2.acc >>> n1;
					_this2.validBits -= n1;
					i = z2;
				}
			}
		} else {
			var z3 = _this2.acc & (1 << n1) - 1;
			_this2.acc = _this2.acc >>> n1;
			_this2.validBits -= n1;
			i = z3;
		}
		if(i == -1 || i >= this.header.modes.length) {
			throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_FAILED,null,{ fileName : "VorbisDecoder.hx", lineNumber : 519, className : "kha.audio2.ogg.vorbis.VorbisDecoder", methodName : "decodeInitial"}));
		}
		var m = this.header.modes[i];
		var n2;
		var prev;
		var next;
		if(m.blockflag) {
			n2 = this.header.blocksize1;
			var _this3 = this.decodeState;
			if(_this3.validBits < 0) {
				prev = 0;
			} else if(_this3.validBits < 1) {
				if(_this3.validBits == 0) {
					_this3.acc = 0;
				}
				while(true) {
					if(_this3.bytesInSeg == 0 && (_this3.lastSeg || _this3.next() == 0)) {
						_this3.validBits = -1;
						break;
					} else {
						_this3.bytesInSeg--;
						_this3.inputPosition += 1;
						_this3.acc = _this3.acc + (_this3.input.readByte() << _this3.validBits);
						_this3.validBits += 8;
					}
					if(!(_this3.validBits < 1)) {
						break;
					}
				}
				if(_this3.validBits < 0) {
					prev = 0;
				} else {
					var z4 = _this3.acc & 1;
					_this3.acc = _this3.acc >>> 1;
					_this3.validBits -= 1;
					prev = z4;
				}
			} else {
				var z5 = _this3.acc & 1;
				_this3.acc = _this3.acc >>> 1;
				_this3.validBits -= 1;
				prev = z5;
			}
			var _this4 = this.decodeState;
			if(_this4.validBits < 0) {
				next = 0;
			} else if(_this4.validBits < 1) {
				if(_this4.validBits == 0) {
					_this4.acc = 0;
				}
				while(true) {
					if(_this4.bytesInSeg == 0 && (_this4.lastSeg || _this4.next() == 0)) {
						_this4.validBits = -1;
						break;
					} else {
						_this4.bytesInSeg--;
						_this4.inputPosition += 1;
						_this4.acc = _this4.acc + (_this4.input.readByte() << _this4.validBits);
						_this4.validBits += 8;
					}
					if(!(_this4.validBits < 1)) {
						break;
					}
				}
				if(_this4.validBits < 0) {
					next = 0;
				} else {
					var z6 = _this4.acc & 1;
					_this4.acc = _this4.acc >>> 1;
					_this4.validBits -= 1;
					next = z6;
				}
			} else {
				var z7 = _this4.acc & 1;
				_this4.acc = _this4.acc >>> 1;
				_this4.validBits -= 1;
				next = z7;
			}
		} else {
			next = 0;
			prev = next;
			n2 = this.header.blocksize0;
		}
		var windowCenter = n2 >> 1;
		return { mode : i, left : m.blockflag && prev == 0 ? { start : n2 - this.header.blocksize0 >> 2, end : n2 + this.header.blocksize0 >> 2} : { start : 0, end : windowCenter}, right : m.blockflag && next == 0 ? { start : n2 * 3 - this.header.blocksize0 >> 2, end : n2 * 3 + this.header.blocksize0 >> 2} : { start : windowCenter, end : n2}};
	}
	,decodePacketRest: function(r) {
		var len = 0;
		var m = this.header.modes[r.mode];
		var this1 = new Array(256);
		var zeroChannel = this1;
		var this2 = new Array(256);
		var reallyZeroChannel = this2;
		var n = m.blockflag ? this.header.blocksize1 : this.header.blocksize0;
		var map = this.header.mapping[m.mapping];
		var n2 = n >> 1;
		var rangeList = [256,128,86,64];
		var codebooks = this.header.codebooks;
		var _g1 = 0;
		var _g = this.header.channel;
		while(_g1 < _g) {
			var i = _g1++;
			var s = map.chan[i].mux;
			zeroChannel[i] = false;
			var floor = this.header.floorConfig[map.submapFloor[s]];
			if(floor.type == 0) {
				throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM,null,{ fileName : "VorbisDecoder.hx", lineNumber : 581, className : "kha.audio2.ogg.vorbis.VorbisDecoder", methodName : "decodePacketRest"}));
			} else {
				var g = floor.floor1;
				var _this = this.decodeState;
				var tmp;
				if(_this.validBits < 0) {
					tmp = 0;
				} else if(_this.validBits < 1) {
					if(_this.validBits == 0) {
						_this.acc = 0;
					}
					while(true) {
						if(_this.bytesInSeg == 0 && (_this.lastSeg || _this.next() == 0)) {
							_this.validBits = -1;
							break;
						} else {
							_this.bytesInSeg--;
							_this.inputPosition += 1;
							_this.acc = _this.acc + (_this.input.readByte() << _this.validBits);
							_this.validBits += 8;
						}
						if(!(_this.validBits < 1)) {
							break;
						}
					}
					if(_this.validBits < 0) {
						tmp = 0;
					} else {
						var z = _this.acc & 1;
						_this.acc = _this.acc >>> 1;
						_this.validBits -= 1;
						tmp = z;
					}
				} else {
					var z1 = _this.acc & 1;
					_this.acc = _this.acc >>> 1;
					_this.validBits -= 1;
					tmp = z1;
				}
				if(tmp != 0) {
					var fy = [];
					var this3 = new Array(256);
					var step2Flag = this3;
					var range = rangeList[g.floor1Multiplier - 1];
					var offset = 2;
					fy = this.finalY[i];
					var _this1 = this.decodeState;
					var log2_4 = [0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];
					var n1 = (range < 16384 ? range < 16 ? log2_4[range] : range < 512 ? 5 + log2_4[range >> 5] : 10 + log2_4[range >> 10] : range < 16777216 ? range < 524288 ? 15 + log2_4[range >> 15] : 20 + log2_4[range >> 20] : range < 536870912 ? 25 + log2_4[range >> 25] : range < -2147483648 ? 30 + log2_4[range >> 30] : 0) - 1;
					var tmp1;
					if(_this1.validBits < 0) {
						tmp1 = 0;
					} else if(_this1.validBits < n1) {
						if(n1 > 24) {
							tmp1 = _this1.readBits(24) + (_this1.readBits(n1 - 24) << 24);
						} else {
							if(_this1.validBits == 0) {
								_this1.acc = 0;
							}
							while(true) {
								if(_this1.bytesInSeg == 0 && (_this1.lastSeg || _this1.next() == 0)) {
									_this1.validBits = -1;
									break;
								} else {
									_this1.bytesInSeg--;
									_this1.inputPosition += 1;
									_this1.acc = _this1.acc + (_this1.input.readByte() << _this1.validBits);
									_this1.validBits += 8;
								}
								if(!(_this1.validBits < n1)) {
									break;
								}
							}
							if(_this1.validBits < 0) {
								tmp1 = 0;
							} else {
								var z2 = _this1.acc & (1 << n1) - 1;
								_this1.acc = _this1.acc >>> n1;
								_this1.validBits -= n1;
								tmp1 = z2;
							}
						}
					} else {
						var z3 = _this1.acc & (1 << n1) - 1;
						_this1.acc = _this1.acc >>> n1;
						_this1.validBits -= n1;
						tmp1 = z3;
					}
					fy[0] = tmp1;
					var _this2 = this.decodeState;
					var log2_41 = [0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];
					var n3 = (range < 16384 ? range < 16 ? log2_41[range] : range < 512 ? 5 + log2_41[range >> 5] : 10 + log2_41[range >> 10] : range < 16777216 ? range < 524288 ? 15 + log2_41[range >> 15] : 20 + log2_41[range >> 20] : range < 536870912 ? 25 + log2_41[range >> 25] : range < -2147483648 ? 30 + log2_41[range >> 30] : 0) - 1;
					var tmp2;
					if(_this2.validBits < 0) {
						tmp2 = 0;
					} else if(_this2.validBits < n3) {
						if(n3 > 24) {
							tmp2 = _this2.readBits(24) + (_this2.readBits(n3 - 24) << 24);
						} else {
							if(_this2.validBits == 0) {
								_this2.acc = 0;
							}
							while(true) {
								if(_this2.bytesInSeg == 0 && (_this2.lastSeg || _this2.next() == 0)) {
									_this2.validBits = -1;
									break;
								} else {
									_this2.bytesInSeg--;
									_this2.inputPosition += 1;
									_this2.acc = _this2.acc + (_this2.input.readByte() << _this2.validBits);
									_this2.validBits += 8;
								}
								if(!(_this2.validBits < n3)) {
									break;
								}
							}
							if(_this2.validBits < 0) {
								tmp2 = 0;
							} else {
								var z4 = _this2.acc & (1 << n3) - 1;
								_this2.acc = _this2.acc >>> n3;
								_this2.validBits -= n3;
								tmp2 = z4;
							}
						}
					} else {
						var z5 = _this2.acc & (1 << n3) - 1;
						_this2.acc = _this2.acc >>> n3;
						_this2.validBits -= n3;
						tmp2 = z5;
					}
					fy[1] = tmp2;
					var _g3 = 0;
					var _g2 = g.partitions;
					while(_g3 < _g2) {
						var j = _g3++;
						var pclass = g.partitionClassList[j];
						var cdim = g.classDimensions[pclass];
						var cbits = g.classSubclasses[pclass];
						var csub = (1 << cbits) - 1;
						var cval = 0;
						if(cbits != 0) {
							var c = codebooks[g.classMasterbooks[pclass]];
							var _this3 = this.decodeState;
							if(_this3.validBits < 10) {
								_this3.prepHuffman();
							}
							var i1 = c.fastHuffman[_this3.acc & 1023];
							var val;
							if(i1 >= 0) {
								var l = c.codewordLengths[i1];
								_this3.acc = _this3.acc >>> l;
								_this3.validBits -= l;
								if(_this3.validBits < 0) {
									_this3.validBits = 0;
									val = -1;
								} else {
									val = i1;
								}
							} else {
								val = _this3.decodeScalarRaw(c);
							}
							if(c.sparse) {
								val = c.sortedValues[val];
							}
							cval = val;
						}
						var books = g.subclassBooks[pclass];
						var _g5 = 0;
						var _g4 = cdim;
						while(_g5 < _g4) {
							var k = _g5++;
							var book = books[cval & csub];
							cval >>= cbits;
							var tmp3 = offset++;
							var tmp4;
							if(book >= 0) {
								var _this4 = this.decodeState;
								var c1 = codebooks[book];
								if(_this4.validBits < 10) {
									_this4.prepHuffman();
								}
								var i2 = c1.fastHuffman[_this4.acc & 1023];
								var val1;
								if(i2 >= 0) {
									var l1 = c1.codewordLengths[i2];
									_this4.acc = _this4.acc >>> l1;
									_this4.validBits -= l1;
									if(_this4.validBits < 0) {
										_this4.validBits = 0;
										val1 = -1;
									} else {
										val1 = i2;
									}
								} else {
									val1 = _this4.decodeScalarRaw(c1);
								}
								if(c1.sparse) {
									val1 = c1.sortedValues[val1];
								}
								tmp4 = val1;
							} else {
								tmp4 = 0;
							}
							fy[tmp3] = tmp4;
						}
					}
					if(this.decodeState.validBits == -1) {
						zeroChannel[i] = true;
						continue;
					}
					step2Flag[0] = step2Flag[1] = true;
					var naighbors = g.neighbors;
					var xlist = g.xlist;
					var _g31 = 2;
					var _g21 = g.values;
					while(_g31 < _g21) {
						var j1 = _g31++;
						var low = naighbors[j1][0];
						var high = naighbors[j1][1];
						var x0 = xlist[low];
						var y0 = fy[low];
						var dy = fy[high] - y0;
						var adx = xlist[high] - x0;
						var err = Math.abs(dy) * (xlist[j1] - x0);
						var off = err / adx | 0;
						var lowroom = dy < 0 ? y0 - off : y0 + off;
						var val2 = fy[j1];
						var highroom = range - lowroom;
						var room = highroom < lowroom ? highroom * 2 : lowroom * 2;
						if(val2 != 0) {
							step2Flag[low] = step2Flag[high] = true;
							step2Flag[j1] = true;
							if(val2 >= room) {
								if(highroom > lowroom) {
									fy[j1] = val2 - lowroom + lowroom;
								} else {
									fy[j1] = lowroom - val2 + highroom - 1;
								}
							} else if((val2 & 1) != 0) {
								fy[j1] = lowroom - (val2 + 1 >> 1);
							} else {
								fy[j1] = lowroom + (val2 >> 1);
							}
						} else {
							step2Flag[j1] = false;
							fy[j1] = lowroom;
						}
					}
					var _g32 = 0;
					var _g22 = g.values;
					while(_g32 < _g22) {
						var j2 = _g32++;
						if(!step2Flag[j2]) {
							fy[j2] = -1;
						}
					}
				} else {
					zeroChannel[i] = true;
				}
			}
		}
		var _g11 = 0;
		var _g6 = this.header.channel;
		while(_g11 < _g6) {
			var i3 = _g11++;
			reallyZeroChannel[i3] = zeroChannel[i3];
		}
		var _g12 = 0;
		var _g7 = map.couplingSteps;
		while(_g12 < _g7) {
			var i4 = _g12++;
			if(!zeroChannel[map.chan[i4].magnitude] || !zeroChannel[map.chan[i4].angle]) {
				zeroChannel[map.chan[i4].magnitude] = zeroChannel[map.chan[i4].angle] = false;
			}
		}
		var _g13 = 0;
		var _g8 = map.submaps;
		while(_g13 < _g8) {
			var i5 = _g13++;
			var length = this.header.channel;
			var this4 = new Array(length);
			var residueBuffers = this4;
			var this5 = new Array(256);
			var doNotDecode = this5;
			var ch = 0;
			var _g33 = 0;
			var _g23 = this.header.channel;
			while(_g33 < _g23) {
				var j3 = _g33++;
				if(map.chan[j3].mux == i5) {
					if(zeroChannel[j3]) {
						doNotDecode[ch] = true;
						residueBuffers[ch] = null;
					} else {
						doNotDecode[ch] = false;
						residueBuffers[ch] = this.channelBuffers[j3];
					}
					++ch;
				}
			}
			var r1 = map.submapResidue[i5];
			var residue = this.header.residueConfig[r1];
			residue.decode(this.decodeState,this.header,residueBuffers,ch,n2,doNotDecode,this.channelBuffers);
		}
		var i6 = map.couplingSteps;
		var n21 = n >> 1;
		while(--i6 >= 0) {
			var m1 = this.channelBuffers[map.chan[i6].magnitude];
			var a = this.channelBuffers[map.chan[i6].angle];
			var _g14 = 0;
			var _g9 = n21;
			while(_g14 < _g9) {
				var j4 = _g14++;
				var a2;
				var m2;
				if(m1[j4] > 0) {
					if(a[j4] > 0) {
						m2 = m1[j4];
						a2 = m1[j4] - a[j4];
					} else {
						a2 = m1[j4];
						m2 = m1[j4] + a[j4];
					}
				} else if(a[j4] > 0) {
					m2 = m1[j4];
					a2 = m1[j4] + a[j4];
				} else {
					a2 = m1[j4];
					m2 = m1[j4] - a[j4];
				}
				m1[j4] = m2;
				a[j4] = a2;
			}
		}
		var _g15 = 0;
		var _g10 = this.header.channel;
		while(_g15 < _g10) {
			var i7 = _g15++;
			if(reallyZeroChannel[i7]) {
				var _g34 = 0;
				var _g24 = n21;
				while(_g34 < _g24) {
					var j5 = _g34++;
					this.channelBuffers[i7][j5] = 0;
				}
			} else {
				map.doFloor(this.header.floorConfig,i7,n,this.channelBuffers[i7],this.finalY[i7],null);
			}
		}
		var _g16 = 0;
		var _g17 = this.header.channel;
		while(_g16 < _g17) {
			var i8 = _g16++;
			this.inverseMdct(this.channelBuffers[i8],n,m.blockflag);
		}
		var _this5 = this.decodeState;
		while(_this5.bytesInSeg != 0 || !_this5.lastSeg && _this5.next() != 0) {
			_this5.bytesInSeg--;
			_this5.inputPosition += 1;
			_this5.input.readByte();
		}
		return this.decodeState.finishDecodePacket(this.previousLength,n,r);
	}
	,__class__: kha_audio2_ogg_vorbis_VorbisDecoder
};
var kha_audio2_ogg_vorbis_VorbisTools = $hxClasses["kha.audio2.ogg.vorbis.VorbisTools"] = function() { };
kha_audio2_ogg_vorbis_VorbisTools.__name__ = ["kha","audio2","ogg","vorbis","VorbisTools"];
kha_audio2_ogg_vorbis_VorbisTools.assert = function(b,p) {
	if(!b) {
		throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.OTHER,"",p));
	}
};
kha_audio2_ogg_vorbis_VorbisTools.neighbors = function(x,n) {
	var low = -1;
	var high = 65536;
	var plow = 0;
	var phigh = 0;
	var _g1 = 0;
	var _g = n;
	while(_g1 < _g) {
		var i = _g1++;
		if(x[i] > low && x[i] < x[n]) {
			plow = i;
			low = x[i];
		}
		if(x[i] < high && x[i] > x[n]) {
			phigh = i;
			high = x[i];
		}
	}
	return { low : plow, high : phigh};
};
kha_audio2_ogg_vorbis_VorbisTools.floatUnpack = function(x) {
	var mantissa = _$UInt_UInt_$Impl_$.toFloat(x & 2097151);
	var sign = x & -2147483648;
	var exp = (x & 2145386496) >>> 21;
	var res = sign != 0 ? -mantissa : mantissa;
	return res * Math.pow(2,exp - 788);
};
kha_audio2_ogg_vorbis_VorbisTools.bitReverse = function(n) {
	n = (n & -1431655766) >>> 1 | (n & 1431655765) << 1;
	n = (n & -858993460) >>> 2 | (n & 858993459) << 2;
	n = (n & -252645136) >>> 4 | (n & 252645135) << 4;
	n = (n & -16711936) >>> 8 | (n & 16711935) << 8;
	return n >>> 16 | n << 16;
};
kha_audio2_ogg_vorbis_VorbisTools.pointCompare = function(a,b) {
	if(a.x < b.x) {
		return -1;
	} else if(a.x > b.x) {
		return 1;
	} else {
		return 0;
	}
};
kha_audio2_ogg_vorbis_VorbisTools.uintAsc = function(a,b) {
	if(_$UInt_UInt_$Impl_$.gt(b,a)) {
		return -1;
	} else if(a == b) {
		return 0;
	} else {
		return 1;
	}
};
kha_audio2_ogg_vorbis_VorbisTools.lookup1Values = function(entries,dim) {
	var r = Math.exp(Math.log(entries) / dim) | 0;
	if((Math.pow(r + 1,dim) | 0) <= entries) {
		++r;
	}
	if(!(Math.pow(r + 1,dim) > entries)) {
		throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.OTHER,"",{ fileName : "VorbisTools.hx", lineNumber : 155, className : "kha.audio2.ogg.vorbis.VorbisTools", methodName : "lookup1Values"}));
	}
	if((Math.pow(r,dim) | 0) > entries) {
		throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.OTHER,"",{ fileName : "VorbisTools.hx", lineNumber : 156, className : "kha.audio2.ogg.vorbis.VorbisTools", methodName : "lookup1Values"}));
	}
	return r;
};
kha_audio2_ogg_vorbis_VorbisTools.computeWindow = function(n,window) {
	var n2 = n >> 1;
	var _g1 = 0;
	var _g = n2;
	while(_g1 < _g) {
		var i = _g1++;
		window[i] = Math.sin(1.5707963267948966 * kha_audio2_ogg_vorbis_VorbisTools.square(Math.sin((i + 0.5) / n2 * 0.5 * 3.14159265358979323846264)));
	}
};
kha_audio2_ogg_vorbis_VorbisTools.square = function(f) {
	return f * f;
};
kha_audio2_ogg_vorbis_VorbisTools.computeBitReverse = function(n,rev) {
	var log2_4 = [0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];
	var ld = (n < 16384 ? n < 16 ? log2_4[n] : n < 512 ? 5 + log2_4[n >> 5] : 10 + log2_4[n >> 10] : n < 16777216 ? n < 524288 ? 15 + log2_4[n >> 15] : 20 + log2_4[n >> 20] : n < 536870912 ? 25 + log2_4[n >> 25] : n < -2147483648 ? 30 + log2_4[n >> 30] : 0) - 1;
	var n8 = n >> 3;
	var _g1 = 0;
	var _g = n8;
	while(_g1 < _g) {
		var i = _g1++;
		var n1 = i;
		n1 = (n1 & -1431655766) >>> 1 | (n1 & 1431655765) << 1;
		n1 = (n1 & -858993460) >>> 2 | (n1 & 858993459) << 2;
		n1 = (n1 & -252645136) >>> 4 | (n1 & 252645135) << 4;
		n1 = (n1 & -16711936) >>> 8 | (n1 & 16711935) << 8;
		rev[i] = (n1 >>> 16 | n1 << 16) >>> 32 - ld + 3 << 2;
	}
};
kha_audio2_ogg_vorbis_VorbisTools.computeTwiddleFactors = function(n,af,bf,cf) {
	var n4 = n >> 2;
	var n8 = n >> 3;
	var k2 = 0;
	var _g1 = 0;
	var _g = n4;
	while(_g1 < _g) {
		var k = _g1++;
		af[k2] = Math.cos(4 * k * 3.14159265358979323846264 / n);
		af[k2 + 1] = -Math.sin(4 * k * 3.14159265358979323846264 / n);
		bf[k2] = Math.cos((k2 + 1) * 3.14159265358979323846264 / n / 2) * 0.5;
		bf[k2 + 1] = Math.sin((k2 + 1) * 3.14159265358979323846264 / n / 2) * 0.5;
		k2 += 2;
	}
	var k21 = 0;
	var _g11 = 0;
	var _g2 = n8;
	while(_g11 < _g2) {
		var k1 = _g11++;
		cf[k21] = Math.cos(2 * (k21 + 1) * 3.14159265358979323846264 / n);
		cf[k21 + 1] = -Math.sin(2 * (k21 + 1) * 3.14159265358979323846264 / n);
		k21 += 2;
	}
};
kha_audio2_ogg_vorbis_VorbisTools.drawLine = function(output,x0,y0,x1,y1,n) {
	if(kha_audio2_ogg_vorbis_VorbisTools.integerDivideTable == null) {
		var this1 = new Array(32);
		kha_audio2_ogg_vorbis_VorbisTools.integerDivideTable = this1;
		var _g = 0;
		while(_g < 32) {
			var i = _g++;
			var this2 = kha_audio2_ogg_vorbis_VorbisTools.integerDivideTable;
			var this3 = new Array(64);
			this2[i] = this3;
			var _g1 = 1;
			while(_g1 < 64) {
				var j = _g1++;
				kha_audio2_ogg_vorbis_VorbisTools.integerDivideTable[i][j] = i / j | 0;
			}
		}
	}
	var dy = y1 - y0;
	var adx = x1 - x0;
	var ady = dy < 0 ? -dy : dy;
	var base;
	var x = x0;
	var y = y0;
	var err = 0;
	var sy;
	if(adx < 64 && ady < 32) {
		if(dy < 0) {
			base = -kha_audio2_ogg_vorbis_VorbisTools.integerDivideTable[ady][adx];
			sy = base - 1;
		} else {
			base = kha_audio2_ogg_vorbis_VorbisTools.integerDivideTable[ady][adx];
			sy = base + 1;
		}
	} else {
		base = dy / adx | 0;
		if(dy < 0) {
			sy = base - 1;
		} else {
			sy = base + 1;
		}
	}
	ady -= (base < 0 ? -base : base) * adx;
	if(x1 > n) {
		x1 = n;
	}
	var _g2 = x;
	var _g11 = output;
	_g11[_g2] = _g11[_g2] * kha_audio2_ogg_vorbis_VorbisTools.INVERSE_DB_TABLE[y];
	var _g12 = x + 1;
	var _g3 = x1;
	while(_g12 < _g3) {
		var i1 = _g12++;
		err += ady;
		if(err >= adx) {
			err -= adx;
			y += sy;
		} else {
			y += base;
		}
		var _g21 = i1;
		var _g31 = output;
		_g31[_g21] = _g31[_g21] * kha_audio2_ogg_vorbis_VorbisTools.INVERSE_DB_TABLE[y];
	}
};
kha_audio2_ogg_vorbis_VorbisTools.predictPoint = function(x,x0,x1,y0,y1) {
	var dy = y1 - y0;
	var adx = x1 - x0;
	var err = Math.abs(dy) * (x - x0);
	var off = err / adx | 0;
	if(dy < 0) {
		return y0 - off;
	} else {
		return y0 + off;
	}
};
kha_audio2_ogg_vorbis_VorbisTools.emptyFloatVector = function(len) {
	var this1 = new Array(len);
	var vec = this1;
	return vec;
};
kha_audio2_ogg_vorbis_VorbisTools.copyVector = function(source) {
	var length = source.length;
	var this1 = new Array(length);
	var dest = this1;
	var _g1 = 0;
	var _g = source.length;
	while(_g1 < _g) {
		var i = _g1++;
		dest[i] = source[i];
	}
	return dest;
};
var kha_audio2_ogg_vorbis_data_Codebook = $hxClasses["kha.audio2.ogg.vorbis.data.Codebook"] = function() {
};
kha_audio2_ogg_vorbis_data_Codebook.__name__ = ["kha","audio2","ogg","vorbis","data","Codebook"];
kha_audio2_ogg_vorbis_data_Codebook.read = function(decodeState) {
	var c = new kha_audio2_ogg_vorbis_data_Codebook();
	var tmp;
	var tmp1;
	var tmp2;
	if(decodeState.validBits < 0) {
		tmp2 = 0;
	} else if(decodeState.validBits < 8) {
		if(decodeState.validBits == 0) {
			decodeState.acc = 0;
		}
		while(true) {
			if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
				decodeState.validBits = -1;
				break;
			} else {
				decodeState.bytesInSeg--;
				decodeState.inputPosition += 1;
				decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
				decodeState.validBits += 8;
			}
			if(!(decodeState.validBits < 8)) {
				break;
			}
		}
		if(decodeState.validBits < 0) {
			tmp2 = 0;
		} else {
			var z = decodeState.acc & 255;
			decodeState.acc = decodeState.acc >>> 8;
			decodeState.validBits -= 8;
			tmp2 = z;
		}
	} else {
		var z1 = decodeState.acc & 255;
		decodeState.acc = decodeState.acc >>> 8;
		decodeState.validBits -= 8;
		tmp2 = z1;
	}
	if(tmp2 == 66) {
		var tmp3;
		if(decodeState.validBits < 0) {
			tmp3 = 0;
		} else if(decodeState.validBits < 8) {
			if(decodeState.validBits == 0) {
				decodeState.acc = 0;
			}
			while(true) {
				if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
					decodeState.validBits = -1;
					break;
				} else {
					decodeState.bytesInSeg--;
					decodeState.inputPosition += 1;
					decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
					decodeState.validBits += 8;
				}
				if(!(decodeState.validBits < 8)) {
					break;
				}
			}
			if(decodeState.validBits < 0) {
				tmp3 = 0;
			} else {
				var z2 = decodeState.acc & 255;
				decodeState.acc = decodeState.acc >>> 8;
				decodeState.validBits -= 8;
				tmp3 = z2;
			}
		} else {
			var z3 = decodeState.acc & 255;
			decodeState.acc = decodeState.acc >>> 8;
			decodeState.validBits -= 8;
			tmp3 = z3;
		}
		tmp1 = tmp3 != 67;
	} else {
		tmp1 = true;
	}
	if(!tmp1) {
		var tmp4;
		if(decodeState.validBits < 0) {
			tmp4 = 0;
		} else if(decodeState.validBits < 8) {
			if(decodeState.validBits == 0) {
				decodeState.acc = 0;
			}
			while(true) {
				if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
					decodeState.validBits = -1;
					break;
				} else {
					decodeState.bytesInSeg--;
					decodeState.inputPosition += 1;
					decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
					decodeState.validBits += 8;
				}
				if(!(decodeState.validBits < 8)) {
					break;
				}
			}
			if(decodeState.validBits < 0) {
				tmp4 = 0;
			} else {
				var z4 = decodeState.acc & 255;
				decodeState.acc = decodeState.acc >>> 8;
				decodeState.validBits -= 8;
				tmp4 = z4;
			}
		} else {
			var z5 = decodeState.acc & 255;
			decodeState.acc = decodeState.acc >>> 8;
			decodeState.validBits -= 8;
			tmp4 = z5;
		}
		tmp = tmp4 != 86;
	} else {
		tmp = true;
	}
	if(tmp) {
		throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{ fileName : "Codebook.hx", lineNumber : 40, className : "kha.audio2.ogg.vorbis.data.Codebook", methodName : "read"}));
	}
	var x;
	if(decodeState.validBits < 0) {
		x = 0;
	} else if(decodeState.validBits < 8) {
		if(decodeState.validBits == 0) {
			decodeState.acc = 0;
		}
		while(true) {
			if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
				decodeState.validBits = -1;
				break;
			} else {
				decodeState.bytesInSeg--;
				decodeState.inputPosition += 1;
				decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
				decodeState.validBits += 8;
			}
			if(!(decodeState.validBits < 8)) {
				break;
			}
		}
		if(decodeState.validBits < 0) {
			x = 0;
		} else {
			var z6 = decodeState.acc & 255;
			decodeState.acc = decodeState.acc >>> 8;
			decodeState.validBits -= 8;
			x = z6;
		}
	} else {
		var z7 = decodeState.acc & 255;
		decodeState.acc = decodeState.acc >>> 8;
		decodeState.validBits -= 8;
		x = z7;
	}
	var tmp5;
	if(decodeState.validBits < 0) {
		tmp5 = 0;
	} else if(decodeState.validBits < 8) {
		if(decodeState.validBits == 0) {
			decodeState.acc = 0;
		}
		while(true) {
			if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
				decodeState.validBits = -1;
				break;
			} else {
				decodeState.bytesInSeg--;
				decodeState.inputPosition += 1;
				decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
				decodeState.validBits += 8;
			}
			if(!(decodeState.validBits < 8)) {
				break;
			}
		}
		if(decodeState.validBits < 0) {
			tmp5 = 0;
		} else {
			var z8 = decodeState.acc & 255;
			decodeState.acc = decodeState.acc >>> 8;
			decodeState.validBits -= 8;
			tmp5 = z8;
		}
	} else {
		var z9 = decodeState.acc & 255;
		decodeState.acc = decodeState.acc >>> 8;
		decodeState.validBits -= 8;
		tmp5 = z9;
	}
	c.dimensions = (tmp5 << 8) + x;
	var x1;
	if(decodeState.validBits < 0) {
		x1 = 0;
	} else if(decodeState.validBits < 8) {
		if(decodeState.validBits == 0) {
			decodeState.acc = 0;
		}
		while(true) {
			if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
				decodeState.validBits = -1;
				break;
			} else {
				decodeState.bytesInSeg--;
				decodeState.inputPosition += 1;
				decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
				decodeState.validBits += 8;
			}
			if(!(decodeState.validBits < 8)) {
				break;
			}
		}
		if(decodeState.validBits < 0) {
			x1 = 0;
		} else {
			var z10 = decodeState.acc & 255;
			decodeState.acc = decodeState.acc >>> 8;
			decodeState.validBits -= 8;
			x1 = z10;
		}
	} else {
		var z11 = decodeState.acc & 255;
		decodeState.acc = decodeState.acc >>> 8;
		decodeState.validBits -= 8;
		x1 = z11;
	}
	var y;
	if(decodeState.validBits < 0) {
		y = 0;
	} else if(decodeState.validBits < 8) {
		if(decodeState.validBits == 0) {
			decodeState.acc = 0;
		}
		while(true) {
			if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
				decodeState.validBits = -1;
				break;
			} else {
				decodeState.bytesInSeg--;
				decodeState.inputPosition += 1;
				decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
				decodeState.validBits += 8;
			}
			if(!(decodeState.validBits < 8)) {
				break;
			}
		}
		if(decodeState.validBits < 0) {
			y = 0;
		} else {
			var z12 = decodeState.acc & 255;
			decodeState.acc = decodeState.acc >>> 8;
			decodeState.validBits -= 8;
			y = z12;
		}
	} else {
		var z13 = decodeState.acc & 255;
		decodeState.acc = decodeState.acc >>> 8;
		decodeState.validBits -= 8;
		y = z13;
	}
	var tmp6;
	if(decodeState.validBits < 0) {
		tmp6 = 0;
	} else if(decodeState.validBits < 8) {
		if(decodeState.validBits == 0) {
			decodeState.acc = 0;
		}
		while(true) {
			if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
				decodeState.validBits = -1;
				break;
			} else {
				decodeState.bytesInSeg--;
				decodeState.inputPosition += 1;
				decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
				decodeState.validBits += 8;
			}
			if(!(decodeState.validBits < 8)) {
				break;
			}
		}
		if(decodeState.validBits < 0) {
			tmp6 = 0;
		} else {
			var z14 = decodeState.acc & 255;
			decodeState.acc = decodeState.acc >>> 8;
			decodeState.validBits -= 8;
			tmp6 = z14;
		}
	} else {
		var z15 = decodeState.acc & 255;
		decodeState.acc = decodeState.acc >>> 8;
		decodeState.validBits -= 8;
		tmp6 = z15;
	}
	c.entries = (tmp6 << 16) + (y << 8) + x1;
	var ordered;
	if(decodeState.validBits < 0) {
		ordered = 0;
	} else if(decodeState.validBits < 1) {
		if(decodeState.validBits == 0) {
			decodeState.acc = 0;
		}
		while(true) {
			if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
				decodeState.validBits = -1;
				break;
			} else {
				decodeState.bytesInSeg--;
				decodeState.inputPosition += 1;
				decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
				decodeState.validBits += 8;
			}
			if(!(decodeState.validBits < 1)) {
				break;
			}
		}
		if(decodeState.validBits < 0) {
			ordered = 0;
		} else {
			var z16 = decodeState.acc & 1;
			decodeState.acc = decodeState.acc >>> 1;
			decodeState.validBits -= 1;
			ordered = z16;
		}
	} else {
		var z17 = decodeState.acc & 1;
		decodeState.acc = decodeState.acc >>> 1;
		decodeState.validBits -= 1;
		ordered = z17;
	}
	var tmp7;
	if(ordered != 0) {
		tmp7 = false;
	} else {
		var tmp8;
		if(decodeState.validBits < 0) {
			tmp8 = 0;
		} else if(decodeState.validBits < 1) {
			if(decodeState.validBits == 0) {
				decodeState.acc = 0;
			}
			while(true) {
				if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
					decodeState.validBits = -1;
					break;
				} else {
					decodeState.bytesInSeg--;
					decodeState.inputPosition += 1;
					decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
					decodeState.validBits += 8;
				}
				if(!(decodeState.validBits < 1)) {
					break;
				}
			}
			if(decodeState.validBits < 0) {
				tmp8 = 0;
			} else {
				var z18 = decodeState.acc & 1;
				decodeState.acc = decodeState.acc >>> 1;
				decodeState.validBits -= 1;
				tmp8 = z18;
			}
		} else {
			var z19 = decodeState.acc & 1;
			decodeState.acc = decodeState.acc >>> 1;
			decodeState.validBits -= 1;
			tmp8 = z19;
		}
		tmp7 = tmp8 != 0;
	}
	c.sparse = tmp7;
	var length = c.entries;
	var this1 = new Array(length);
	var lengths = this1;
	if(!c.sparse) {
		c.codewordLengths = lengths;
	}
	var total = 0;
	if(ordered != 0) {
		var currentEntry = 0;
		var currentLength;
		if(decodeState.validBits < 0) {
			currentLength = 0;
		} else if(decodeState.validBits < 5) {
			if(decodeState.validBits == 0) {
				decodeState.acc = 0;
			}
			while(true) {
				if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
					decodeState.validBits = -1;
					break;
				} else {
					decodeState.bytesInSeg--;
					decodeState.inputPosition += 1;
					decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
					decodeState.validBits += 8;
				}
				if(!(decodeState.validBits < 5)) {
					break;
				}
			}
			if(decodeState.validBits < 0) {
				currentLength = 0;
			} else {
				var z20 = decodeState.acc & 31;
				decodeState.acc = decodeState.acc >>> 5;
				decodeState.validBits -= 5;
				currentLength = z20;
			}
		} else {
			var z21 = decodeState.acc & 31;
			decodeState.acc = decodeState.acc >>> 5;
			decodeState.validBits -= 5;
			currentLength = z21;
		}
		var currentLength1 = currentLength + 1;
		while(currentEntry < c.entries) {
			var limit = c.entries - currentEntry;
			var log2_4 = [0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];
			var n = limit < 16384 ? limit < 16 ? log2_4[limit] : limit < 512 ? 5 + log2_4[limit >> 5] : 10 + log2_4[limit >> 10] : limit < 16777216 ? limit < 524288 ? 15 + log2_4[limit >> 15] : 20 + log2_4[limit >> 20] : limit < 536870912 ? 25 + log2_4[limit >> 25] : limit < -2147483648 ? 30 + log2_4[limit >> 30] : 0;
			var n1;
			if(decodeState.validBits < 0) {
				n1 = 0;
			} else if(decodeState.validBits < n) {
				if(n > 24) {
					n1 = decodeState.readBits(24) + (decodeState.readBits(n - 24) << 24);
				} else {
					if(decodeState.validBits == 0) {
						decodeState.acc = 0;
					}
					while(true) {
						if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
							decodeState.validBits = -1;
							break;
						} else {
							decodeState.bytesInSeg--;
							decodeState.inputPosition += 1;
							decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
							decodeState.validBits += 8;
						}
						if(!(decodeState.validBits < n)) {
							break;
						}
					}
					if(decodeState.validBits < 0) {
						n1 = 0;
					} else {
						var z22 = decodeState.acc & (1 << n) - 1;
						decodeState.acc = decodeState.acc >>> n;
						decodeState.validBits -= n;
						n1 = z22;
					}
				}
			} else {
				var z23 = decodeState.acc & (1 << n) - 1;
				decodeState.acc = decodeState.acc >>> n;
				decodeState.validBits -= n;
				n1 = z23;
			}
			if(currentEntry + n1 > c.entries) {
				throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,"codebook entrys",{ fileName : "Codebook.hx", lineNumber : 67, className : "kha.audio2.ogg.vorbis.data.Codebook", methodName : "read"}));
			}
			var _g1 = 0;
			var _g = n1;
			while(_g1 < _g) {
				var i = _g1++;
				lengths[currentEntry + i] = currentLength1;
			}
			currentEntry += n1;
			++currentLength1;
		}
	} else {
		var _g11 = 0;
		var _g2 = c.entries;
		while(_g11 < _g2) {
			var j = _g11++;
			var present;
			if(c.sparse) {
				if(decodeState.validBits < 0) {
					present = 0;
				} else if(decodeState.validBits < 1) {
					if(decodeState.validBits == 0) {
						decodeState.acc = 0;
					}
					while(true) {
						if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
							decodeState.validBits = -1;
							break;
						} else {
							decodeState.bytesInSeg--;
							decodeState.inputPosition += 1;
							decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
							decodeState.validBits += 8;
						}
						if(!(decodeState.validBits < 1)) {
							break;
						}
					}
					if(decodeState.validBits < 0) {
						present = 0;
					} else {
						var z24 = decodeState.acc & 1;
						decodeState.acc = decodeState.acc >>> 1;
						decodeState.validBits -= 1;
						present = z24;
					}
				} else {
					var z25 = decodeState.acc & 1;
					decodeState.acc = decodeState.acc >>> 1;
					decodeState.validBits -= 1;
					present = z25;
				}
			} else {
				present = 1;
			}
			if(present != 0) {
				var val;
				if(decodeState.validBits < 0) {
					val = 0;
				} else if(decodeState.validBits < 5) {
					if(decodeState.validBits == 0) {
						decodeState.acc = 0;
					}
					while(true) {
						if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
							decodeState.validBits = -1;
							break;
						} else {
							decodeState.bytesInSeg--;
							decodeState.inputPosition += 1;
							decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
							decodeState.validBits += 8;
						}
						if(!(decodeState.validBits < 5)) {
							break;
						}
					}
					if(decodeState.validBits < 0) {
						val = 0;
					} else {
						var z26 = decodeState.acc & 31;
						decodeState.acc = decodeState.acc >>> 5;
						decodeState.validBits -= 5;
						val = z26;
					}
				} else {
					var z27 = decodeState.acc & 31;
					decodeState.acc = decodeState.acc >>> 5;
					decodeState.validBits -= 5;
					val = z27;
				}
				lengths[j] = val + 1;
				++total;
			} else {
				lengths[j] = 255;
			}
		}
	}
	if(c.sparse && total >= c.entries >> 2) {
		c.codewordLengths = lengths;
		c.sparse = false;
	}
	var tmp9;
	if(c.sparse) {
		tmp9 = total;
	} else {
		var sortedCount = 0;
		var _g12 = 0;
		var _g3 = c.entries;
		while(_g12 < _g3) {
			var j1 = _g12++;
			var l = lengths[j1];
			if(l > 10 && l != 255) {
				++sortedCount;
			}
		}
		tmp9 = sortedCount;
	}
	c.sortedEntries = tmp9;
	var values = null;
	if(!c.sparse) {
		var length1 = c.entries;
		var this2 = new Array(length1);
		c.codewords = this2;
	} else {
		if(c.sortedEntries != 0) {
			var length2 = c.sortedEntries;
			var this3 = new Array(length2);
			c.codewordLengths = this3;
			var length3 = c.entries;
			var this4 = new Array(length3);
			c.codewords = this4;
			var length4 = c.entries;
			var this5 = new Array(length4);
			values = this5;
		}
		var size = c.entries + 64 * c.sortedEntries;
	}
	if(!c.computeCodewords(lengths,c.entries,values)) {
		throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,"compute codewords",{ fileName : "Codebook.hx", lineNumber : 120, className : "kha.audio2.ogg.vorbis.data.Codebook", methodName : "read"}));
	}
	if(c.sortedEntries != 0) {
		c.sortedCodewords = [];
		var length5 = c.sortedEntries;
		var this6 = new Array(length5);
		c.sortedValues = this6;
		c.computeSortedHuffman(lengths,values);
	}
	if(c.sparse) {
		values = null;
		c.codewords = null;
		lengths = null;
	}
	c.computeAcceleratedHuffman();
	var tmp10;
	if(decodeState.validBits < 0) {
		tmp10 = 0;
	} else if(decodeState.validBits < 4) {
		if(decodeState.validBits == 0) {
			decodeState.acc = 0;
		}
		while(true) {
			if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
				decodeState.validBits = -1;
				break;
			} else {
				decodeState.bytesInSeg--;
				decodeState.inputPosition += 1;
				decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
				decodeState.validBits += 8;
			}
			if(!(decodeState.validBits < 4)) {
				break;
			}
		}
		if(decodeState.validBits < 0) {
			tmp10 = 0;
		} else {
			var z28 = decodeState.acc & 15;
			decodeState.acc = decodeState.acc >>> 4;
			decodeState.validBits -= 4;
			tmp10 = z28;
		}
	} else {
		var z29 = decodeState.acc & 15;
		decodeState.acc = decodeState.acc >>> 4;
		decodeState.validBits -= 4;
		tmp10 = z29;
	}
	c.lookupType = tmp10;
	if(c.lookupType > 2) {
		throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,"codebook lookup type",{ fileName : "Codebook.hx", lineNumber : 143, className : "kha.audio2.ogg.vorbis.data.Codebook", methodName : "read"}));
	}
	if(c.lookupType > 0) {
		var x2;
		if(decodeState.validBits < 0) {
			x2 = 0;
		} else if(decodeState.validBits < 32) {
			x2 = decodeState.readBits(24) + (decodeState.readBits(8) << 24);
		} else {
			var z30 = decodeState.acc & 0;
			decodeState.acc = decodeState.acc >>> 32;
			decodeState.validBits -= 32;
			x2 = z30;
		}
		var mantissa = _$UInt_UInt_$Impl_$.toFloat(x2 & 2097151);
		var sign = x2 & -2147483648;
		var exp = (x2 & 2145386496) >>> 21;
		var res = sign != 0 ? -mantissa : mantissa;
		c.minimumValue = res * Math.pow(2,exp - 788);
		var x3;
		if(decodeState.validBits < 0) {
			x3 = 0;
		} else if(decodeState.validBits < 32) {
			x3 = decodeState.readBits(24) + (decodeState.readBits(8) << 24);
		} else {
			var z31 = decodeState.acc & 0;
			decodeState.acc = decodeState.acc >>> 32;
			decodeState.validBits -= 32;
			x3 = z31;
		}
		var mantissa1 = _$UInt_UInt_$Impl_$.toFloat(x3 & 2097151);
		var sign1 = x3 & -2147483648;
		var exp1 = (x3 & 2145386496) >>> 21;
		var res1 = sign1 != 0 ? -mantissa1 : mantissa1;
		c.deltaValue = res1 * Math.pow(2,exp1 - 788);
		var tmp11;
		if(decodeState.validBits < 0) {
			tmp11 = 0;
		} else if(decodeState.validBits < 4) {
			if(decodeState.validBits == 0) {
				decodeState.acc = 0;
			}
			while(true) {
				if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
					decodeState.validBits = -1;
					break;
				} else {
					decodeState.bytesInSeg--;
					decodeState.inputPosition += 1;
					decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
					decodeState.validBits += 8;
				}
				if(!(decodeState.validBits < 4)) {
					break;
				}
			}
			if(decodeState.validBits < 0) {
				tmp11 = 0;
			} else {
				var z32 = decodeState.acc & 15;
				decodeState.acc = decodeState.acc >>> 4;
				decodeState.validBits -= 4;
				tmp11 = z32;
			}
		} else {
			var z33 = decodeState.acc & 15;
			decodeState.acc = decodeState.acc >>> 4;
			decodeState.validBits -= 4;
			tmp11 = z33;
		}
		c.valueBits = tmp11 + 1;
		var tmp12;
		if(decodeState.validBits < 0) {
			tmp12 = 0;
		} else if(decodeState.validBits < 1) {
			if(decodeState.validBits == 0) {
				decodeState.acc = 0;
			}
			while(true) {
				if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
					decodeState.validBits = -1;
					break;
				} else {
					decodeState.bytesInSeg--;
					decodeState.inputPosition += 1;
					decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
					decodeState.validBits += 8;
				}
				if(!(decodeState.validBits < 1)) {
					break;
				}
			}
			if(decodeState.validBits < 0) {
				tmp12 = 0;
			} else {
				var z34 = decodeState.acc & 1;
				decodeState.acc = decodeState.acc >>> 1;
				decodeState.validBits -= 1;
				tmp12 = z34;
			}
		} else {
			var z35 = decodeState.acc & 1;
			decodeState.acc = decodeState.acc >>> 1;
			decodeState.validBits -= 1;
			tmp12 = z35;
		}
		c.sequenceP = tmp12 != 0;
		if(c.lookupType == 1) {
			c.lookupValues = kha_audio2_ogg_vorbis_VorbisTools.lookup1Values(c.entries,c.dimensions);
		} else {
			c.lookupValues = c.entries * c.dimensions;
		}
		var length6 = c.lookupValues;
		var this7 = new Array(length6);
		var mults = this7;
		var _g13 = 0;
		var _g4 = c.lookupValues;
		while(_g13 < _g4) {
			var j2 = _g13++;
			var n2 = c.valueBits;
			var q;
			if(decodeState.validBits < 0) {
				q = 0;
			} else if(decodeState.validBits < n2) {
				if(n2 > 24) {
					q = decodeState.readBits(24) + (decodeState.readBits(n2 - 24) << 24);
				} else {
					if(decodeState.validBits == 0) {
						decodeState.acc = 0;
					}
					while(true) {
						if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
							decodeState.validBits = -1;
							break;
						} else {
							decodeState.bytesInSeg--;
							decodeState.inputPosition += 1;
							decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
							decodeState.validBits += 8;
						}
						if(!(decodeState.validBits < n2)) {
							break;
						}
					}
					if(decodeState.validBits < 0) {
						q = 0;
					} else {
						var z36 = decodeState.acc & (1 << n2) - 1;
						decodeState.acc = decodeState.acc >>> n2;
						decodeState.validBits -= n2;
						q = z36;
					}
				}
			} else {
				var z37 = decodeState.acc & (1 << n2) - 1;
				decodeState.acc = decodeState.acc >>> n2;
				decodeState.validBits -= n2;
				q = z37;
			}
			if(q == -1) {
				throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,"fail lookup",{ fileName : "Codebook.hx", lineNumber : 161, className : "kha.audio2.ogg.vorbis.data.Codebook", methodName : "read"}));
			}
			mults[j2] = q;
		}
		var length7 = c.lookupValues;
		var this8 = new Array(length7);
		c.multiplicands = this8;
		var _g14 = 0;
		var _g5 = c.lookupValues;
		while(_g14 < _g5) {
			var j3 = _g14++;
			c.multiplicands[j3] = mults[j3] * c.deltaValue + c.minimumValue;
		}
		if(c.lookupType == 2 && c.sequenceP) {
			var _g15 = 1;
			var _g6 = c.lookupValues;
			while(_g15 < _g6) {
				var j4 = _g15++;
				c.multiplicands[j4] = c.multiplicands[j4 - 1];
			}
			c.sequenceP = false;
		}
	}
	return c;
};
kha_audio2_ogg_vorbis_data_Codebook.prototype = {
	dimensions: null
	,entries: null
	,codewordLengths: null
	,minimumValue: null
	,deltaValue: null
	,valueBits: null
	,lookupType: null
	,sequenceP: null
	,sparse: null
	,lookupValues: null
	,multiplicands: null
	,codewords: null
	,fastHuffman: null
	,sortedCodewords: null
	,sortedValues: null
	,sortedEntries: null
	,addEntry: function(huffCode,symbol,count,len,values) {
		if(!this.sparse) {
			this.codewords[symbol] = huffCode;
		} else {
			this.codewords[count] = huffCode;
			this.codewordLengths[count] = len;
			values[count] = symbol;
		}
	}
	,includeInSort: function(len) {
		if(this.sparse) {
			if(len == 255) {
				throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.OTHER,"",{ fileName : "Codebook.hx", lineNumber : 201, className : "kha.audio2.ogg.vorbis.data.Codebook", methodName : "includeInSort"}));
			}
			return true;
		} else if(len == 255) {
			return false;
		} else if(len > 10) {
			return true;
		} else {
			return false;
		}
	}
	,computeCodewords: function(len,n,values) {
		var this1 = new Array(32);
		var available = this1;
		var _g = 0;
		while(_g < 32) {
			var x = _g++;
			available[x] = 0;
		}
		var k = 0;
		while(k < n) {
			if(len[k] < 255) {
				break;
			}
			++k;
		}
		if(k == n) {
			if(this.sortedEntries != 0) {
				throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.OTHER,"",{ fileName : "Codebook.hx", lineNumber : 228, className : "kha.audio2.ogg.vorbis.data.Codebook", methodName : "computeCodewords"}));
			}
			return true;
		}
		var m = 0;
		var count = m++;
		if(!this.sparse) {
			this.codewords[k] = 0;
		} else {
			this.codewords[count] = 0;
			this.codewordLengths[count] = len[k];
			values[count] = k;
		}
		var i = 0;
		while(++i <= len[k]) available[i] = 1 << 32 - i;
		i = k;
		while(++i < n) {
			var z = len[i];
			if(z == 255) {
				continue;
			}
			while(z > 0 && available[z] == 0) --z;
			if(z == 0) {
				return false;
			}
			var res = available[z];
			available[z] = 0;
			var n1 = res;
			n1 = (n1 & -1431655766) >>> 1 | (n1 & 1431655765) << 1;
			n1 = (n1 & -858993460) >>> 2 | (n1 & 858993459) << 2;
			n1 = (n1 & -252645136) >>> 4 | (n1 & 252645135) << 4;
			n1 = (n1 & -16711936) >>> 8 | (n1 & 16711935) << 8;
			var huffCode = n1 >>> 16 | n1 << 16;
			var count1 = m++;
			if(!this.sparse) {
				this.codewords[i] = huffCode;
			} else {
				this.codewords[count1] = huffCode;
				this.codewordLengths[count1] = len[i];
				values[count1] = i;
			}
			if(z != len[i]) {
				var y = len[i];
				while(y > z) {
					if(available[y] != 0) {
						throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.OTHER,"",{ fileName : "Codebook.hx", lineNumber : 272, className : "kha.audio2.ogg.vorbis.data.Codebook", methodName : "computeCodewords"}));
					}
					available[y] = res + (1 << 32 - y);
					--y;
				}
			}
		}
		return true;
	}
	,computeSortedHuffman: function(lengths,values) {
		if(!this.sparse) {
			var k = 0;
			var _g1 = 0;
			var _g = this.entries;
			while(_g1 < _g) {
				var i = _g1++;
				var len = lengths[i];
				var tmp;
				if(this.sparse) {
					if(len == 255) {
						throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.OTHER,"",{ fileName : "Codebook.hx", lineNumber : 201, className : "kha.audio2.ogg.vorbis.data.Codebook", methodName : "includeInSort"}));
					}
					tmp = true;
				} else if(len == 255) {
					tmp = false;
				} else if(len > 10) {
					tmp = true;
				} else {
					tmp = false;
				}
				if(tmp) {
					var n = this.codewords[i];
					n = (n & -1431655766) >>> 1 | (n & 1431655765) << 1;
					n = (n & -858993460) >>> 2 | (n & 858993459) << 2;
					n = (n & -252645136) >>> 4 | (n & 252645135) << 4;
					n = (n & -16711936) >>> 8 | (n & 16711935) << 8;
					this.sortedCodewords[k++] = n >>> 16 | n << 16;
				}
			}
			if(k != this.sortedEntries) {
				throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.OTHER,"",{ fileName : "Codebook.hx", lineNumber : 296, className : "kha.audio2.ogg.vorbis.data.Codebook", methodName : "computeSortedHuffman"}));
			}
		} else {
			var _g11 = 0;
			var _g2 = this.sortedEntries;
			while(_g11 < _g2) {
				var i1 = _g11++;
				var n1 = this.codewords[i1];
				n1 = (n1 & -1431655766) >>> 1 | (n1 & 1431655765) << 1;
				n1 = (n1 & -858993460) >>> 2 | (n1 & 858993459) << 2;
				n1 = (n1 & -252645136) >>> 4 | (n1 & 252645135) << 4;
				n1 = (n1 & -16711936) >>> 8 | (n1 & 16711935) << 8;
				this.sortedCodewords[i1] = n1 >>> 16 | n1 << 16;
			}
		}
		this.sortedCodewords[this.sortedEntries] = -1;
		this.sortedCodewords.sort(kha_audio2_ogg_vorbis_VorbisTools.uintAsc);
		var len1 = this.sparse ? this.sortedEntries : this.entries;
		var _g12 = 0;
		var _g3 = len1;
		while(_g12 < _g3) {
			var i2 = _g12++;
			var huffLen = this.sparse ? lengths[values[i2]] : lengths[i2];
			var tmp1;
			if(this.sparse) {
				if(huffLen == 255) {
					throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.OTHER,"",{ fileName : "Codebook.hx", lineNumber : 201, className : "kha.audio2.ogg.vorbis.data.Codebook", methodName : "includeInSort"}));
				}
				tmp1 = true;
			} else if(huffLen == 255) {
				tmp1 = false;
			} else if(huffLen > 10) {
				tmp1 = true;
			} else {
				tmp1 = false;
			}
			if(tmp1) {
				var n2 = this.codewords[i2];
				n2 = (n2 & -1431655766) >>> 1 | (n2 & 1431655765) << 1;
				n2 = (n2 & -858993460) >>> 2 | (n2 & 858993459) << 2;
				n2 = (n2 & -252645136) >>> 4 | (n2 & 252645135) << 4;
				n2 = (n2 & -16711936) >>> 8 | (n2 & 16711935) << 8;
				var code = n2 >>> 16 | n2 << 16;
				var x = 0;
				var n3 = this.sortedEntries;
				while(n3 > 1) {
					var m = x + (n3 >> 1);
					if(_$UInt_UInt_$Impl_$.gte(code,this.sortedCodewords[m])) {
						x = m;
						n3 -= n3 >> 1;
					} else {
						n3 >>= 1;
					}
				}
				if(this.sparse) {
					this.sortedValues[x] = values[i2];
					this.codewordLengths[x] = huffLen;
				} else {
					this.sortedValues[x] = i2;
				}
			}
		}
	}
	,computeAcceleratedHuffman: function() {
		var this1 = new Array(1024);
		this.fastHuffman = this1;
		this.fastHuffman[0] = -1;
		var _g1 = 0;
		var _g = 1024;
		while(_g1 < _g) {
			var i = _g1++;
			this.fastHuffman[i] = -1;
		}
		var len = this.sparse ? this.sortedEntries : this.entries;
		var _g11 = 0;
		var _g2 = len;
		while(_g11 < _g2) {
			var i1 = _g11++;
			if(this.codewordLengths[i1] <= 10) {
				var z;
				if(this.sparse) {
					var n = this.sortedCodewords[i1];
					n = (n & -1431655766) >>> 1 | (n & 1431655765) << 1;
					n = (n & -858993460) >>> 2 | (n & 858993459) << 2;
					n = (n & -252645136) >>> 4 | (n & 252645135) << 4;
					n = (n & -16711936) >>> 8 | (n & 16711935) << 8;
					z = n >>> 16 | n << 16;
				} else {
					z = this.codewords[i1];
				}
				while(z < 1024) {
					this.fastHuffman[z] = i1;
					z += 1 << this.codewordLengths[i1];
				}
			}
		}
	}
	,codebookDecode: function(decodeState,output,offset,len) {
		if(decodeState.validBits < 10) {
			decodeState.prepHuffman();
		}
		var i = this.fastHuffman[decodeState.acc & 1023];
		var val;
		if(i >= 0) {
			var l = this.codewordLengths[i];
			decodeState.acc = decodeState.acc >>> l;
			decodeState.validBits -= l;
			if(decodeState.validBits < 0) {
				decodeState.validBits = 0;
				val = -1;
			} else {
				val = i;
			}
		} else {
			val = decodeState.decodeScalarRaw(this);
		}
		if(this.sparse) {
			val = this.sortedValues[val];
		}
		var z = val;
		var lookupValues = this.lookupValues;
		var sequenceP = this.sequenceP;
		var multiplicands = this.multiplicands;
		var minimumValue = this.minimumValue;
		if(z < 0) {
			return false;
		}
		if(len > this.dimensions) {
			len = this.dimensions;
		}
		if(this.lookupType == 1) {
			var div = 1;
			var last = 0.0;
			var _g1 = 0;
			var _g = len;
			while(_g1 < _g) {
				var i1 = _g1++;
				var off = _$UInt_UInt_$Impl_$.toFloat(z / div | 0) % _$UInt_UInt_$Impl_$.toFloat(lookupValues) | 0;
				var val1 = multiplicands[off] + last;
				var _g2 = offset + i1;
				var _g3 = output;
				_g3[_g2] = _g3[_g2] + val1;
				if(sequenceP) {
					last = val1 + minimumValue;
				}
				div = div * lookupValues;
			}
			return true;
		}
		z *= this.dimensions;
		if(sequenceP) {
			var last1 = 0.0;
			var _g11 = 0;
			var _g4 = len;
			while(_g11 < _g4) {
				var i2 = _g11++;
				var val2 = multiplicands[z + i2] + last1;
				var _g21 = offset + i2;
				var _g31 = output;
				_g31[_g21] = _g31[_g21] + val2;
				last1 = val2 + minimumValue;
			}
		} else {
			var last2 = 0.0;
			var _g12 = 0;
			var _g5 = len;
			while(_g12 < _g5) {
				var i3 = _g12++;
				var _g22 = offset + i3;
				var _g32 = output;
				_g32[_g22] = _g32[_g22] + (multiplicands[z + i3] + last2);
			}
		}
		return true;
	}
	,codebookDecodeStep: function(decodeState,output,offset,len,step) {
		if(decodeState.validBits < 10) {
			decodeState.prepHuffman();
		}
		var i = this.fastHuffman[decodeState.acc & 1023];
		var val;
		if(i >= 0) {
			var l = this.codewordLengths[i];
			decodeState.acc = decodeState.acc >>> l;
			decodeState.validBits -= l;
			if(decodeState.validBits < 0) {
				decodeState.validBits = 0;
				val = -1;
			} else {
				val = i;
			}
		} else {
			val = decodeState.decodeScalarRaw(this);
		}
		if(this.sparse) {
			val = this.sortedValues[val];
		}
		var z = val;
		var last = 0.0;
		if(z < 0) {
			return false;
		}
		if(len > this.dimensions) {
			len = this.dimensions;
		}
		var lookupValues = this.lookupValues;
		var sequenceP = this.sequenceP;
		var multiplicands = this.multiplicands;
		if(this.lookupType == 1) {
			var div = 1;
			var _g1 = 0;
			var _g = len;
			while(_g1 < _g) {
				var i1 = _g1++;
				var off = _$UInt_UInt_$Impl_$.toFloat(z / div | 0) % _$UInt_UInt_$Impl_$.toFloat(lookupValues) | 0;
				var val1 = multiplicands[off] + last;
				var _g2 = offset + i1 * step;
				var _g3 = output;
				_g3[_g2] = _g3[_g2] + val1;
				if(sequenceP) {
					last = val1;
				}
				div = div * lookupValues;
			}
			return true;
		}
		z *= this.dimensions;
		var _g11 = 0;
		var _g4 = len;
		while(_g11 < _g4) {
			var i2 = _g11++;
			var val2 = multiplicands[z + i2] + last;
			var _g21 = offset + i2 * step;
			var _g31 = output;
			_g31[_g21] = _g31[_g21] + val2;
			if(sequenceP) {
				last = val2;
			}
		}
		return true;
	}
	,decodeStart: function(decodeState) {
		if(decodeState.validBits < 10) {
			decodeState.prepHuffman();
		}
		var i = this.fastHuffman[decodeState.acc & 1023];
		var val;
		if(i >= 0) {
			var l = this.codewordLengths[i];
			decodeState.acc = decodeState.acc >>> l;
			decodeState.validBits -= l;
			if(decodeState.validBits < 0) {
				decodeState.validBits = 0;
				val = -1;
			} else {
				val = i;
			}
		} else {
			val = decodeState.decodeScalarRaw(this);
		}
		if(this.sparse) {
			val = this.sortedValues[val];
		}
		return val;
	}
	,decodeDeinterleaveRepeat: function(decodeState,residueBuffers,ch,cInter,pInter,len,totalDecode) {
		var effective = this.dimensions;
		if(this.lookupType == 0) {
			throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM,null,{ fileName : "Codebook.hx", lineNumber : 488, className : "kha.audio2.ogg.vorbis.data.Codebook", methodName : "decodeDeinterleaveRepeat"}));
		}
		var multiplicands = this.multiplicands;
		var sequenceP = this.sequenceP;
		var lookupValues = this.lookupValues;
		while(totalDecode > 0) {
			var last = 0.0;
			if(decodeState.validBits < 10) {
				decodeState.prepHuffman();
			}
			var i = this.fastHuffman[decodeState.acc & 1023];
			var val;
			if(i >= 0) {
				var l = this.codewordLengths[i];
				decodeState.acc = decodeState.acc >>> l;
				decodeState.validBits -= l;
				if(decodeState.validBits < 0) {
					decodeState.validBits = 0;
					val = -1;
				} else {
					val = i;
				}
			} else {
				val = decodeState.decodeScalarRaw(this);
			}
			if(this.sparse) {
				val = this.sortedValues[val];
			}
			var z = val;
			if(z < 0) {
				if(decodeState.bytesInSeg == 0 && decodeState.lastSeg) {
					return null;
				}
				throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM,null,{ fileName : "Codebook.hx", lineNumber : 503, className : "kha.audio2.ogg.vorbis.data.Codebook", methodName : "decodeDeinterleaveRepeat"}));
			}
			if(cInter + pInter * ch + effective > len * ch) {
				effective = len * ch - (pInter * ch - cInter);
			}
			if(this.lookupType == 1) {
				var div = 1;
				if(sequenceP) {
					var _g1 = 0;
					var _g = effective;
					while(_g1 < _g) {
						var i1 = _g1++;
						var off = _$UInt_UInt_$Impl_$.toFloat(z / div | 0) % _$UInt_UInt_$Impl_$.toFloat(lookupValues) | 0;
						var val1 = multiplicands[off] + last;
						var _g2 = pInter;
						var _g3 = residueBuffers[cInter];
						_g3[_g2] = _g3[_g2] + val1;
						if(++cInter == ch) {
							cInter = 0;
							++pInter;
						}
						last = val1;
						div = div * lookupValues;
					}
				} else {
					var _g11 = 0;
					var _g4 = effective;
					while(_g11 < _g4) {
						var i2 = _g11++;
						var off1 = _$UInt_UInt_$Impl_$.toFloat(z / div | 0) % _$UInt_UInt_$Impl_$.toFloat(lookupValues) | 0;
						var val2 = multiplicands[off1] + last;
						var _g21 = pInter;
						var _g31 = residueBuffers[cInter];
						_g31[_g21] = _g31[_g21] + val2;
						if(++cInter == ch) {
							cInter = 0;
							++pInter;
						}
						div = div * lookupValues;
					}
				}
			} else {
				z *= this.dimensions;
				if(sequenceP) {
					var _g12 = 0;
					var _g5 = effective;
					while(_g12 < _g5) {
						var i3 = _g12++;
						var val3 = multiplicands[z + i3] + last;
						var _g22 = pInter;
						var _g32 = residueBuffers[cInter];
						_g32[_g22] = _g32[_g22] + val3;
						if(++cInter == ch) {
							cInter = 0;
							++pInter;
						}
						last = val3;
					}
				} else {
					var _g13 = 0;
					var _g6 = effective;
					while(_g13 < _g6) {
						var i4 = _g13++;
						var val4 = multiplicands[z + i4] + last;
						var _g23 = pInter;
						var _g33 = residueBuffers[cInter];
						_g33[_g23] = _g33[_g23] + val4;
						if(++cInter == ch) {
							cInter = 0;
							++pInter;
						}
					}
				}
			}
			totalDecode -= effective;
		}
		return { cInter : cInter, pInter : pInter};
	}
	,residueDecode: function(decodeState,target,offset,n,rtype) {
		if(rtype == 0) {
			var step = n / this.dimensions | 0;
			var _g1 = 0;
			var _g = step;
			while(_g1 < _g) {
				var k = _g1++;
				if(!this.codebookDecodeStep(decodeState,target,offset + k,n - offset - k,step)) {
					return false;
				}
			}
		} else {
			var k1 = 0;
			while(k1 < n) {
				if(!this.codebookDecode(decodeState,target,offset,n - k1)) {
					return false;
				}
				k1 += this.dimensions;
				offset += this.dimensions;
			}
		}
		return true;
	}
	,__class__: kha_audio2_ogg_vorbis_data_Codebook
};
var kha_audio2_ogg_vorbis_data_Comment = $hxClasses["kha.audio2.ogg.vorbis.data.Comment"] = function() {
	this.data = new haxe_ds_StringMap();
};
kha_audio2_ogg_vorbis_data_Comment.__name__ = ["kha","audio2","ogg","vorbis","data","Comment"];
kha_audio2_ogg_vorbis_data_Comment.prototype = {
	data: null
	,get_title: function() {
		return this.getString("title");
	}
	,get_loopStart: function() {
		return Std.parseInt(this.getString("loopstart"));
	}
	,get_loopLength: function() {
		return Std.parseInt(this.getString("looplength"));
	}
	,get_version: function() {
		return this.getString("version");
	}
	,get_album: function() {
		return this.getString("album");
	}
	,get_organization: function() {
		return this.getString("organization");
	}
	,get_tracknumber: function() {
		return this.getString("tracknumber");
	}
	,get_performer: function() {
		return this.getString("performer");
	}
	,get_copyright: function() {
		return this.getString("copyright");
	}
	,get_license: function() {
		return this.getString("license");
	}
	,get_artist: function() {
		return this.getString("artist");
	}
	,get_description: function() {
		return this.getString("description");
	}
	,get_genre: function() {
		return this.getString("genre");
	}
	,get_date: function() {
		return this.getString("date");
	}
	,get_location: function() {
		return this.getString("location");
	}
	,get_contact: function() {
		return this.getString("contact");
	}
	,get_isrc: function() {
		return this.getString("isrc");
	}
	,get_artists: function() {
		return this.getArray("artist");
	}
	,add: function(key,value) {
		key = key.toLowerCase();
		var _this = this.data;
		if(__map_reserved[key] != null ? _this.existsReserved(key) : _this.h.hasOwnProperty(key)) {
			var _this1 = this.data;
			(__map_reserved[key] != null ? _this1.getReserved(key) : _this1.h[key]).push(value);
		} else {
			var v = [value];
			var _this2 = this.data;
			if(__map_reserved[key] != null) {
				_this2.setReserved(key,v);
			} else {
				_this2.h[key] = v;
			}
		}
	}
	,getString: function(key) {
		key = key.toLowerCase();
		var _this = this.data;
		if(__map_reserved[key] != null ? _this.existsReserved(key) : _this.h.hasOwnProperty(key)) {
			var _this1 = this.data;
			return (__map_reserved[key] != null ? _this1.getReserved(key) : _this1.h[key])[0];
		} else {
			return null;
		}
	}
	,getArray: function(key) {
		key = key.toLowerCase();
		var _this = this.data;
		if(__map_reserved[key] != null ? _this.existsReserved(key) : _this.h.hasOwnProperty(key)) {
			var _this1 = this.data;
			if(__map_reserved[key] != null) {
				return _this1.getReserved(key);
			} else {
				return _this1.h[key];
			}
		} else {
			return null;
		}
	}
	,__class__: kha_audio2_ogg_vorbis_data_Comment
	,__properties__: {get_artists:"get_artists",get_isrc:"get_isrc",get_contact:"get_contact",get_location:"get_location",get_date:"get_date",get_genre:"get_genre",get_description:"get_description",get_artist:"get_artist",get_license:"get_license",get_copyright:"get_copyright",get_performer:"get_performer",get_tracknumber:"get_tracknumber",get_organization:"get_organization",get_album:"get_album",get_version:"get_version",get_loopLength:"get_loopLength",get_loopStart:"get_loopStart",get_title:"get_title"}
};
var kha_audio2_ogg_vorbis_data_Floor = $hxClasses["kha.audio2.ogg.vorbis.data.Floor"] = function() {
};
kha_audio2_ogg_vorbis_data_Floor.__name__ = ["kha","audio2","ogg","vorbis","data","Floor"];
kha_audio2_ogg_vorbis_data_Floor.read = function(decodeState,codebooks) {
	var floor = new kha_audio2_ogg_vorbis_data_Floor();
	var tmp;
	if(decodeState.validBits < 0) {
		tmp = 0;
	} else if(decodeState.validBits < 16) {
		if(decodeState.validBits == 0) {
			decodeState.acc = 0;
		}
		while(true) {
			if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
				decodeState.validBits = -1;
				break;
			} else {
				decodeState.bytesInSeg--;
				decodeState.inputPosition += 1;
				decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
				decodeState.validBits += 8;
			}
			if(!(decodeState.validBits < 16)) {
				break;
			}
		}
		if(decodeState.validBits < 0) {
			tmp = 0;
		} else {
			var z = decodeState.acc & 65535;
			decodeState.acc = decodeState.acc >>> 16;
			decodeState.validBits -= 16;
			tmp = z;
		}
	} else {
		var z1 = decodeState.acc & 65535;
		decodeState.acc = decodeState.acc >>> 16;
		decodeState.validBits -= 16;
		tmp = z1;
	}
	floor.type = tmp;
	if(floor.type > 1) {
		throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{ fileName : "Floor.hx", lineNumber : 28, className : "kha.audio2.ogg.vorbis.data.Floor", methodName : "read"}));
	}
	if(floor.type == 0) {
		var g = floor.floor0 = new kha_audio2_ogg_vorbis_data_Floor0();
		var tmp1;
		if(decodeState.validBits < 0) {
			tmp1 = 0;
		} else if(decodeState.validBits < 8) {
			if(decodeState.validBits == 0) {
				decodeState.acc = 0;
			}
			while(true) {
				if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
					decodeState.validBits = -1;
					break;
				} else {
					decodeState.bytesInSeg--;
					decodeState.inputPosition += 1;
					decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
					decodeState.validBits += 8;
				}
				if(!(decodeState.validBits < 8)) {
					break;
				}
			}
			if(decodeState.validBits < 0) {
				tmp1 = 0;
			} else {
				var z2 = decodeState.acc & 255;
				decodeState.acc = decodeState.acc >>> 8;
				decodeState.validBits -= 8;
				tmp1 = z2;
			}
		} else {
			var z3 = decodeState.acc & 255;
			decodeState.acc = decodeState.acc >>> 8;
			decodeState.validBits -= 8;
			tmp1 = z3;
		}
		g.order = tmp1;
		var tmp2;
		if(decodeState.validBits < 0) {
			tmp2 = 0;
		} else if(decodeState.validBits < 16) {
			if(decodeState.validBits == 0) {
				decodeState.acc = 0;
			}
			while(true) {
				if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
					decodeState.validBits = -1;
					break;
				} else {
					decodeState.bytesInSeg--;
					decodeState.inputPosition += 1;
					decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
					decodeState.validBits += 8;
				}
				if(!(decodeState.validBits < 16)) {
					break;
				}
			}
			if(decodeState.validBits < 0) {
				tmp2 = 0;
			} else {
				var z4 = decodeState.acc & 65535;
				decodeState.acc = decodeState.acc >>> 16;
				decodeState.validBits -= 16;
				tmp2 = z4;
			}
		} else {
			var z5 = decodeState.acc & 65535;
			decodeState.acc = decodeState.acc >>> 16;
			decodeState.validBits -= 16;
			tmp2 = z5;
		}
		g.rate = tmp2;
		var tmp3;
		if(decodeState.validBits < 0) {
			tmp3 = 0;
		} else if(decodeState.validBits < 16) {
			if(decodeState.validBits == 0) {
				decodeState.acc = 0;
			}
			while(true) {
				if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
					decodeState.validBits = -1;
					break;
				} else {
					decodeState.bytesInSeg--;
					decodeState.inputPosition += 1;
					decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
					decodeState.validBits += 8;
				}
				if(!(decodeState.validBits < 16)) {
					break;
				}
			}
			if(decodeState.validBits < 0) {
				tmp3 = 0;
			} else {
				var z6 = decodeState.acc & 65535;
				decodeState.acc = decodeState.acc >>> 16;
				decodeState.validBits -= 16;
				tmp3 = z6;
			}
		} else {
			var z7 = decodeState.acc & 65535;
			decodeState.acc = decodeState.acc >>> 16;
			decodeState.validBits -= 16;
			tmp3 = z7;
		}
		g.barkMapSize = tmp3;
		var tmp4;
		if(decodeState.validBits < 0) {
			tmp4 = 0;
		} else if(decodeState.validBits < 6) {
			if(decodeState.validBits == 0) {
				decodeState.acc = 0;
			}
			while(true) {
				if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
					decodeState.validBits = -1;
					break;
				} else {
					decodeState.bytesInSeg--;
					decodeState.inputPosition += 1;
					decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
					decodeState.validBits += 8;
				}
				if(!(decodeState.validBits < 6)) {
					break;
				}
			}
			if(decodeState.validBits < 0) {
				tmp4 = 0;
			} else {
				var z8 = decodeState.acc & 63;
				decodeState.acc = decodeState.acc >>> 6;
				decodeState.validBits -= 6;
				tmp4 = z8;
			}
		} else {
			var z9 = decodeState.acc & 63;
			decodeState.acc = decodeState.acc >>> 6;
			decodeState.validBits -= 6;
			tmp4 = z9;
		}
		g.amplitudeBits = tmp4;
		var tmp5;
		if(decodeState.validBits < 0) {
			tmp5 = 0;
		} else if(decodeState.validBits < 8) {
			if(decodeState.validBits == 0) {
				decodeState.acc = 0;
			}
			while(true) {
				if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
					decodeState.validBits = -1;
					break;
				} else {
					decodeState.bytesInSeg--;
					decodeState.inputPosition += 1;
					decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
					decodeState.validBits += 8;
				}
				if(!(decodeState.validBits < 8)) {
					break;
				}
			}
			if(decodeState.validBits < 0) {
				tmp5 = 0;
			} else {
				var z10 = decodeState.acc & 255;
				decodeState.acc = decodeState.acc >>> 8;
				decodeState.validBits -= 8;
				tmp5 = z10;
			}
		} else {
			var z11 = decodeState.acc & 255;
			decodeState.acc = decodeState.acc >>> 8;
			decodeState.validBits -= 8;
			tmp5 = z11;
		}
		g.amplitudeOffset = tmp5;
		var tmp6;
		if(decodeState.validBits < 0) {
			tmp6 = 0;
		} else if(decodeState.validBits < 4) {
			if(decodeState.validBits == 0) {
				decodeState.acc = 0;
			}
			while(true) {
				if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
					decodeState.validBits = -1;
					break;
				} else {
					decodeState.bytesInSeg--;
					decodeState.inputPosition += 1;
					decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
					decodeState.validBits += 8;
				}
				if(!(decodeState.validBits < 4)) {
					break;
				}
			}
			if(decodeState.validBits < 0) {
				tmp6 = 0;
			} else {
				var z12 = decodeState.acc & 15;
				decodeState.acc = decodeState.acc >>> 4;
				decodeState.validBits -= 4;
				tmp6 = z12;
			}
		} else {
			var z13 = decodeState.acc & 15;
			decodeState.acc = decodeState.acc >>> 4;
			decodeState.validBits -= 4;
			tmp6 = z13;
		}
		g.numberOfBooks = tmp6 + 1;
		var _g1 = 0;
		var _g = g.numberOfBooks;
		while(_g1 < _g) {
			var j = _g1++;
			var this1 = g.bookList;
			var val;
			if(decodeState.validBits < 0) {
				val = 0;
			} else if(decodeState.validBits < 8) {
				if(decodeState.validBits == 0) {
					decodeState.acc = 0;
				}
				while(true) {
					if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
						decodeState.validBits = -1;
						break;
					} else {
						decodeState.bytesInSeg--;
						decodeState.inputPosition += 1;
						decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
						decodeState.validBits += 8;
					}
					if(!(decodeState.validBits < 8)) {
						break;
					}
				}
				if(decodeState.validBits < 0) {
					val = 0;
				} else {
					var z14 = decodeState.acc & 255;
					decodeState.acc = decodeState.acc >>> 8;
					decodeState.validBits -= 8;
					val = z14;
				}
			} else {
				var z15 = decodeState.acc & 255;
				decodeState.acc = decodeState.acc >>> 8;
				decodeState.validBits -= 8;
				val = z15;
			}
			this1[j] = val;
		}
		throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.FEATURE_NOT_SUPPORTED,null,{ fileName : "Floor.hx", lineNumber : 41, className : "kha.audio2.ogg.vorbis.data.Floor", methodName : "read"}));
	} else {
		var p = [];
		var g1 = floor.floor1 = new kha_audio2_ogg_vorbis_data_Floor1();
		var maxClass = -1;
		var tmp7;
		if(decodeState.validBits < 0) {
			tmp7 = 0;
		} else if(decodeState.validBits < 5) {
			if(decodeState.validBits == 0) {
				decodeState.acc = 0;
			}
			while(true) {
				if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
					decodeState.validBits = -1;
					break;
				} else {
					decodeState.bytesInSeg--;
					decodeState.inputPosition += 1;
					decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
					decodeState.validBits += 8;
				}
				if(!(decodeState.validBits < 5)) {
					break;
				}
			}
			if(decodeState.validBits < 0) {
				tmp7 = 0;
			} else {
				var z16 = decodeState.acc & 31;
				decodeState.acc = decodeState.acc >>> 5;
				decodeState.validBits -= 5;
				tmp7 = z16;
			}
		} else {
			var z17 = decodeState.acc & 31;
			decodeState.acc = decodeState.acc >>> 5;
			decodeState.validBits -= 5;
			tmp7 = z17;
		}
		g1.partitions = tmp7;
		var length = g1.partitions;
		var this2 = new Array(length);
		g1.partitionClassList = this2;
		var _g11 = 0;
		var _g2 = g1.partitions;
		while(_g11 < _g2) {
			var j1 = _g11++;
			var this3 = g1.partitionClassList;
			var val1;
			if(decodeState.validBits < 0) {
				val1 = 0;
			} else if(decodeState.validBits < 4) {
				if(decodeState.validBits == 0) {
					decodeState.acc = 0;
				}
				while(true) {
					if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
						decodeState.validBits = -1;
						break;
					} else {
						decodeState.bytesInSeg--;
						decodeState.inputPosition += 1;
						decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
						decodeState.validBits += 8;
					}
					if(!(decodeState.validBits < 4)) {
						break;
					}
				}
				if(decodeState.validBits < 0) {
					val1 = 0;
				} else {
					var z18 = decodeState.acc & 15;
					decodeState.acc = decodeState.acc >>> 4;
					decodeState.validBits -= 4;
					val1 = z18;
				}
			} else {
				var z19 = decodeState.acc & 15;
				decodeState.acc = decodeState.acc >>> 4;
				decodeState.validBits -= 4;
				val1 = z19;
			}
			this3[j1] = val1;
			if(g1.partitionClassList[j1] > maxClass) {
				maxClass = g1.partitionClassList[j1];
			}
		}
		var this4 = new Array(maxClass + 1);
		g1.classDimensions = this4;
		var this5 = new Array(maxClass + 1);
		g1.classMasterbooks = this5;
		var this6 = new Array(maxClass + 1);
		g1.classSubclasses = this6;
		var this7 = new Array(maxClass + 1);
		g1.subclassBooks = this7;
		var _g12 = 0;
		var _g3 = maxClass + 1;
		while(_g12 < _g3) {
			var j2 = _g12++;
			var this8 = g1.classDimensions;
			var val2;
			if(decodeState.validBits < 0) {
				val2 = 0;
			} else if(decodeState.validBits < 3) {
				if(decodeState.validBits == 0) {
					decodeState.acc = 0;
				}
				while(true) {
					if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
						decodeState.validBits = -1;
						break;
					} else {
						decodeState.bytesInSeg--;
						decodeState.inputPosition += 1;
						decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
						decodeState.validBits += 8;
					}
					if(!(decodeState.validBits < 3)) {
						break;
					}
				}
				if(decodeState.validBits < 0) {
					val2 = 0;
				} else {
					var z20 = decodeState.acc & 7;
					decodeState.acc = decodeState.acc >>> 3;
					decodeState.validBits -= 3;
					val2 = z20;
				}
			} else {
				var z21 = decodeState.acc & 7;
				decodeState.acc = decodeState.acc >>> 3;
				decodeState.validBits -= 3;
				val2 = z21;
			}
			this8[j2] = val2 + 1;
			var this9 = g1.classSubclasses;
			var val3;
			if(decodeState.validBits < 0) {
				val3 = 0;
			} else if(decodeState.validBits < 2) {
				if(decodeState.validBits == 0) {
					decodeState.acc = 0;
				}
				while(true) {
					if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
						decodeState.validBits = -1;
						break;
					} else {
						decodeState.bytesInSeg--;
						decodeState.inputPosition += 1;
						decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
						decodeState.validBits += 8;
					}
					if(!(decodeState.validBits < 2)) {
						break;
					}
				}
				if(decodeState.validBits < 0) {
					val3 = 0;
				} else {
					var z22 = decodeState.acc & 3;
					decodeState.acc = decodeState.acc >>> 2;
					decodeState.validBits -= 2;
					val3 = z22;
				}
			} else {
				var z23 = decodeState.acc & 3;
				decodeState.acc = decodeState.acc >>> 2;
				decodeState.validBits -= 2;
				val3 = z23;
			}
			this9[j2] = val3;
			if(g1.classSubclasses[j2] != 0) {
				var this10 = g1.classMasterbooks;
				var val4;
				if(decodeState.validBits < 0) {
					val4 = 0;
				} else if(decodeState.validBits < 8) {
					if(decodeState.validBits == 0) {
						decodeState.acc = 0;
					}
					while(true) {
						if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
							decodeState.validBits = -1;
							break;
						} else {
							decodeState.bytesInSeg--;
							decodeState.inputPosition += 1;
							decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
							decodeState.validBits += 8;
						}
						if(!(decodeState.validBits < 8)) {
							break;
						}
					}
					if(decodeState.validBits < 0) {
						val4 = 0;
					} else {
						var z24 = decodeState.acc & 255;
						decodeState.acc = decodeState.acc >>> 8;
						decodeState.validBits -= 8;
						val4 = z24;
					}
				} else {
					var z25 = decodeState.acc & 255;
					decodeState.acc = decodeState.acc >>> 8;
					decodeState.validBits -= 8;
					val4 = z25;
				}
				this10[j2] = val4;
				if(g1.classMasterbooks[j2] >= codebooks.length) {
					throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{ fileName : "Floor.hx", lineNumber : 64, className : "kha.audio2.ogg.vorbis.data.Floor", methodName : "read"}));
				}
			}
			var kl = 1 << g1.classSubclasses[j2];
			var this11 = g1.subclassBooks;
			var this12 = new Array(kl);
			this11[j2] = this12;
			var _g31 = 0;
			var _g21 = kl;
			while(_g31 < _g21) {
				var k = _g31++;
				var this13 = g1.subclassBooks[j2];
				var val5;
				if(decodeState.validBits < 0) {
					val5 = 0;
				} else if(decodeState.validBits < 8) {
					if(decodeState.validBits == 0) {
						decodeState.acc = 0;
					}
					while(true) {
						if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
							decodeState.validBits = -1;
							break;
						} else {
							decodeState.bytesInSeg--;
							decodeState.inputPosition += 1;
							decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
							decodeState.validBits += 8;
						}
						if(!(decodeState.validBits < 8)) {
							break;
						}
					}
					if(decodeState.validBits < 0) {
						val5 = 0;
					} else {
						var z26 = decodeState.acc & 255;
						decodeState.acc = decodeState.acc >>> 8;
						decodeState.validBits -= 8;
						val5 = z26;
					}
				} else {
					var z27 = decodeState.acc & 255;
					decodeState.acc = decodeState.acc >>> 8;
					decodeState.validBits -= 8;
					val5 = z27;
				}
				this13[k] = val5 - 1;
				if(g1.subclassBooks[j2][k] >= codebooks.length) {
					throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{ fileName : "Floor.hx", lineNumber : 73, className : "kha.audio2.ogg.vorbis.data.Floor", methodName : "read"}));
				}
			}
		}
		var tmp8;
		if(decodeState.validBits < 0) {
			tmp8 = 0;
		} else if(decodeState.validBits < 2) {
			if(decodeState.validBits == 0) {
				decodeState.acc = 0;
			}
			while(true) {
				if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
					decodeState.validBits = -1;
					break;
				} else {
					decodeState.bytesInSeg--;
					decodeState.inputPosition += 1;
					decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
					decodeState.validBits += 8;
				}
				if(!(decodeState.validBits < 2)) {
					break;
				}
			}
			if(decodeState.validBits < 0) {
				tmp8 = 0;
			} else {
				var z28 = decodeState.acc & 3;
				decodeState.acc = decodeState.acc >>> 2;
				decodeState.validBits -= 2;
				tmp8 = z28;
			}
		} else {
			var z29 = decodeState.acc & 3;
			decodeState.acc = decodeState.acc >>> 2;
			decodeState.validBits -= 2;
			tmp8 = z29;
		}
		g1.floor1Multiplier = tmp8 + 1;
		var tmp9;
		if(decodeState.validBits < 0) {
			tmp9 = 0;
		} else if(decodeState.validBits < 4) {
			if(decodeState.validBits == 0) {
				decodeState.acc = 0;
			}
			while(true) {
				if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
					decodeState.validBits = -1;
					break;
				} else {
					decodeState.bytesInSeg--;
					decodeState.inputPosition += 1;
					decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
					decodeState.validBits += 8;
				}
				if(!(decodeState.validBits < 4)) {
					break;
				}
			}
			if(decodeState.validBits < 0) {
				tmp9 = 0;
			} else {
				var z30 = decodeState.acc & 15;
				decodeState.acc = decodeState.acc >>> 4;
				decodeState.validBits -= 4;
				tmp9 = z30;
			}
		} else {
			var z31 = decodeState.acc & 15;
			decodeState.acc = decodeState.acc >>> 4;
			decodeState.validBits -= 4;
			tmp9 = z31;
		}
		g1.rangebits = tmp9;
		var this14 = new Array(250);
		g1.xlist = this14;
		g1.xlist[0] = 0;
		g1.xlist[1] = 1 << g1.rangebits;
		g1.values = 2;
		var _g13 = 0;
		var _g4 = g1.partitions;
		while(_g13 < _g4) {
			var j3 = _g13++;
			var c = g1.partitionClassList[j3];
			var _g32 = 0;
			var _g22 = g1.classDimensions[c];
			while(_g32 < _g22) {
				var k1 = _g32++;
				var this15 = g1.xlist;
				var index = g1.values;
				var n = g1.rangebits;
				var val6;
				if(decodeState.validBits < 0) {
					val6 = 0;
				} else if(decodeState.validBits < n) {
					if(n > 24) {
						val6 = decodeState.readBits(24) + (decodeState.readBits(n - 24) << 24);
					} else {
						if(decodeState.validBits == 0) {
							decodeState.acc = 0;
						}
						while(true) {
							if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
								decodeState.validBits = -1;
								break;
							} else {
								decodeState.bytesInSeg--;
								decodeState.inputPosition += 1;
								decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
								decodeState.validBits += 8;
							}
							if(!(decodeState.validBits < n)) {
								break;
							}
						}
						if(decodeState.validBits < 0) {
							val6 = 0;
						} else {
							var z32 = decodeState.acc & (1 << n) - 1;
							decodeState.acc = decodeState.acc >>> n;
							decodeState.validBits -= n;
							val6 = z32;
						}
					}
				} else {
					var z33 = decodeState.acc & (1 << n) - 1;
					decodeState.acc = decodeState.acc >>> n;
					decodeState.validBits -= n;
					val6 = z33;
				}
				this15[index] = val6;
				g1.values++;
			}
		}
		var _g14 = 0;
		var _g5 = g1.values;
		while(_g14 < _g5) {
			var j4 = _g14++;
			p.push(new kha_audio2_ogg_vorbis_data_IntPoint());
			p[j4].x = g1.xlist[j4];
			p[j4].y = j4;
		}
		p.sort(kha_audio2_ogg_vorbis_VorbisTools.pointCompare);
		var length1 = g1.values;
		var this16 = new Array(length1);
		g1.sortedOrder = this16;
		var _g15 = 0;
		var _g6 = g1.values;
		while(_g15 < _g6) {
			var j5 = _g15++;
			g1.sortedOrder[j5] = p[j5].y;
		}
		var length2 = g1.values;
		var this17 = new Array(length2);
		g1.neighbors = this17;
		var _g16 = 2;
		var _g7 = g1.values;
		while(_g16 < _g7) {
			var j6 = _g16++;
			var ne_low;
			var ne_high;
			var x = g1.xlist;
			var low = -1;
			var high = 65536;
			var plow = 0;
			var phigh = 0;
			var _g17 = 0;
			var _g8 = j6;
			while(_g17 < _g8) {
				var i = _g17++;
				if(x[i] > low && x[i] < x[j6]) {
					plow = i;
					low = x[i];
				}
				if(x[i] < high && x[i] > x[j6]) {
					phigh = i;
					high = x[i];
				}
			}
			ne_low = plow;
			ne_high = phigh;
			var this18 = g1.neighbors;
			var length3 = g1.values;
			var this19 = new Array(length3);
			this18[j6] = this19;
			g1.neighbors[j6][0] = ne_low;
			g1.neighbors[j6][1] = ne_high;
		}
	}
	return floor;
};
kha_audio2_ogg_vorbis_data_Floor.prototype = {
	floor0: null
	,floor1: null
	,type: null
	,__class__: kha_audio2_ogg_vorbis_data_Floor
};
var kha_audio2_ogg_vorbis_data_Floor0 = $hxClasses["kha.audio2.ogg.vorbis.data.Floor0"] = function() {
};
kha_audio2_ogg_vorbis_data_Floor0.__name__ = ["kha","audio2","ogg","vorbis","data","Floor0"];
kha_audio2_ogg_vorbis_data_Floor0.prototype = {
	order: null
	,rate: null
	,barkMapSize: null
	,amplitudeBits: null
	,amplitudeOffset: null
	,numberOfBooks: null
	,bookList: null
	,__class__: kha_audio2_ogg_vorbis_data_Floor0
};
var kha_audio2_ogg_vorbis_data_Floor1 = $hxClasses["kha.audio2.ogg.vorbis.data.Floor1"] = function() {
};
kha_audio2_ogg_vorbis_data_Floor1.__name__ = ["kha","audio2","ogg","vorbis","data","Floor1"];
kha_audio2_ogg_vorbis_data_Floor1.prototype = {
	partitions: null
	,partitionClassList: null
	,classDimensions: null
	,classSubclasses: null
	,classMasterbooks: null
	,subclassBooks: null
	,xlist: null
	,sortedOrder: null
	,neighbors: null
	,floor1Multiplier: null
	,rangebits: null
	,values: null
	,__class__: kha_audio2_ogg_vorbis_data_Floor1
};
var kha_audio2_ogg_vorbis_data_Header = $hxClasses["kha.audio2.ogg.vorbis.data.Header"] = function() {
};
kha_audio2_ogg_vorbis_data_Header.__name__ = ["kha","audio2","ogg","vorbis","data","Header"];
kha_audio2_ogg_vorbis_data_Header.read = function(decodeState) {
	var page = decodeState.page;
	page.start(decodeState);
	if((page.flag & 2) == 0) {
		throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE,"not firstPage",{ fileName : "Header.hx", lineNumber : 46, className : "kha.audio2.ogg.vorbis.data.Header", methodName : "read"}));
	}
	if((page.flag & 4) != 0) {
		throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE,"lastPage",{ fileName : "Header.hx", lineNumber : 49, className : "kha.audio2.ogg.vorbis.data.Header", methodName : "read"}));
	}
	if((page.flag & 1) != 0) {
		throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE,"continuedPacket",{ fileName : "Header.hx", lineNumber : 52, className : "kha.audio2.ogg.vorbis.data.Header", methodName : "read"}));
	}
	decodeState.firstPageValidate();
	decodeState.inputPosition += 1;
	if(decodeState.input.readByte() != 1) {
		throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE,"decodeState head",{ fileName : "Header.hx", lineNumber : 57, className : "kha.audio2.ogg.vorbis.data.Header", methodName : "read"}));
	}
	var header = new haxe_io_Bytes(new ArrayBuffer(6));
	var _g = 0;
	while(_g < 6) {
		var i = _g++;
		var x;
		if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
			x = -1;
		} else {
			decodeState.bytesInSeg--;
			decodeState.inputPosition += 1;
			x = decodeState.input.readByte();
		}
		decodeState.validBits = 0;
		header.b[i] = x & 255;
	}
	if(header.toString() != "vorbis") {
		throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,"vorbis header",{ fileName : "VorbisDecodeState.hx", lineNumber : 300, className : "kha.audio2.ogg.vorbis.VorbisDecodeState", methodName : "vorbisValidate"}));
	}
	decodeState.inputPosition += 4;
	var version = decodeState.input.readInt32();
	if(version != 0) {
		throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE,"vorbis version : " + version,{ fileName : "Header.hx", lineNumber : 66, className : "kha.audio2.ogg.vorbis.data.Header", methodName : "read"}));
	}
	var header1 = new kha_audio2_ogg_vorbis_data_Header();
	decodeState.inputPosition += 1;
	header1.channel = decodeState.input.readByte();
	if(header1.channel == 0) {
		throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE,"no channel",{ fileName : "Header.hx", lineNumber : 73, className : "kha.audio2.ogg.vorbis.data.Header", methodName : "read"}));
	} else if(header1.channel > 16) {
		throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.TOO_MANY_CHANNELS,"too many channels",{ fileName : "Header.hx", lineNumber : 75, className : "kha.audio2.ogg.vorbis.data.Header", methodName : "read"}));
	}
	decodeState.inputPosition += 4;
	header1.sampleRate = decodeState.input.readInt32();
	if(header1.sampleRate == 0) {
		throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE,"no sampling rate",{ fileName : "Header.hx", lineNumber : 80, className : "kha.audio2.ogg.vorbis.data.Header", methodName : "read"}));
	}
	decodeState.inputPosition += 4;
	header1.maximumBitRate = decodeState.input.readInt32();
	decodeState.inputPosition += 4;
	header1.nominalBitRate = decodeState.input.readInt32();
	decodeState.inputPosition += 4;
	header1.minimumBitRate = decodeState.input.readInt32();
	decodeState.inputPosition += 1;
	var x1 = decodeState.input.readByte();
	var log0 = x1 & 15;
	var log1 = x1 >> 4;
	header1.blocksize0 = 1 << log0;
	header1.blocksize1 = 1 << log1;
	if(log0 < 6 || log0 > 13) {
		throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{ fileName : "Header.hx", lineNumber : 93, className : "kha.audio2.ogg.vorbis.data.Header", methodName : "read"}));
	}
	if(log1 < 6 || log1 > 13) {
		throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{ fileName : "Header.hx", lineNumber : 96, className : "kha.audio2.ogg.vorbis.data.Header", methodName : "read"}));
	}
	if(log0 > log1) {
		throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{ fileName : "Header.hx", lineNumber : 99, className : "kha.audio2.ogg.vorbis.data.Header", methodName : "read"}));
	}
	decodeState.inputPosition += 1;
	var x2 = decodeState.input.readByte();
	if((x2 & 1) == 0) {
		throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE,null,{ fileName : "Header.hx", lineNumber : 105, className : "kha.audio2.ogg.vorbis.data.Header", methodName : "read"}));
	}
	decodeState.page.start(decodeState);
	decodeState.startPacket();
	var len = 0;
	var output = new haxe_io_BytesOutput();
	while(true) {
		len = decodeState.next();
		if(!(len != 0)) {
			break;
		}
		decodeState.inputPosition += len;
		output.write(decodeState.input.read(len));
		decodeState.bytesInSeg = 0;
	}
	var packetInput = new haxe_io_BytesInput(output.getBytes());
	packetInput.readByte();
	packetInput.read(6);
	var vendorLength = packetInput.readInt32();
	header1.vendor = packetInput.readString(vendorLength);
	header1.comment = new kha_audio2_ogg_vorbis_data_Comment();
	var commentCount = packetInput.readInt32();
	var _g1 = 0;
	var _g2 = commentCount;
	while(_g1 < _g2) {
		var i1 = _g1++;
		var n = packetInput.readInt32();
		var str = packetInput.readString(n);
		var splitter = str.indexOf("=");
		if(splitter != -1) {
			header1.comment.add(str.substring(0,splitter),str.substring(splitter + 1));
		}
	}
	var x3 = packetInput.readByte();
	if((x3 & 1) == 0) {
		throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{ fileName : "Header.hx", lineNumber : 141, className : "kha.audio2.ogg.vorbis.data.Header", methodName : "read"}));
	}
	decodeState.startPacket();
	var x4;
	if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
		x4 = -1;
	} else {
		decodeState.bytesInSeg--;
		decodeState.inputPosition += 1;
		x4 = decodeState.input.readByte();
	}
	decodeState.validBits = 0;
	if(x4 != 5) {
		throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,"setup packet",{ fileName : "Header.hx", lineNumber : 149, className : "kha.audio2.ogg.vorbis.data.Header", methodName : "read"}));
	}
	var header2 = new haxe_io_Bytes(new ArrayBuffer(6));
	var _g3 = 0;
	while(_g3 < 6) {
		var i2 = _g3++;
		var x5;
		if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
			x5 = -1;
		} else {
			decodeState.bytesInSeg--;
			decodeState.inputPosition += 1;
			x5 = decodeState.input.readByte();
		}
		decodeState.validBits = 0;
		header2.b[i2] = x5 & 255;
	}
	if(header2.toString() != "vorbis") {
		throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,"vorbis header",{ fileName : "VorbisDecodeState.hx", lineNumber : 300, className : "kha.audio2.ogg.vorbis.VorbisDecodeState", methodName : "vorbisValidate"}));
	}
	var codebookCount;
	if(decodeState.validBits < 0) {
		codebookCount = 0;
	} else if(decodeState.validBits < 8) {
		if(decodeState.validBits == 0) {
			decodeState.acc = 0;
		}
		while(true) {
			if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
				decodeState.validBits = -1;
				break;
			} else {
				decodeState.bytesInSeg--;
				decodeState.inputPosition += 1;
				decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
				decodeState.validBits += 8;
			}
			if(!(decodeState.validBits < 8)) {
				break;
			}
		}
		if(decodeState.validBits < 0) {
			codebookCount = 0;
		} else {
			var z = decodeState.acc & 255;
			decodeState.acc = decodeState.acc >>> 8;
			decodeState.validBits -= 8;
			codebookCount = z;
		}
	} else {
		var z1 = decodeState.acc & 255;
		decodeState.acc = decodeState.acc >>> 8;
		decodeState.validBits -= 8;
		codebookCount = z1;
	}
	var codebookCount1 = codebookCount + 1;
	var this1 = new Array(codebookCount1);
	header1.codebooks = this1;
	var _g11 = 0;
	var _g4 = codebookCount1;
	while(_g11 < _g4) {
		var i3 = _g11++;
		header1.codebooks[i3] = kha_audio2_ogg_vorbis_data_Codebook.read(decodeState);
	}
	var x6;
	if(decodeState.validBits < 0) {
		x6 = 0;
	} else if(decodeState.validBits < 6) {
		if(decodeState.validBits == 0) {
			decodeState.acc = 0;
		}
		while(true) {
			if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
				decodeState.validBits = -1;
				break;
			} else {
				decodeState.bytesInSeg--;
				decodeState.inputPosition += 1;
				decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
				decodeState.validBits += 8;
			}
			if(!(decodeState.validBits < 6)) {
				break;
			}
		}
		if(decodeState.validBits < 0) {
			x6 = 0;
		} else {
			var z2 = decodeState.acc & 63;
			decodeState.acc = decodeState.acc >>> 6;
			decodeState.validBits -= 6;
			x6 = z2;
		}
	} else {
		var z3 = decodeState.acc & 63;
		decodeState.acc = decodeState.acc >>> 6;
		decodeState.validBits -= 6;
		x6 = z3;
	}
	x2 = x6 + 1;
	var _g12 = 0;
	var _g5 = x2;
	while(_g12 < _g5) {
		var i4 = _g12++;
		var tmp;
		if(decodeState.validBits < 0) {
			tmp = 0;
		} else if(decodeState.validBits < 16) {
			if(decodeState.validBits == 0) {
				decodeState.acc = 0;
			}
			while(true) {
				if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
					decodeState.validBits = -1;
					break;
				} else {
					decodeState.bytesInSeg--;
					decodeState.inputPosition += 1;
					decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
					decodeState.validBits += 8;
				}
				if(!(decodeState.validBits < 16)) {
					break;
				}
			}
			if(decodeState.validBits < 0) {
				tmp = 0;
			} else {
				var z4 = decodeState.acc & 65535;
				decodeState.acc = decodeState.acc >>> 16;
				decodeState.validBits -= 16;
				tmp = z4;
			}
		} else {
			var z5 = decodeState.acc & 65535;
			decodeState.acc = decodeState.acc >>> 16;
			decodeState.validBits -= 16;
			tmp = z5;
		}
		if(tmp != 0) {
			throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{ fileName : "Header.hx", lineNumber : 165, className : "kha.audio2.ogg.vorbis.data.Header", methodName : "read"}));
		}
	}
	var floorCount;
	if(decodeState.validBits < 0) {
		floorCount = 0;
	} else if(decodeState.validBits < 6) {
		if(decodeState.validBits == 0) {
			decodeState.acc = 0;
		}
		while(true) {
			if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
				decodeState.validBits = -1;
				break;
			} else {
				decodeState.bytesInSeg--;
				decodeState.inputPosition += 1;
				decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
				decodeState.validBits += 8;
			}
			if(!(decodeState.validBits < 6)) {
				break;
			}
		}
		if(decodeState.validBits < 0) {
			floorCount = 0;
		} else {
			var z6 = decodeState.acc & 63;
			decodeState.acc = decodeState.acc >>> 6;
			decodeState.validBits -= 6;
			floorCount = z6;
		}
	} else {
		var z7 = decodeState.acc & 63;
		decodeState.acc = decodeState.acc >>> 6;
		decodeState.validBits -= 6;
		floorCount = z7;
	}
	var floorCount1 = floorCount + 1;
	var this2 = new Array(floorCount1);
	header1.floorConfig = this2;
	var _g13 = 0;
	var _g6 = floorCount1;
	while(_g13 < _g6) {
		var i5 = _g13++;
		header1.floorConfig[i5] = kha_audio2_ogg_vorbis_data_Floor.read(decodeState,header1.codebooks);
	}
	var residueCount;
	if(decodeState.validBits < 0) {
		residueCount = 0;
	} else if(decodeState.validBits < 6) {
		if(decodeState.validBits == 0) {
			decodeState.acc = 0;
		}
		while(true) {
			if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
				decodeState.validBits = -1;
				break;
			} else {
				decodeState.bytesInSeg--;
				decodeState.inputPosition += 1;
				decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
				decodeState.validBits += 8;
			}
			if(!(decodeState.validBits < 6)) {
				break;
			}
		}
		if(decodeState.validBits < 0) {
			residueCount = 0;
		} else {
			var z8 = decodeState.acc & 63;
			decodeState.acc = decodeState.acc >>> 6;
			decodeState.validBits -= 6;
			residueCount = z8;
		}
	} else {
		var z9 = decodeState.acc & 63;
		decodeState.acc = decodeState.acc >>> 6;
		decodeState.validBits -= 6;
		residueCount = z9;
	}
	var residueCount1 = residueCount + 1;
	var this3 = new Array(residueCount1);
	header1.residueConfig = this3;
	var _g14 = 0;
	var _g7 = residueCount1;
	while(_g14 < _g7) {
		var i6 = _g14++;
		header1.residueConfig[i6] = kha_audio2_ogg_vorbis_data_Residue.read(decodeState,header1.codebooks);
	}
	var mappingCount;
	if(decodeState.validBits < 0) {
		mappingCount = 0;
	} else if(decodeState.validBits < 6) {
		if(decodeState.validBits == 0) {
			decodeState.acc = 0;
		}
		while(true) {
			if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
				decodeState.validBits = -1;
				break;
			} else {
				decodeState.bytesInSeg--;
				decodeState.inputPosition += 1;
				decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
				decodeState.validBits += 8;
			}
			if(!(decodeState.validBits < 6)) {
				break;
			}
		}
		if(decodeState.validBits < 0) {
			mappingCount = 0;
		} else {
			var z10 = decodeState.acc & 63;
			decodeState.acc = decodeState.acc >>> 6;
			decodeState.validBits -= 6;
			mappingCount = z10;
		}
	} else {
		var z11 = decodeState.acc & 63;
		decodeState.acc = decodeState.acc >>> 6;
		decodeState.validBits -= 6;
		mappingCount = z11;
	}
	var mappingCount1 = mappingCount + 1;
	var this4 = new Array(mappingCount1);
	header1.mapping = this4;
	var _g15 = 0;
	var _g8 = mappingCount1;
	while(_g15 < _g8) {
		var i7 = _g15++;
		var map = kha_audio2_ogg_vorbis_data_Mapping.read(decodeState,header1.channel);
		header1.mapping[i7] = map;
		var _g31 = 0;
		var _g21 = map.submaps;
		while(_g31 < _g21) {
			var j = _g31++;
			if(map.submapFloor[j] >= header1.floorConfig.length) {
				throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{ fileName : "Header.hx", lineNumber : 191, className : "kha.audio2.ogg.vorbis.data.Header", methodName : "read"}));
			}
			if(map.submapResidue[j] >= header1.residueConfig.length) {
				throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{ fileName : "Header.hx", lineNumber : 194, className : "kha.audio2.ogg.vorbis.data.Header", methodName : "read"}));
			}
		}
	}
	var modeCount;
	if(decodeState.validBits < 0) {
		modeCount = 0;
	} else if(decodeState.validBits < 6) {
		if(decodeState.validBits == 0) {
			decodeState.acc = 0;
		}
		while(true) {
			if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
				decodeState.validBits = -1;
				break;
			} else {
				decodeState.bytesInSeg--;
				decodeState.inputPosition += 1;
				decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
				decodeState.validBits += 8;
			}
			if(!(decodeState.validBits < 6)) {
				break;
			}
		}
		if(decodeState.validBits < 0) {
			modeCount = 0;
		} else {
			var z12 = decodeState.acc & 63;
			decodeState.acc = decodeState.acc >>> 6;
			decodeState.validBits -= 6;
			modeCount = z12;
		}
	} else {
		var z13 = decodeState.acc & 63;
		decodeState.acc = decodeState.acc >>> 6;
		decodeState.validBits -= 6;
		modeCount = z13;
	}
	var modeCount1 = modeCount + 1;
	var this5 = new Array(modeCount1);
	header1.modes = this5;
	var _g16 = 0;
	var _g9 = modeCount1;
	while(_g16 < _g9) {
		var i8 = _g16++;
		var mode = kha_audio2_ogg_vorbis_data_Mode.read(decodeState);
		header1.modes[i8] = mode;
		if(mode.mapping >= header1.mapping.length) {
			throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{ fileName : "Header.hx", lineNumber : 205, className : "kha.audio2.ogg.vorbis.data.Header", methodName : "read"}));
		}
	}
	while(decodeState.bytesInSeg != 0 || !decodeState.lastSeg && decodeState.next() != 0) {
		decodeState.bytesInSeg--;
		decodeState.inputPosition += 1;
		decodeState.input.readByte();
	}
	return header1;
};
kha_audio2_ogg_vorbis_data_Header.prototype = {
	maximumBitRate: null
	,nominalBitRate: null
	,minimumBitRate: null
	,sampleRate: null
	,channel: null
	,blocksize0: null
	,blocksize1: null
	,codebooks: null
	,floorConfig: null
	,residueConfig: null
	,mapping: null
	,modes: null
	,comment: null
	,vendor: null
	,__class__: kha_audio2_ogg_vorbis_data_Header
};
var kha_audio2_ogg_vorbis_data_IntPoint = $hxClasses["kha.audio2.ogg.vorbis.data.IntPoint"] = function() {
};
kha_audio2_ogg_vorbis_data_IntPoint.__name__ = ["kha","audio2","ogg","vorbis","data","IntPoint"];
kha_audio2_ogg_vorbis_data_IntPoint.prototype = {
	x: null
	,y: null
	,__class__: kha_audio2_ogg_vorbis_data_IntPoint
};
var kha_audio2_ogg_vorbis_data_Mapping = $hxClasses["kha.audio2.ogg.vorbis.data.Mapping"] = function() {
};
kha_audio2_ogg_vorbis_data_Mapping.__name__ = ["kha","audio2","ogg","vorbis","data","Mapping"];
kha_audio2_ogg_vorbis_data_Mapping.read = function(decodeState,channels) {
	var m = new kha_audio2_ogg_vorbis_data_Mapping();
	var mappingType;
	if(decodeState.validBits < 0) {
		mappingType = 0;
	} else if(decodeState.validBits < 16) {
		if(decodeState.validBits == 0) {
			decodeState.acc = 0;
		}
		while(true) {
			if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
				decodeState.validBits = -1;
				break;
			} else {
				decodeState.bytesInSeg--;
				decodeState.inputPosition += 1;
				decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
				decodeState.validBits += 8;
			}
			if(!(decodeState.validBits < 16)) {
				break;
			}
		}
		if(decodeState.validBits < 0) {
			mappingType = 0;
		} else {
			var z = decodeState.acc & 65535;
			decodeState.acc = decodeState.acc >>> 16;
			decodeState.validBits -= 16;
			mappingType = z;
		}
	} else {
		var z1 = decodeState.acc & 65535;
		decodeState.acc = decodeState.acc >>> 16;
		decodeState.validBits -= 16;
		mappingType = z1;
	}
	if(mappingType != 0) {
		throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,"mapping type " + mappingType,{ fileName : "Mapping.hx", lineNumber : 22, className : "kha.audio2.ogg.vorbis.data.Mapping", methodName : "read"}));
	}
	var this1 = new Array(channels);
	m.chan = this1;
	var _g1 = 0;
	var _g = channels;
	while(_g1 < _g) {
		var j = _g1++;
		m.chan[j] = new kha_audio2_ogg_vorbis_data_MappingChannel();
	}
	var tmp;
	if(decodeState.validBits < 0) {
		tmp = 0;
	} else if(decodeState.validBits < 1) {
		if(decodeState.validBits == 0) {
			decodeState.acc = 0;
		}
		while(true) {
			if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
				decodeState.validBits = -1;
				break;
			} else {
				decodeState.bytesInSeg--;
				decodeState.inputPosition += 1;
				decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
				decodeState.validBits += 8;
			}
			if(!(decodeState.validBits < 1)) {
				break;
			}
		}
		if(decodeState.validBits < 0) {
			tmp = 0;
		} else {
			var z2 = decodeState.acc & 1;
			decodeState.acc = decodeState.acc >>> 1;
			decodeState.validBits -= 1;
			tmp = z2;
		}
	} else {
		var z3 = decodeState.acc & 1;
		decodeState.acc = decodeState.acc >>> 1;
		decodeState.validBits -= 1;
		tmp = z3;
	}
	if(tmp != 0) {
		var tmp1;
		if(decodeState.validBits < 0) {
			tmp1 = 0;
		} else if(decodeState.validBits < 4) {
			if(decodeState.validBits == 0) {
				decodeState.acc = 0;
			}
			while(true) {
				if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
					decodeState.validBits = -1;
					break;
				} else {
					decodeState.bytesInSeg--;
					decodeState.inputPosition += 1;
					decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
					decodeState.validBits += 8;
				}
				if(!(decodeState.validBits < 4)) {
					break;
				}
			}
			if(decodeState.validBits < 0) {
				tmp1 = 0;
			} else {
				var z4 = decodeState.acc & 15;
				decodeState.acc = decodeState.acc >>> 4;
				decodeState.validBits -= 4;
				tmp1 = z4;
			}
		} else {
			var z5 = decodeState.acc & 15;
			decodeState.acc = decodeState.acc >>> 4;
			decodeState.validBits -= 4;
			tmp1 = z5;
		}
		m.submaps = tmp1 + 1;
	} else {
		m.submaps = 1;
	}
	var tmp2;
	if(decodeState.validBits < 0) {
		tmp2 = 0;
	} else if(decodeState.validBits < 1) {
		if(decodeState.validBits == 0) {
			decodeState.acc = 0;
		}
		while(true) {
			if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
				decodeState.validBits = -1;
				break;
			} else {
				decodeState.bytesInSeg--;
				decodeState.inputPosition += 1;
				decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
				decodeState.validBits += 8;
			}
			if(!(decodeState.validBits < 1)) {
				break;
			}
		}
		if(decodeState.validBits < 0) {
			tmp2 = 0;
		} else {
			var z6 = decodeState.acc & 1;
			decodeState.acc = decodeState.acc >>> 1;
			decodeState.validBits -= 1;
			tmp2 = z6;
		}
	} else {
		var z7 = decodeState.acc & 1;
		decodeState.acc = decodeState.acc >>> 1;
		decodeState.validBits -= 1;
		tmp2 = z7;
	}
	if(tmp2 != 0) {
		var tmp3;
		if(decodeState.validBits < 0) {
			tmp3 = 0;
		} else if(decodeState.validBits < 8) {
			if(decodeState.validBits == 0) {
				decodeState.acc = 0;
			}
			while(true) {
				if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
					decodeState.validBits = -1;
					break;
				} else {
					decodeState.bytesInSeg--;
					decodeState.inputPosition += 1;
					decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
					decodeState.validBits += 8;
				}
				if(!(decodeState.validBits < 8)) {
					break;
				}
			}
			if(decodeState.validBits < 0) {
				tmp3 = 0;
			} else {
				var z8 = decodeState.acc & 255;
				decodeState.acc = decodeState.acc >>> 8;
				decodeState.validBits -= 8;
				tmp3 = z8;
			}
		} else {
			var z9 = decodeState.acc & 255;
			decodeState.acc = decodeState.acc >>> 8;
			decodeState.validBits -= 8;
			tmp3 = z9;
		}
		m.couplingSteps = tmp3 + 1;
		var _g11 = 0;
		var _g2 = m.couplingSteps;
		while(_g11 < _g2) {
			var k = _g11++;
			var tmp4 = m.chan[k];
			var n = channels - 1;
			var log2_4 = [0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];
			var n1 = n < 16384 ? n < 16 ? log2_4[n] : n < 512 ? 5 + log2_4[n >> 5] : 10 + log2_4[n >> 10] : n < 16777216 ? n < 524288 ? 15 + log2_4[n >> 15] : 20 + log2_4[n >> 20] : n < 536870912 ? 25 + log2_4[n >> 25] : n < -2147483648 ? 30 + log2_4[n >> 30] : 0;
			var tmp5;
			if(decodeState.validBits < 0) {
				tmp5 = 0;
			} else if(decodeState.validBits < n1) {
				if(n1 > 24) {
					tmp5 = decodeState.readBits(24) + (decodeState.readBits(n1 - 24) << 24);
				} else {
					if(decodeState.validBits == 0) {
						decodeState.acc = 0;
					}
					while(true) {
						if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
							decodeState.validBits = -1;
							break;
						} else {
							decodeState.bytesInSeg--;
							decodeState.inputPosition += 1;
							decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
							decodeState.validBits += 8;
						}
						if(!(decodeState.validBits < n1)) {
							break;
						}
					}
					if(decodeState.validBits < 0) {
						tmp5 = 0;
					} else {
						var z10 = decodeState.acc & (1 << n1) - 1;
						decodeState.acc = decodeState.acc >>> n1;
						decodeState.validBits -= n1;
						tmp5 = z10;
					}
				}
			} else {
				var z11 = decodeState.acc & (1 << n1) - 1;
				decodeState.acc = decodeState.acc >>> n1;
				decodeState.validBits -= n1;
				tmp5 = z11;
			}
			tmp4.magnitude = tmp5;
			var tmp6 = m.chan[k];
			var n2 = channels - 1;
			var log2_41 = [0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];
			var n3 = n2 < 16384 ? n2 < 16 ? log2_41[n2] : n2 < 512 ? 5 + log2_41[n2 >> 5] : 10 + log2_41[n2 >> 10] : n2 < 16777216 ? n2 < 524288 ? 15 + log2_41[n2 >> 15] : 20 + log2_41[n2 >> 20] : n2 < 536870912 ? 25 + log2_41[n2 >> 25] : n2 < -2147483648 ? 30 + log2_41[n2 >> 30] : 0;
			var tmp7;
			if(decodeState.validBits < 0) {
				tmp7 = 0;
			} else if(decodeState.validBits < n3) {
				if(n3 > 24) {
					tmp7 = decodeState.readBits(24) + (decodeState.readBits(n3 - 24) << 24);
				} else {
					if(decodeState.validBits == 0) {
						decodeState.acc = 0;
					}
					while(true) {
						if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
							decodeState.validBits = -1;
							break;
						} else {
							decodeState.bytesInSeg--;
							decodeState.inputPosition += 1;
							decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
							decodeState.validBits += 8;
						}
						if(!(decodeState.validBits < n3)) {
							break;
						}
					}
					if(decodeState.validBits < 0) {
						tmp7 = 0;
					} else {
						var z12 = decodeState.acc & (1 << n3) - 1;
						decodeState.acc = decodeState.acc >>> n3;
						decodeState.validBits -= n3;
						tmp7 = z12;
					}
				}
			} else {
				var z13 = decodeState.acc & (1 << n3) - 1;
				decodeState.acc = decodeState.acc >>> n3;
				decodeState.validBits -= n3;
				tmp7 = z13;
			}
			tmp6.angle = tmp7;
			if(m.chan[k].magnitude >= channels) {
				throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{ fileName : "Mapping.hx", lineNumber : 46, className : "kha.audio2.ogg.vorbis.data.Mapping", methodName : "read"}));
			}
			if(m.chan[k].angle >= channels) {
				throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{ fileName : "Mapping.hx", lineNumber : 49, className : "kha.audio2.ogg.vorbis.data.Mapping", methodName : "read"}));
			}
			if(m.chan[k].magnitude == m.chan[k].angle) {
				throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{ fileName : "Mapping.hx", lineNumber : 52, className : "kha.audio2.ogg.vorbis.data.Mapping", methodName : "read"}));
			}
		}
	} else {
		m.couplingSteps = 0;
	}
	var tmp8;
	if(decodeState.validBits < 0) {
		tmp8 = 0;
	} else if(decodeState.validBits < 2) {
		if(decodeState.validBits == 0) {
			decodeState.acc = 0;
		}
		while(true) {
			if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
				decodeState.validBits = -1;
				break;
			} else {
				decodeState.bytesInSeg--;
				decodeState.inputPosition += 1;
				decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
				decodeState.validBits += 8;
			}
			if(!(decodeState.validBits < 2)) {
				break;
			}
		}
		if(decodeState.validBits < 0) {
			tmp8 = 0;
		} else {
			var z14 = decodeState.acc & 3;
			decodeState.acc = decodeState.acc >>> 2;
			decodeState.validBits -= 2;
			tmp8 = z14;
		}
	} else {
		var z15 = decodeState.acc & 3;
		decodeState.acc = decodeState.acc >>> 2;
		decodeState.validBits -= 2;
		tmp8 = z15;
	}
	if(tmp8 != 0) {
		throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{ fileName : "Mapping.hx", lineNumber : 61, className : "kha.audio2.ogg.vorbis.data.Mapping", methodName : "read"}));
	}
	if(m.submaps > 1) {
		var _g12 = 0;
		var _g3 = channels;
		while(_g12 < _g3) {
			var j1 = _g12++;
			var tmp9 = m.chan[j1];
			var tmp10;
			if(decodeState.validBits < 0) {
				tmp10 = 0;
			} else if(decodeState.validBits < 4) {
				if(decodeState.validBits == 0) {
					decodeState.acc = 0;
				}
				while(true) {
					if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
						decodeState.validBits = -1;
						break;
					} else {
						decodeState.bytesInSeg--;
						decodeState.inputPosition += 1;
						decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
						decodeState.validBits += 8;
					}
					if(!(decodeState.validBits < 4)) {
						break;
					}
				}
				if(decodeState.validBits < 0) {
					tmp10 = 0;
				} else {
					var z16 = decodeState.acc & 15;
					decodeState.acc = decodeState.acc >>> 4;
					decodeState.validBits -= 4;
					tmp10 = z16;
				}
			} else {
				var z17 = decodeState.acc & 15;
				decodeState.acc = decodeState.acc >>> 4;
				decodeState.validBits -= 4;
				tmp10 = z17;
			}
			tmp9.mux = tmp10;
			if(m.chan[j1].mux >= m.submaps) {
				throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{ fileName : "Mapping.hx", lineNumber : 67, className : "kha.audio2.ogg.vorbis.data.Mapping", methodName : "read"}));
			}
		}
	} else {
		var _g13 = 0;
		var _g4 = channels;
		while(_g13 < _g4) {
			var j2 = _g13++;
			m.chan[j2].mux = 0;
		}
	}
	var length = m.submaps;
	var this2 = new Array(length);
	m.submapFloor = this2;
	var length1 = m.submaps;
	var this3 = new Array(length1);
	m.submapResidue = this3;
	var _g14 = 0;
	var _g5 = m.submaps;
	while(_g14 < _g5) {
		var j3 = _g14++;
		if(decodeState.validBits >= 0) {
			if(decodeState.validBits < 8) {
				if(decodeState.validBits == 0) {
					decodeState.acc = 0;
				}
				while(true) {
					if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
						decodeState.validBits = -1;
						break;
					} else {
						decodeState.bytesInSeg--;
						decodeState.inputPosition += 1;
						decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
						decodeState.validBits += 8;
					}
					if(!(decodeState.validBits < 8)) {
						break;
					}
				}
				if(decodeState.validBits >= 0) {
					var z18 = decodeState.acc & 255;
					decodeState.acc = decodeState.acc >>> 8;
					decodeState.validBits -= 8;
				}
			} else {
				var z19 = decodeState.acc & 255;
				decodeState.acc = decodeState.acc >>> 8;
				decodeState.validBits -= 8;
			}
		}
		var this4 = m.submapFloor;
		var val;
		if(decodeState.validBits < 0) {
			val = 0;
		} else if(decodeState.validBits < 8) {
			if(decodeState.validBits == 0) {
				decodeState.acc = 0;
			}
			while(true) {
				if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
					decodeState.validBits = -1;
					break;
				} else {
					decodeState.bytesInSeg--;
					decodeState.inputPosition += 1;
					decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
					decodeState.validBits += 8;
				}
				if(!(decodeState.validBits < 8)) {
					break;
				}
			}
			if(decodeState.validBits < 0) {
				val = 0;
			} else {
				var z20 = decodeState.acc & 255;
				decodeState.acc = decodeState.acc >>> 8;
				decodeState.validBits -= 8;
				val = z20;
			}
		} else {
			var z21 = decodeState.acc & 255;
			decodeState.acc = decodeState.acc >>> 8;
			decodeState.validBits -= 8;
			val = z21;
		}
		this4[j3] = val;
		var this5 = m.submapResidue;
		var val1;
		if(decodeState.validBits < 0) {
			val1 = 0;
		} else if(decodeState.validBits < 8) {
			if(decodeState.validBits == 0) {
				decodeState.acc = 0;
			}
			while(true) {
				if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
					decodeState.validBits = -1;
					break;
				} else {
					decodeState.bytesInSeg--;
					decodeState.inputPosition += 1;
					decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
					decodeState.validBits += 8;
				}
				if(!(decodeState.validBits < 8)) {
					break;
				}
			}
			if(decodeState.validBits < 0) {
				val1 = 0;
			} else {
				var z22 = decodeState.acc & 255;
				decodeState.acc = decodeState.acc >>> 8;
				decodeState.validBits -= 8;
				val1 = z22;
			}
		} else {
			var z23 = decodeState.acc & 255;
			decodeState.acc = decodeState.acc >>> 8;
			decodeState.validBits -= 8;
			val1 = z23;
		}
		this5[j3] = val1;
	}
	return m;
};
kha_audio2_ogg_vorbis_data_Mapping.prototype = {
	couplingSteps: null
	,chan: null
	,submaps: null
	,submapFloor: null
	,submapResidue: null
	,doFloor: function(floors,i,n,target,finalY,step2Flag) {
		var n2 = n >> 1;
		var s = this.chan[i].mux;
		var floor;
		var floor1 = floors[this.submapFloor[s]];
		if(floor1.type == 0) {
			throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM,null,{ fileName : "Mapping.hx", lineNumber : 94, className : "kha.audio2.ogg.vorbis.data.Mapping", methodName : "doFloor"}));
		} else {
			var g = floor1.floor1;
			var lx = 0;
			var ly = finalY[0] * g.floor1Multiplier;
			var _g1 = 1;
			var _g = g.values;
			while(_g1 < _g) {
				var q = _g1++;
				var j = g.sortedOrder[q];
				if(finalY[j] >= 0) {
					var hy = finalY[j] * g.floor1Multiplier;
					var hx = g.xlist[j];
					kha_audio2_ogg_vorbis_VorbisTools.drawLine(target,lx,ly,hx,hy,n2);
					lx = hx;
					ly = hy;
				}
			}
			if(lx < n2) {
				var _g11 = lx;
				var _g2 = n2;
				while(_g11 < _g2) {
					var j1 = _g11++;
					var _g21 = j1;
					var _g3 = target;
					_g3[_g21] = _g3[_g21] * kha_audio2_ogg_vorbis_VorbisTools.INVERSE_DB_TABLE[ly];
				}
			}
		}
	}
	,__class__: kha_audio2_ogg_vorbis_data_Mapping
};
var kha_audio2_ogg_vorbis_data_MappingChannel = $hxClasses["kha.audio2.ogg.vorbis.data.MappingChannel"] = function() {
};
kha_audio2_ogg_vorbis_data_MappingChannel.__name__ = ["kha","audio2","ogg","vorbis","data","MappingChannel"];
kha_audio2_ogg_vorbis_data_MappingChannel.prototype = {
	magnitude: null
	,angle: null
	,mux: null
	,__class__: kha_audio2_ogg_vorbis_data_MappingChannel
};
var kha_audio2_ogg_vorbis_data_Mode = $hxClasses["kha.audio2.ogg.vorbis.data.Mode"] = function() {
};
kha_audio2_ogg_vorbis_data_Mode.__name__ = ["kha","audio2","ogg","vorbis","data","Mode"];
kha_audio2_ogg_vorbis_data_Mode.read = function(decodeState) {
	var m = new kha_audio2_ogg_vorbis_data_Mode();
	var tmp;
	if(decodeState.validBits < 0) {
		tmp = 0;
	} else if(decodeState.validBits < 1) {
		if(decodeState.validBits == 0) {
			decodeState.acc = 0;
		}
		while(true) {
			if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
				decodeState.validBits = -1;
				break;
			} else {
				decodeState.bytesInSeg--;
				decodeState.inputPosition += 1;
				decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
				decodeState.validBits += 8;
			}
			if(!(decodeState.validBits < 1)) {
				break;
			}
		}
		if(decodeState.validBits < 0) {
			tmp = 0;
		} else {
			var z = decodeState.acc & 1;
			decodeState.acc = decodeState.acc >>> 1;
			decodeState.validBits -= 1;
			tmp = z;
		}
	} else {
		var z1 = decodeState.acc & 1;
		decodeState.acc = decodeState.acc >>> 1;
		decodeState.validBits -= 1;
		tmp = z1;
	}
	m.blockflag = tmp != 0;
	var tmp1;
	if(decodeState.validBits < 0) {
		tmp1 = 0;
	} else if(decodeState.validBits < 16) {
		if(decodeState.validBits == 0) {
			decodeState.acc = 0;
		}
		while(true) {
			if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
				decodeState.validBits = -1;
				break;
			} else {
				decodeState.bytesInSeg--;
				decodeState.inputPosition += 1;
				decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
				decodeState.validBits += 8;
			}
			if(!(decodeState.validBits < 16)) {
				break;
			}
		}
		if(decodeState.validBits < 0) {
			tmp1 = 0;
		} else {
			var z2 = decodeState.acc & 65535;
			decodeState.acc = decodeState.acc >>> 16;
			decodeState.validBits -= 16;
			tmp1 = z2;
		}
	} else {
		var z3 = decodeState.acc & 65535;
		decodeState.acc = decodeState.acc >>> 16;
		decodeState.validBits -= 16;
		tmp1 = z3;
	}
	m.windowtype = tmp1;
	var tmp2;
	if(decodeState.validBits < 0) {
		tmp2 = 0;
	} else if(decodeState.validBits < 16) {
		if(decodeState.validBits == 0) {
			decodeState.acc = 0;
		}
		while(true) {
			if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
				decodeState.validBits = -1;
				break;
			} else {
				decodeState.bytesInSeg--;
				decodeState.inputPosition += 1;
				decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
				decodeState.validBits += 8;
			}
			if(!(decodeState.validBits < 16)) {
				break;
			}
		}
		if(decodeState.validBits < 0) {
			tmp2 = 0;
		} else {
			var z4 = decodeState.acc & 65535;
			decodeState.acc = decodeState.acc >>> 16;
			decodeState.validBits -= 16;
			tmp2 = z4;
		}
	} else {
		var z5 = decodeState.acc & 65535;
		decodeState.acc = decodeState.acc >>> 16;
		decodeState.validBits -= 16;
		tmp2 = z5;
	}
	m.transformtype = tmp2;
	var tmp3;
	if(decodeState.validBits < 0) {
		tmp3 = 0;
	} else if(decodeState.validBits < 8) {
		if(decodeState.validBits == 0) {
			decodeState.acc = 0;
		}
		while(true) {
			if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
				decodeState.validBits = -1;
				break;
			} else {
				decodeState.bytesInSeg--;
				decodeState.inputPosition += 1;
				decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
				decodeState.validBits += 8;
			}
			if(!(decodeState.validBits < 8)) {
				break;
			}
		}
		if(decodeState.validBits < 0) {
			tmp3 = 0;
		} else {
			var z6 = decodeState.acc & 255;
			decodeState.acc = decodeState.acc >>> 8;
			decodeState.validBits -= 8;
			tmp3 = z6;
		}
	} else {
		var z7 = decodeState.acc & 255;
		decodeState.acc = decodeState.acc >>> 8;
		decodeState.validBits -= 8;
		tmp3 = z7;
	}
	m.mapping = tmp3;
	if(m.windowtype != 0) {
		throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{ fileName : "Mode.hx", lineNumber : 22, className : "kha.audio2.ogg.vorbis.data.Mode", methodName : "read"}));
	}
	if(m.transformtype != 0) {
		throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{ fileName : "Mode.hx", lineNumber : 25, className : "kha.audio2.ogg.vorbis.data.Mode", methodName : "read"}));
	}
	return m;
};
kha_audio2_ogg_vorbis_data_Mode.prototype = {
	blockflag: null
	,mapping: null
	,windowtype: null
	,transformtype: null
	,__class__: kha_audio2_ogg_vorbis_data_Mode
};
var kha_audio2_ogg_vorbis_data_Page = $hxClasses["kha.audio2.ogg.vorbis.data.Page"] = function() {
};
kha_audio2_ogg_vorbis_data_Page.__name__ = ["kha","audio2","ogg","vorbis","data","Page"];
kha_audio2_ogg_vorbis_data_Page.prototype = {
	flag: null
	,clone: function() {
		var page = new kha_audio2_ogg_vorbis_data_Page();
		page.flag = this.flag;
		return page;
	}
	,start: function(decodeState) {
		var tmp;
		var tmp1;
		var tmp2;
		decodeState.inputPosition += 1;
		if(decodeState.input.readByte() == 79) {
			decodeState.inputPosition += 1;
			tmp2 = decodeState.input.readByte() != 103;
		} else {
			tmp2 = true;
		}
		if(!tmp2) {
			decodeState.inputPosition += 1;
			tmp1 = decodeState.input.readByte() != 103;
		} else {
			tmp1 = true;
		}
		if(!tmp1) {
			decodeState.inputPosition += 1;
			tmp = decodeState.input.readByte() != 83;
		} else {
			tmp = true;
		}
		if(tmp) {
			throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.MISSING_CAPTURE_PATTERN,null,{ fileName : "VorbisDecodeState.hx", lineNumber : 323, className : "kha.audio2.ogg.vorbis.VorbisDecodeState", methodName : "capturePattern"}));
		}
		this.startWithoutCapturePattern(decodeState);
	}
	,startWithoutCapturePattern: function(decodeState) {
		decodeState.inputPosition += 1;
		var version = decodeState.input.readByte();
		if(version != 0) {
			throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM_STRUCTURE_VERSION,"" + version,{ fileName : "Page.hx", lineNumber : 34, className : "kha.audio2.ogg.vorbis.data.Page", methodName : "startWithoutCapturePattern"}));
		}
		decodeState.inputPosition += 1;
		this.flag = decodeState.input.readByte();
		decodeState.inputPosition += 4;
		var loc0 = decodeState.input.readInt32();
		decodeState.inputPosition += 4;
		var loc1 = decodeState.input.readInt32();
		decodeState.inputPosition += 4;
		decodeState.input.readInt32();
		decodeState.inputPosition += 4;
		decodeState.input.readInt32();
		decodeState.inputPosition += 4;
		decodeState.input.readInt32();
		decodeState.setup(loc0,loc1);
	}
	,__class__: kha_audio2_ogg_vorbis_data_Page
};
var kha_audio2_ogg_vorbis_data_PageFlag = $hxClasses["kha.audio2.ogg.vorbis.data.PageFlag"] = function() { };
kha_audio2_ogg_vorbis_data_PageFlag.__name__ = ["kha","audio2","ogg","vorbis","data","PageFlag"];
var kha_audio2_ogg_vorbis_data_ProbedPage = $hxClasses["kha.audio2.ogg.vorbis.data.ProbedPage"] = function() {
};
kha_audio2_ogg_vorbis_data_ProbedPage.__name__ = ["kha","audio2","ogg","vorbis","data","ProbedPage"];
kha_audio2_ogg_vorbis_data_ProbedPage.prototype = {
	pageStart: null
	,pageEnd: null
	,afterPreviousPageStart: null
	,firstDecodedSample: null
	,lastDecodedSample: null
	,__class__: kha_audio2_ogg_vorbis_data_ProbedPage
};
var kha_audio2_ogg_vorbis_data_ReaderError = $hxClasses["kha.audio2.ogg.vorbis.data.ReaderError"] = function(type,message,posInfos) {
	if(message == null) {
		message = "";
	}
	this.type = type;
	this.message = message;
	this.posInfos = posInfos;
};
kha_audio2_ogg_vorbis_data_ReaderError.__name__ = ["kha","audio2","ogg","vorbis","data","ReaderError"];
kha_audio2_ogg_vorbis_data_ReaderError.prototype = {
	type: null
	,message: null
	,posInfos: null
	,__class__: kha_audio2_ogg_vorbis_data_ReaderError
};
var kha_audio2_ogg_vorbis_data_ReaderErrorType = $hxClasses["kha.audio2.ogg.vorbis.data.ReaderErrorType"] = { __ename__ : ["kha","audio2","ogg","vorbis","data","ReaderErrorType"], __constructs__ : ["NEED_MORE_DATA","INVALID_API_MIXING","OUTOFMEM","FEATURE_NOT_SUPPORTED","TOO_MANY_CHANNELS","FILE_OPEN_FAILURE","SEEK_WITHOUT_LENGTH","UNEXPECTED_EOF","SEEK_INVALID","INVALID_SETUP","INVALID_STREAM","MISSING_CAPTURE_PATTERN","INVALID_STREAM_STRUCTURE_VERSION","CONTINUED_PACKET_FLAG_INVALID","INCORRECT_STREAM_SERIAL_NUMBER","INVALID_FIRST_PAGE","BAD_PACKET_TYPE","CANT_FIND_LAST_PAGE","SEEK_FAILED","OTHER"] };
kha_audio2_ogg_vorbis_data_ReaderErrorType.NEED_MORE_DATA = ["NEED_MORE_DATA",0];
kha_audio2_ogg_vorbis_data_ReaderErrorType.NEED_MORE_DATA.toString = $estr;
kha_audio2_ogg_vorbis_data_ReaderErrorType.NEED_MORE_DATA.__enum__ = kha_audio2_ogg_vorbis_data_ReaderErrorType;
kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_API_MIXING = ["INVALID_API_MIXING",1];
kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_API_MIXING.toString = $estr;
kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_API_MIXING.__enum__ = kha_audio2_ogg_vorbis_data_ReaderErrorType;
kha_audio2_ogg_vorbis_data_ReaderErrorType.OUTOFMEM = ["OUTOFMEM",2];
kha_audio2_ogg_vorbis_data_ReaderErrorType.OUTOFMEM.toString = $estr;
kha_audio2_ogg_vorbis_data_ReaderErrorType.OUTOFMEM.__enum__ = kha_audio2_ogg_vorbis_data_ReaderErrorType;
kha_audio2_ogg_vorbis_data_ReaderErrorType.FEATURE_NOT_SUPPORTED = ["FEATURE_NOT_SUPPORTED",3];
kha_audio2_ogg_vorbis_data_ReaderErrorType.FEATURE_NOT_SUPPORTED.toString = $estr;
kha_audio2_ogg_vorbis_data_ReaderErrorType.FEATURE_NOT_SUPPORTED.__enum__ = kha_audio2_ogg_vorbis_data_ReaderErrorType;
kha_audio2_ogg_vorbis_data_ReaderErrorType.TOO_MANY_CHANNELS = ["TOO_MANY_CHANNELS",4];
kha_audio2_ogg_vorbis_data_ReaderErrorType.TOO_MANY_CHANNELS.toString = $estr;
kha_audio2_ogg_vorbis_data_ReaderErrorType.TOO_MANY_CHANNELS.__enum__ = kha_audio2_ogg_vorbis_data_ReaderErrorType;
kha_audio2_ogg_vorbis_data_ReaderErrorType.FILE_OPEN_FAILURE = ["FILE_OPEN_FAILURE",5];
kha_audio2_ogg_vorbis_data_ReaderErrorType.FILE_OPEN_FAILURE.toString = $estr;
kha_audio2_ogg_vorbis_data_ReaderErrorType.FILE_OPEN_FAILURE.__enum__ = kha_audio2_ogg_vorbis_data_ReaderErrorType;
kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_WITHOUT_LENGTH = ["SEEK_WITHOUT_LENGTH",6];
kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_WITHOUT_LENGTH.toString = $estr;
kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_WITHOUT_LENGTH.__enum__ = kha_audio2_ogg_vorbis_data_ReaderErrorType;
kha_audio2_ogg_vorbis_data_ReaderErrorType.UNEXPECTED_EOF = ["UNEXPECTED_EOF",7];
kha_audio2_ogg_vorbis_data_ReaderErrorType.UNEXPECTED_EOF.toString = $estr;
kha_audio2_ogg_vorbis_data_ReaderErrorType.UNEXPECTED_EOF.__enum__ = kha_audio2_ogg_vorbis_data_ReaderErrorType;
kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_INVALID = ["SEEK_INVALID",8];
kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_INVALID.toString = $estr;
kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_INVALID.__enum__ = kha_audio2_ogg_vorbis_data_ReaderErrorType;
kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP = ["INVALID_SETUP",9];
kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP.toString = $estr;
kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP.__enum__ = kha_audio2_ogg_vorbis_data_ReaderErrorType;
kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM = ["INVALID_STREAM",10];
kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM.toString = $estr;
kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM.__enum__ = kha_audio2_ogg_vorbis_data_ReaderErrorType;
kha_audio2_ogg_vorbis_data_ReaderErrorType.MISSING_CAPTURE_PATTERN = ["MISSING_CAPTURE_PATTERN",11];
kha_audio2_ogg_vorbis_data_ReaderErrorType.MISSING_CAPTURE_PATTERN.toString = $estr;
kha_audio2_ogg_vorbis_data_ReaderErrorType.MISSING_CAPTURE_PATTERN.__enum__ = kha_audio2_ogg_vorbis_data_ReaderErrorType;
kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM_STRUCTURE_VERSION = ["INVALID_STREAM_STRUCTURE_VERSION",12];
kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM_STRUCTURE_VERSION.toString = $estr;
kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM_STRUCTURE_VERSION.__enum__ = kha_audio2_ogg_vorbis_data_ReaderErrorType;
kha_audio2_ogg_vorbis_data_ReaderErrorType.CONTINUED_PACKET_FLAG_INVALID = ["CONTINUED_PACKET_FLAG_INVALID",13];
kha_audio2_ogg_vorbis_data_ReaderErrorType.CONTINUED_PACKET_FLAG_INVALID.toString = $estr;
kha_audio2_ogg_vorbis_data_ReaderErrorType.CONTINUED_PACKET_FLAG_INVALID.__enum__ = kha_audio2_ogg_vorbis_data_ReaderErrorType;
kha_audio2_ogg_vorbis_data_ReaderErrorType.INCORRECT_STREAM_SERIAL_NUMBER = ["INCORRECT_STREAM_SERIAL_NUMBER",14];
kha_audio2_ogg_vorbis_data_ReaderErrorType.INCORRECT_STREAM_SERIAL_NUMBER.toString = $estr;
kha_audio2_ogg_vorbis_data_ReaderErrorType.INCORRECT_STREAM_SERIAL_NUMBER.__enum__ = kha_audio2_ogg_vorbis_data_ReaderErrorType;
kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE = ["INVALID_FIRST_PAGE",15];
kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE.toString = $estr;
kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE.__enum__ = kha_audio2_ogg_vorbis_data_ReaderErrorType;
kha_audio2_ogg_vorbis_data_ReaderErrorType.BAD_PACKET_TYPE = ["BAD_PACKET_TYPE",16];
kha_audio2_ogg_vorbis_data_ReaderErrorType.BAD_PACKET_TYPE.toString = $estr;
kha_audio2_ogg_vorbis_data_ReaderErrorType.BAD_PACKET_TYPE.__enum__ = kha_audio2_ogg_vorbis_data_ReaderErrorType;
kha_audio2_ogg_vorbis_data_ReaderErrorType.CANT_FIND_LAST_PAGE = ["CANT_FIND_LAST_PAGE",17];
kha_audio2_ogg_vorbis_data_ReaderErrorType.CANT_FIND_LAST_PAGE.toString = $estr;
kha_audio2_ogg_vorbis_data_ReaderErrorType.CANT_FIND_LAST_PAGE.__enum__ = kha_audio2_ogg_vorbis_data_ReaderErrorType;
kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_FAILED = ["SEEK_FAILED",18];
kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_FAILED.toString = $estr;
kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_FAILED.__enum__ = kha_audio2_ogg_vorbis_data_ReaderErrorType;
kha_audio2_ogg_vorbis_data_ReaderErrorType.OTHER = ["OTHER",19];
kha_audio2_ogg_vorbis_data_ReaderErrorType.OTHER.toString = $estr;
kha_audio2_ogg_vorbis_data_ReaderErrorType.OTHER.__enum__ = kha_audio2_ogg_vorbis_data_ReaderErrorType;
var kha_audio2_ogg_vorbis_data_Residue = $hxClasses["kha.audio2.ogg.vorbis.data.Residue"] = function() {
};
kha_audio2_ogg_vorbis_data_Residue.__name__ = ["kha","audio2","ogg","vorbis","data","Residue"];
kha_audio2_ogg_vorbis_data_Residue.read = function(decodeState,codebooks) {
	var r = new kha_audio2_ogg_vorbis_data_Residue();
	var tmp;
	if(decodeState.validBits < 0) {
		tmp = 0;
	} else if(decodeState.validBits < 16) {
		if(decodeState.validBits == 0) {
			decodeState.acc = 0;
		}
		while(true) {
			if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
				decodeState.validBits = -1;
				break;
			} else {
				decodeState.bytesInSeg--;
				decodeState.inputPosition += 1;
				decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
				decodeState.validBits += 8;
			}
			if(!(decodeState.validBits < 16)) {
				break;
			}
		}
		if(decodeState.validBits < 0) {
			tmp = 0;
		} else {
			var z = decodeState.acc & 65535;
			decodeState.acc = decodeState.acc >>> 16;
			decodeState.validBits -= 16;
			tmp = z;
		}
	} else {
		var z1 = decodeState.acc & 65535;
		decodeState.acc = decodeState.acc >>> 16;
		decodeState.validBits -= 16;
		tmp = z1;
	}
	r.type = tmp;
	if(r.type > 2) {
		throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{ fileName : "Residue.hx", lineNumber : 29, className : "kha.audio2.ogg.vorbis.data.Residue", methodName : "read"}));
	}
	var this1 = new Array(64);
	var residueCascade = this1;
	var tmp1;
	if(decodeState.validBits < 0) {
		tmp1 = 0;
	} else if(decodeState.validBits < 24) {
		if(decodeState.validBits == 0) {
			decodeState.acc = 0;
		}
		while(true) {
			if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
				decodeState.validBits = -1;
				break;
			} else {
				decodeState.bytesInSeg--;
				decodeState.inputPosition += 1;
				decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
				decodeState.validBits += 8;
			}
			if(!(decodeState.validBits < 24)) {
				break;
			}
		}
		if(decodeState.validBits < 0) {
			tmp1 = 0;
		} else {
			var z2 = decodeState.acc & 16777215;
			decodeState.acc = decodeState.acc >>> 24;
			decodeState.validBits -= 24;
			tmp1 = z2;
		}
	} else {
		var z3 = decodeState.acc & 16777215;
		decodeState.acc = decodeState.acc >>> 24;
		decodeState.validBits -= 24;
		tmp1 = z3;
	}
	r.begin = tmp1;
	var tmp2;
	if(decodeState.validBits < 0) {
		tmp2 = 0;
	} else if(decodeState.validBits < 24) {
		if(decodeState.validBits == 0) {
			decodeState.acc = 0;
		}
		while(true) {
			if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
				decodeState.validBits = -1;
				break;
			} else {
				decodeState.bytesInSeg--;
				decodeState.inputPosition += 1;
				decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
				decodeState.validBits += 8;
			}
			if(!(decodeState.validBits < 24)) {
				break;
			}
		}
		if(decodeState.validBits < 0) {
			tmp2 = 0;
		} else {
			var z4 = decodeState.acc & 16777215;
			decodeState.acc = decodeState.acc >>> 24;
			decodeState.validBits -= 24;
			tmp2 = z4;
		}
	} else {
		var z5 = decodeState.acc & 16777215;
		decodeState.acc = decodeState.acc >>> 24;
		decodeState.validBits -= 24;
		tmp2 = z5;
	}
	r.end = tmp2;
	var tmp3;
	if(decodeState.validBits < 0) {
		tmp3 = 0;
	} else if(decodeState.validBits < 24) {
		if(decodeState.validBits == 0) {
			decodeState.acc = 0;
		}
		while(true) {
			if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
				decodeState.validBits = -1;
				break;
			} else {
				decodeState.bytesInSeg--;
				decodeState.inputPosition += 1;
				decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
				decodeState.validBits += 8;
			}
			if(!(decodeState.validBits < 24)) {
				break;
			}
		}
		if(decodeState.validBits < 0) {
			tmp3 = 0;
		} else {
			var z6 = decodeState.acc & 16777215;
			decodeState.acc = decodeState.acc >>> 24;
			decodeState.validBits -= 24;
			tmp3 = z6;
		}
	} else {
		var z7 = decodeState.acc & 16777215;
		decodeState.acc = decodeState.acc >>> 24;
		decodeState.validBits -= 24;
		tmp3 = z7;
	}
	r.partSize = tmp3 + 1;
	var classifications;
	if(decodeState.validBits < 0) {
		classifications = 0;
	} else if(decodeState.validBits < 6) {
		if(decodeState.validBits == 0) {
			decodeState.acc = 0;
		}
		while(true) {
			if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
				decodeState.validBits = -1;
				break;
			} else {
				decodeState.bytesInSeg--;
				decodeState.inputPosition += 1;
				decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
				decodeState.validBits += 8;
			}
			if(!(decodeState.validBits < 6)) {
				break;
			}
		}
		if(decodeState.validBits < 0) {
			classifications = 0;
		} else {
			var z8 = decodeState.acc & 63;
			decodeState.acc = decodeState.acc >>> 6;
			decodeState.validBits -= 6;
			classifications = z8;
		}
	} else {
		var z9 = decodeState.acc & 63;
		decodeState.acc = decodeState.acc >>> 6;
		decodeState.validBits -= 6;
		classifications = z9;
	}
	var classifications1 = r.classifications = classifications + 1;
	var tmp4;
	if(decodeState.validBits < 0) {
		tmp4 = 0;
	} else if(decodeState.validBits < 8) {
		if(decodeState.validBits == 0) {
			decodeState.acc = 0;
		}
		while(true) {
			if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
				decodeState.validBits = -1;
				break;
			} else {
				decodeState.bytesInSeg--;
				decodeState.inputPosition += 1;
				decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
				decodeState.validBits += 8;
			}
			if(!(decodeState.validBits < 8)) {
				break;
			}
		}
		if(decodeState.validBits < 0) {
			tmp4 = 0;
		} else {
			var z10 = decodeState.acc & 255;
			decodeState.acc = decodeState.acc >>> 8;
			decodeState.validBits -= 8;
			tmp4 = z10;
		}
	} else {
		var z11 = decodeState.acc & 255;
		decodeState.acc = decodeState.acc >>> 8;
		decodeState.validBits -= 8;
		tmp4 = z11;
	}
	r.classbook = tmp4;
	var _g1 = 0;
	var _g = r.classifications;
	while(_g1 < _g) {
		var j = _g1++;
		var highBits = 0;
		var lowBits;
		if(decodeState.validBits < 0) {
			lowBits = 0;
		} else if(decodeState.validBits < 3) {
			if(decodeState.validBits == 0) {
				decodeState.acc = 0;
			}
			while(true) {
				if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
					decodeState.validBits = -1;
					break;
				} else {
					decodeState.bytesInSeg--;
					decodeState.inputPosition += 1;
					decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
					decodeState.validBits += 8;
				}
				if(!(decodeState.validBits < 3)) {
					break;
				}
			}
			if(decodeState.validBits < 0) {
				lowBits = 0;
			} else {
				var z12 = decodeState.acc & 7;
				decodeState.acc = decodeState.acc >>> 3;
				decodeState.validBits -= 3;
				lowBits = z12;
			}
		} else {
			var z13 = decodeState.acc & 7;
			decodeState.acc = decodeState.acc >>> 3;
			decodeState.validBits -= 3;
			lowBits = z13;
		}
		var tmp5;
		if(decodeState.validBits < 0) {
			tmp5 = 0;
		} else if(decodeState.validBits < 1) {
			if(decodeState.validBits == 0) {
				decodeState.acc = 0;
			}
			while(true) {
				if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
					decodeState.validBits = -1;
					break;
				} else {
					decodeState.bytesInSeg--;
					decodeState.inputPosition += 1;
					decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
					decodeState.validBits += 8;
				}
				if(!(decodeState.validBits < 1)) {
					break;
				}
			}
			if(decodeState.validBits < 0) {
				tmp5 = 0;
			} else {
				var z14 = decodeState.acc & 1;
				decodeState.acc = decodeState.acc >>> 1;
				decodeState.validBits -= 1;
				tmp5 = z14;
			}
		} else {
			var z15 = decodeState.acc & 1;
			decodeState.acc = decodeState.acc >>> 1;
			decodeState.validBits -= 1;
			tmp5 = z15;
		}
		if(tmp5 != 0) {
			if(decodeState.validBits < 0) {
				highBits = 0;
			} else if(decodeState.validBits < 5) {
				if(decodeState.validBits == 0) {
					decodeState.acc = 0;
				}
				while(true) {
					if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
						decodeState.validBits = -1;
						break;
					} else {
						decodeState.bytesInSeg--;
						decodeState.inputPosition += 1;
						decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
						decodeState.validBits += 8;
					}
					if(!(decodeState.validBits < 5)) {
						break;
					}
				}
				if(decodeState.validBits < 0) {
					highBits = 0;
				} else {
					var z16 = decodeState.acc & 31;
					decodeState.acc = decodeState.acc >>> 5;
					decodeState.validBits -= 5;
					highBits = z16;
				}
			} else {
				var z17 = decodeState.acc & 31;
				decodeState.acc = decodeState.acc >>> 5;
				decodeState.validBits -= 5;
				highBits = z17;
			}
		}
		residueCascade[j] = highBits * 8 + lowBits;
	}
	var length = r.classifications;
	var this2 = new Array(length);
	r.residueBooks = this2;
	var _g11 = 0;
	var _g2 = r.classifications;
	while(_g11 < _g2) {
		var j1 = _g11++;
		var this3 = r.residueBooks;
		var this4 = new Array(8);
		this3[j1] = this4;
		var _g21 = 0;
		while(_g21 < 8) {
			var k = _g21++;
			if((residueCascade[j1] & 1 << k) != 0) {
				var this5 = r.residueBooks[j1];
				var val;
				if(decodeState.validBits < 0) {
					val = 0;
				} else if(decodeState.validBits < 8) {
					if(decodeState.validBits == 0) {
						decodeState.acc = 0;
					}
					while(true) {
						if(decodeState.bytesInSeg == 0 && (decodeState.lastSeg || decodeState.next() == 0)) {
							decodeState.validBits = -1;
							break;
						} else {
							decodeState.bytesInSeg--;
							decodeState.inputPosition += 1;
							decodeState.acc = decodeState.acc + (decodeState.input.readByte() << decodeState.validBits);
							decodeState.validBits += 8;
						}
						if(!(decodeState.validBits < 8)) {
							break;
						}
					}
					if(decodeState.validBits < 0) {
						val = 0;
					} else {
						var z18 = decodeState.acc & 255;
						decodeState.acc = decodeState.acc >>> 8;
						decodeState.validBits -= 8;
						val = z18;
					}
				} else {
					var z19 = decodeState.acc & 255;
					decodeState.acc = decodeState.acc >>> 8;
					decodeState.validBits -= 8;
					val = z19;
				}
				this5[k] = val;
				if(r.residueBooks[j1][k] >= codebooks.length) {
					throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{ fileName : "Residue.hx", lineNumber : 55, className : "kha.audio2.ogg.vorbis.data.Residue", methodName : "read"}));
				}
			} else {
				r.residueBooks[j1][k] = -1;
			}
		}
	}
	var el = codebooks[r.classbook].entries;
	var classwords = codebooks[r.classbook].dimensions;
	var this6 = new Array(el);
	r.classdata = this6;
	var _g12 = 0;
	var _g3 = el;
	while(_g12 < _g3) {
		var j2 = _g12++;
		var temp = j2;
		var k1 = classwords;
		var this7 = r.classdata;
		var this8 = new Array(classwords);
		var cd = this7[j2] = this8;
		while(--k1 >= 0) {
			cd[k1] = temp % classifications1;
			temp = temp / classifications1 | 0;
		}
	}
	return r;
};
kha_audio2_ogg_vorbis_data_Residue.prototype = {
	begin: null
	,end: null
	,partSize: null
	,classifications: null
	,classbook: null
	,classdata: null
	,residueBooks: null
	,type: null
	,decode: function(decodeState,header,residueBuffers,ch,n,doNotDecode,channelBuffers) {
		var codebooks = header.codebooks;
		var classwords = codebooks[this.classbook].dimensions;
		var nRead = this.end - this.begin;
		var partSize = this.partSize;
		var partRead = _$UInt_UInt_$Impl_$.toFloat(nRead) / _$UInt_UInt_$Impl_$.toFloat(partSize) | 0;
		var length = header.channel * partRead + 1;
		var this1 = new Array(length);
		var classifications = this1;
		var _g1 = 0;
		var _g = ch;
		while(_g1 < _g) {
			var i = _g1++;
			if(!doNotDecode[i]) {
				var buffer = residueBuffers[i];
				var _g3 = 0;
				var _g2 = buffer.length;
				while(_g3 < _g2) {
					var j = _g3++;
					buffer[j] = 0;
				}
			}
		}
		if(this.type == 2 && ch != 1) {
			var _g11 = 0;
			var _g4 = ch;
			while(_g11 < _g4) {
				var j1 = _g11++;
				if(!doNotDecode[j1]) {
					break;
				} else if(j1 == ch - 1) {
					return;
				}
			}
			var _g5 = 0;
			while(_g5 < 8) {
				var pass = _g5++;
				var pcount = 0;
				var classSet = 0;
				if(ch == 2) {
					while(pcount < partRead) {
						var z = this.begin + pcount * partSize;
						var cInter = z & 1;
						var pInter = z >>> 1;
						if(pass == 0) {
							var c = codebooks[this.classbook];
							if(decodeState.validBits < 10) {
								decodeState.prepHuffman();
							}
							var i1 = c.fastHuffman[decodeState.acc & 1023];
							var val;
							if(i1 >= 0) {
								var l = c.codewordLengths[i1];
								decodeState.acc = decodeState.acc >>> l;
								decodeState.validBits -= l;
								if(decodeState.validBits < 0) {
									decodeState.validBits = 0;
									val = -1;
								} else {
									val = i1;
								}
							} else {
								val = decodeState.decodeScalarRaw(c);
							}
							if(c.sparse) {
								val = c.sortedValues[val];
							}
							var q = val;
							if(q == -1) {
								return;
							}
							var i2 = classwords;
							while(--i2 >= 0) {
								classifications[i2 + pcount] = q % this.classifications;
								q = q / this.classifications | 0;
							}
						}
						var _g21 = 0;
						var _g12 = classwords;
						while(_g21 < _g12) {
							var i3 = _g21++;
							if(pcount >= partRead) {
								break;
							}
							var z1 = this.begin + pcount * partSize;
							var c1 = classifications[pcount];
							var b = this.residueBooks[c1][pass];
							if(b >= 0) {
								var book = codebooks[b];
								var result = book.decodeDeinterleaveRepeat(decodeState,residueBuffers,ch,cInter,pInter,n,partSize);
								if(result == null) {
									return;
								} else {
									cInter = result.cInter;
									pInter = result.pInter;
								}
							} else {
								z1 = z1 + partSize;
								cInter = z1 & 1;
								pInter = z1 >>> 1;
							}
							++pcount;
						}
					}
				} else if(ch == 1) {
					while(pcount < partRead) {
						var z2 = this.begin + pcount * partSize;
						var cInter1 = 0;
						var pInter1 = z2;
						if(pass == 0) {
							var c2 = codebooks[this.classbook];
							if(decodeState.validBits < 10) {
								decodeState.prepHuffman();
							}
							var i4 = c2.fastHuffman[decodeState.acc & 1023];
							var val1;
							if(i4 >= 0) {
								var l1 = c2.codewordLengths[i4];
								decodeState.acc = decodeState.acc >>> l1;
								decodeState.validBits -= l1;
								if(decodeState.validBits < 0) {
									decodeState.validBits = 0;
									val1 = -1;
								} else {
									val1 = i4;
								}
							} else {
								val1 = decodeState.decodeScalarRaw(c2);
							}
							if(c2.sparse) {
								val1 = c2.sortedValues[val1];
							}
							var q1 = val1;
							if(q1 == -1) {
								return;
							}
							var i5 = classwords;
							while(--i5 >= 0) {
								classifications[i5 + pcount] = q1 % this.classifications;
								q1 = q1 / this.classifications | 0;
							}
						}
						var _g22 = 0;
						var _g13 = classwords;
						while(_g22 < _g13) {
							var i6 = _g22++;
							if(pcount >= partRead) {
								break;
							}
							var z3 = this.begin + pcount * partSize;
							var b1 = this.residueBooks[classifications[pcount]][pass];
							if(b1 >= 0) {
								var book1 = codebooks[b1];
								var result1 = book1.decodeDeinterleaveRepeat(decodeState,residueBuffers,ch,cInter1,pInter1,n,partSize);
								if(result1 == null) {
									return;
								} else {
									cInter1 = result1.cInter;
									pInter1 = result1.pInter;
								}
							} else {
								z3 = z3 + partSize;
								cInter1 = 0;
								pInter1 = z3;
							}
							++pcount;
						}
					}
				} else {
					while(pcount < partRead) {
						var z4 = this.begin + pcount * partSize;
						var cInter2 = _$UInt_UInt_$Impl_$.toFloat(z4) % _$UInt_UInt_$Impl_$.toFloat(ch) | 0;
						var pInter2 = _$UInt_UInt_$Impl_$.toFloat(z4) / _$UInt_UInt_$Impl_$.toFloat(ch) | 0;
						if(pass == 0) {
							var c3 = codebooks[this.classbook];
							if(decodeState.validBits < 10) {
								decodeState.prepHuffman();
							}
							var i7 = c3.fastHuffman[decodeState.acc & 1023];
							var val2;
							if(i7 >= 0) {
								var l2 = c3.codewordLengths[i7];
								decodeState.acc = decodeState.acc >>> l2;
								decodeState.validBits -= l2;
								if(decodeState.validBits < 0) {
									decodeState.validBits = 0;
									val2 = -1;
								} else {
									val2 = i7;
								}
							} else {
								val2 = decodeState.decodeScalarRaw(c3);
							}
							if(c3.sparse) {
								val2 = c3.sortedValues[val2];
							}
							var q2 = val2;
							if(q2 == -1) {
								return;
							}
							var i8 = classwords;
							while(--i8 >= 0) {
								classifications[i8 + pcount] = q2 % this.classifications;
								q2 = q2 / this.classifications | 0;
							}
						}
						var _g23 = 0;
						var _g14 = classwords;
						while(_g23 < _g14) {
							var i9 = _g23++;
							if(pcount >= partRead) {
								break;
							}
							var z5 = this.begin + pcount * partSize;
							var b2 = this.residueBooks[classifications[pcount]][pass];
							if(b2 >= 0) {
								var book2 = codebooks[b2];
								var result2 = book2.decodeDeinterleaveRepeat(decodeState,residueBuffers,ch,cInter2,pInter2,n,partSize);
								if(result2 == null) {
									return;
								} else {
									cInter2 = result2.cInter;
									pInter2 = result2.pInter;
								}
							} else {
								z5 = z5 + partSize;
								cInter2 = _$UInt_UInt_$Impl_$.toFloat(z5) % _$UInt_UInt_$Impl_$.toFloat(ch) | 0;
								pInter2 = _$UInt_UInt_$Impl_$.toFloat(z5) / _$UInt_UInt_$Impl_$.toFloat(ch) | 0;
							}
							++pcount;
						}
					}
				}
			}
			return;
		}
		var _g6 = 0;
		while(_g6 < 8) {
			var pass1 = _g6++;
			var pcount1 = 0;
			var classSet1 = 0;
			while(pcount1 < partRead) {
				if(pass1 == 0) {
					var _g24 = 0;
					var _g15 = ch;
					while(_g24 < _g15) {
						var j2 = _g24++;
						if(!doNotDecode[j2]) {
							var c4 = codebooks[this.classbook];
							if(decodeState.validBits < 10) {
								decodeState.prepHuffman();
							}
							var i10 = c4.fastHuffman[decodeState.acc & 1023];
							var val3;
							if(i10 >= 0) {
								var l3 = c4.codewordLengths[i10];
								decodeState.acc = decodeState.acc >>> l3;
								decodeState.validBits -= l3;
								if(decodeState.validBits < 0) {
									decodeState.validBits = 0;
									val3 = -1;
								} else {
									val3 = i10;
								}
							} else {
								val3 = decodeState.decodeScalarRaw(c4);
							}
							if(c4.sparse) {
								val3 = c4.sortedValues[val3];
							}
							var temp = val3;
							if(temp == -1) {
								return;
							}
							var i11 = classwords;
							while(--i11 >= 0) {
								classifications[j2 * partRead + i11 + pcount1] = temp % this.classifications;
								temp = temp / this.classifications | 0;
							}
						}
					}
				}
				var _g25 = 0;
				var _g16 = classwords;
				while(_g25 < _g16) {
					var i12 = _g25++;
					if(pcount1 >= partRead) {
						break;
					}
					var _g41 = 0;
					var _g31 = ch;
					while(_g41 < _g31) {
						var j3 = _g41++;
						if(!doNotDecode[j3]) {
							var c5 = classifications[j3 * partRead + pcount1];
							var b3 = this.residueBooks[c5][pass1];
							if(b3 >= 0) {
								var target = residueBuffers[j3];
								var offset = this.begin + pcount1 * partSize;
								var n1 = partSize;
								var book3 = codebooks[b3];
								if(!book3.residueDecode(decodeState,target,offset,n1,this.type)) {
									return;
								}
							}
						}
					}
					++pcount1;
				}
			}
		}
	}
	,__class__: kha_audio2_ogg_vorbis_data_Residue
};
var kha_audio2_ogg_vorbis_data_Setting = $hxClasses["kha.audio2.ogg.vorbis.data.Setting"] = function() { };
kha_audio2_ogg_vorbis_data_Setting.__name__ = ["kha","audio2","ogg","vorbis","data","Setting"];
var kha_compute_ConstantLocation = $hxClasses["kha.compute.ConstantLocation"] = function() {
};
kha_compute_ConstantLocation.__name__ = ["kha","compute","ConstantLocation"];
kha_compute_ConstantLocation.prototype = {
	__class__: kha_compute_ConstantLocation
};
var kha_compute_Shader = $hxClasses["kha.compute.Shader"] = function(sources,files) {
	this.shader_ = Krom.createShaderCompute(sources[0].toBytes().b.bufferValue);
};
kha_compute_Shader.__name__ = ["kha","compute","Shader"];
kha_compute_Shader.prototype = {
	shader_: null
	,'delete': function() {
		Krom.deleteShaderCompute(this.shader_);
		this.shader_ = null;
	}
	,getConstantLocation: function(name) {
		return Krom.getConstantLocationCompute(this.shader_,name);
	}
	,getTextureUnit: function(name) {
		return Krom.getTextureUnitCompute(this.shader_,name);
	}
	,__class__: kha_compute_Shader
};
var kha_compute_TextureUnit = $hxClasses["kha.compute.TextureUnit"] = function() {
};
kha_compute_TextureUnit.__name__ = ["kha","compute","TextureUnit"];
kha_compute_TextureUnit.prototype = {
	__class__: kha_compute_TextureUnit
};
var kha_graphics1_Graphics = $hxClasses["kha.graphics1.Graphics"] = function() { };
kha_graphics1_Graphics.__name__ = ["kha","graphics1","Graphics"];
kha_graphics1_Graphics.prototype = {
	begin: null
	,end: null
	,setPixel: null
	,__class__: kha_graphics1_Graphics
};
var kha_graphics2_Graphics = $hxClasses["kha.graphics2.Graphics"] = function() {
	this.transformations = [];
	this.transformations.push(new kha_math_FastMatrix3(1,0,0,0,1,0,0,0,1));
	this.opacities = [];
	this.opacities.push(1);
	this.myFontSize = 12;
	this.pipe = null;
};
kha_graphics2_Graphics.__name__ = ["kha","graphics2","Graphics"];
kha_graphics2_Graphics.prototype = {
	begin: function(clear,clearColor) {
		if(clear == null) {
			clear = true;
		}
	}
	,end: function() {
	}
	,flush: function() {
	}
	,clear: function(color) {
	}
	,drawImage: function(img,x,y) {
		this.drawSubImage(img,x,y,0,0,img.get_width(),img.get_height());
	}
	,drawSubImage: function(img,x,y,sx,sy,sw,sh) {
		this.drawScaledSubImage(img,sx,sy,sw,sh,x,y,sw,sh);
	}
	,drawScaledImage: function(img,dx,dy,dw,dh) {
		this.drawScaledSubImage(img,0,0,img.get_width(),img.get_height(),dx,dy,dw,dh);
	}
	,drawScaledSubImage: function(image,sx,sy,sw,sh,dx,dy,dw,dh) {
	}
	,drawRect: function(x,y,width,height,strength) {
		if(strength == null) {
			strength = 1.0;
		}
	}
	,fillRect: function(x,y,width,height) {
	}
	,drawString: function(text,x,y) {
	}
	,drawCharacters: function(text,start,length,x,y) {
	}
	,drawLine: function(x1,y1,x2,y2,strength) {
		if(strength == null) {
			strength = 1.0;
		}
	}
	,drawVideo: function(video,x,y,width,height) {
	}
	,fillTriangle: function(x1,y1,x2,y2,x3,y3) {
	}
	,get_imageScaleQuality: function() {
		return kha_graphics2_ImageScaleQuality.Low;
	}
	,set_imageScaleQuality: function(value) {
		return kha_graphics2_ImageScaleQuality.High;
	}
	,get_mipmapScaleQuality: function() {
		return kha_graphics2_ImageScaleQuality.Low;
	}
	,set_mipmapScaleQuality: function(value) {
		return kha_graphics2_ImageScaleQuality.High;
	}
	,get_color: function() {
		return -16777216;
	}
	,set_color: function(color) {
		return -16777216;
	}
	,get_font: function() {
		return null;
	}
	,set_font: function(font) {
		return null;
	}
	,get_fontSize: function() {
		return this.myFontSize;
	}
	,set_fontSize: function(value) {
		return this.myFontSize = value;
	}
	,get_fontGlyphs: function() {
		return kha_graphics2_Graphics._glyphs;
	}
	,set_fontGlyphs: function(value) {
		return kha_graphics2_Graphics._glyphs = value;
	}
	,pushTransformation: function(transformation) {
		var trans = new kha_math_FastMatrix3(1,0,0,0,1,0,0,0,1);
		trans._00 = transformation._00;
		trans._10 = transformation._10;
		trans._20 = transformation._20;
		trans._01 = transformation._01;
		trans._11 = transformation._11;
		trans._21 = transformation._21;
		trans._02 = transformation._02;
		trans._12 = transformation._12;
		trans._22 = transformation._22;
		this.setTransformation(trans);
		this.transformations.push(trans);
	}
	,popTransformation: function() {
		var ret = this.transformations.pop();
		this.setTransformation(this.transformations[this.transformations.length - 1]);
		return ret;
	}
	,get_transformation: function() {
		return this.transformations[this.transformations.length - 1];
	}
	,set_transformation: function(transformation) {
		this.setTransformation(transformation);
		var _this = this.transformations[this.transformations.length - 1];
		_this._00 = transformation._00;
		_this._10 = transformation._10;
		_this._20 = transformation._20;
		_this._01 = transformation._01;
		_this._11 = transformation._11;
		_this._21 = transformation._21;
		_this._02 = transformation._02;
		_this._12 = transformation._12;
		_this._22 = transformation._22;
		return transformation;
	}
	,translation: function(tx,ty) {
		var _this__22;
		var _this__21;
		var _this__20;
		var _this__12;
		var _this__11;
		var _this__10;
		var _this__02;
		var _this__01;
		var _this__00 = 1;
		_this__10 = 0;
		_this__20 = tx;
		_this__01 = 0;
		_this__11 = 1;
		_this__21 = ty;
		_this__02 = 0;
		_this__12 = 0;
		_this__22 = 1;
		var m = this.transformations[this.transformations.length - 1];
		return new kha_math_FastMatrix3(_this__00 * m._00 + _this__10 * m._01 + _this__20 * m._02,_this__00 * m._10 + _this__10 * m._11 + _this__20 * m._12,_this__00 * m._20 + _this__10 * m._21 + _this__20 * m._22,_this__01 * m._00 + _this__11 * m._01 + _this__21 * m._02,_this__01 * m._10 + _this__11 * m._11 + _this__21 * m._12,_this__01 * m._20 + _this__11 * m._21 + _this__21 * m._22,_this__02 * m._00 + _this__12 * m._01 + _this__22 * m._02,_this__02 * m._10 + _this__12 * m._11 + _this__22 * m._12,_this__02 * m._20 + _this__12 * m._21 + _this__22 * m._22);
	}
	,translate: function(tx,ty) {
		var _this__22;
		var _this__21;
		var _this__20;
		var _this__12;
		var _this__11;
		var _this__10;
		var _this__02;
		var _this__01;
		var _this__00 = 1;
		_this__10 = 0;
		_this__20 = tx;
		_this__01 = 0;
		_this__11 = 1;
		_this__21 = ty;
		_this__02 = 0;
		_this__12 = 0;
		_this__22 = 1;
		var m = this.transformations[this.transformations.length - 1];
		var transformation = new kha_math_FastMatrix3(_this__00 * m._00 + _this__10 * m._01 + _this__20 * m._02,_this__00 * m._10 + _this__10 * m._11 + _this__20 * m._12,_this__00 * m._20 + _this__10 * m._21 + _this__20 * m._22,_this__01 * m._00 + _this__11 * m._01 + _this__21 * m._02,_this__01 * m._10 + _this__11 * m._11 + _this__21 * m._12,_this__01 * m._20 + _this__11 * m._21 + _this__21 * m._22,_this__02 * m._00 + _this__12 * m._01 + _this__22 * m._02,_this__02 * m._10 + _this__12 * m._11 + _this__22 * m._12,_this__02 * m._20 + _this__12 * m._21 + _this__22 * m._22);
		this.setTransformation(transformation);
		var _this = this.transformations[this.transformations.length - 1];
		_this._00 = transformation._00;
		_this._10 = transformation._10;
		_this._20 = transformation._20;
		_this._01 = transformation._01;
		_this._11 = transformation._11;
		_this._21 = transformation._21;
		_this._02 = transformation._02;
		_this._12 = transformation._12;
		_this._22 = transformation._22;
	}
	,pushTranslation: function(tx,ty) {
		var _this__22;
		var _this__21;
		var _this__20;
		var _this__12;
		var _this__11;
		var _this__10;
		var _this__02;
		var _this__01;
		var _this__00 = 1;
		_this__10 = 0;
		_this__20 = tx;
		_this__01 = 0;
		_this__11 = 1;
		_this__21 = ty;
		_this__02 = 0;
		_this__12 = 0;
		_this__22 = 1;
		var m = this.transformations[this.transformations.length - 1];
		this.pushTransformation(new kha_math_FastMatrix3(_this__00 * m._00 + _this__10 * m._01 + _this__20 * m._02,_this__00 * m._10 + _this__10 * m._11 + _this__20 * m._12,_this__00 * m._20 + _this__10 * m._21 + _this__20 * m._22,_this__01 * m._00 + _this__11 * m._01 + _this__21 * m._02,_this__01 * m._10 + _this__11 * m._11 + _this__21 * m._12,_this__01 * m._20 + _this__11 * m._21 + _this__21 * m._22,_this__02 * m._00 + _this__12 * m._01 + _this__22 * m._02,_this__02 * m._10 + _this__12 * m._11 + _this__22 * m._12,_this__02 * m._20 + _this__12 * m._21 + _this__22 * m._22));
	}
	,rotation: function(angle,centerx,centery) {
		var _this__22;
		var _this__21;
		var _this__20;
		var _this__12;
		var _this__11;
		var _this__10;
		var _this__02;
		var _this__01;
		var _this__00;
		var _this__221;
		var _this__211;
		var _this__201;
		var _this__121;
		var _this__111;
		var _this__101;
		var _this__021;
		var _this__011;
		var _this__001;
		var _this__222;
		var _this__212;
		var _this__202;
		var _this__122;
		var _this__112;
		var _this__102;
		var _this__022;
		var _this__012;
		var _this__002 = 1;
		_this__102 = 0;
		_this__202 = centerx;
		_this__012 = 0;
		_this__112 = 1;
		_this__212 = centery;
		_this__022 = 0;
		_this__122 = 0;
		_this__222 = 1;
		var m__22;
		var m__21;
		var m__20;
		var m__12;
		var m__11;
		var m__10;
		var m__02;
		var m__01;
		var m__00 = Math.cos(angle);
		m__10 = -Math.sin(angle);
		m__20 = 0;
		m__01 = Math.sin(angle);
		m__11 = Math.cos(angle);
		m__21 = 0;
		m__02 = 0;
		m__12 = 0;
		m__22 = 1;
		_this__001 = _this__002 * m__00 + _this__102 * m__01 + _this__202 * m__02;
		_this__101 = _this__002 * m__10 + _this__102 * m__11 + _this__202 * m__12;
		_this__201 = _this__002 * m__20 + _this__102 * m__21 + _this__202 * m__22;
		_this__011 = _this__012 * m__00 + _this__112 * m__01 + _this__212 * m__02;
		_this__111 = _this__012 * m__10 + _this__112 * m__11 + _this__212 * m__12;
		_this__211 = _this__012 * m__20 + _this__112 * m__21 + _this__212 * m__22;
		_this__021 = _this__022 * m__00 + _this__122 * m__01 + _this__222 * m__02;
		_this__121 = _this__022 * m__10 + _this__122 * m__11 + _this__222 * m__12;
		_this__221 = _this__022 * m__20 + _this__122 * m__21 + _this__222 * m__22;
		var m__221;
		var m__211;
		var m__201;
		var m__121;
		var m__111;
		var m__101;
		var m__021;
		var m__011;
		var m__001 = 1;
		m__101 = 0;
		m__201 = -centerx;
		m__011 = 0;
		m__111 = 1;
		m__211 = -centery;
		m__021 = 0;
		m__121 = 0;
		m__221 = 1;
		_this__00 = _this__001 * m__001 + _this__101 * m__011 + _this__201 * m__021;
		_this__10 = _this__001 * m__101 + _this__101 * m__111 + _this__201 * m__121;
		_this__20 = _this__001 * m__201 + _this__101 * m__211 + _this__201 * m__221;
		_this__01 = _this__011 * m__001 + _this__111 * m__011 + _this__211 * m__021;
		_this__11 = _this__011 * m__101 + _this__111 * m__111 + _this__211 * m__121;
		_this__21 = _this__011 * m__201 + _this__111 * m__211 + _this__211 * m__221;
		_this__02 = _this__021 * m__001 + _this__121 * m__011 + _this__221 * m__021;
		_this__12 = _this__021 * m__101 + _this__121 * m__111 + _this__221 * m__121;
		_this__22 = _this__021 * m__201 + _this__121 * m__211 + _this__221 * m__221;
		var m = this.transformations[this.transformations.length - 1];
		return new kha_math_FastMatrix3(_this__00 * m._00 + _this__10 * m._01 + _this__20 * m._02,_this__00 * m._10 + _this__10 * m._11 + _this__20 * m._12,_this__00 * m._20 + _this__10 * m._21 + _this__20 * m._22,_this__01 * m._00 + _this__11 * m._01 + _this__21 * m._02,_this__01 * m._10 + _this__11 * m._11 + _this__21 * m._12,_this__01 * m._20 + _this__11 * m._21 + _this__21 * m._22,_this__02 * m._00 + _this__12 * m._01 + _this__22 * m._02,_this__02 * m._10 + _this__12 * m._11 + _this__22 * m._12,_this__02 * m._20 + _this__12 * m._21 + _this__22 * m._22);
	}
	,rotate: function(angle,centerx,centery) {
		var temp__22;
		var temp__21;
		var temp__20;
		var temp__12;
		var temp__11;
		var temp__10;
		var temp__02;
		var temp__01;
		var temp__00;
		var _this__22;
		var _this__21;
		var _this__20;
		var _this__12;
		var _this__11;
		var _this__10;
		var _this__02;
		var _this__01;
		var _this__00;
		var _this__221;
		var _this__211;
		var _this__201;
		var _this__121;
		var _this__111;
		var _this__101;
		var _this__021;
		var _this__011;
		var _this__001;
		var _this__222;
		var _this__212;
		var _this__202;
		var _this__122;
		var _this__112;
		var _this__102;
		var _this__022;
		var _this__012;
		var _this__002 = 1;
		_this__102 = 0;
		_this__202 = centerx;
		_this__012 = 0;
		_this__112 = 1;
		_this__212 = centery;
		_this__022 = 0;
		_this__122 = 0;
		_this__222 = 1;
		var m__22;
		var m__21;
		var m__20;
		var m__12;
		var m__11;
		var m__10;
		var m__02;
		var m__01;
		var m__00 = Math.cos(angle);
		m__10 = -Math.sin(angle);
		m__20 = 0;
		m__01 = Math.sin(angle);
		m__11 = Math.cos(angle);
		m__21 = 0;
		m__02 = 0;
		m__12 = 0;
		m__22 = 1;
		_this__001 = _this__002 * m__00 + _this__102 * m__01 + _this__202 * m__02;
		_this__101 = _this__002 * m__10 + _this__102 * m__11 + _this__202 * m__12;
		_this__201 = _this__002 * m__20 + _this__102 * m__21 + _this__202 * m__22;
		_this__011 = _this__012 * m__00 + _this__112 * m__01 + _this__212 * m__02;
		_this__111 = _this__012 * m__10 + _this__112 * m__11 + _this__212 * m__12;
		_this__211 = _this__012 * m__20 + _this__112 * m__21 + _this__212 * m__22;
		_this__021 = _this__022 * m__00 + _this__122 * m__01 + _this__222 * m__02;
		_this__121 = _this__022 * m__10 + _this__122 * m__11 + _this__222 * m__12;
		_this__221 = _this__022 * m__20 + _this__122 * m__21 + _this__222 * m__22;
		var m__221;
		var m__211;
		var m__201;
		var m__121;
		var m__111;
		var m__101;
		var m__021;
		var m__011;
		var m__001 = 1;
		m__101 = 0;
		m__201 = -centerx;
		m__011 = 0;
		m__111 = 1;
		m__211 = -centery;
		m__021 = 0;
		m__121 = 0;
		m__221 = 1;
		_this__00 = _this__001 * m__001 + _this__101 * m__011 + _this__201 * m__021;
		_this__10 = _this__001 * m__101 + _this__101 * m__111 + _this__201 * m__121;
		_this__20 = _this__001 * m__201 + _this__101 * m__211 + _this__201 * m__221;
		_this__01 = _this__011 * m__001 + _this__111 * m__011 + _this__211 * m__021;
		_this__11 = _this__011 * m__101 + _this__111 * m__111 + _this__211 * m__121;
		_this__21 = _this__011 * m__201 + _this__111 * m__211 + _this__211 * m__221;
		_this__02 = _this__021 * m__001 + _this__121 * m__011 + _this__221 * m__021;
		_this__12 = _this__021 * m__101 + _this__121 * m__111 + _this__221 * m__121;
		_this__22 = _this__021 * m__201 + _this__121 * m__211 + _this__221 * m__221;
		var m = this.transformations[this.transformations.length - 1];
		temp__00 = _this__00 * m._00 + _this__10 * m._01 + _this__20 * m._02;
		temp__10 = _this__00 * m._10 + _this__10 * m._11 + _this__20 * m._12;
		temp__20 = _this__00 * m._20 + _this__10 * m._21 + _this__20 * m._22;
		temp__01 = _this__01 * m._00 + _this__11 * m._01 + _this__21 * m._02;
		temp__11 = _this__01 * m._10 + _this__11 * m._11 + _this__21 * m._12;
		temp__21 = _this__01 * m._20 + _this__11 * m._21 + _this__21 * m._22;
		temp__02 = _this__02 * m._00 + _this__12 * m._01 + _this__22 * m._02;
		temp__12 = _this__02 * m._10 + _this__12 * m._11 + _this__22 * m._12;
		temp__22 = _this__02 * m._20 + _this__12 * m._21 + _this__22 * m._22;
		this.transformations[this.transformations.length - 1]._00 = temp__00;
		this.transformations[this.transformations.length - 1]._01 = temp__01;
		this.transformations[this.transformations.length - 1]._02 = temp__02;
		this.transformations[this.transformations.length - 1]._10 = temp__10;
		this.transformations[this.transformations.length - 1]._11 = temp__11;
		this.transformations[this.transformations.length - 1]._12 = temp__12;
		this.transformations[this.transformations.length - 1]._20 = temp__20;
		this.transformations[this.transformations.length - 1]._21 = temp__21;
		this.transformations[this.transformations.length - 1]._22 = temp__22;
	}
	,pushRotation: function(angle,centerx,centery) {
		var _this__22;
		var _this__21;
		var _this__20;
		var _this__12;
		var _this__11;
		var _this__10;
		var _this__02;
		var _this__01;
		var _this__00;
		var _this__221;
		var _this__211;
		var _this__201;
		var _this__121;
		var _this__111;
		var _this__101;
		var _this__021;
		var _this__011;
		var _this__001;
		var _this__222;
		var _this__212;
		var _this__202;
		var _this__122;
		var _this__112;
		var _this__102;
		var _this__022;
		var _this__012;
		var _this__002 = 1;
		_this__102 = 0;
		_this__202 = centerx;
		_this__012 = 0;
		_this__112 = 1;
		_this__212 = centery;
		_this__022 = 0;
		_this__122 = 0;
		_this__222 = 1;
		var m__22;
		var m__21;
		var m__20;
		var m__12;
		var m__11;
		var m__10;
		var m__02;
		var m__01;
		var m__00 = Math.cos(angle);
		m__10 = -Math.sin(angle);
		m__20 = 0;
		m__01 = Math.sin(angle);
		m__11 = Math.cos(angle);
		m__21 = 0;
		m__02 = 0;
		m__12 = 0;
		m__22 = 1;
		_this__001 = _this__002 * m__00 + _this__102 * m__01 + _this__202 * m__02;
		_this__101 = _this__002 * m__10 + _this__102 * m__11 + _this__202 * m__12;
		_this__201 = _this__002 * m__20 + _this__102 * m__21 + _this__202 * m__22;
		_this__011 = _this__012 * m__00 + _this__112 * m__01 + _this__212 * m__02;
		_this__111 = _this__012 * m__10 + _this__112 * m__11 + _this__212 * m__12;
		_this__211 = _this__012 * m__20 + _this__112 * m__21 + _this__212 * m__22;
		_this__021 = _this__022 * m__00 + _this__122 * m__01 + _this__222 * m__02;
		_this__121 = _this__022 * m__10 + _this__122 * m__11 + _this__222 * m__12;
		_this__221 = _this__022 * m__20 + _this__122 * m__21 + _this__222 * m__22;
		var m__221;
		var m__211;
		var m__201;
		var m__121;
		var m__111;
		var m__101;
		var m__021;
		var m__011;
		var m__001 = 1;
		m__101 = 0;
		m__201 = -centerx;
		m__011 = 0;
		m__111 = 1;
		m__211 = -centery;
		m__021 = 0;
		m__121 = 0;
		m__221 = 1;
		_this__00 = _this__001 * m__001 + _this__101 * m__011 + _this__201 * m__021;
		_this__10 = _this__001 * m__101 + _this__101 * m__111 + _this__201 * m__121;
		_this__20 = _this__001 * m__201 + _this__101 * m__211 + _this__201 * m__221;
		_this__01 = _this__011 * m__001 + _this__111 * m__011 + _this__211 * m__021;
		_this__11 = _this__011 * m__101 + _this__111 * m__111 + _this__211 * m__121;
		_this__21 = _this__011 * m__201 + _this__111 * m__211 + _this__211 * m__221;
		_this__02 = _this__021 * m__001 + _this__121 * m__011 + _this__221 * m__021;
		_this__12 = _this__021 * m__101 + _this__121 * m__111 + _this__221 * m__121;
		_this__22 = _this__021 * m__201 + _this__121 * m__211 + _this__221 * m__221;
		var m = this.transformations[this.transformations.length - 1];
		this.pushTransformation(new kha_math_FastMatrix3(_this__00 * m._00 + _this__10 * m._01 + _this__20 * m._02,_this__00 * m._10 + _this__10 * m._11 + _this__20 * m._12,_this__00 * m._20 + _this__10 * m._21 + _this__20 * m._22,_this__01 * m._00 + _this__11 * m._01 + _this__21 * m._02,_this__01 * m._10 + _this__11 * m._11 + _this__21 * m._12,_this__01 * m._20 + _this__11 * m._21 + _this__21 * m._22,_this__02 * m._00 + _this__12 * m._01 + _this__22 * m._02,_this__02 * m._10 + _this__12 * m._11 + _this__22 * m._12,_this__02 * m._20 + _this__12 * m._21 + _this__22 * m._22));
	}
	,pushOpacity: function(opacity) {
		this.setOpacity(opacity);
		this.opacities.push(opacity);
	}
	,popOpacity: function() {
		var ret = this.opacities.pop();
		this.setOpacity(this.get_opacity());
		return ret;
	}
	,get_opacity: function() {
		return this.opacities[this.opacities.length - 1];
	}
	,set_opacity: function(opacity) {
		this.setOpacity(opacity);
		return this.opacities[this.opacities.length - 1] = opacity;
	}
	,scissor: function(x,y,width,height) {
	}
	,disableScissor: function() {
	}
	,pipe: null
	,get_pipeline: function() {
		return this.pipe;
	}
	,set_pipeline: function(pipeline) {
		this.setPipeline(pipeline);
		return this.pipe = pipeline;
	}
	,transformations: null
	,opacities: null
	,myFontSize: null
	,setTransformation: function(transformation) {
	}
	,setOpacity: function(opacity) {
	}
	,setPipeline: function(pipeline) {
	}
	,__class__: kha_graphics2_Graphics
	,__properties__: {set_pipeline:"set_pipeline",get_pipeline:"get_pipeline",set_opacity:"set_opacity",get_opacity:"get_opacity",set_transformation:"set_transformation",get_transformation:"get_transformation",set_fontGlyphs:"set_fontGlyphs",get_fontGlyphs:"get_fontGlyphs",set_fontSize:"set_fontSize",get_fontSize:"get_fontSize",set_font:"set_font",get_font:"get_font",set_color:"set_color",get_color:"get_color",set_mipmapScaleQuality:"set_mipmapScaleQuality",get_mipmapScaleQuality:"get_mipmapScaleQuality",set_imageScaleQuality:"set_imageScaleQuality",get_imageScaleQuality:"get_imageScaleQuality"}
};
var kha_graphics2_Graphics1 = $hxClasses["kha.graphics2.Graphics1"] = function(canvas) {
	this.canvas = canvas;
};
kha_graphics2_Graphics1.__name__ = ["kha","graphics2","Graphics1"];
kha_graphics2_Graphics1.__interfaces__ = [kha_graphics1_Graphics];
kha_graphics2_Graphics1.prototype = {
	canvas: null
	,texture: null
	,pixels: null
	,begin: function() {
		if(this.texture == null) {
			this.texture = kha_Image.create(this.canvas.get_width(),this.canvas.get_height(),kha_graphics4_TextureFormat.RGBA32,kha_graphics4_Usage.ReadableUsage);
		}
		this.pixels = this.texture.lock();
	}
	,end: function() {
		this.texture.unlock();
		this.canvas.get_g2().begin();
		this.canvas.get_g2().drawImage(this.texture,0,0);
		this.canvas.get_g2().end();
	}
	,setPixel: function(x,y,color) {
		this.pixels.setInt32(y * this.texture.get_realWidth() * 4 + x * 4,color);
	}
	,__class__: kha_graphics2_Graphics1
};
var kha_graphics2_GraphicsExtension = $hxClasses["kha.graphics2.GraphicsExtension"] = function() { };
kha_graphics2_GraphicsExtension.__name__ = ["kha","graphics2","GraphicsExtension"];
kha_graphics2_GraphicsExtension.drawArc = function(g2,cx,cy,radius,sAngle,eAngle,strength,ccw,segments) {
	if(segments == null) {
		segments = 0;
	}
	if(ccw == null) {
		ccw = false;
	}
	if(strength == null) {
		strength = 1;
	}
	sAngle %= Math.PI * 2;
	eAngle %= Math.PI * 2;
	if(ccw) {
		if(eAngle > sAngle) {
			eAngle -= Math.PI * 2;
		}
	} else if(eAngle < sAngle) {
		eAngle += Math.PI * 2;
	}
	if(segments <= 0) {
		segments = Math.floor(10 * Math.sqrt(radius));
	}
	var theta = (eAngle - sAngle) / segments;
	var c = Math.cos(theta);
	var s = Math.sin(theta);
	var x = Math.cos(sAngle) * radius;
	var y = Math.sin(sAngle) * radius;
	var _g1 = 0;
	var _g = segments;
	while(_g1 < _g) {
		var n = _g1++;
		var px = x + cx;
		var py = y + cy;
		var t = x;
		x = c * x - s * y;
		y = c * y + s * t;
		g2.drawLine(px,py,x + cx,y + cy,strength);
	}
};
kha_graphics2_GraphicsExtension.fillArc = function(g2,cx,cy,radius,sAngle,eAngle,ccw,segments) {
	if(segments == null) {
		segments = 0;
	}
	if(ccw == null) {
		ccw = false;
	}
	sAngle %= Math.PI * 2;
	eAngle %= Math.PI * 2;
	if(ccw) {
		if(eAngle > sAngle) {
			eAngle -= Math.PI * 2;
		}
	} else if(eAngle < sAngle) {
		eAngle += Math.PI * 2;
	}
	if(segments <= 0) {
		segments = Math.floor(10 * Math.sqrt(radius));
	}
	var theta = (eAngle - sAngle) / segments;
	var c = Math.cos(theta);
	var s = Math.sin(theta);
	var x = Math.cos(sAngle) * radius;
	var y = Math.sin(sAngle) * radius;
	var sx = x + cx;
	var sy = y + cy;
	var _g1 = 0;
	var _g = segments;
	while(_g1 < _g) {
		var n = _g1++;
		var px = x + cx;
		var py = y + cy;
		var t = x;
		x = c * x - s * y;
		y = c * y + s * t;
		g2.fillTriangle(px,py,x + cx,y + cy,sx,sy);
	}
};
kha_graphics2_GraphicsExtension.drawCircle = function(g2,cx,cy,radius,strength,segments) {
	if(segments == null) {
		segments = 0;
	}
	if(strength == null) {
		strength = 1;
	}
	if(segments <= 0) {
		segments = Math.floor(10 * Math.sqrt(radius));
	}
	var theta = 2 * Math.PI / segments;
	var c = Math.cos(theta);
	var s = Math.sin(theta);
	var x = radius;
	var y = 0.0;
	var _g1 = 0;
	var _g = segments;
	while(_g1 < _g) {
		var n = _g1++;
		var px = x + cx;
		var py = y + cy;
		var t = x;
		x = c * x - s * y;
		y = c * y + s * t;
		g2.drawLine(px,py,x + cx,y + cy,strength);
	}
};
kha_graphics2_GraphicsExtension.fillCircle = function(g2,cx,cy,radius,segments) {
	if(segments == null) {
		segments = 0;
	}
	if(segments <= 0) {
		segments = Math.floor(10 * Math.sqrt(radius));
	}
	var theta = 2 * Math.PI / segments;
	var c = Math.cos(theta);
	var s = Math.sin(theta);
	var x = radius;
	var y = 0.0;
	var _g1 = 0;
	var _g = segments;
	while(_g1 < _g) {
		var n = _g1++;
		var px = x + cx;
		var py = y + cy;
		var t = x;
		x = c * x - s * y;
		y = c * y + s * t;
		g2.fillTriangle(px,py,x + cx,y + cy,cx,cy);
	}
};
kha_graphics2_GraphicsExtension.drawPolygon = function(g2,x,y,vertices,strength) {
	if(strength == null) {
		strength = 1;
	}
	var iterator = HxOverrides.iter(vertices);
	var v0 = iterator.next();
	var v1 = v0;
	while(iterator.hasNext()) {
		var v2 = iterator.next();
		g2.drawLine(v1.x + x,v1.y + y,v2.x + x,v2.y + y,strength);
		v1 = v2;
	}
	g2.drawLine(v1.x + x,v1.y + y,v0.x + x,v0.y + y,strength);
};
kha_graphics2_GraphicsExtension.fillPolygon = function(g2,x,y,vertices) {
	var iterator = HxOverrides.iter(vertices);
	if(!iterator.hasNext()) {
		return;
	}
	var v0 = iterator.next();
	if(!iterator.hasNext()) {
		return;
	}
	var v1 = iterator.next();
	while(iterator.hasNext()) {
		var v2 = iterator.next();
		g2.fillTriangle(v0.x + x,v0.y + y,v1.x + x,v1.y + y,v2.x + x,v2.y + y);
		v1 = v2;
	}
};
kha_graphics2_GraphicsExtension.drawCubicBezier = function(g2,x,y,segments,strength) {
	if(strength == null) {
		strength = 1.0;
	}
	if(segments == null) {
		segments = 20;
	}
	var t;
	var q0 = kha_graphics2_GraphicsExtension.calculateCubicBezierPoint(0,x,y);
	var q1;
	var _g1 = 1;
	var _g = segments + 1;
	while(_g1 < _g) {
		var i = _g1++;
		t = i / segments;
		q1 = kha_graphics2_GraphicsExtension.calculateCubicBezierPoint(t,x,y);
		g2.drawLine(q0[0],q0[1],q1[0],q1[1],strength);
		q0 = q1;
	}
};
kha_graphics2_GraphicsExtension.drawCubicBezierPath = function(g2,x,y,segments,strength) {
	if(strength == null) {
		strength = 1.0;
	}
	if(segments == null) {
		segments = 20;
	}
	var i = 0;
	var t;
	var q0 = null;
	var q1 = null;
	while(i < x.length - 3) {
		if(i == 0) {
			q0 = kha_graphics2_GraphicsExtension.calculateCubicBezierPoint(0,[x[i],x[i + 1],x[i + 2],x[i + 3]],[y[i],y[i + 1],y[i + 2],y[i + 3]]);
		}
		var _g1 = 1;
		var _g = segments + 1;
		while(_g1 < _g) {
			var j = _g1++;
			t = j / segments;
			q1 = kha_graphics2_GraphicsExtension.calculateCubicBezierPoint(t,[x[i],x[i + 1],x[i + 2],x[i + 3]],[y[i],y[i + 1],y[i + 2],y[i + 3]]);
			g2.drawLine(q0[0],q0[1],q1[0],q1[1],strength);
			q0 = q1;
		}
		i += 3;
	}
};
kha_graphics2_GraphicsExtension.calculateCubicBezierPoint = function(t,x,y) {
	var u = 1 - t;
	var tt = t * t;
	var uu = u * u;
	var uuu = uu * u;
	var ttt = tt * t;
	var p = [uuu * x[0],uuu * y[0]];
	p[0] += 3 * uu * t * x[1];
	p[1] += 3 * uu * t * y[1];
	p[0] += 3 * u * tt * x[2];
	p[1] += 3 * u * tt * y[2];
	p[0] += ttt * x[3];
	p[1] += ttt * y[3];
	return p;
};
kha_graphics2_GraphicsExtension.drawAlignedString = function(g2,text,x,y,horAlign,verAlign) {
	var kravur = js_Boot.__cast(g2.get_font() , kha_Kravur);
	var font = kravur._get(g2.get_fontSize(),g2.get_fontGlyphs());
	var xoffset = 0.0;
	if(horAlign == kha_graphics2_HorTextAlignment.TextCenter || horAlign == kha_graphics2_HorTextAlignment.TextRight) {
		var width = font.stringWidth(text);
		if(horAlign == kha_graphics2_HorTextAlignment.TextCenter) {
			xoffset = -width * 0.5;
		} else {
			xoffset = -width;
		}
	}
	var yoffset = 0.0;
	if(verAlign == kha_graphics2_VerTextAlignment.TextMiddle || verAlign == kha_graphics2_VerTextAlignment.TextBottom) {
		var height = font.getHeight();
		if(verAlign == kha_graphics2_VerTextAlignment.TextMiddle) {
			yoffset = -height * 0.5;
		} else {
			yoffset = -height;
		}
	}
	g2.drawString(text,x + xoffset,y + yoffset);
};
kha_graphics2_GraphicsExtension.drawAlignedCharacters = function(g2,text,start,length,x,y,horAlign,verAlign) {
	var kravur = js_Boot.__cast(g2.get_font() , kha_Kravur);
	var font = kravur._get(g2.get_fontSize(),g2.get_fontGlyphs());
	var xoffset = 0.0;
	if(horAlign == kha_graphics2_HorTextAlignment.TextCenter || horAlign == kha_graphics2_HorTextAlignment.TextRight) {
		var width = font.charactersWidth(text,start,length);
		if(horAlign == kha_graphics2_HorTextAlignment.TextCenter) {
			xoffset = -width * 0.5;
		} else {
			xoffset = -width;
		}
	}
	var yoffset = 0.0;
	if(verAlign == kha_graphics2_VerTextAlignment.TextMiddle || verAlign == kha_graphics2_VerTextAlignment.TextBottom) {
		var height = font.getHeight();
		if(verAlign == kha_graphics2_VerTextAlignment.TextMiddle) {
			yoffset = -height * 0.5;
		} else {
			yoffset = -height;
		}
	}
	g2.drawCharacters(text,start,length,x + xoffset,y + yoffset);
};
var kha_graphics2_HorTextAlignment = $hxClasses["kha.graphics2.HorTextAlignment"] = { __ename__ : ["kha","graphics2","HorTextAlignment"], __constructs__ : ["TextLeft","TextCenter","TextRight"] };
kha_graphics2_HorTextAlignment.TextLeft = ["TextLeft",0];
kha_graphics2_HorTextAlignment.TextLeft.toString = $estr;
kha_graphics2_HorTextAlignment.TextLeft.__enum__ = kha_graphics2_HorTextAlignment;
kha_graphics2_HorTextAlignment.TextCenter = ["TextCenter",1];
kha_graphics2_HorTextAlignment.TextCenter.toString = $estr;
kha_graphics2_HorTextAlignment.TextCenter.__enum__ = kha_graphics2_HorTextAlignment;
kha_graphics2_HorTextAlignment.TextRight = ["TextRight",2];
kha_graphics2_HorTextAlignment.TextRight.toString = $estr;
kha_graphics2_HorTextAlignment.TextRight.__enum__ = kha_graphics2_HorTextAlignment;
var kha_graphics2_ImageScaleQuality = $hxClasses["kha.graphics2.ImageScaleQuality"] = { __ename__ : ["kha","graphics2","ImageScaleQuality"], __constructs__ : ["Low","High"] };
kha_graphics2_ImageScaleQuality.Low = ["Low",0];
kha_graphics2_ImageScaleQuality.Low.toString = $estr;
kha_graphics2_ImageScaleQuality.Low.__enum__ = kha_graphics2_ImageScaleQuality;
kha_graphics2_ImageScaleQuality.High = ["High",1];
kha_graphics2_ImageScaleQuality.High.toString = $estr;
kha_graphics2_ImageScaleQuality.High.__enum__ = kha_graphics2_ImageScaleQuality;
var kha_graphics2_VerTextAlignment = $hxClasses["kha.graphics2.VerTextAlignment"] = { __ename__ : ["kha","graphics2","VerTextAlignment"], __constructs__ : ["TextTop","TextMiddle","TextBottom"] };
kha_graphics2_VerTextAlignment.TextTop = ["TextTop",0];
kha_graphics2_VerTextAlignment.TextTop.toString = $estr;
kha_graphics2_VerTextAlignment.TextTop.__enum__ = kha_graphics2_VerTextAlignment;
kha_graphics2_VerTextAlignment.TextMiddle = ["TextMiddle",1];
kha_graphics2_VerTextAlignment.TextMiddle.toString = $estr;
kha_graphics2_VerTextAlignment.TextMiddle.__enum__ = kha_graphics2_VerTextAlignment;
kha_graphics2_VerTextAlignment.TextBottom = ["TextBottom",2];
kha_graphics2_VerTextAlignment.TextBottom.toString = $estr;
kha_graphics2_VerTextAlignment.TextBottom.__enum__ = kha_graphics2_VerTextAlignment;
var kha_graphics2_truetype_VectorOfIntPointer = $hxClasses["kha.graphics2.truetype.VectorOfIntPointer"] = function() {
};
kha_graphics2_truetype_VectorOfIntPointer.__name__ = ["kha","graphics2","truetype","VectorOfIntPointer"];
kha_graphics2_truetype_VectorOfIntPointer.prototype = {
	value: null
	,__class__: kha_graphics2_truetype_VectorOfIntPointer
};
var kha_graphics2_truetype_Stbtt_$temp_$rect = $hxClasses["kha.graphics2.truetype.Stbtt_temp_rect"] = function() {
};
kha_graphics2_truetype_Stbtt_$temp_$rect.__name__ = ["kha","graphics2","truetype","Stbtt_temp_rect"];
kha_graphics2_truetype_Stbtt_$temp_$rect.prototype = {
	x0: null
	,y0: null
	,x1: null
	,y1: null
	,__class__: kha_graphics2_truetype_Stbtt_$temp_$rect
};
var kha_graphics2_truetype_Stbtt_$temp_$glyph_$h_$metrics = $hxClasses["kha.graphics2.truetype.Stbtt_temp_glyph_h_metrics"] = function() {
};
kha_graphics2_truetype_Stbtt_$temp_$glyph_$h_$metrics.__name__ = ["kha","graphics2","truetype","Stbtt_temp_glyph_h_metrics"];
kha_graphics2_truetype_Stbtt_$temp_$glyph_$h_$metrics.prototype = {
	advanceWidth: null
	,leftSideBearing: null
	,__class__: kha_graphics2_truetype_Stbtt_$temp_$glyph_$h_$metrics
};
var kha_graphics2_truetype_Stbtt_$temp_$font_$v_$metrics = $hxClasses["kha.graphics2.truetype.Stbtt_temp_font_v_metrics"] = function() {
};
kha_graphics2_truetype_Stbtt_$temp_$font_$v_$metrics.__name__ = ["kha","graphics2","truetype","Stbtt_temp_font_v_metrics"];
kha_graphics2_truetype_Stbtt_$temp_$font_$v_$metrics.prototype = {
	ascent: null
	,descent: null
	,lineGap: null
	,__class__: kha_graphics2_truetype_Stbtt_$temp_$font_$v_$metrics
};
var kha_graphics2_truetype_Stbtt_$temp_$region = $hxClasses["kha.graphics2.truetype.Stbtt_temp_region"] = function() {
};
kha_graphics2_truetype_Stbtt_$temp_$region.__name__ = ["kha","graphics2","truetype","Stbtt_temp_region"];
kha_graphics2_truetype_Stbtt_$temp_$region.prototype = {
	width: null
	,height: null
	,xoff: null
	,yoff: null
	,__class__: kha_graphics2_truetype_Stbtt_$temp_$region
};
var kha_graphics2_truetype_Stbtt_$bakedchar = $hxClasses["kha.graphics2.truetype.Stbtt_bakedchar"] = function() {
};
kha_graphics2_truetype_Stbtt_$bakedchar.__name__ = ["kha","graphics2","truetype","Stbtt_bakedchar"];
kha_graphics2_truetype_Stbtt_$bakedchar.prototype = {
	x0: null
	,y0: null
	,x1: null
	,y1: null
	,xoff: null
	,yoff: null
	,xadvance: null
	,__class__: kha_graphics2_truetype_Stbtt_$bakedchar
};
var kha_graphics2_truetype_Stbtt_$aligned_$quad = $hxClasses["kha.graphics2.truetype.Stbtt_aligned_quad"] = function() { };
kha_graphics2_truetype_Stbtt_$aligned_$quad.__name__ = ["kha","graphics2","truetype","Stbtt_aligned_quad"];
kha_graphics2_truetype_Stbtt_$aligned_$quad.prototype = {
	x0: null
	,y0: null
	,s0: null
	,t0: null
	,x1: null
	,y1: null
	,s1: null
	,t1: null
	,__class__: kha_graphics2_truetype_Stbtt_$aligned_$quad
};
var kha_graphics2_truetype_Stbtt_$packedchar = $hxClasses["kha.graphics2.truetype.Stbtt_packedchar"] = function() { };
kha_graphics2_truetype_Stbtt_$packedchar.__name__ = ["kha","graphics2","truetype","Stbtt_packedchar"];
kha_graphics2_truetype_Stbtt_$packedchar.prototype = {
	x0: null
	,y0: null
	,x1: null
	,y1: null
	,xoff: null
	,yoff: null
	,xadvance: null
	,xoff2: null
	,yoff2: null
	,__class__: kha_graphics2_truetype_Stbtt_$packedchar
};
var kha_graphics2_truetype_Stbtt_$pack_$range = $hxClasses["kha.graphics2.truetype.Stbtt_pack_range"] = function() { };
kha_graphics2_truetype_Stbtt_$pack_$range.__name__ = ["kha","graphics2","truetype","Stbtt_pack_range"];
kha_graphics2_truetype_Stbtt_$pack_$range.prototype = {
	font_size: null
	,first_unicode_codepoint_in_range: null
	,array_of_unicode_codepoints: null
	,num_chars: null
	,chardata_for_range: null
	,h_oversample: null
	,v_oversample: null
	,__class__: kha_graphics2_truetype_Stbtt_$pack_$range
};
var kha_graphics2_truetype_Stbtt_$pack_$context = $hxClasses["kha.graphics2.truetype.Stbtt_pack_context"] = function() { };
kha_graphics2_truetype_Stbtt_$pack_$context.__name__ = ["kha","graphics2","truetype","Stbtt_pack_context"];
kha_graphics2_truetype_Stbtt_$pack_$context.prototype = {
	width: null
	,height: null
	,stride_in_bytes: null
	,padding: null
	,h_oversample: null
	,v_oversample: null
	,pixels: null
	,__class__: kha_graphics2_truetype_Stbtt_$pack_$context
};
var kha_graphics2_truetype_Stbtt_$fontinfo = $hxClasses["kha.graphics2.truetype.Stbtt_fontinfo"] = function() {
};
kha_graphics2_truetype_Stbtt_$fontinfo.__name__ = ["kha","graphics2","truetype","Stbtt_fontinfo"];
kha_graphics2_truetype_Stbtt_$fontinfo.prototype = {
	data: null
	,fontstart: null
	,numGlyphs: null
	,loca: null
	,head: null
	,glyf: null
	,hhea: null
	,hmtx: null
	,kern: null
	,index_map: null
	,indexToLocFormat: null
	,__class__: kha_graphics2_truetype_Stbtt_$fontinfo
};
var kha_graphics2_truetype_Stbtt_$vertex = $hxClasses["kha.graphics2.truetype.Stbtt_vertex"] = function() {
};
kha_graphics2_truetype_Stbtt_$vertex.__name__ = ["kha","graphics2","truetype","Stbtt_vertex"];
kha_graphics2_truetype_Stbtt_$vertex.prototype = {
	x: null
	,y: null
	,cx: null
	,cy: null
	,type: null
	,padding: null
	,__class__: kha_graphics2_truetype_Stbtt_$vertex
};
var kha_graphics2_truetype_Stbtt_$_$bitmap = $hxClasses["kha.graphics2.truetype.Stbtt__bitmap"] = function() {
};
kha_graphics2_truetype_Stbtt_$_$bitmap.__name__ = ["kha","graphics2","truetype","Stbtt__bitmap"];
kha_graphics2_truetype_Stbtt_$_$bitmap.prototype = {
	w: null
	,h: null
	,stride: null
	,pixels: null
	,pixels_offset: null
	,__class__: kha_graphics2_truetype_Stbtt_$_$bitmap
};
var kha_graphics2_truetype_Stbtt_$_$edge = $hxClasses["kha.graphics2.truetype.Stbtt__edge"] = function() {
};
kha_graphics2_truetype_Stbtt_$_$edge.__name__ = ["kha","graphics2","truetype","Stbtt__edge"];
kha_graphics2_truetype_Stbtt_$_$edge.prototype = {
	x0: null
	,y0: null
	,x1: null
	,y1: null
	,invert: null
	,__class__: kha_graphics2_truetype_Stbtt_$_$edge
};
var kha_graphics2_truetype_Stbtt_$_$active_$edge = $hxClasses["kha.graphics2.truetype.Stbtt__active_edge"] = function() {
};
kha_graphics2_truetype_Stbtt_$_$active_$edge.__name__ = ["kha","graphics2","truetype","Stbtt__active_edge"];
kha_graphics2_truetype_Stbtt_$_$active_$edge.prototype = {
	next: null
	,fx: null
	,fdx: null
	,fdy: null
	,direction: null
	,sy: null
	,ey: null
	,__class__: kha_graphics2_truetype_Stbtt_$_$active_$edge
};
var kha_graphics2_truetype_Stbtt_$_$point = $hxClasses["kha.graphics2.truetype.Stbtt__point"] = function() {
};
kha_graphics2_truetype_Stbtt_$_$point.__name__ = ["kha","graphics2","truetype","Stbtt__point"];
kha_graphics2_truetype_Stbtt_$_$point.prototype = {
	x: null
	,y: null
	,__class__: kha_graphics2_truetype_Stbtt_$_$point
};
var kha_graphics2_truetype_StbTruetype = $hxClasses["kha.graphics2.truetype.StbTruetype"] = function() { };
kha_graphics2_truetype_StbTruetype.__name__ = ["kha","graphics2","truetype","StbTruetype"];
kha_graphics2_truetype_StbTruetype.STBTT_assert = function(value) {
	if(!value) {
		throw new js__$Boot_HaxeError("Error");
	}
};
kha_graphics2_truetype_StbTruetype.STBTT_POINT_SIZE = function(x) {
	return -x;
};
kha_graphics2_truetype_StbTruetype.ttBYTE = function(p,pos) {
	if(pos == null) {
		pos = 0;
	}
	return p.readU8(pos);
};
kha_graphics2_truetype_StbTruetype.ttCHAR = function(p,pos) {
	if(pos == null) {
		pos = 0;
	}
	var n = p.readU8(pos);
	if(n >= 128) {
		return n - 256;
	}
	return n;
};
kha_graphics2_truetype_StbTruetype.ttUSHORT = function(p,pos) {
	if(pos == null) {
		pos = 0;
	}
	var ch1 = p.readU8(pos);
	var ch2 = p.readU8(pos + 1);
	return ch2 | ch1 << 8;
};
kha_graphics2_truetype_StbTruetype.ttSHORT = function(p,pos) {
	if(pos == null) {
		pos = 0;
	}
	var ch1 = p.readU8(pos);
	var ch2 = p.readU8(pos + 1);
	var n = ch2 | ch1 << 8;
	if((n & 32768) != 0) {
		return n - 65536;
	}
	return n;
};
kha_graphics2_truetype_StbTruetype.ttULONG = function(p,pos) {
	if(pos == null) {
		pos = 0;
	}
	var ch1 = p.readU8(pos);
	var ch2 = p.readU8(pos + 1);
	var ch3 = p.readU8(pos + 2);
	var ch4 = p.readU8(pos + 3);
	return ch4 | ch3 << 8 | ch2 << 16 | ch1 << 24;
};
kha_graphics2_truetype_StbTruetype.ttLONG = function(p,pos) {
	if(pos == null) {
		pos = 0;
	}
	var ch1 = p.readU8(pos);
	var ch2 = p.readU8(pos + 1);
	var ch3 = p.readU8(pos + 2);
	var ch4 = p.readU8(pos + 3);
	return ch4 | ch3 << 8 | ch2 << 16 | ch1 << 24;
};
kha_graphics2_truetype_StbTruetype.ttFixed = function(p,pos) {
	if(pos == null) {
		pos = 0;
	}
	var ch1 = p.readU8(pos);
	var ch2 = p.readU8(pos + 1);
	var ch3 = p.readU8(pos + 2);
	var ch4 = p.readU8(pos + 3);
	return ch4 | ch3 << 8 | ch2 << 16 | ch1 << 24;
};
kha_graphics2_truetype_StbTruetype.stbtt_tag4 = function(p,pos,c0,c1,c2,c3) {
	if(p.readU8(pos) == c0 && p.readU8(pos + 1) == c1 && p.readU8(pos + 2) == c2) {
		return p.readU8(pos + 3) == c3;
	} else {
		return false;
	}
};
kha_graphics2_truetype_StbTruetype.stbtt_tag = function(p,pos,str) {
	var c0 = HxOverrides.cca(str,0);
	var c1 = HxOverrides.cca(str,1);
	var c2 = HxOverrides.cca(str,2);
	var c3 = HxOverrides.cca(str,3);
	if(p.readU8(pos) == c0 && p.readU8(pos + 1) == c1 && p.readU8(pos + 2) == c2) {
		return p.readU8(pos + 3) == c3;
	} else {
		return false;
	}
};
kha_graphics2_truetype_StbTruetype.stbtt__isfont = function(font) {
	var c0 = HxOverrides.cca("1",0);
	if(font.readU8(0) == c0 && font.readU8(1) == 0 && font.readU8(2) == 0 && font.readU8(3) == 0) {
		return true;
	}
	var c01 = HxOverrides.cca("typ1",0);
	var c1 = HxOverrides.cca("typ1",1);
	var c2 = HxOverrides.cca("typ1",2);
	var c3 = HxOverrides.cca("typ1",3);
	if(font.readU8(0) == c01 && font.readU8(1) == c1 && font.readU8(2) == c2 && font.readU8(3) == c3) {
		return true;
	}
	var c02 = HxOverrides.cca("OTTO",0);
	var c11 = HxOverrides.cca("OTTO",1);
	var c21 = HxOverrides.cca("OTTO",2);
	var c31 = HxOverrides.cca("OTTO",3);
	if(font.readU8(0) == c02 && font.readU8(1) == c11 && font.readU8(2) == c21 && font.readU8(3) == c31) {
		return true;
	}
	if(font.readU8(0) == 0 && font.readU8(1) == 1 && font.readU8(2) == 0 && font.readU8(3) == 0) {
		return true;
	}
	return false;
};
kha_graphics2_truetype_StbTruetype.stbtt__find_table = function(data,fontstart,tag) {
	var pos = fontstart + 4;
	var ch1 = data.readU8(pos);
	var ch2 = data.readU8(pos + 1);
	var num_tables = ch2 | ch1 << 8;
	var tabledir = fontstart + 12;
	var _g1 = 0;
	var _g = num_tables;
	while(_g1 < _g) {
		var i = _g1++;
		var loc = tabledir + 16 * i;
		var c0 = HxOverrides.cca(tag,0);
		var c1 = HxOverrides.cca(tag,1);
		var c2 = HxOverrides.cca(tag,2);
		var c3 = HxOverrides.cca(tag,3);
		if(data.readU8(loc) == c0 && data.readU8(loc + 1) == c1 && data.readU8(loc + 2) == c2 && data.readU8(loc + 3) == c3) {
			var pos1 = loc + 8;
			var ch11 = data.readU8(pos1);
			var ch21 = data.readU8(pos1 + 1);
			var ch3 = data.readU8(pos1 + 2);
			var ch4 = data.readU8(pos1 + 3);
			return ch4 | ch3 << 8 | ch21 << 16 | ch11 << 24;
		}
	}
	return 0;
};
kha_graphics2_truetype_StbTruetype.stbtt_GetFontOffsetForIndex = function(font_collection,index) {
	if(kha_graphics2_truetype_StbTruetype.stbtt__isfont(font_collection)) {
		if(index == 0) {
			return 0;
		} else {
			return -1;
		}
	}
	var c0 = HxOverrides.cca("ttcf",0);
	var c1 = HxOverrides.cca("ttcf",1);
	var c2 = HxOverrides.cca("ttcf",2);
	var c3 = HxOverrides.cca("ttcf",3);
	if(font_collection.readU8(0) == c0 && font_collection.readU8(1) == c1 && font_collection.readU8(2) == c2 && font_collection.readU8(3) == c3) {
		var tmp;
		var ch1 = font_collection.readU8(4);
		var ch2 = font_collection.readU8(5);
		var ch3 = font_collection.readU8(6);
		var ch4 = font_collection.readU8(7);
		if((ch4 | ch3 << 8 | ch2 << 16 | ch1 << 24) != 65536) {
			var ch11 = font_collection.readU8(4);
			var ch21 = font_collection.readU8(5);
			var ch31 = font_collection.readU8(6);
			var ch41 = font_collection.readU8(7);
			tmp = (ch41 | ch31 << 8 | ch21 << 16 | ch11 << 24) == 131072;
		} else {
			tmp = true;
		}
		if(tmp) {
			var ch12 = font_collection.readU8(8);
			var ch22 = font_collection.readU8(9);
			var ch32 = font_collection.readU8(10);
			var ch42 = font_collection.readU8(11);
			var n = ch42 | ch32 << 8 | ch22 << 16 | ch12 << 24;
			if(index >= n) {
				return -1;
			}
			var pos = 12 + index * 4;
			var ch13 = font_collection.readU8(pos);
			var ch23 = font_collection.readU8(pos + 1);
			var ch33 = font_collection.readU8(pos + 2);
			var ch43 = font_collection.readU8(pos + 3);
			return ch43 | ch33 << 8 | ch23 << 16 | ch13 << 24;
		}
	}
	return -1;
};
kha_graphics2_truetype_StbTruetype.stbtt_InitFont = function(info,data,fontstart) {
	var cmap;
	var t;
	var numTables;
	info.data = data;
	info.fontstart = fontstart;
	cmap = kha_graphics2_truetype_StbTruetype.stbtt__find_table(data,fontstart,"cmap");
	info.loca = kha_graphics2_truetype_StbTruetype.stbtt__find_table(data,fontstart,"loca");
	info.head = kha_graphics2_truetype_StbTruetype.stbtt__find_table(data,fontstart,"head");
	info.glyf = kha_graphics2_truetype_StbTruetype.stbtt__find_table(data,fontstart,"glyf");
	info.hhea = kha_graphics2_truetype_StbTruetype.stbtt__find_table(data,fontstart,"hhea");
	info.hmtx = kha_graphics2_truetype_StbTruetype.stbtt__find_table(data,fontstart,"hmtx");
	info.kern = kha_graphics2_truetype_StbTruetype.stbtt__find_table(data,fontstart,"kern");
	if(cmap == 0 || info.loca == 0 || info.head == 0 || info.glyf == 0 || info.hhea == 0 || info.hmtx == 0) {
		return false;
	}
	t = kha_graphics2_truetype_StbTruetype.stbtt__find_table(data,fontstart,"maxp");
	if(t != 0) {
		var pos = t + 4;
		var ch1 = data.readU8(pos);
		var ch2 = data.readU8(pos + 1);
		info.numGlyphs = ch2 | ch1 << 8;
	} else {
		info.numGlyphs = 65535;
	}
	var pos1 = cmap + 2;
	var ch11 = data.readU8(pos1);
	var ch21 = data.readU8(pos1 + 1);
	numTables = ch21 | ch11 << 8;
	info.index_map = 0;
	var _g1 = 0;
	var _g = numTables;
	while(_g1 < _g) {
		var i = _g1++;
		var encoding_record = cmap + 4 + 8 * i;
		var ch12 = data.readU8(encoding_record);
		var ch22 = data.readU8(encoding_record + 1);
		var _g2 = ch22 | ch12 << 8;
		switch(_g2) {
		case 0:
			var pos2 = encoding_record + 4;
			var ch13 = data.readU8(pos2);
			var ch23 = data.readU8(pos2 + 1);
			var ch3 = data.readU8(pos2 + 2);
			var ch4 = data.readU8(pos2 + 3);
			info.index_map = cmap + (ch4 | ch3 << 8 | ch23 << 16 | ch13 << 24);
			break;
		case 3:
			var pos3 = encoding_record + 2;
			var ch14 = data.readU8(pos3);
			var ch24 = data.readU8(pos3 + 1);
			var _g21 = ch24 | ch14 << 8;
			switch(_g21) {
			case 1:case 10:
				var pos4 = encoding_record + 4;
				var ch15 = data.readU8(pos4);
				var ch25 = data.readU8(pos4 + 1);
				var ch31 = data.readU8(pos4 + 2);
				var ch41 = data.readU8(pos4 + 3);
				info.index_map = cmap + (ch41 | ch31 << 8 | ch25 << 16 | ch15 << 24);
				break;
			}
			break;
		}
	}
	if(info.index_map == 0) {
		return false;
	}
	var pos5 = info.head + 50;
	var ch16 = data.readU8(pos5);
	var ch26 = data.readU8(pos5 + 1);
	info.indexToLocFormat = ch26 | ch16 << 8;
	return true;
};
kha_graphics2_truetype_StbTruetype.stbtt_FindGlyphIndex = function(info,unicode_codepoint) {
	var data = info.data;
	var index_map = info.index_map;
	var ch1 = data.readU8(index_map);
	var ch2 = data.readU8(index_map + 1);
	var format = ch2 | ch1 << 8;
	if(format == 0) {
		var pos = index_map + 2;
		var ch11 = data.readU8(pos);
		var ch21 = data.readU8(pos + 1);
		var bytes = ch21 | ch11 << 8;
		if(unicode_codepoint < bytes - 6) {
			return data.readU8(index_map + 6 + unicode_codepoint);
		}
		return 0;
	} else if(format == 6) {
		var pos1 = index_map + 6;
		var ch12 = data.readU8(pos1);
		var ch22 = data.readU8(pos1 + 1);
		var first = ch22 | ch12 << 8;
		var pos2 = index_map + 8;
		var ch13 = data.readU8(pos2);
		var ch23 = data.readU8(pos2 + 1);
		var count = ch23 | ch13 << 8;
		if(unicode_codepoint >= first && unicode_codepoint < first + count) {
			var pos3 = index_map + 10 + (unicode_codepoint - first) * 2;
			var ch14 = data.readU8(pos3);
			var ch24 = data.readU8(pos3 + 1);
			return ch24 | ch14 << 8;
		}
		return 0;
	} else if(format == 2) {
		throw new js__$Boot_HaxeError("Error");
	} else if(format == 4) {
		var pos4 = index_map + 6;
		var ch15 = data.readU8(pos4);
		var ch25 = data.readU8(pos4 + 1);
		var segcount = (ch25 | ch15 << 8) >> 1;
		var pos5 = index_map + 8;
		var ch16 = data.readU8(pos5);
		var ch26 = data.readU8(pos5 + 1);
		var searchRange = (ch26 | ch16 << 8) >> 1;
		var pos6 = index_map + 10;
		var ch17 = data.readU8(pos6);
		var ch27 = data.readU8(pos6 + 1);
		var entrySelector = ch27 | ch17 << 8;
		var pos7 = index_map + 12;
		var ch18 = data.readU8(pos7);
		var ch28 = data.readU8(pos7 + 1);
		var rangeShift = (ch28 | ch18 << 8) >> 1;
		var endCount = index_map + 14;
		var search = endCount;
		if(unicode_codepoint > 65535) {
			return 0;
		}
		var pos8 = search + rangeShift * 2;
		var ch19 = data.readU8(pos8);
		var ch29 = data.readU8(pos8 + 1);
		if(unicode_codepoint >= (ch29 | ch19 << 8)) {
			search += rangeShift * 2;
		}
		search -= 2;
		while(entrySelector != 0) {
			var end;
			searchRange >>= 1;
			var pos9 = search + searchRange * 2;
			var ch110 = data.readU8(pos9);
			var ch210 = data.readU8(pos9 + 1);
			end = ch210 | ch110 << 8;
			if(unicode_codepoint > end) {
				search += searchRange * 2;
			}
			--entrySelector;
		}
		search += 2;
		var offset;
		var start;
		var item = search - endCount >> 1;
		var pos10 = endCount + 2 * item;
		var ch111 = data.readU8(pos10);
		var ch211 = data.readU8(pos10 + 1);
		if(unicode_codepoint > (ch211 | ch111 << 8)) {
			throw new js__$Boot_HaxeError("Error");
		}
		var pos11 = index_map + 14 + segcount * 2 + 2 + 2 * item;
		var ch112 = data.readU8(pos11);
		var ch212 = data.readU8(pos11 + 1);
		start = ch212 | ch112 << 8;
		if(unicode_codepoint < start) {
			return 0;
		}
		var pos12 = index_map + 14 + segcount * 6 + 2 + 2 * item;
		var ch113 = data.readU8(pos12);
		var ch213 = data.readU8(pos12 + 1);
		offset = ch213 | ch113 << 8;
		if(offset == 0) {
			var pos13 = index_map + 14 + segcount * 4 + 2 + 2 * item;
			var ch114 = data.readU8(pos13);
			var ch214 = data.readU8(pos13 + 1);
			var n = ch214 | ch114 << 8;
			return unicode_codepoint + ((n & 32768) != 0 ? n - 65536 : n);
		}
		var pos14 = offset + (unicode_codepoint - start) * 2 + index_map + 14 + segcount * 6 + 2 + 2 * item;
		var ch115 = data.readU8(pos14);
		var ch215 = data.readU8(pos14 + 1);
		return ch215 | ch115 << 8;
	} else if(format == 12 || format == 13) {
		var pos15 = index_map + 12;
		var ch116 = data.readU8(pos15);
		var ch216 = data.readU8(pos15 + 1);
		var ch3 = data.readU8(pos15 + 2);
		var ch4 = data.readU8(pos15 + 3);
		var ngroups = ch4 | ch3 << 8 | ch216 << 16 | ch116 << 24;
		var low;
		var high;
		low = 0;
		high = ngroups;
		while(low < high) {
			var mid = low + (high - low >> 1);
			var pos16 = index_map + 16 + mid * 12;
			var ch117 = data.readU8(pos16);
			var ch217 = data.readU8(pos16 + 1);
			var ch31 = data.readU8(pos16 + 2);
			var ch41 = data.readU8(pos16 + 3);
			var start_char = ch41 | ch31 << 8 | ch217 << 16 | ch117 << 24;
			var pos17 = index_map + 16 + mid * 12 + 4;
			var ch118 = data.readU8(pos17);
			var ch218 = data.readU8(pos17 + 1);
			var ch32 = data.readU8(pos17 + 2);
			var ch42 = data.readU8(pos17 + 3);
			var end_char = ch42 | ch32 << 8 | ch218 << 16 | ch118 << 24;
			if(unicode_codepoint < start_char) {
				high = mid;
			} else if(unicode_codepoint > end_char) {
				low = mid + 1;
			} else {
				var pos18 = index_map + 16 + mid * 12 + 8;
				var ch119 = data.readU8(pos18);
				var ch219 = data.readU8(pos18 + 1);
				var ch33 = data.readU8(pos18 + 2);
				var ch43 = data.readU8(pos18 + 3);
				var start_glyph = ch43 | ch33 << 8 | ch219 << 16 | ch119 << 24;
				if(format == 12) {
					return start_glyph + unicode_codepoint - start_char;
				} else {
					return start_glyph;
				}
			}
		}
		return 0;
	}
	throw new js__$Boot_HaxeError("Error");
};
kha_graphics2_truetype_StbTruetype.stbtt_GetCodepointShape = function(info,unicode_codepoint) {
	return kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphShape(info,kha_graphics2_truetype_StbTruetype.stbtt_FindGlyphIndex(info,unicode_codepoint));
};
kha_graphics2_truetype_StbTruetype.stbtt_setvertex = function(v,type,x,y,cx,cy) {
	v.type = type;
	v.x = x;
	v.y = y;
	v.cx = cx;
	v.cy = cy;
};
kha_graphics2_truetype_StbTruetype.stbtt__GetGlyfOffset = function(info,glyph_index) {
	var g1;
	var g2;
	if(glyph_index >= info.numGlyphs) {
		return -1;
	}
	if(info.indexToLocFormat >= 2) {
		return -1;
	}
	if(info.indexToLocFormat == 0) {
		var info1 = info.glyf;
		var p = info.data;
		var pos = info.loca + glyph_index * 2;
		var ch1 = p.readU8(pos);
		var ch2 = p.readU8(pos + 1);
		g1 = info1 + (ch2 | ch1 << 8) * 2;
		var info2 = info.glyf;
		var p1 = info.data;
		var pos1 = info.loca + glyph_index * 2 + 2;
		var ch11 = p1.readU8(pos1);
		var ch21 = p1.readU8(pos1 + 1);
		g2 = info2 + (ch21 | ch11 << 8) * 2;
	} else {
		var info3 = info.glyf;
		var p2 = info.data;
		var pos2 = info.loca + glyph_index * 4;
		var ch12 = p2.readU8(pos2);
		var ch22 = p2.readU8(pos2 + 1);
		var ch3 = p2.readU8(pos2 + 2);
		var ch4 = p2.readU8(pos2 + 3);
		g1 = info3 + (ch4 | ch3 << 8 | ch22 << 16 | ch12 << 24);
		var info4 = info.glyf;
		var p3 = info.data;
		var pos3 = info.loca + glyph_index * 4 + 4;
		var ch13 = p3.readU8(pos3);
		var ch23 = p3.readU8(pos3 + 1);
		var ch31 = p3.readU8(pos3 + 2);
		var ch41 = p3.readU8(pos3 + 3);
		g2 = info4 + (ch41 | ch31 << 8 | ch23 << 16 | ch13 << 24);
	}
	if(g1 == g2) {
		return -1;
	} else {
		return g1;
	}
};
kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBox = function(info,glyph_index,rect) {
	var g = kha_graphics2_truetype_StbTruetype.stbtt__GetGlyfOffset(info,glyph_index);
	if(g < 0) {
		return false;
	}
	var p = info.data;
	var pos = g + 2;
	var ch1 = p.readU8(pos);
	var ch2 = p.readU8(pos + 1);
	var n = ch2 | ch1 << 8;
	rect.x0 = (n & 32768) != 0 ? n - 65536 : n;
	var p1 = info.data;
	var pos1 = g + 4;
	var ch11 = p1.readU8(pos1);
	var ch21 = p1.readU8(pos1 + 1);
	var n1 = ch21 | ch11 << 8;
	rect.y0 = (n1 & 32768) != 0 ? n1 - 65536 : n1;
	var p2 = info.data;
	var pos2 = g + 6;
	var ch12 = p2.readU8(pos2);
	var ch22 = p2.readU8(pos2 + 1);
	var n2 = ch22 | ch12 << 8;
	rect.x1 = (n2 & 32768) != 0 ? n2 - 65536 : n2;
	var p3 = info.data;
	var pos3 = g + 8;
	var ch13 = p3.readU8(pos3);
	var ch23 = p3.readU8(pos3 + 1);
	var n3 = ch23 | ch13 << 8;
	rect.y1 = (n3 & 32768) != 0 ? n3 - 65536 : n3;
	return true;
};
kha_graphics2_truetype_StbTruetype.stbtt_GetCodepointBox = function(info,codepoint,rect) {
	return kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBox(info,kha_graphics2_truetype_StbTruetype.stbtt_FindGlyphIndex(info,codepoint),rect);
};
kha_graphics2_truetype_StbTruetype.stbtt_IsGlyphEmpty = function(info,glyph_index) {
	var numberOfContours;
	var g = kha_graphics2_truetype_StbTruetype.stbtt__GetGlyfOffset(info,glyph_index);
	if(g < 0) {
		return true;
	}
	var p = info.data;
	var ch1 = p.readU8(g);
	var ch2 = p.readU8(g + 1);
	var n = ch2 | ch1 << 8;
	if((n & 32768) != 0) {
		numberOfContours = n - 65536;
	} else {
		numberOfContours = n;
	}
	return numberOfContours == 0;
};
kha_graphics2_truetype_StbTruetype.stbtt__close_shape = function(vertices,num_vertices,was_off,start_off,sx,sy,scx,scy,cx,cy) {
	if(start_off) {
		if(was_off) {
			kha_graphics2_truetype_StbTruetype.stbtt_setvertex(vertices[num_vertices++],3,cx + scx >> 1,cy + scy >> 1,cx,cy);
		}
		kha_graphics2_truetype_StbTruetype.stbtt_setvertex(vertices[num_vertices++],3,sx,sy,scx,scy);
	} else if(was_off) {
		kha_graphics2_truetype_StbTruetype.stbtt_setvertex(vertices[num_vertices++],3,sx,sy,cx,cy);
	} else {
		kha_graphics2_truetype_StbTruetype.stbtt_setvertex(vertices[num_vertices++],2,sx,sy,0,0);
	}
	return num_vertices;
};
kha_graphics2_truetype_StbTruetype.copyVertices = function(from,to,offset,count) {
	var _g1 = 0;
	var _g = count;
	while(_g1 < _g) {
		var i = _g1++;
		to[offset + i] = from[i];
	}
};
kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphShape = function(info,glyph_index) {
	var numberOfContours;
	var endPtsOfContours;
	var data = info.data;
	var vertices = null;
	var num_vertices = 0;
	var g = kha_graphics2_truetype_StbTruetype.stbtt__GetGlyfOffset(info,glyph_index);
	if(g < 0) {
		return null;
	}
	var ch1 = data.readU8(g);
	var ch2 = data.readU8(g + 1);
	var n = ch2 | ch1 << 8;
	if((n & 32768) != 0) {
		numberOfContours = n - 65536;
	} else {
		numberOfContours = n;
	}
	if(numberOfContours > 0) {
		var flags = 0;
		var flagcount;
		var ins;
		var j = 0;
		var m;
		var n1;
		var next_move = 0;
		var off = 0;
		var was_off = false;
		var start_off = false;
		var x;
		var y;
		var cx;
		var cy;
		var sx;
		var sy;
		var scx;
		var scy;
		var points;
		var pointsIndex = 0;
		endPtsOfContours = data.sub(g + 10,data.get_length() - (g + 10));
		var pos = g + 10 + numberOfContours * 2;
		var ch11 = data.readU8(pos);
		var ch21 = data.readU8(pos + 1);
		ins = ch21 | ch11 << 8;
		points = data.sub(g + 10 + numberOfContours * 2 + 2 + ins,data.get_length() - (g + 10 + numberOfContours * 2 + 2 + ins));
		var pos1 = numberOfContours * 2 - 2;
		var ch12 = endPtsOfContours.readU8(pos1);
		var ch22 = endPtsOfContours.readU8(pos1 + 1);
		n1 = 1 + (ch22 | ch12 << 8);
		m = n1 + 2 * numberOfContours;
		var this1 = new Array(m);
		vertices = this1;
		if(vertices == null) {
			return null;
		} else {
			var _g1 = 0;
			var _g = vertices.length;
			while(_g1 < _g) {
				var i = _g1++;
				vertices[i] = new kha_graphics2_truetype_Stbtt_$vertex();
			}
		}
		next_move = 0;
		flagcount = 0;
		off = m - n1;
		var _g11 = 0;
		var _g2 = n1;
		while(_g11 < _g2) {
			var i1 = _g11++;
			if(flagcount == 0) {
				flags = points.readU8(pointsIndex++);
				if((flags & 8) != 0) {
					flagcount = points.readU8(pointsIndex++);
				}
			} else {
				--flagcount;
			}
			vertices[off + i1].type = flags;
		}
		x = 0;
		var _g12 = 0;
		var _g3 = n1;
		while(_g12 < _g3) {
			var i2 = _g12++;
			flags = vertices[off + i2].type;
			if((flags & 2) != 0) {
				var dx = points.readU8(pointsIndex++);
				x += (flags & 16) != 0 ? dx : -dx;
			} else if((flags & 16) == 0) {
				var value;
				var ch13 = points.readU8(pointsIndex);
				var ch23 = points.readU8(pointsIndex + 1);
				var n2 = ch23 | ch13 << 8;
				if((n2 & 32768) != 0) {
					value = n2 - 65536;
				} else {
					value = n2;
				}
				x += value;
				pointsIndex += 2;
			}
			vertices[off + i2].x = x;
		}
		y = 0;
		var _g13 = 0;
		var _g4 = n1;
		while(_g13 < _g4) {
			var i3 = _g13++;
			flags = vertices[off + i3].type;
			if((flags & 4) != 0) {
				var dy = points.readU8(pointsIndex++);
				y += (flags & 32) != 0 ? dy : -dy;
			} else if((flags & 32) == 0) {
				var value1;
				var ch14 = points.readU8(pointsIndex);
				var ch24 = points.readU8(pointsIndex + 1);
				var n3 = ch24 | ch14 << 8;
				if((n3 & 32768) != 0) {
					value1 = n3 - 65536;
				} else {
					value1 = n3;
				}
				y += value1;
				pointsIndex += 2;
			}
			vertices[off + i3].y = y;
		}
		num_vertices = 0;
		scy = 0;
		scx = scy;
		cy = scx;
		cx = cy;
		sy = cx;
		sx = sy;
		var i4 = 0;
		while(i4 < n1) {
			flags = vertices[off + i4].type;
			x = vertices[off + i4].x;
			y = vertices[off + i4].y;
			if(next_move == i4) {
				if(i4 != 0) {
					num_vertices = kha_graphics2_truetype_StbTruetype.stbtt__close_shape(vertices,num_vertices,was_off,start_off,sx,sy,scx,scy,cx,cy);
				}
				start_off = (flags & 1) == 0;
				if(start_off) {
					scx = x;
					scy = y;
					if((vertices[off + i4 + 1].type & 1) == 0) {
						sx = x + vertices[off + i4 + 1].x >> 1;
						sy = y + vertices[off + i4 + 1].y >> 1;
					} else {
						sx = vertices[off + i4 + 1].x;
						sy = vertices[off + i4 + 1].y;
						++i4;
					}
				} else {
					sx = x;
					sy = y;
				}
				kha_graphics2_truetype_StbTruetype.stbtt_setvertex(vertices[num_vertices++],1,sx,sy,0,0);
				was_off = false;
				var pos2 = j * 2;
				var ch15 = endPtsOfContours.readU8(pos2);
				var ch25 = endPtsOfContours.readU8(pos2 + 1);
				next_move = 1 + (ch25 | ch15 << 8);
				++j;
			} else if((flags & 1) == 0) {
				if(was_off) {
					kha_graphics2_truetype_StbTruetype.stbtt_setvertex(vertices[num_vertices++],3,cx + x >> 1,cy + y >> 1,cx,cy);
				}
				cx = x;
				cy = y;
				was_off = true;
			} else {
				if(was_off) {
					kha_graphics2_truetype_StbTruetype.stbtt_setvertex(vertices[num_vertices++],3,x,y,cx,cy);
				} else {
					kha_graphics2_truetype_StbTruetype.stbtt_setvertex(vertices[num_vertices++],2,x,y,0,0);
				}
				was_off = false;
			}
			++i4;
		}
		num_vertices = kha_graphics2_truetype_StbTruetype.stbtt__close_shape(vertices,num_vertices,was_off,start_off,sx,sy,scx,scy,cx,cy);
	} else if(numberOfContours == -1) {
		var more = 1;
		var comp = data.sub(g + 10,data.get_length() - (g + 10));
		var compIndex = 0;
		num_vertices = 0;
		vertices = null;
		while(more != 0) {
			var flags1;
			var gidx;
			var comp_num_verts = 0;
			var i5;
			var comp_verts = null;
			var tmp = null;
			var mtx0 = 1;
			var mtx1 = 0;
			var mtx2 = 0;
			var mtx3 = 1;
			var mtx4 = 0;
			var mtx5 = 0;
			var m1;
			var n4;
			var ch16 = comp.readU8(compIndex);
			var ch26 = comp.readU8(compIndex + 1);
			var n5 = ch26 | ch16 << 8;
			if((n5 & 32768) != 0) {
				flags1 = n5 - 65536;
			} else {
				flags1 = n5;
			}
			compIndex += 2;
			var ch17 = comp.readU8(compIndex);
			var ch27 = comp.readU8(compIndex + 1);
			var n6 = ch27 | ch17 << 8;
			if((n6 & 32768) != 0) {
				gidx = n6 - 65536;
			} else {
				gidx = n6;
			}
			compIndex += 2;
			if((flags1 & 2) != 0) {
				if((flags1 & 1) != 0) {
					var ch18 = comp.readU8(compIndex);
					var ch28 = comp.readU8(compIndex + 1);
					var n7 = ch28 | ch18 << 8;
					if((n7 & 32768) != 0) {
						mtx4 = n7 - 65536;
					} else {
						mtx4 = n7;
					}
					compIndex += 2;
					var ch19 = comp.readU8(compIndex);
					var ch29 = comp.readU8(compIndex + 1);
					var n8 = ch29 | ch19 << 8;
					if((n8 & 32768) != 0) {
						mtx5 = n8 - 65536;
					} else {
						mtx5 = n8;
					}
					compIndex += 2;
				} else {
					var n9 = comp.readU8(compIndex);
					if(n9 >= 128) {
						mtx4 = n9 - 256;
					} else {
						mtx4 = n9;
					}
					++compIndex;
					var n10 = comp.readU8(compIndex);
					if(n10 >= 128) {
						mtx5 = n10 - 256;
					} else {
						mtx5 = n10;
					}
					++compIndex;
				}
			} else {
				throw new js__$Boot_HaxeError("Error");
			}
			if((flags1 & 8) != 0) {
				var ch110 = comp.readU8(compIndex);
				var ch210 = comp.readU8(compIndex + 1);
				var n11 = ch210 | ch110 << 8;
				mtx3 = ((n11 & 32768) != 0 ? n11 - 65536 : n11) / 16384.0;
				mtx0 = mtx3;
				compIndex += 2;
				mtx2 = 0;
				mtx1 = mtx2;
			} else if((flags1 & 64) != 0) {
				var ch111 = comp.readU8(compIndex);
				var ch211 = comp.readU8(compIndex + 1);
				var n12 = ch211 | ch111 << 8;
				mtx0 = ((n12 & 32768) != 0 ? n12 - 65536 : n12) / 16384.0;
				compIndex += 2;
				mtx2 = 0;
				mtx1 = mtx2;
				var ch112 = comp.readU8(compIndex);
				var ch212 = comp.readU8(compIndex + 1);
				var n13 = ch212 | ch112 << 8;
				mtx3 = ((n13 & 32768) != 0 ? n13 - 65536 : n13) / 16384.0;
				compIndex += 2;
			} else if((flags1 & 128) != 0) {
				var ch113 = comp.readU8(compIndex);
				var ch213 = comp.readU8(compIndex + 1);
				var n14 = ch213 | ch113 << 8;
				mtx0 = ((n14 & 32768) != 0 ? n14 - 65536 : n14) / 16384.0;
				compIndex += 2;
				var ch114 = comp.readU8(compIndex);
				var ch214 = comp.readU8(compIndex + 1);
				var n15 = ch214 | ch114 << 8;
				mtx1 = ((n15 & 32768) != 0 ? n15 - 65536 : n15) / 16384.0;
				compIndex += 2;
				var ch115 = comp.readU8(compIndex);
				var ch215 = comp.readU8(compIndex + 1);
				var n16 = ch215 | ch115 << 8;
				mtx2 = ((n16 & 32768) != 0 ? n16 - 65536 : n16) / 16384.0;
				compIndex += 2;
				var ch116 = comp.readU8(compIndex);
				var ch216 = comp.readU8(compIndex + 1);
				var n17 = ch216 | ch116 << 8;
				mtx3 = ((n17 & 32768) != 0 ? n17 - 65536 : n17) / 16384.0;
				compIndex += 2;
			}
			m1 = Math.sqrt(mtx0 * mtx0 + mtx1 * mtx1);
			n4 = Math.sqrt(mtx2 * mtx2 + mtx3 * mtx3);
			comp_verts = kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphShape(info,gidx);
			if(comp_verts == null) {
				comp_num_verts = 0;
			} else {
				comp_num_verts = comp_verts.length;
			}
			if(comp_num_verts > 0) {
				var _g14 = 0;
				var _g5 = comp_num_verts;
				while(_g14 < _g5) {
					var i6 = _g14++;
					var v = comp_verts[i6];
					var x1;
					var y1;
					x1 = v.x;
					y1 = v.y;
					v.x = m1 * (mtx0 * x1 + mtx2 * y1 + mtx4) | 0;
					v.y = n4 * (mtx1 * x1 + mtx3 * y1 + mtx5) | 0;
					x1 = v.cx;
					y1 = v.cy;
					v.cx = m1 * (mtx0 * x1 + mtx2 * y1 + mtx4) | 0;
					v.cy = n4 * (mtx1 * x1 + mtx3 * y1 + mtx5) | 0;
				}
				var this2 = new Array(num_vertices + comp_num_verts);
				tmp = this2;
				if(tmp == null) {
					return null;
				}
				if(num_vertices > 0) {
					kha_graphics2_truetype_StbTruetype.copyVertices(vertices,tmp,0,num_vertices);
				}
				kha_graphics2_truetype_StbTruetype.copyVertices(comp_verts,tmp,num_vertices,comp_num_verts);
				vertices = tmp;
				num_vertices += comp_num_verts;
			}
			more = flags1 & 32;
		}
	} else if(numberOfContours < 0) {
		throw new js__$Boot_HaxeError("Error");
	}
	if(vertices == null) {
		return null;
	}
	if(vertices.length < num_vertices) {
		throw new js__$Boot_HaxeError("Error");
	}
	if(num_vertices < vertices.length) {
		var this3 = new Array(num_vertices);
		var tmp1 = this3;
		kha_graphics2_truetype_StbTruetype.copyVertices(vertices,tmp1,0,num_vertices);
		return tmp1;
	} else {
		return vertices;
	}
};
kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphHMetrics = function(info,glyph_index) {
	var p = info.data;
	var pos = info.hhea + 34;
	var ch1 = p.readU8(pos);
	var ch2 = p.readU8(pos + 1);
	var numOfLongHorMetrics = ch2 | ch1 << 8;
	var metrics = new kha_graphics2_truetype_Stbtt_$temp_$glyph_$h_$metrics();
	if(glyph_index < numOfLongHorMetrics) {
		var p1 = info.data;
		var pos1 = info.hmtx + 4 * glyph_index;
		var ch11 = p1.readU8(pos1);
		var ch21 = p1.readU8(pos1 + 1);
		var n = ch21 | ch11 << 8;
		metrics.advanceWidth = (n & 32768) != 0 ? n - 65536 : n;
		var p2 = info.data;
		var pos2 = info.hmtx + 4 * glyph_index + 2;
		var ch12 = p2.readU8(pos2);
		var ch22 = p2.readU8(pos2 + 1);
		var n1 = ch22 | ch12 << 8;
		metrics.leftSideBearing = (n1 & 32768) != 0 ? n1 - 65536 : n1;
	} else {
		var p3 = info.data;
		var pos3 = info.hmtx + 4 * (numOfLongHorMetrics - 1);
		var ch13 = p3.readU8(pos3);
		var ch23 = p3.readU8(pos3 + 1);
		var n2 = ch23 | ch13 << 8;
		metrics.advanceWidth = (n2 & 32768) != 0 ? n2 - 65536 : n2;
		var p4 = info.data;
		var pos4 = info.hmtx + 4 * numOfLongHorMetrics + 2 * (glyph_index - numOfLongHorMetrics);
		var ch14 = p4.readU8(pos4);
		var ch24 = p4.readU8(pos4 + 1);
		var n3 = ch24 | ch14 << 8;
		metrics.leftSideBearing = (n3 & 32768) != 0 ? n3 - 65536 : n3;
	}
	return metrics;
};
kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphKernAdvance = function(info,glyph1,glyph2) {
	var data = info.data.sub(info.kern,info.data.get_length() - info.kern);
	var needle;
	var straw;
	var l;
	var r;
	var m;
	if(info.kern == 0) {
		return 0;
	}
	var ch1 = data.readU8(2);
	var ch2 = data.readU8(3);
	if((ch2 | ch1 << 8) < 1) {
		return 0;
	}
	var ch11 = data.readU8(8);
	var ch21 = data.readU8(9);
	if((ch21 | ch11 << 8) != 1) {
		return 0;
	}
	l = 0;
	var ch12 = data.readU8(10);
	var ch22 = data.readU8(11);
	r = (ch22 | ch12 << 8) - 1;
	needle = glyph1 << 16 | glyph2;
	while(l <= r) {
		m = l + r >> 1;
		var pos = 18 + m * 6;
		var ch13 = data.readU8(pos);
		var ch23 = data.readU8(pos + 1);
		var ch3 = data.readU8(pos + 2);
		var ch4 = data.readU8(pos + 3);
		straw = ch4 | ch3 << 8 | ch23 << 16 | ch13 << 24;
		if(needle < straw) {
			r = m - 1;
		} else if(needle > straw) {
			l = m + 1;
		} else {
			var pos1 = 22 + m * 6;
			var ch14 = data.readU8(pos1);
			var ch24 = data.readU8(pos1 + 1);
			var n = ch24 | ch14 << 8;
			if((n & 32768) != 0) {
				return n - 65536;
			} else {
				return n;
			}
		}
	}
	return 0;
};
kha_graphics2_truetype_StbTruetype.stbtt_GetCodepointKernAdvance = function(info,ch1,ch2) {
	if(info.kern == 0) {
		return 0;
	}
	return kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphKernAdvance(info,kha_graphics2_truetype_StbTruetype.stbtt_FindGlyphIndex(info,ch1),kha_graphics2_truetype_StbTruetype.stbtt_FindGlyphIndex(info,ch2));
};
kha_graphics2_truetype_StbTruetype.stbtt_GetCodepointHMetrics = function(info,codepoint) {
	return kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphHMetrics(info,kha_graphics2_truetype_StbTruetype.stbtt_FindGlyphIndex(info,codepoint));
};
kha_graphics2_truetype_StbTruetype.stbtt_GetFontVMetrics = function(info) {
	var metrics = new kha_graphics2_truetype_Stbtt_$temp_$font_$v_$metrics();
	var p = info.data;
	var pos = info.hhea + 4;
	var ch1 = p.readU8(pos);
	var ch2 = p.readU8(pos + 1);
	var n = ch2 | ch1 << 8;
	metrics.ascent = (n & 32768) != 0 ? n - 65536 : n;
	var p1 = info.data;
	var pos1 = info.hhea + 6;
	var ch11 = p1.readU8(pos1);
	var ch21 = p1.readU8(pos1 + 1);
	var n1 = ch21 | ch11 << 8;
	metrics.descent = (n1 & 32768) != 0 ? n1 - 65536 : n1;
	var p2 = info.data;
	var pos2 = info.hhea + 8;
	var ch12 = p2.readU8(pos2);
	var ch22 = p2.readU8(pos2 + 1);
	var n2 = ch22 | ch12 << 8;
	metrics.lineGap = (n2 & 32768) != 0 ? n2 - 65536 : n2;
	return metrics;
};
kha_graphics2_truetype_StbTruetype.stbtt_GetFontBoundingBox = function(info) {
	var rect = new kha_graphics2_truetype_Stbtt_$temp_$rect();
	var p = info.data;
	var pos = info.head + 36;
	var ch1 = p.readU8(pos);
	var ch2 = p.readU8(pos + 1);
	var n = ch2 | ch1 << 8;
	rect.x0 = (n & 32768) != 0 ? n - 65536 : n;
	var p1 = info.data;
	var pos1 = info.head + 38;
	var ch11 = p1.readU8(pos1);
	var ch21 = p1.readU8(pos1 + 1);
	var n1 = ch21 | ch11 << 8;
	rect.y0 = (n1 & 32768) != 0 ? n1 - 65536 : n1;
	var p2 = info.data;
	var pos2 = info.head + 40;
	var ch12 = p2.readU8(pos2);
	var ch22 = p2.readU8(pos2 + 1);
	var n2 = ch22 | ch12 << 8;
	rect.x1 = (n2 & 32768) != 0 ? n2 - 65536 : n2;
	var p3 = info.data;
	var pos3 = info.head + 42;
	var ch13 = p3.readU8(pos3);
	var ch23 = p3.readU8(pos3 + 1);
	var n3 = ch23 | ch13 << 8;
	rect.y1 = (n3 & 32768) != 0 ? n3 - 65536 : n3;
	return rect;
};
kha_graphics2_truetype_StbTruetype.stbtt_ScaleForPixelHeight = function(info,height) {
	var p = info.data;
	var pos = info.hhea + 4;
	var ch1 = p.readU8(pos);
	var ch2 = p.readU8(pos + 1);
	var n = ch2 | ch1 << 8;
	var p1 = info.data;
	var pos1 = info.hhea + 6;
	var ch11 = p1.readU8(pos1);
	var ch21 = p1.readU8(pos1 + 1);
	var n1 = ch21 | ch11 << 8;
	var fheight = ((n & 32768) != 0 ? n - 65536 : n) - ((n1 & 32768) != 0 ? n1 - 65536 : n1);
	return height / fheight;
};
kha_graphics2_truetype_StbTruetype.stbtt_ScaleForMappingEmToPixels = function(info,pixels) {
	var p = info.data;
	var pos = info.head + 18;
	var ch1 = p.readU8(pos);
	var ch2 = p.readU8(pos + 1);
	var unitsPerEm = ch2 | ch1 << 8;
	return pixels / unitsPerEm;
};
kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBitmapBoxSubpixel = function(font,glyph,scale_x,scale_y,shift_x,shift_y) {
	var rect = new kha_graphics2_truetype_Stbtt_$temp_$rect();
	if(!kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBox(font,glyph,rect)) {
		rect.x0 = 0;
		rect.y0 = 0;
		rect.x1 = 0;
		rect.y1 = 0;
	} else {
		var x0 = rect.x0;
		var x1 = rect.x1;
		var y0 = rect.y0;
		var y1 = rect.y1;
		rect.x0 = Math.floor(x0 * scale_x + shift_x);
		rect.y0 = Math.floor(-y1 * scale_y + shift_y);
		rect.x1 = Math.ceil(x1 * scale_x + shift_x);
		rect.y1 = Math.ceil(-y0 * scale_y + shift_y);
	}
	return rect;
};
kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBitmapBox = function(font,glyph,scale_x,scale_y) {
	return kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBitmapBoxSubpixel(font,glyph,scale_x,scale_y,0.0,0.0);
};
kha_graphics2_truetype_StbTruetype.stbtt_GetCodepointBitmapBoxSubpixel = function(font,codepoint,scale_x,scale_y,shift_x,shift_y) {
	return kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBitmapBoxSubpixel(font,kha_graphics2_truetype_StbTruetype.stbtt_FindGlyphIndex(font,codepoint),scale_x,scale_y,shift_x,shift_y);
};
kha_graphics2_truetype_StbTruetype.stbtt_GetCodepointBitmapBox = function(font,codepoint,scale_x,scale_y) {
	return kha_graphics2_truetype_StbTruetype.stbtt_GetCodepointBitmapBoxSubpixel(font,codepoint,scale_x,scale_y,0.0,0.0);
};
kha_graphics2_truetype_StbTruetype.stbtt__new_active = function(e,eIndex,off_x,start_point) {
	var z = new kha_graphics2_truetype_Stbtt_$_$active_$edge();
	var dxdy = (e[eIndex].x1 - e[eIndex].x0) / (e[eIndex].y1 - e[eIndex].y0);
	if(z == null) {
		return z;
	}
	z.fdx = dxdy;
	z.fdy = dxdy != 0.0 ? 1.0 / dxdy : 0.0;
	z.fx = e[eIndex].x0 + dxdy * (start_point - e[eIndex].y0);
	z.fx -= off_x;
	z.direction = e[eIndex].invert ? 1.0 : -1.0;
	z.sy = e[eIndex].y0;
	z.ey = e[eIndex].y1;
	z.next = null;
	return z;
};
kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge = function(scanline,scanlineIndex,x,e,x0,y0,x1,y1) {
	if(y0 == y1) {
		return;
	}
	if(!(y0 < y1)) {
		throw new js__$Boot_HaxeError("Error");
	}
	if(!(e.sy <= e.ey)) {
		throw new js__$Boot_HaxeError("Error");
	}
	if(y0 > e.ey) {
		return;
	}
	if(y1 < e.sy) {
		return;
	}
	if(y0 < e.sy) {
		x0 += (x1 - x0) * (e.sy - y0) / (y1 - y0);
		y0 = e.sy;
	}
	if(y1 > e.ey) {
		x1 += (x1 - x0) * (e.ey - y1) / (y1 - y0);
		y1 = e.ey;
	}
	if(x0 == x) {
		if(!(x1 <= x + 1)) {
			throw new js__$Boot_HaxeError("Error");
		}
	} else if(x0 == x + 1) {
		if(!(x1 >= x)) {
			throw new js__$Boot_HaxeError("Error");
		}
	} else if(x0 <= x) {
		if(!(x1 <= x)) {
			throw new js__$Boot_HaxeError("Error");
		}
	} else if(x0 >= x + 1) {
		if(!(x1 >= x + 1)) {
			throw new js__$Boot_HaxeError("Error");
		}
	} else if(!(x1 >= x && x1 <= x + 1)) {
		throw new js__$Boot_HaxeError("Error");
	}
	if(x0 <= x && x1 <= x) {
		var _g = scanlineIndex + x;
		var _g1 = scanline;
		_g1[_g] = _g1[_g] + e.direction * (y1 - y0);
	} else if(!(x0 >= x + 1 && x1 >= x + 1)) {
		if(!(x0 >= x && x0 <= x + 1 && x1 >= x && x1 <= x + 1)) {
			throw new js__$Boot_HaxeError("Error");
		}
		var _g2 = scanlineIndex + x;
		var _g11 = scanline;
		_g11[_g2] = _g11[_g2] + e.direction * (y1 - y0) * (1 - (x0 - x + (x1 - x)) / 2);
	}
};
kha_graphics2_truetype_StbTruetype.stbtt__fill_active_edges_new = function(scanline,scanline_fill,scanline_fillIndex,len,e,y_top) {
	var y_bottom = y_top + 1;
	while(e != null) {
		if(!(e.ey >= y_top)) {
			throw new js__$Boot_HaxeError("Error");
		}
		if(e.fdx == 0) {
			var x0 = e.fx;
			if(x0 < len) {
				if(x0 >= 0) {
					kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x0 | 0,e,x0,y_top,x0,y_bottom);
					kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline_fill,scanline_fillIndex - 1,x0 + 1 | 0,e,x0,y_top,x0,y_bottom);
				} else {
					kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline_fill,scanline_fillIndex - 1,0,e,x0,y_top,x0,y_bottom);
				}
			}
		} else {
			var x01 = e.fx;
			var dx = e.fdx;
			var xb = x01 + dx;
			var x_top;
			var x_bottom;
			var sy0;
			var sy1;
			var dy = e.fdy;
			if(!(e.sy <= y_bottom && e.ey >= y_top)) {
				throw new js__$Boot_HaxeError("Error");
			}
			if(e.sy > y_top) {
				x_top = x01 + dx * (e.sy - y_top);
				sy0 = e.sy;
			} else {
				x_top = x01;
				sy0 = y_top;
			}
			if(e.ey < y_bottom) {
				x_bottom = x01 + dx * (e.ey - y_top);
				sy1 = e.ey;
			} else {
				x_bottom = xb;
				sy1 = y_bottom;
			}
			if(x_top >= 0 && x_bottom >= 0 && x_top < len && x_bottom < len) {
				if((x_top | 0) == (x_bottom | 0)) {
					var height;
					var x = x_top | 0;
					height = sy1 - sy0;
					if(!(x >= 0 && x < len)) {
						throw new js__$Boot_HaxeError("Error");
					}
					var _g = x;
					var _g1 = scanline;
					_g1[_g] = _g1[_g] + e.direction * (1 - (x_top - x + (x_bottom - x)) / 2) * height;
					var _g2 = scanline_fillIndex + x;
					var _g11 = scanline_fill;
					_g11[_g2] = _g11[_g2] + e.direction * height;
				} else {
					var x1;
					var x11;
					var x2;
					var y_crossing;
					var step;
					var sign;
					var area;
					if(x_top > x_bottom) {
						var t;
						sy0 = y_bottom - (sy0 - y_top);
						sy1 = y_bottom - (sy1 - y_top);
						t = sy0;
						sy0 = sy1;
						sy1 = t;
						t = x_bottom;
						x_bottom = x_top;
						x_top = t;
						dx = -dx;
						dy = -dy;
						t = x01;
						x01 = xb;
						xb = t;
					}
					x11 = x_top | 0;
					x2 = x_bottom | 0;
					y_crossing = (x11 + 1 - x01) * dy + y_top;
					sign = e.direction;
					area = sign * (y_crossing - sy0);
					var _g3 = x11;
					var _g12 = scanline;
					_g12[_g3] = _g12[_g3] + area * (1 - (x_top - x11 + (x11 + 1 - x11)) / 2);
					step = sign * dy;
					var _g13 = x11 + 1;
					var _g4 = x2;
					while(_g13 < _g4) {
						var x3 = _g13++;
						var _g21 = x3;
						var _g31 = scanline;
						_g31[_g21] = _g31[_g21] + (area + step / 2);
						area += step;
					}
					y_crossing += dy * (x2 - (x11 + 1));
					if(!(Math.abs(area) <= 1.01)) {
						throw new js__$Boot_HaxeError("Error");
					}
					var _g5 = x2;
					var _g14 = scanline;
					_g14[_g5] = _g14[_g5] + (area + sign * (1 - (x2 - x2 + (x_bottom - x2)) / 2) * (sy1 - y_crossing));
					var _g6 = scanline_fillIndex + x2;
					var _g15 = scanline_fill;
					_g15[_g6] = _g15[_g6] + sign * (sy1 - sy0);
				}
			} else {
				var _g16 = 0;
				var _g7 = len;
				while(_g16 < _g7) {
					var x4 = _g16++;
					var y0 = y_top;
					var x12 = x4;
					var x21 = x4 + 1;
					var x31 = xb;
					var y3 = y_bottom;
					var y1;
					var y2;
					y1 = (x4 - x01) / dx + y_top;
					y2 = (x4 + 1 - x01) / dx + y_top;
					if(x01 < x12 && x31 > x21) {
						kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x4,e,x01,y0,x12,y1);
						kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x4,e,x12,y1,x21,y2);
						kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x4,e,x21,y2,x31,y3);
					} else if(x31 < x12 && x01 > x21) {
						kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x4,e,x01,y0,x21,y2);
						kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x4,e,x21,y2,x12,y1);
						kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x4,e,x12,y1,x31,y3);
					} else if(x01 < x12 && x31 > x12) {
						kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x4,e,x01,y0,x12,y1);
						kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x4,e,x12,y1,x31,y3);
					} else if(x31 < x12 && x01 > x12) {
						kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x4,e,x01,y0,x12,y1);
						kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x4,e,x12,y1,x31,y3);
					} else if(x01 < x21 && x31 > x21) {
						kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x4,e,x01,y0,x21,y2);
						kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x4,e,x21,y2,x31,y3);
					} else if(x31 < x21 && x01 > x21) {
						kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x4,e,x01,y0,x21,y2);
						kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x4,e,x21,y2,x31,y3);
					} else {
						kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x4,e,x01,y0,x31,y3);
					}
				}
			}
		}
		e = e.next;
	}
};
kha_graphics2_truetype_StbTruetype.stbtt__rasterize_sorted_edges = function(result,e,n,vsubsample,off_x,off_y) {
	var active = null;
	var y;
	var j = 0;
	var i;
	var scanline;
	var scanline2;
	var scanline2Index = 0;
	var eIndex = 0;
	if(result.w > 64) {
		var length = result.w * 2 + 1;
		var this1 = new Array(length);
		scanline = this1;
	} else {
		var this2 = new Array(129);
		scanline = this2;
	}
	scanline2 = scanline;
	scanline2Index = result.w;
	y = off_y;
	e[eIndex + n].y0 = off_y + result.h + 1;
	while(j < result.h) {
		var scan_y_top = y + 0.0;
		var scan_y_bottom = y + 1.0;
		var step_value;
		var step_parent;
		step_value = active;
		step_parent = null;
		var _g1 = 0;
		var _g = result.w;
		while(_g1 < _g) {
			var i1 = _g1++;
			scanline[i1] = 0;
		}
		var _g11 = 0;
		var _g2 = result.w + 1;
		while(_g11 < _g2) {
			var i2 = _g11++;
			scanline2[scanline2Index + i2] = 0;
		}
		while(step_value != null) {
			var z = step_value;
			if(z.ey <= scan_y_top) {
				if(step_parent == null) {
					active = z.next;
					step_value = z.next;
				} else {
					step_parent.next = z.next;
					step_value = z.next;
				}
				if(z.direction == 0) {
					throw new js__$Boot_HaxeError("Error");
				}
				z.direction = 0;
			} else {
				step_parent = step_value;
				step_value = step_value.next;
			}
		}
		while(e[eIndex].y0 <= scan_y_bottom) {
			if(e[eIndex].y0 != e[eIndex].y1) {
				var z1 = kha_graphics2_truetype_StbTruetype.stbtt__new_active(e,eIndex,off_x,scan_y_top);
				if(!(z1.ey >= scan_y_top)) {
					throw new js__$Boot_HaxeError("Error");
				}
				z1.next = active;
				active = z1;
			}
			++eIndex;
		}
		if(active != null) {
			kha_graphics2_truetype_StbTruetype.stbtt__fill_active_edges_new(scanline,scanline2,scanline2Index + 1,result.w,active,scan_y_top);
		}
		var sum = 0;
		var _g12 = 0;
		var _g3 = result.w;
		while(_g12 < _g3) {
			var i3 = _g12++;
			var k;
			var m;
			sum += scanline2[scanline2Index + i3];
			k = scanline[i3] + sum;
			k = Math.abs(k) * 255.0 + 0.5;
			m = k | 0;
			if(m > 255) {
				m = 255;
			}
			result.pixels.writeU8(result.pixels_offset + j * result.stride + i3,m);
		}
		step_parent = null;
		step_value = active;
		while(step_value != null) {
			var z2 = step_value;
			z2.fx += z2.fdx;
			step_parent = step_value;
			step_value = step_value.next;
		}
		++y;
		++j;
	}
};
kha_graphics2_truetype_StbTruetype.STBTT__COMPARE = function(a,b) {
	return a.y0 < b.y0;
};
kha_graphics2_truetype_StbTruetype.stbtt__sort_edges_ins_sort = function(p,n) {
	var i;
	var j;
	var _g1 = 1;
	var _g = n;
	while(_g1 < _g) {
		var i1 = _g1++;
		var t = p[i1];
		var a = t;
		j = i1;
		while(j > 0) {
			var b = p[j - 1];
			var c = kha_graphics2_truetype_StbTruetype.STBTT__COMPARE(a,b);
			if(!c) {
				break;
			}
			p[j] = p[j - 1];
			--j;
		}
		if(i1 != j) {
			p[j] = t;
		}
	}
};
kha_graphics2_truetype_StbTruetype.stbtt__sort_edges_quicksort = function(p,pIndex,n) {
	while(n > 12) {
		var t;
		var c01;
		var c12;
		var c;
		var m;
		var i;
		var j;
		m = n >> 1;
		c01 = kha_graphics2_truetype_StbTruetype.STBTT__COMPARE(p[pIndex],p[pIndex + m]);
		c12 = kha_graphics2_truetype_StbTruetype.STBTT__COMPARE(p[pIndex + m],p[pIndex + n - 1]);
		if(c01 != c12) {
			var z;
			c = kha_graphics2_truetype_StbTruetype.STBTT__COMPARE(p[pIndex],p[pIndex + n - 1]);
			if(c == c12) {
				z = 0;
			} else {
				z = n - 1;
			}
			t = p[pIndex + z];
			p[pIndex + z] = p[pIndex + m];
			p[pIndex + m] = t;
		}
		t = p[pIndex];
		p[pIndex] = p[pIndex + m];
		p[pIndex + m] = t;
		i = 1;
		j = n - 1;
		while(true) {
			while(kha_graphics2_truetype_StbTruetype.STBTT__COMPARE(p[pIndex + i],p[pIndex])) ++i;
			while(kha_graphics2_truetype_StbTruetype.STBTT__COMPARE(p[pIndex],p[pIndex + j])) --j;
			if(i >= j) {
				break;
			}
			t = p[pIndex + i];
			p[pIndex + i] = p[pIndex + j];
			p[pIndex + j] = t;
			++i;
			--j;
		}
		if(j < n - i) {
			kha_graphics2_truetype_StbTruetype.stbtt__sort_edges_quicksort(p,pIndex,j);
			pIndex += i;
			n -= i;
		} else {
			kha_graphics2_truetype_StbTruetype.stbtt__sort_edges_quicksort(p,pIndex + i,n - i);
			n = j;
		}
	}
};
kha_graphics2_truetype_StbTruetype.stbtt__sort_edges = function(p,n) {
	kha_graphics2_truetype_StbTruetype.stbtt__sort_edges_quicksort(p,0,n);
	kha_graphics2_truetype_StbTruetype.stbtt__sort_edges_ins_sort(p,n);
};
kha_graphics2_truetype_StbTruetype.stbtt__rasterize = function(result,pts,wcount,windings,scale_x,scale_y,shift_x,shift_y,off_x,off_y,invert) {
	var y_scale_inv = invert ? -scale_y : scale_y;
	var e;
	var n;
	var i;
	var j;
	var k;
	var m;
	var vsubsample = 1;
	var ptsIndex = 0;
	n = 0;
	var _g1 = 0;
	var _g = windings;
	while(_g1 < _g) {
		var i1 = _g1++;
		n += wcount[i1];
	}
	var this1 = new Array(n + 1);
	e = this1;
	if(e == null) {
		return;
	} else {
		var _g11 = 0;
		var _g2 = e.length;
		while(_g11 < _g2) {
			var i2 = _g11++;
			e[i2] = new kha_graphics2_truetype_Stbtt_$_$edge();
		}
	}
	n = 0;
	m = 0;
	var _g12 = 0;
	var _g3 = windings;
	while(_g12 < _g3) {
		var i3 = _g12++;
		var p = pts;
		var pIndex = ptsIndex + m;
		m += wcount[i3];
		j = wcount[i3] - 1;
		var _g31 = 0;
		var _g21 = wcount[i3];
		while(_g31 < _g21) {
			var k1 = _g31++;
			var a = k1;
			var b = j;
			if(p[pIndex + j].y == p[pIndex + k1].y) {
				j = k1;
				continue;
			}
			e[n].invert = false;
			if(invert ? p[pIndex + j].y > p[pIndex + k1].y : p[pIndex + j].y < p[pIndex + k1].y) {
				e[n].invert = true;
				a = j;
				b = k1;
			}
			e[n].x0 = p[pIndex + a].x * scale_x + shift_x;
			e[n].y0 = (p[pIndex + a].y * y_scale_inv + shift_y) * vsubsample;
			e[n].x1 = p[pIndex + b].x * scale_x + shift_x;
			e[n].y1 = (p[pIndex + b].y * y_scale_inv + shift_y) * vsubsample;
			++n;
			j = k1;
		}
	}
	kha_graphics2_truetype_StbTruetype.stbtt__sort_edges(e,n);
	kha_graphics2_truetype_StbTruetype.stbtt__rasterize_sorted_edges(result,e,n,vsubsample,off_x,off_y);
};
kha_graphics2_truetype_StbTruetype.stbtt__add_point = function(points,n,x,y) {
	if(points == null) {
		return;
	}
	points[n].x = x;
	points[n].y = y;
};
kha_graphics2_truetype_StbTruetype.stbtt__tesselate_curve = function(points,num_points,x0,y0,x1,y1,x2,y2,objspace_flatness_squared,n) {
	var mx = (x0 + 2 * x1 + x2) / 4;
	var my = (y0 + 2 * y1 + y2) / 4;
	var dx = (x0 + x2) / 2 - mx;
	var dy = (y0 + y2) / 2 - my;
	if(n > 16) {
		return 1;
	}
	if(dx * dx + dy * dy > objspace_flatness_squared) {
		kha_graphics2_truetype_StbTruetype.stbtt__tesselate_curve(points,num_points,x0,y0,(x0 + x1) / 2.0,(y0 + y1) / 2.0,mx,my,objspace_flatness_squared,n + 1);
		kha_graphics2_truetype_StbTruetype.stbtt__tesselate_curve(points,num_points,mx,my,(x1 + x2) / 2.0,(y1 + y2) / 2.0,x2,y2,objspace_flatness_squared,n + 1);
	} else {
		kha_graphics2_truetype_StbTruetype.stbtt__add_point(points,num_points.value,x2,y2);
		num_points.value += 1;
	}
	return 1;
};
kha_graphics2_truetype_StbTruetype.stbtt_FlattenCurves = function(vertices,num_verts,objspace_flatness,contour_lengths,num_contours) {
	var points = null;
	var num_points = 0;
	var objspace_flatness_squared = objspace_flatness * objspace_flatness;
	var i;
	var n = 0;
	var start = 0;
	var pass;
	var _g1 = 0;
	var _g = num_verts;
	while(_g1 < _g) {
		var i1 = _g1++;
		if(vertices[i1].type == 1) {
			++n;
		}
	}
	num_contours.value = n;
	if(n == 0) {
		return null;
	}
	var this1 = new Array(n);
	contour_lengths.value = this1;
	if(contour_lengths.value == null) {
		num_contours.value = 0;
		return null;
	}
	var _g2 = 0;
	while(_g2 < 2) {
		var pass1 = _g2++;
		var x = 0;
		var y = 0;
		if(pass1 == 1) {
			var this2 = new Array(num_points);
			points = this2;
			if(points == null) {
				contour_lengths.value = null;
				num_contours.value = 0;
				return null;
			} else {
				var _g21 = 0;
				var _g11 = points.length;
				while(_g21 < _g11) {
					var i2 = _g21++;
					points[i2] = new kha_graphics2_truetype_Stbtt_$_$point();
				}
			}
		}
		num_points = 0;
		n = -1;
		var _g22 = 0;
		var _g12 = num_verts;
		while(_g22 < _g12) {
			var i3 = _g22++;
			var _g3 = vertices[i3].type;
			switch(_g3) {
			case 1:
				if(n >= 0) {
					contour_lengths.value[n] = num_points - start;
				}
				++n;
				start = num_points;
				x = vertices[i3].x;
				y = vertices[i3].y;
				kha_graphics2_truetype_StbTruetype.stbtt__add_point(points,num_points++,x,y);
				break;
			case 2:
				x = vertices[i3].x;
				y = vertices[i3].y;
				kha_graphics2_truetype_StbTruetype.stbtt__add_point(points,num_points++,x,y);
				break;
			case 3:
				var num_points_reference = { value : num_points};
				kha_graphics2_truetype_StbTruetype.stbtt__tesselate_curve(points,num_points_reference,x,y,vertices[i3].cx,vertices[i3].cy,vertices[i3].x,vertices[i3].y,objspace_flatness_squared,0);
				num_points = num_points_reference.value;
				x = vertices[i3].x;
				y = vertices[i3].y;
				break;
			}
		}
		contour_lengths.value[n] = num_points - start;
	}
	return points;
};
kha_graphics2_truetype_StbTruetype.stbtt_Rasterize = function(result,flatness_in_pixels,vertices,num_verts,scale_x,scale_y,shift_x,shift_y,x_off,y_off,invert) {
	var scale = scale_x > scale_y ? scale_y : scale_x;
	var winding_count = 0;
	var winding_lengths = null;
	var winding_count_reference = { value : winding_count};
	var winding_lengths_reference = new kha_graphics2_truetype_VectorOfIntPointer();
	var windings = kha_graphics2_truetype_StbTruetype.stbtt_FlattenCurves(vertices,num_verts,flatness_in_pixels / scale,winding_lengths_reference,winding_count_reference);
	winding_count = winding_count_reference.value;
	winding_lengths = winding_lengths_reference.value;
	if(windings != null) {
		kha_graphics2_truetype_StbTruetype.stbtt__rasterize(result,windings,winding_lengths,winding_count,scale_x,scale_y,shift_x,shift_y,x_off,y_off,invert);
	}
};
kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBitmapSubpixel = function(info,scale_x,scale_y,shift_x,shift_y,glyph,region) {
	var ix0;
	var iy0;
	var ix1;
	var iy1;
	var gbm = new kha_graphics2_truetype_Stbtt_$_$bitmap();
	var vertices = kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphShape(info,glyph);
	var num_verts = vertices.length;
	if(scale_x == 0) {
		scale_x = scale_y;
	}
	if(scale_y == 0) {
		if(scale_x == 0) {
			return null;
		}
		scale_y = scale_x;
	}
	var rect = kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBitmapBoxSubpixel(info,glyph,scale_x,scale_y,shift_x,shift_y);
	ix0 = rect.x0;
	iy0 = rect.y0;
	ix1 = rect.x1;
	iy1 = rect.y1;
	gbm.w = ix1 - ix0;
	gbm.h = iy1 - iy0;
	gbm.pixels = null;
	region.width = gbm.w;
	region.height = gbm.h;
	region.xoff = ix0;
	region.yoff = iy0;
	if(gbm.w != 0 && gbm.h != 0) {
		gbm.pixels = kha_internal_BytesBlob.alloc(gbm.w * gbm.h);
		if(gbm.pixels != null) {
			gbm.stride = gbm.w;
			kha_graphics2_truetype_StbTruetype.stbtt_Rasterize(gbm,0.35,vertices,num_verts,scale_x,scale_y,shift_x,shift_y,ix0,iy0,true);
		}
	}
	return gbm.pixels;
};
kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBitmap = function(info,scale_x,scale_y,glyph,region) {
	return kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBitmapSubpixel(info,scale_x,scale_y,0.0,0.0,glyph,region);
};
kha_graphics2_truetype_StbTruetype.stbtt_MakeGlyphBitmapSubpixel = function(info,output,output_offset,out_w,out_h,out_stride,scale_x,scale_y,shift_x,shift_y,glyph) {
	var ix0 = 0;
	var iy0 = 0;
	var vertices = kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphShape(info,glyph);
	var num_verts = vertices == null ? 0 : vertices.length;
	var gbm = new kha_graphics2_truetype_Stbtt_$_$bitmap();
	var rect = kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBitmapBoxSubpixel(info,glyph,scale_x,scale_y,shift_x,shift_y);
	ix0 = rect.x0;
	iy0 = rect.y0;
	gbm.pixels = output;
	gbm.pixels_offset = output_offset;
	gbm.w = out_w;
	gbm.h = out_h;
	gbm.stride = out_stride;
	if(gbm.w != 0 && gbm.h != 0) {
		kha_graphics2_truetype_StbTruetype.stbtt_Rasterize(gbm,0.35,vertices,num_verts,scale_x,scale_y,shift_x,shift_y,ix0,iy0,true);
	}
};
kha_graphics2_truetype_StbTruetype.stbtt_MakeGlyphBitmap = function(info,output,output_offset,out_w,out_h,out_stride,scale_x,scale_y,glyph) {
	kha_graphics2_truetype_StbTruetype.stbtt_MakeGlyphBitmapSubpixel(info,output,output_offset,out_w,out_h,out_stride,scale_x,scale_y,0.0,0.0,glyph);
};
kha_graphics2_truetype_StbTruetype.stbtt_GetCodepointBitmapSubpixel = function(info,scale_x,scale_y,shift_x,shift_y,codepoint,region) {
	return kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBitmapSubpixel(info,scale_x,scale_y,shift_x,shift_y,kha_graphics2_truetype_StbTruetype.stbtt_FindGlyphIndex(info,codepoint),region);
};
kha_graphics2_truetype_StbTruetype.stbtt_MakeCodepointBitmapSubpixel = function(info,output,output_offset,out_w,out_h,out_stride,scale_x,scale_y,shift_x,shift_y,codepoint) {
	kha_graphics2_truetype_StbTruetype.stbtt_MakeGlyphBitmapSubpixel(info,output,output_offset,out_w,out_h,out_stride,scale_x,scale_y,shift_x,shift_y,kha_graphics2_truetype_StbTruetype.stbtt_FindGlyphIndex(info,codepoint));
};
kha_graphics2_truetype_StbTruetype.stbtt_GetCodepointBitmap = function(info,scale_x,scale_y,codepoint,region) {
	return kha_graphics2_truetype_StbTruetype.stbtt_GetCodepointBitmapSubpixel(info,scale_x,scale_y,0.0,0.0,codepoint,region);
};
kha_graphics2_truetype_StbTruetype.stbtt_MakeCodepointBitmap = function(info,output,output_offset,out_w,out_h,out_stride,scale_x,scale_y,codepoint) {
	kha_graphics2_truetype_StbTruetype.stbtt_MakeCodepointBitmapSubpixel(info,output,output_offset,out_w,out_h,out_stride,scale_x,scale_y,0.0,0.0,codepoint);
};
kha_graphics2_truetype_StbTruetype.stbtt_BakeFontBitmap = function(data,offset,pixel_height,pixels,pw,ph,chars,chardata) {
	var scale;
	var x;
	var y;
	var bottom_y;
	var f = new kha_graphics2_truetype_Stbtt_$fontinfo();
	if(!kha_graphics2_truetype_StbTruetype.stbtt_InitFont(f,data,offset)) {
		return -1;
	}
	var _g1 = 0;
	var _g = pw * ph;
	while(_g1 < _g) {
		var i = _g1++;
		pixels.writeU8(i,0);
	}
	y = 1;
	x = y;
	bottom_y = 1;
	scale = kha_graphics2_truetype_StbTruetype.stbtt_ScaleForPixelHeight(f,pixel_height);
	var i1 = 0;
	var _g2 = 0;
	while(_g2 < chars.length) {
		var index = chars[_g2];
		++_g2;
		var advance;
		var lsb;
		var x0;
		var y0;
		var x1;
		var y1;
		var gw;
		var gh;
		var g = kha_graphics2_truetype_StbTruetype.stbtt_FindGlyphIndex(f,index);
		var metrics = kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphHMetrics(f,g);
		advance = metrics.advanceWidth;
		lsb = metrics.leftSideBearing;
		var rect = kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBitmapBox(f,g,scale,scale);
		x0 = rect.x0;
		y0 = rect.y0;
		x1 = rect.x1;
		y1 = rect.y1;
		gw = x1 - x0;
		gh = y1 - y0;
		if(x + gw + 1 >= pw) {
			y = bottom_y;
			x = 1;
		}
		if(y + gh + 1 >= ph) {
			return -i1;
		}
		if(x + gw >= pw) {
			throw new js__$Boot_HaxeError("Error");
		}
		if(y + gh >= ph) {
			throw new js__$Boot_HaxeError("Error");
		}
		kha_graphics2_truetype_StbTruetype.stbtt_MakeGlyphBitmap(f,pixels,x + y * pw,gw,gh,pw,scale,scale,g);
		chardata[i1].x0 = x;
		chardata[i1].y0 = y;
		chardata[i1].x1 = x + gw;
		chardata[i1].y1 = y + gh;
		chardata[i1].xadvance = scale * advance;
		chardata[i1].xoff = x0;
		chardata[i1].yoff = y0;
		x = x + gw + 1;
		if(y + gh + 1 > bottom_y) {
			bottom_y = y + gh + 1;
		}
		++i1;
	}
	return bottom_y;
};
kha_graphics2_truetype_StbTruetype.stbtt_GetBakedQuad = function(chardata,pw,ph,char_index,xpos,ypos,q,opengl_fillrule) {
	var d3d_bias = opengl_fillrule ? 0 : -0.5;
	var ipw = 1.0 / pw;
	var iph = 1.0 / ph;
	var b = chardata[char_index];
	var round_x = Math.floor(xpos.value + b.xoff + 0.5);
	var round_y = Math.floor(ypos.value + b.yoff + 0.5);
	q.x0 = round_x + d3d_bias;
	q.y0 = round_y + d3d_bias;
	q.x1 = round_x + b.x1 - b.x0 + d3d_bias;
	q.y1 = round_y + b.y1 - b.y0 + d3d_bias;
	q.s0 = b.x0 * ipw;
	q.t0 = b.y0 * iph;
	q.s1 = b.x1 * ipw;
	q.t1 = b.y1 * iph;
	xpos.value += b.xadvance;
};
var kha_graphics4_BlendingFactor = $hxClasses["kha.graphics4.BlendingFactor"] = { __ename__ : ["kha","graphics4","BlendingFactor"], __constructs__ : ["Undefined","BlendOne","BlendZero","SourceAlpha","DestinationAlpha","InverseSourceAlpha","InverseDestinationAlpha","SourceColor","DestinationColor","InverseSourceColor","InverseDestinationColor"] };
kha_graphics4_BlendingFactor.Undefined = ["Undefined",0];
kha_graphics4_BlendingFactor.Undefined.toString = $estr;
kha_graphics4_BlendingFactor.Undefined.__enum__ = kha_graphics4_BlendingFactor;
kha_graphics4_BlendingFactor.BlendOne = ["BlendOne",1];
kha_graphics4_BlendingFactor.BlendOne.toString = $estr;
kha_graphics4_BlendingFactor.BlendOne.__enum__ = kha_graphics4_BlendingFactor;
kha_graphics4_BlendingFactor.BlendZero = ["BlendZero",2];
kha_graphics4_BlendingFactor.BlendZero.toString = $estr;
kha_graphics4_BlendingFactor.BlendZero.__enum__ = kha_graphics4_BlendingFactor;
kha_graphics4_BlendingFactor.SourceAlpha = ["SourceAlpha",3];
kha_graphics4_BlendingFactor.SourceAlpha.toString = $estr;
kha_graphics4_BlendingFactor.SourceAlpha.__enum__ = kha_graphics4_BlendingFactor;
kha_graphics4_BlendingFactor.DestinationAlpha = ["DestinationAlpha",4];
kha_graphics4_BlendingFactor.DestinationAlpha.toString = $estr;
kha_graphics4_BlendingFactor.DestinationAlpha.__enum__ = kha_graphics4_BlendingFactor;
kha_graphics4_BlendingFactor.InverseSourceAlpha = ["InverseSourceAlpha",5];
kha_graphics4_BlendingFactor.InverseSourceAlpha.toString = $estr;
kha_graphics4_BlendingFactor.InverseSourceAlpha.__enum__ = kha_graphics4_BlendingFactor;
kha_graphics4_BlendingFactor.InverseDestinationAlpha = ["InverseDestinationAlpha",6];
kha_graphics4_BlendingFactor.InverseDestinationAlpha.toString = $estr;
kha_graphics4_BlendingFactor.InverseDestinationAlpha.__enum__ = kha_graphics4_BlendingFactor;
kha_graphics4_BlendingFactor.SourceColor = ["SourceColor",7];
kha_graphics4_BlendingFactor.SourceColor.toString = $estr;
kha_graphics4_BlendingFactor.SourceColor.__enum__ = kha_graphics4_BlendingFactor;
kha_graphics4_BlendingFactor.DestinationColor = ["DestinationColor",8];
kha_graphics4_BlendingFactor.DestinationColor.toString = $estr;
kha_graphics4_BlendingFactor.DestinationColor.__enum__ = kha_graphics4_BlendingFactor;
kha_graphics4_BlendingFactor.InverseSourceColor = ["InverseSourceColor",9];
kha_graphics4_BlendingFactor.InverseSourceColor.toString = $estr;
kha_graphics4_BlendingFactor.InverseSourceColor.__enum__ = kha_graphics4_BlendingFactor;
kha_graphics4_BlendingFactor.InverseDestinationColor = ["InverseDestinationColor",10];
kha_graphics4_BlendingFactor.InverseDestinationColor.toString = $estr;
kha_graphics4_BlendingFactor.InverseDestinationColor.__enum__ = kha_graphics4_BlendingFactor;
var kha_graphics4_BlendingOperation = $hxClasses["kha.graphics4.BlendingOperation"] = { __ename__ : ["kha","graphics4","BlendingOperation"], __constructs__ : ["Add","Subtract","ReverseSubtract","Min","Max"] };
kha_graphics4_BlendingOperation.Add = ["Add",0];
kha_graphics4_BlendingOperation.Add.toString = $estr;
kha_graphics4_BlendingOperation.Add.__enum__ = kha_graphics4_BlendingOperation;
kha_graphics4_BlendingOperation.Subtract = ["Subtract",1];
kha_graphics4_BlendingOperation.Subtract.toString = $estr;
kha_graphics4_BlendingOperation.Subtract.__enum__ = kha_graphics4_BlendingOperation;
kha_graphics4_BlendingOperation.ReverseSubtract = ["ReverseSubtract",2];
kha_graphics4_BlendingOperation.ReverseSubtract.toString = $estr;
kha_graphics4_BlendingOperation.ReverseSubtract.__enum__ = kha_graphics4_BlendingOperation;
kha_graphics4_BlendingOperation.Min = ["Min",3];
kha_graphics4_BlendingOperation.Min.toString = $estr;
kha_graphics4_BlendingOperation.Min.__enum__ = kha_graphics4_BlendingOperation;
kha_graphics4_BlendingOperation.Max = ["Max",4];
kha_graphics4_BlendingOperation.Max.toString = $estr;
kha_graphics4_BlendingOperation.Max.__enum__ = kha_graphics4_BlendingOperation;
var kha_graphics4_CompareMode = $hxClasses["kha.graphics4.CompareMode"] = { __ename__ : ["kha","graphics4","CompareMode"], __constructs__ : ["Always","Never","Equal","NotEqual","Less","LessEqual","Greater","GreaterEqual"] };
kha_graphics4_CompareMode.Always = ["Always",0];
kha_graphics4_CompareMode.Always.toString = $estr;
kha_graphics4_CompareMode.Always.__enum__ = kha_graphics4_CompareMode;
kha_graphics4_CompareMode.Never = ["Never",1];
kha_graphics4_CompareMode.Never.toString = $estr;
kha_graphics4_CompareMode.Never.__enum__ = kha_graphics4_CompareMode;
kha_graphics4_CompareMode.Equal = ["Equal",2];
kha_graphics4_CompareMode.Equal.toString = $estr;
kha_graphics4_CompareMode.Equal.__enum__ = kha_graphics4_CompareMode;
kha_graphics4_CompareMode.NotEqual = ["NotEqual",3];
kha_graphics4_CompareMode.NotEqual.toString = $estr;
kha_graphics4_CompareMode.NotEqual.__enum__ = kha_graphics4_CompareMode;
kha_graphics4_CompareMode.Less = ["Less",4];
kha_graphics4_CompareMode.Less.toString = $estr;
kha_graphics4_CompareMode.Less.__enum__ = kha_graphics4_CompareMode;
kha_graphics4_CompareMode.LessEqual = ["LessEqual",5];
kha_graphics4_CompareMode.LessEqual.toString = $estr;
kha_graphics4_CompareMode.LessEqual.__enum__ = kha_graphics4_CompareMode;
kha_graphics4_CompareMode.Greater = ["Greater",6];
kha_graphics4_CompareMode.Greater.toString = $estr;
kha_graphics4_CompareMode.Greater.__enum__ = kha_graphics4_CompareMode;
kha_graphics4_CompareMode.GreaterEqual = ["GreaterEqual",7];
kha_graphics4_CompareMode.GreaterEqual.toString = $estr;
kha_graphics4_CompareMode.GreaterEqual.__enum__ = kha_graphics4_CompareMode;
var kha_graphics4_ConstantLocation = $hxClasses["kha.graphics4.ConstantLocation"] = function() { };
kha_graphics4_ConstantLocation.__name__ = ["kha","graphics4","ConstantLocation"];
var kha_graphics4_CubeMap = $hxClasses["kha.graphics4.CubeMap"] = function(texture) {
	this.texture_ = texture;
};
kha_graphics4_CubeMap.__name__ = ["kha","graphics4","CubeMap"];
kha_graphics4_CubeMap.__interfaces__ = [kha_Resource,kha_Canvas];
kha_graphics4_CubeMap.getRenderTargetFormat = function(format) {
	switch(format[1]) {
	case 0:
		return 0;
	case 2:
		return 3;
	case 3:
		return 4;
	case 4:
		return 1;
	default:
		return 0;
	}
};
kha_graphics4_CubeMap.getDepthBufferBits = function(depthAndStencil) {
	switch(depthAndStencil) {
	case 0:
		return -1;
	case 1:
		return 24;
	case 2:
		return 24;
	case 3:
		return 24;
	case 4:
		return 32;
	case 5:
		return 16;
	}
};
kha_graphics4_CubeMap.getStencilBufferBits = function(depthAndStencil) {
	switch(depthAndStencil) {
	case 0:
		return -1;
	case 1:
		return -1;
	case 2:
		return 8;
	case 3:
		return 8;
	case 4:
		return 8;
	case 5:
		return 0;
	}
};
kha_graphics4_CubeMap.getTextureFormat = function(format) {
	switch(format[1]) {
	case 0:
		return 0;
	case 2:
		return 3;
	case 4:
		return 4;
	case 5:
		return 5;
	default:
		return 1;
	}
};
kha_graphics4_CubeMap.createRenderTarget = function(size,format,depthStencil,contextId) {
	if(contextId == null) {
		contextId = 0;
	}
	if(depthStencil == null) {
		depthStencil = 0;
	}
	if(format == null) {
		format = kha_graphics4_TextureFormat.RGBA32;
	}
	var cubeMap = new kha_graphics4_CubeMap(null);
	cubeMap.format = format;
	cubeMap.renderTarget_ = Krom.createRenderTargetCubeMap(size,kha_graphics4_CubeMap.getDepthBufferBits(depthStencil),kha_graphics4_CubeMap.getRenderTargetFormat(format),kha_graphics4_CubeMap.getStencilBufferBits(depthStencil),contextId);
	return cubeMap;
};
kha_graphics4_CubeMap.prototype = {
	texture_: null
	,renderTarget_: null
	,format: null
	,graphics4: null
	,unload: function() {
	}
	,lock: function(level) {
		if(level == null) {
			level = 0;
		}
		return null;
	}
	,unlock: function() {
	}
	,width: null
	,get_width: function() {
		if(this.texture_ == null) {
			return this.renderTarget_.width;
		} else {
			return this.texture_.width;
		}
	}
	,height: null
	,get_height: function() {
		if(this.texture_ == null) {
			return this.renderTarget_.height;
		} else {
			return this.texture_.height;
		}
	}
	,g1: null
	,get_g1: function() {
		return null;
	}
	,g2: null
	,get_g2: function() {
		return null;
	}
	,g4: null
	,get_g4: function() {
		if(this.graphics4 == null) {
			this.graphics4 = new kha_krom_Graphics(this);
		}
		return this.graphics4;
	}
	,__class__: kha_graphics4_CubeMap
	,__properties__: {get_g4:"get_g4",get_g2:"get_g2",get_g1:"get_g1",get_height:"get_height",get_width:"get_width"}
};
var kha_graphics4_CullMode = $hxClasses["kha.graphics4.CullMode"] = { __ename__ : ["kha","graphics4","CullMode"], __constructs__ : ["Clockwise","CounterClockwise","None"] };
kha_graphics4_CullMode.Clockwise = ["Clockwise",0];
kha_graphics4_CullMode.Clockwise.toString = $estr;
kha_graphics4_CullMode.Clockwise.__enum__ = kha_graphics4_CullMode;
kha_graphics4_CullMode.CounterClockwise = ["CounterClockwise",1];
kha_graphics4_CullMode.CounterClockwise.toString = $estr;
kha_graphics4_CullMode.CounterClockwise.__enum__ = kha_graphics4_CullMode;
kha_graphics4_CullMode.None = ["None",2];
kha_graphics4_CullMode.None.toString = $estr;
kha_graphics4_CullMode.None.__enum__ = kha_graphics4_CullMode;
var kha_graphics4_FragmentShader = $hxClasses["kha.graphics4.FragmentShader"] = function(sources,names) {
	if(sources != null) {
		this.shader = Krom.createFragmentShader(sources[0].bytes.b.bufferValue,names[0]);
	}
};
kha_graphics4_FragmentShader.__name__ = ["kha","graphics4","FragmentShader"];
kha_graphics4_FragmentShader.fromSource = function(source) {
	var shader = new kha_graphics4_FragmentShader(null,null);
	shader.shader = Krom.createFragmentShaderFromSource(source);
	return shader;
};
kha_graphics4_FragmentShader.prototype = {
	shader: null
	,'delete': function() {
		Krom.deleteShader(this.shader);
		this.shader = null;
	}
	,__class__: kha_graphics4_FragmentShader
};
var kha_graphics4_GeometryShader = $hxClasses["kha.graphics4.GeometryShader"] = function(sources,names) {
	this.shader = Krom.createGeometryShader(sources[0].bytes.b.bufferValue,names[0]);
};
kha_graphics4_GeometryShader.__name__ = ["kha","graphics4","GeometryShader"];
kha_graphics4_GeometryShader.prototype = {
	shader: null
	,'delete': function() {
		Krom.deleteShader(this.shader);
		this.shader = null;
	}
	,__class__: kha_graphics4_GeometryShader
};
var kha_graphics4_Graphics = $hxClasses["kha.graphics4.Graphics"] = function() { };
kha_graphics4_Graphics.__name__ = ["kha","graphics4","Graphics"];
kha_graphics4_Graphics.prototype = {
	begin: null
	,beginFace: null
	,beginEye: null
	,end: null
	,vsynced: null
	,refreshRate: null
	,clear: null
	,viewport: null
	,scissor: null
	,disableScissor: null
	,setVertexBuffer: null
	,setVertexBuffers: null
	,setIndexBuffer: null
	,setTexture: null
	,setTextureDepth: null
	,setTextureArray: null
	,setVideoTexture: null
	,setImageTexture: null
	,setTextureParameters: null
	,setTexture3DParameters: null
	,setCubeMap: null
	,setCubeMapDepth: null
	,renderTargetsInvertedY: null
	,instancedRenderingAvailable: null
	,setPipeline: null
	,setBool: null
	,setInt: null
	,setFloat: null
	,setFloat2: null
	,setFloat3: null
	,setFloat4: null
	,setFloats: null
	,setVector2: null
	,setVector3: null
	,setVector4: null
	,setMatrix: null
	,setMatrix3: null
	,drawIndexedVertices: null
	,drawIndexedVerticesInstanced: null
	,flush: null
	,__class__: kha_graphics4_Graphics
};
var kha_graphics4_ImageShaderPainter = $hxClasses["kha.graphics4.ImageShaderPainter"] = function(g4) {
	this.destinationBlend = kha_graphics4_BlendingFactor.Undefined;
	this.sourceBlend = kha_graphics4_BlendingFactor.Undefined;
	this.myPipeline = null;
	this.bilinearMipmaps = false;
	this.bilinear = false;
	this.g = g4;
	kha_graphics4_ImageShaderPainter.bufferIndex = 0;
	kha_graphics4_ImageShaderPainter.initShaders();
	this.initBuffers();
	this.projectionLocation = kha_graphics4_ImageShaderPainter.shaderPipeline.getConstantLocation("projectionMatrix");
	this.textureLocation = kha_graphics4_ImageShaderPainter.shaderPipeline.getTextureUnit("tex");
};
kha_graphics4_ImageShaderPainter.__name__ = ["kha","graphics4","ImageShaderPainter"];
kha_graphics4_ImageShaderPainter.initShaders = function() {
	if(kha_graphics4_ImageShaderPainter.structure == null) {
		kha_graphics4_ImageShaderPainter.structure = kha_graphics4_Graphics2.createImageVertexStructure();
	}
	if(kha_graphics4_ImageShaderPainter.shaderPipeline == null) {
		kha_graphics4_ImageShaderPainter.shaderPipeline = kha_graphics4_Graphics2.createImagePipeline(kha_graphics4_ImageShaderPainter.structure);
		kha_graphics4_ImageShaderPainter.shaderPipeline.compile();
	}
};
kha_graphics4_ImageShaderPainter.prototype = {
	projectionMatrix: null
	,bilinear: null
	,bilinearMipmaps: null
	,g: null
	,myPipeline: null
	,projectionLocation: null
	,textureLocation: null
	,sourceBlend: null
	,destinationBlend: null
	,get_pipeline: function() {
		return this.myPipeline;
	}
	,set_pipeline: function(pipe) {
		if(pipe == null) {
			this.projectionLocation = kha_graphics4_ImageShaderPainter.shaderPipeline.getConstantLocation("projectionMatrix");
			this.textureLocation = kha_graphics4_ImageShaderPainter.shaderPipeline.getTextureUnit("tex");
		} else {
			this.projectionLocation = pipe.getConstantLocation("projectionMatrix");
			this.textureLocation = pipe.getTextureUnit("tex");
		}
		return this.myPipeline = pipe;
	}
	,setProjection: function(projectionMatrix) {
		this.projectionMatrix = projectionMatrix;
	}
	,initBuffers: function() {
		if(kha_graphics4_ImageShaderPainter.rectVertexBuffer == null) {
			kha_graphics4_ImageShaderPainter.rectVertexBuffer = new kha_graphics4_VertexBuffer(6000,kha_graphics4_ImageShaderPainter.structure,kha_graphics4_Usage.DynamicUsage);
			kha_graphics4_ImageShaderPainter.rectVertices = kha_graphics4_ImageShaderPainter.rectVertexBuffer.lock();
			kha_graphics4_ImageShaderPainter.indexBuffer = new kha_graphics4_IndexBuffer(9000,kha_graphics4_Usage.StaticUsage);
			var indices = kha_graphics4_ImageShaderPainter.indexBuffer.lock();
			var _g = 0;
			while(_g < 1500) {
				var i = _g++;
				indices[i * 3 * 2] = i * 4;
				indices[i * 3 * 2 + 1] = i * 4 + 1;
				indices[i * 3 * 2 + 2] = i * 4 + 2;
				indices[i * 3 * 2 + 3] = i * 4;
				indices[i * 3 * 2 + 4] = i * 4 + 2;
				indices[i * 3 * 2 + 5] = i * 4 + 3;
			}
			kha_graphics4_ImageShaderPainter.indexBuffer.unlock();
		}
	}
	,setRectVertices: function(bottomleftx,bottomlefty,topleftx,toplefty,toprightx,toprighty,bottomrightx,bottomrighty) {
		var baseIndex = kha_graphics4_ImageShaderPainter.bufferIndex * 9 * 4;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex] = bottomleftx;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 1] = bottomlefty;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 2] = -5.0;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 9] = topleftx;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 10] = toplefty;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 11] = -5.0;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 18] = toprightx;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 19] = toprighty;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 20] = -5.0;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 27] = bottomrightx;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 28] = bottomrighty;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 29] = -5.0;
	}
	,setRectTexCoords: function(left,top,right,bottom) {
		var baseIndex = kha_graphics4_ImageShaderPainter.bufferIndex * 9 * 4;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 3] = left;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 4] = bottom;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 12] = left;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 13] = top;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 21] = right;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 22] = top;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 30] = right;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 31] = bottom;
	}
	,setRectColor: function(r,g,b,a) {
		var baseIndex = kha_graphics4_ImageShaderPainter.bufferIndex * 9 * 4;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 5] = r;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 6] = g;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 7] = b;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 8] = a;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 14] = r;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 15] = g;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 16] = b;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 17] = a;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 23] = r;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 24] = g;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 25] = b;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 26] = a;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 32] = r;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 33] = g;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 34] = b;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 35] = a;
	}
	,drawBuffer: function() {
		kha_graphics4_ImageShaderPainter.rectVertexBuffer.unlock();
		this.g.setVertexBuffer(kha_graphics4_ImageShaderPainter.rectVertexBuffer);
		this.g.setIndexBuffer(kha_graphics4_ImageShaderPainter.indexBuffer);
		this.g.setPipeline(this.get_pipeline() == null ? kha_graphics4_ImageShaderPainter.shaderPipeline : this.get_pipeline());
		this.g.setTexture(this.textureLocation,kha_graphics4_ImageShaderPainter.lastTexture);
		this.g.setTextureParameters(this.textureLocation,kha_graphics4_TextureAddressing.Clamp,kha_graphics4_TextureAddressing.Clamp,this.bilinear ? kha_graphics4_TextureFilter.LinearFilter : kha_graphics4_TextureFilter.PointFilter,this.bilinear ? kha_graphics4_TextureFilter.LinearFilter : kha_graphics4_TextureFilter.PointFilter,this.bilinearMipmaps ? kha_graphics4_MipMapFilter.LinearMipFilter : kha_graphics4_MipMapFilter.NoMipFilter);
		this.g.setMatrix(this.projectionLocation,this.projectionMatrix);
		this.g.drawIndexedVertices(0,kha_graphics4_ImageShaderPainter.bufferIndex * 2 * 3);
		this.g.setTexture(this.textureLocation,null);
		kha_graphics4_ImageShaderPainter.bufferIndex = 0;
		kha_graphics4_ImageShaderPainter.rectVertices = kha_graphics4_ImageShaderPainter.rectVertexBuffer.lock();
	}
	,setBilinearFilter: function(bilinear) {
		this.end();
		this.bilinear = bilinear;
	}
	,setBilinearMipmapFilter: function(bilinear) {
		this.end();
		this.bilinearMipmaps = bilinear;
	}
	,drawImage: function(img,bottomleftx,bottomlefty,topleftx,toplefty,toprightx,toprighty,bottomrightx,bottomrighty,opacity,color) {
		var tex = img;
		if(kha_graphics4_ImageShaderPainter.bufferIndex + 1 >= 1500 || kha_graphics4_ImageShaderPainter.lastTexture != null && tex != kha_graphics4_ImageShaderPainter.lastTexture) {
			this.drawBuffer();
		}
		var r = ((color & 16711680) >>> 16) * 0.00392156862745098;
		var g = ((color & 65280) >>> 8) * 0.00392156862745098;
		var b = (color & 255) * 0.00392156862745098;
		var a = (color >>> 24) * 0.00392156862745098 * opacity;
		var baseIndex = kha_graphics4_ImageShaderPainter.bufferIndex * 9 * 4;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 5] = r;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 6] = g;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 7] = b;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 8] = a;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 14] = r;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 15] = g;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 16] = b;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 17] = a;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 23] = r;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 24] = g;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 25] = b;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 26] = a;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 32] = r;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 33] = g;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 34] = b;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 35] = a;
		var right = tex.get_width() / tex.get_realWidth();
		var bottom = tex.get_height() / tex.get_realHeight();
		var baseIndex1 = kha_graphics4_ImageShaderPainter.bufferIndex * 9 * 4;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 3] = 0;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 4] = bottom;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 12] = 0;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 13] = 0;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 21] = right;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 22] = 0;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 30] = right;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 31] = bottom;
		var baseIndex2 = kha_graphics4_ImageShaderPainter.bufferIndex * 9 * 4;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2] = bottomleftx;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 1] = bottomlefty;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 2] = -5.0;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 9] = topleftx;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 10] = toplefty;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 11] = -5.0;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 18] = toprightx;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 19] = toprighty;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 20] = -5.0;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 27] = bottomrightx;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 28] = bottomrighty;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 29] = -5.0;
		++kha_graphics4_ImageShaderPainter.bufferIndex;
		kha_graphics4_ImageShaderPainter.lastTexture = tex;
	}
	,drawImage2: function(img,sx,sy,sw,sh,bottomleftx,bottomlefty,topleftx,toplefty,toprightx,toprighty,bottomrightx,bottomrighty,opacity,color) {
		var tex = img;
		if(kha_graphics4_ImageShaderPainter.bufferIndex + 1 >= 1500 || kha_graphics4_ImageShaderPainter.lastTexture != null && tex != kha_graphics4_ImageShaderPainter.lastTexture) {
			this.drawBuffer();
		}
		var left = sx / tex.get_realWidth();
		var top = sy / tex.get_realHeight();
		var right = (sx + sw) / tex.get_realWidth();
		var bottom = (sy + sh) / tex.get_realHeight();
		var baseIndex = kha_graphics4_ImageShaderPainter.bufferIndex * 9 * 4;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 3] = left;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 4] = bottom;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 12] = left;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 13] = top;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 21] = right;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 22] = top;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 30] = right;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 31] = bottom;
		var r = ((color & 16711680) >>> 16) * 0.00392156862745098;
		var g = ((color & 65280) >>> 8) * 0.00392156862745098;
		var b = (color & 255) * 0.00392156862745098;
		var a = (color >>> 24) * 0.00392156862745098 * opacity;
		var baseIndex1 = kha_graphics4_ImageShaderPainter.bufferIndex * 9 * 4;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 5] = r;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 6] = g;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 7] = b;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 8] = a;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 14] = r;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 15] = g;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 16] = b;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 17] = a;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 23] = r;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 24] = g;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 25] = b;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 26] = a;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 32] = r;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 33] = g;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 34] = b;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 35] = a;
		var baseIndex2 = kha_graphics4_ImageShaderPainter.bufferIndex * 9 * 4;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2] = bottomleftx;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 1] = bottomlefty;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 2] = -5.0;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 9] = topleftx;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 10] = toplefty;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 11] = -5.0;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 18] = toprightx;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 19] = toprighty;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 20] = -5.0;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 27] = bottomrightx;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 28] = bottomrighty;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 29] = -5.0;
		++kha_graphics4_ImageShaderPainter.bufferIndex;
		kha_graphics4_ImageShaderPainter.lastTexture = tex;
	}
	,drawImageScale: function(img,sx,sy,sw,sh,left,top,right,bottom,opacity,color) {
		var tex = img;
		if(kha_graphics4_ImageShaderPainter.bufferIndex + 1 >= 1500 || kha_graphics4_ImageShaderPainter.lastTexture != null && tex != kha_graphics4_ImageShaderPainter.lastTexture) {
			this.drawBuffer();
		}
		var left1 = sx / tex.get_realWidth();
		var top1 = sy / tex.get_realHeight();
		var right1 = (sx + sw) / tex.get_realWidth();
		var bottom1 = (sy + sh) / tex.get_realHeight();
		var baseIndex = kha_graphics4_ImageShaderPainter.bufferIndex * 9 * 4;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 3] = left1;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 4] = bottom1;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 12] = left1;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 13] = top1;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 21] = right1;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 22] = top1;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 30] = right1;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 31] = bottom1;
		var r = ((color & 16711680) >>> 16) * 0.00392156862745098;
		var g = ((color & 65280) >>> 8) * 0.00392156862745098;
		var b = (color & 255) * 0.00392156862745098;
		var baseIndex1 = kha_graphics4_ImageShaderPainter.bufferIndex * 9 * 4;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 5] = r;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 6] = g;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 7] = b;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 8] = opacity;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 14] = r;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 15] = g;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 16] = b;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 17] = opacity;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 23] = r;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 24] = g;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 25] = b;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 26] = opacity;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 32] = r;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 33] = g;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 34] = b;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 35] = opacity;
		var baseIndex2 = kha_graphics4_ImageShaderPainter.bufferIndex * 9 * 4;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2] = left;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 1] = bottom;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 2] = -5.0;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 9] = left;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 10] = top;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 11] = -5.0;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 18] = right;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 19] = top;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 20] = -5.0;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 27] = right;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 28] = bottom;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 29] = -5.0;
		++kha_graphics4_ImageShaderPainter.bufferIndex;
		kha_graphics4_ImageShaderPainter.lastTexture = tex;
	}
	,end: function() {
		if(kha_graphics4_ImageShaderPainter.bufferIndex > 0) {
			this.drawBuffer();
		}
		kha_graphics4_ImageShaderPainter.lastTexture = null;
	}
	,__class__: kha_graphics4_ImageShaderPainter
	,__properties__: {set_pipeline:"set_pipeline",get_pipeline:"get_pipeline"}
};
var kha_graphics4_ColoredShaderPainter = $hxClasses["kha.graphics4.ColoredShaderPainter"] = function(g4) {
	this.destinationBlend = kha_graphics4_BlendingFactor.Undefined;
	this.sourceBlend = kha_graphics4_BlendingFactor.Undefined;
	this.myPipeline = null;
	this.g = g4;
	kha_graphics4_ColoredShaderPainter.bufferIndex = 0;
	kha_graphics4_ColoredShaderPainter.triangleBufferIndex = 0;
	kha_graphics4_ColoredShaderPainter.initShaders();
	this.initBuffers();
	this.projectionLocation = kha_graphics4_ColoredShaderPainter.shaderPipeline.getConstantLocation("projectionMatrix");
};
kha_graphics4_ColoredShaderPainter.__name__ = ["kha","graphics4","ColoredShaderPainter"];
kha_graphics4_ColoredShaderPainter.initShaders = function() {
	if(kha_graphics4_ColoredShaderPainter.structure == null) {
		kha_graphics4_ColoredShaderPainter.structure = kha_graphics4_Graphics2.createColoredVertexStructure();
	}
	if(kha_graphics4_ColoredShaderPainter.shaderPipeline == null) {
		kha_graphics4_ColoredShaderPainter.shaderPipeline = kha_graphics4_Graphics2.createColoredPipeline(kha_graphics4_ColoredShaderPainter.structure);
		kha_graphics4_ColoredShaderPainter.shaderPipeline.compile();
	}
};
kha_graphics4_ColoredShaderPainter.prototype = {
	projectionMatrix: null
	,g: null
	,myPipeline: null
	,projectionLocation: null
	,sourceBlend: null
	,destinationBlend: null
	,get_pipeline: function() {
		return this.myPipeline;
	}
	,set_pipeline: function(pipe) {
		if(pipe == null) {
			this.projectionLocation = kha_graphics4_ColoredShaderPainter.shaderPipeline.getConstantLocation("projectionMatrix");
		} else {
			this.projectionLocation = pipe.getConstantLocation("projectionMatrix");
		}
		return this.myPipeline = pipe;
	}
	,setProjection: function(projectionMatrix) {
		this.projectionMatrix = projectionMatrix;
	}
	,initBuffers: function() {
		if(kha_graphics4_ColoredShaderPainter.rectVertexBuffer == null) {
			kha_graphics4_ColoredShaderPainter.rectVertexBuffer = new kha_graphics4_VertexBuffer(400,kha_graphics4_ColoredShaderPainter.structure,kha_graphics4_Usage.DynamicUsage);
			kha_graphics4_ColoredShaderPainter.rectVertices = kha_graphics4_ColoredShaderPainter.rectVertexBuffer.lock();
			kha_graphics4_ColoredShaderPainter.indexBuffer = new kha_graphics4_IndexBuffer(600,kha_graphics4_Usage.StaticUsage);
			var indices = kha_graphics4_ColoredShaderPainter.indexBuffer.lock();
			var _g = 0;
			while(_g < 100) {
				var i = _g++;
				indices[i * 3 * 2] = i * 4;
				indices[i * 3 * 2 + 1] = i * 4 + 1;
				indices[i * 3 * 2 + 2] = i * 4 + 2;
				indices[i * 3 * 2 + 3] = i * 4;
				indices[i * 3 * 2 + 4] = i * 4 + 2;
				indices[i * 3 * 2 + 5] = i * 4 + 3;
			}
			kha_graphics4_ColoredShaderPainter.indexBuffer.unlock();
			kha_graphics4_ColoredShaderPainter.triangleVertexBuffer = new kha_graphics4_VertexBuffer(300,kha_graphics4_ColoredShaderPainter.structure,kha_graphics4_Usage.DynamicUsage);
			kha_graphics4_ColoredShaderPainter.triangleVertices = kha_graphics4_ColoredShaderPainter.triangleVertexBuffer.lock();
			kha_graphics4_ColoredShaderPainter.triangleIndexBuffer = new kha_graphics4_IndexBuffer(300,kha_graphics4_Usage.StaticUsage);
			var triIndices = kha_graphics4_ColoredShaderPainter.triangleIndexBuffer.lock();
			var _g1 = 0;
			while(_g1 < 100) {
				var i1 = _g1++;
				triIndices[i1 * 3] = i1 * 3;
				triIndices[i1 * 3 + 1] = i1 * 3 + 1;
				triIndices[i1 * 3 + 2] = i1 * 3 + 2;
			}
			kha_graphics4_ColoredShaderPainter.triangleIndexBuffer.unlock();
		}
	}
	,setRectVertices: function(bottomleftx,bottomlefty,topleftx,toplefty,toprightx,toprighty,bottomrightx,bottomrighty) {
		var baseIndex = kha_graphics4_ColoredShaderPainter.bufferIndex * 7 * 4;
		kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex] = bottomleftx;
		kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex + 1] = bottomlefty;
		kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex + 2] = -5.0;
		kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex + 7] = topleftx;
		kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex + 8] = toplefty;
		kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex + 9] = -5.0;
		kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex + 14] = toprightx;
		kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex + 15] = toprighty;
		kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex + 16] = -5.0;
		kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex + 21] = bottomrightx;
		kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex + 22] = bottomrighty;
		kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex + 23] = -5.0;
	}
	,setRectColors: function(opacity,color) {
		var baseIndex = kha_graphics4_ColoredShaderPainter.bufferIndex * 7 * 4;
		var a = opacity * ((color >>> 24) * 0.00392156862745098);
		kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex + 3] = ((color & 16711680) >>> 16) * 0.00392156862745098;
		kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex + 4] = ((color & 65280) >>> 8) * 0.00392156862745098;
		kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex + 5] = (color & 255) * 0.00392156862745098;
		kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex + 6] = a;
		kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex + 10] = ((color & 16711680) >>> 16) * 0.00392156862745098;
		kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex + 11] = ((color & 65280) >>> 8) * 0.00392156862745098;
		kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex + 12] = (color & 255) * 0.00392156862745098;
		kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex + 13] = a;
		kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex + 17] = ((color & 16711680) >>> 16) * 0.00392156862745098;
		kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex + 18] = ((color & 65280) >>> 8) * 0.00392156862745098;
		kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex + 19] = (color & 255) * 0.00392156862745098;
		kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex + 20] = a;
		kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex + 24] = ((color & 16711680) >>> 16) * 0.00392156862745098;
		kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex + 25] = ((color & 65280) >>> 8) * 0.00392156862745098;
		kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex + 26] = (color & 255) * 0.00392156862745098;
		kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex + 27] = a;
	}
	,setTriVertices: function(x1,y1,x2,y2,x3,y3) {
		var baseIndex = kha_graphics4_ColoredShaderPainter.triangleBufferIndex * 7 * 3;
		kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex] = x1;
		kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex + 1] = y1;
		kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex + 2] = -5.0;
		kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex + 7] = x2;
		kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex + 8] = y2;
		kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex + 9] = -5.0;
		kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex + 14] = x3;
		kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex + 15] = y3;
		kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex + 16] = -5.0;
	}
	,setTriColors: function(opacity,color) {
		var baseIndex = kha_graphics4_ColoredShaderPainter.triangleBufferIndex * 7 * 3;
		var a = opacity * ((color >>> 24) * 0.00392156862745098);
		kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex + 3] = ((color & 16711680) >>> 16) * 0.00392156862745098;
		kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex + 4] = ((color & 65280) >>> 8) * 0.00392156862745098;
		kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex + 5] = (color & 255) * 0.00392156862745098;
		kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex + 6] = a;
		kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex + 10] = ((color & 16711680) >>> 16) * 0.00392156862745098;
		kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex + 11] = ((color & 65280) >>> 8) * 0.00392156862745098;
		kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex + 12] = (color & 255) * 0.00392156862745098;
		kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex + 13] = a;
		kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex + 17] = ((color & 16711680) >>> 16) * 0.00392156862745098;
		kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex + 18] = ((color & 65280) >>> 8) * 0.00392156862745098;
		kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex + 19] = (color & 255) * 0.00392156862745098;
		kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex + 20] = a;
	}
	,drawBuffer: function(trisDone) {
		if(!trisDone) {
			if(kha_graphics4_ColoredShaderPainter.triangleBufferIndex > 0) {
				this.drawTriBuffer(true);
			}
		}
		kha_graphics4_ColoredShaderPainter.rectVertexBuffer.unlock();
		this.g.setVertexBuffer(kha_graphics4_ColoredShaderPainter.rectVertexBuffer);
		this.g.setIndexBuffer(kha_graphics4_ColoredShaderPainter.indexBuffer);
		this.g.setPipeline(this.get_pipeline() == null ? kha_graphics4_ColoredShaderPainter.shaderPipeline : this.get_pipeline());
		this.g.setMatrix(this.projectionLocation,this.projectionMatrix);
		this.g.drawIndexedVertices(0,kha_graphics4_ColoredShaderPainter.bufferIndex * 2 * 3);
		kha_graphics4_ColoredShaderPainter.bufferIndex = 0;
		kha_graphics4_ColoredShaderPainter.rectVertices = kha_graphics4_ColoredShaderPainter.rectVertexBuffer.lock();
	}
	,drawTriBuffer: function(rectsDone) {
		if(!rectsDone) {
			if(kha_graphics4_ColoredShaderPainter.bufferIndex > 0) {
				this.drawBuffer(true);
			}
		}
		kha_graphics4_ColoredShaderPainter.triangleVertexBuffer.unlock();
		this.g.setVertexBuffer(kha_graphics4_ColoredShaderPainter.triangleVertexBuffer);
		this.g.setIndexBuffer(kha_graphics4_ColoredShaderPainter.triangleIndexBuffer);
		this.g.setPipeline(this.get_pipeline() == null ? kha_graphics4_ColoredShaderPainter.shaderPipeline : this.get_pipeline());
		this.g.setMatrix(this.projectionLocation,this.projectionMatrix);
		this.g.drawIndexedVertices(0,kha_graphics4_ColoredShaderPainter.triangleBufferIndex * 3);
		kha_graphics4_ColoredShaderPainter.triangleBufferIndex = 0;
		kha_graphics4_ColoredShaderPainter.triangleVertices = kha_graphics4_ColoredShaderPainter.triangleVertexBuffer.lock();
	}
	,fillRect: function(opacity,color,bottomleftx,bottomlefty,topleftx,toplefty,toprightx,toprighty,bottomrightx,bottomrighty) {
		if(kha_graphics4_ColoredShaderPainter.triangleBufferIndex > 0) {
			this.drawTriBuffer(true);
		}
		if(kha_graphics4_ColoredShaderPainter.bufferIndex + 1 >= 100) {
			this.drawBuffer(false);
		}
		this.setRectColors(opacity,color);
		this.setRectVertices(bottomleftx,bottomlefty,topleftx,toplefty,toprightx,toprighty,bottomrightx,bottomrighty);
		++kha_graphics4_ColoredShaderPainter.bufferIndex;
	}
	,fillTriangle: function(opacity,color,x1,y1,x2,y2,x3,y3) {
		if(kha_graphics4_ColoredShaderPainter.bufferIndex > 0) {
			this.drawBuffer(true);
		}
		if(kha_graphics4_ColoredShaderPainter.triangleBufferIndex + 1 >= 100) {
			this.drawTriBuffer(false);
		}
		this.setTriColors(opacity,color);
		this.setTriVertices(x1,y1,x2,y2,x3,y3);
		++kha_graphics4_ColoredShaderPainter.triangleBufferIndex;
	}
	,endTris: function(rectsDone) {
		if(kha_graphics4_ColoredShaderPainter.triangleBufferIndex > 0) {
			this.drawTriBuffer(rectsDone);
		}
	}
	,endRects: function(trisDone) {
		if(kha_graphics4_ColoredShaderPainter.bufferIndex > 0) {
			this.drawBuffer(trisDone);
		}
	}
	,end: function() {
		if(kha_graphics4_ColoredShaderPainter.triangleBufferIndex > 0) {
			this.drawTriBuffer(false);
		}
		if(kha_graphics4_ColoredShaderPainter.bufferIndex > 0) {
			this.drawBuffer(false);
		}
	}
	,__class__: kha_graphics4_ColoredShaderPainter
	,__properties__: {set_pipeline:"set_pipeline",get_pipeline:"get_pipeline"}
};
var kha_graphics4_TextShaderPainter = $hxClasses["kha.graphics4.TextShaderPainter"] = function(g4) {
	this.bakedQuadCache = new kha_AlignedQuad();
	this.destinationBlend = kha_graphics4_BlendingFactor.Undefined;
	this.sourceBlend = kha_graphics4_BlendingFactor.Undefined;
	this.bilinear = false;
	this.myPipeline = null;
	this.g = g4;
	kha_graphics4_TextShaderPainter.bufferIndex = 0;
	kha_graphics4_TextShaderPainter.initShaders();
	this.initBuffers();
	this.projectionLocation = kha_graphics4_TextShaderPainter.shaderPipeline.getConstantLocation("projectionMatrix");
	this.textureLocation = kha_graphics4_TextShaderPainter.shaderPipeline.getTextureUnit("tex");
};
kha_graphics4_TextShaderPainter.__name__ = ["kha","graphics4","TextShaderPainter"];
kha_graphics4_TextShaderPainter.initShaders = function() {
	if(kha_graphics4_TextShaderPainter.structure == null) {
		kha_graphics4_TextShaderPainter.structure = kha_graphics4_Graphics2.createTextVertexStructure();
	}
	if(kha_graphics4_TextShaderPainter.shaderPipeline == null) {
		kha_graphics4_TextShaderPainter.shaderPipeline = kha_graphics4_Graphics2.createTextPipeline(kha_graphics4_TextShaderPainter.structure);
		kha_graphics4_TextShaderPainter.shaderPipeline.compile();
	}
};
kha_graphics4_TextShaderPainter.findIndex = function(charcode,fontGlyphs) {
	var _g1 = 0;
	var _g = fontGlyphs.length;
	while(_g1 < _g) {
		var i = _g1++;
		if(fontGlyphs[i] == charcode) {
			return i;
		}
	}
	return 0;
};
kha_graphics4_TextShaderPainter.prototype = {
	projectionMatrix: null
	,font: null
	,g: null
	,myPipeline: null
	,projectionLocation: null
	,textureLocation: null
	,fontSize: null
	,bilinear: null
	,sourceBlend: null
	,destinationBlend: null
	,get_pipeline: function() {
		return this.myPipeline;
	}
	,set_pipeline: function(pipe) {
		if(pipe == null) {
			this.projectionLocation = kha_graphics4_TextShaderPainter.shaderPipeline.getConstantLocation("projectionMatrix");
			this.textureLocation = kha_graphics4_TextShaderPainter.shaderPipeline.getTextureUnit("tex");
		} else {
			this.projectionLocation = pipe.getConstantLocation("projectionMatrix");
			this.textureLocation = pipe.getTextureUnit("tex");
		}
		return this.myPipeline = pipe;
	}
	,setProjection: function(projectionMatrix) {
		this.projectionMatrix = projectionMatrix;
	}
	,initBuffers: function() {
		if(kha_graphics4_TextShaderPainter.rectVertexBuffer == null) {
			kha_graphics4_TextShaderPainter.rectVertexBuffer = new kha_graphics4_VertexBuffer(400,kha_graphics4_TextShaderPainter.structure,kha_graphics4_Usage.DynamicUsage);
			kha_graphics4_TextShaderPainter.rectVertices = kha_graphics4_TextShaderPainter.rectVertexBuffer.lock();
			kha_graphics4_TextShaderPainter.indexBuffer = new kha_graphics4_IndexBuffer(600,kha_graphics4_Usage.StaticUsage);
			var indices = kha_graphics4_TextShaderPainter.indexBuffer.lock();
			var _g = 0;
			while(_g < 100) {
				var i = _g++;
				indices[i * 3 * 2] = i * 4;
				indices[i * 3 * 2 + 1] = i * 4 + 1;
				indices[i * 3 * 2 + 2] = i * 4 + 2;
				indices[i * 3 * 2 + 3] = i * 4;
				indices[i * 3 * 2 + 4] = i * 4 + 2;
				indices[i * 3 * 2 + 5] = i * 4 + 3;
			}
			kha_graphics4_TextShaderPainter.indexBuffer.unlock();
		}
	}
	,setRectVertices: function(bottomleftx,bottomlefty,topleftx,toplefty,toprightx,toprighty,bottomrightx,bottomrighty) {
		var baseIndex = kha_graphics4_TextShaderPainter.bufferIndex * 9 * 4;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex] = bottomleftx;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 1] = bottomlefty;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 2] = -5.0;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 9] = topleftx;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 10] = toplefty;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 11] = -5.0;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 18] = toprightx;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 19] = toprighty;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 20] = -5.0;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 27] = bottomrightx;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 28] = bottomrighty;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 29] = -5.0;
	}
	,setRectTexCoords: function(left,top,right,bottom) {
		var baseIndex = kha_graphics4_TextShaderPainter.bufferIndex * 9 * 4;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 3] = left;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 4] = bottom;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 12] = left;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 13] = top;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 21] = right;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 22] = top;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 30] = right;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 31] = bottom;
	}
	,setRectColors: function(opacity,color) {
		var baseIndex = kha_graphics4_TextShaderPainter.bufferIndex * 9 * 4;
		var a = opacity * ((color >>> 24) * 0.00392156862745098);
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 5] = ((color & 16711680) >>> 16) * 0.00392156862745098;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 6] = ((color & 65280) >>> 8) * 0.00392156862745098;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 7] = (color & 255) * 0.00392156862745098;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 8] = a;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 14] = ((color & 16711680) >>> 16) * 0.00392156862745098;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 15] = ((color & 65280) >>> 8) * 0.00392156862745098;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 16] = (color & 255) * 0.00392156862745098;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 17] = a;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 23] = ((color & 16711680) >>> 16) * 0.00392156862745098;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 24] = ((color & 65280) >>> 8) * 0.00392156862745098;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 25] = (color & 255) * 0.00392156862745098;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 26] = a;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 32] = ((color & 16711680) >>> 16) * 0.00392156862745098;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 33] = ((color & 65280) >>> 8) * 0.00392156862745098;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 34] = (color & 255) * 0.00392156862745098;
		kha_graphics4_TextShaderPainter.rectVertices[baseIndex + 35] = a;
	}
	,drawBuffer: function() {
		kha_graphics4_TextShaderPainter.rectVertexBuffer.unlock();
		this.g.setVertexBuffer(kha_graphics4_TextShaderPainter.rectVertexBuffer);
		this.g.setIndexBuffer(kha_graphics4_TextShaderPainter.indexBuffer);
		this.g.setPipeline(this.get_pipeline() == null ? kha_graphics4_TextShaderPainter.shaderPipeline : this.get_pipeline());
		this.g.setTexture(this.textureLocation,kha_graphics4_TextShaderPainter.lastTexture);
		this.g.setMatrix(this.projectionLocation,this.projectionMatrix);
		this.g.setTextureParameters(this.textureLocation,kha_graphics4_TextureAddressing.Clamp,kha_graphics4_TextureAddressing.Clamp,this.bilinear ? kha_graphics4_TextureFilter.LinearFilter : kha_graphics4_TextureFilter.PointFilter,this.bilinear ? kha_graphics4_TextureFilter.LinearFilter : kha_graphics4_TextureFilter.PointFilter,kha_graphics4_MipMapFilter.NoMipFilter);
		this.g.drawIndexedVertices(0,kha_graphics4_TextShaderPainter.bufferIndex * 2 * 3);
		this.g.setTexture(this.textureLocation,null);
		kha_graphics4_TextShaderPainter.bufferIndex = 0;
		kha_graphics4_TextShaderPainter.rectVertices = kha_graphics4_TextShaderPainter.rectVertexBuffer.lock();
	}
	,setBilinearFilter: function(bilinear) {
		this.end();
		this.bilinear = bilinear;
	}
	,setFont: function(font) {
		this.font = js_Boot.__cast(font , kha_Kravur);
	}
	,text: null
	,startString: function(text) {
		this.text = text;
	}
	,charCodeAt: function(position) {
		return HxOverrides.cca(this.text,position);
	}
	,stringLength: function() {
		return this.text.length;
	}
	,endString: function() {
		this.text = null;
	}
	,bakedQuadCache: null
	,drawString: function(text,opacity,color,x,y,transformation,fontGlyphs) {
		var font = this.font._get(this.fontSize,fontGlyphs);
		var tex = font.getTexture();
		if(kha_graphics4_TextShaderPainter.lastTexture != null && tex != kha_graphics4_TextShaderPainter.lastTexture) {
			this.drawBuffer();
		}
		kha_graphics4_TextShaderPainter.lastTexture = tex;
		var xpos = x;
		var ypos = y;
		this.startString(text);
		var _g1 = 0;
		var _g = this.stringLength();
		while(_g1 < _g) {
			var i = _g1++;
			var q = font.getBakedQuad(this.bakedQuadCache,kha_graphics4_TextShaderPainter.findIndex(this.charCodeAt(i),fontGlyphs),xpos,ypos);
			if(q != null) {
				if(kha_graphics4_TextShaderPainter.bufferIndex + 1 >= 100) {
					this.drawBuffer();
				}
				this.setRectColors(opacity,color);
				this.setRectTexCoords(q.s0 * tex.get_width() / tex.get_realWidth(),q.t0 * tex.get_height() / tex.get_realHeight(),q.s1 * tex.get_width() / tex.get_realWidth(),q.t1 * tex.get_height() / tex.get_realHeight());
				var p0_y;
				var p0_x;
				var value_y;
				var value_x = q.x0;
				value_y = q.y1;
				var w = transformation._02 * value_x + transformation._12 * value_y + transformation._22;
				var x1 = (transformation._00 * value_x + transformation._10 * value_y + transformation._20) / w;
				var y1 = (transformation._01 * value_x + transformation._11 * value_y + transformation._21) / w;
				p0_x = x1;
				p0_y = y1;
				var p1_y;
				var p1_x;
				var value_y1;
				var value_x1 = q.x0;
				value_y1 = q.y0;
				var w1 = transformation._02 * value_x1 + transformation._12 * value_y1 + transformation._22;
				var x2 = (transformation._00 * value_x1 + transformation._10 * value_y1 + transformation._20) / w1;
				var y2 = (transformation._01 * value_x1 + transformation._11 * value_y1 + transformation._21) / w1;
				p1_x = x2;
				p1_y = y2;
				var p2_y;
				var p2_x;
				var value_y2;
				var value_x2 = q.x1;
				value_y2 = q.y0;
				var w2 = transformation._02 * value_x2 + transformation._12 * value_y2 + transformation._22;
				var x3 = (transformation._00 * value_x2 + transformation._10 * value_y2 + transformation._20) / w2;
				var y3 = (transformation._01 * value_x2 + transformation._11 * value_y2 + transformation._21) / w2;
				p2_x = x3;
				p2_y = y3;
				var p3_y;
				var p3_x;
				var value_y3;
				var value_x3 = q.x1;
				value_y3 = q.y1;
				var w3 = transformation._02 * value_x3 + transformation._12 * value_y3 + transformation._22;
				var x4 = (transformation._00 * value_x3 + transformation._10 * value_y3 + transformation._20) / w3;
				var y4 = (transformation._01 * value_x3 + transformation._11 * value_y3 + transformation._21) / w3;
				p3_x = x4;
				p3_y = y4;
				this.setRectVertices(p0_x,p0_y,p1_x,p1_y,p2_x,p2_y,p3_x,p3_y);
				xpos += q.xadvance;
				++kha_graphics4_TextShaderPainter.bufferIndex;
			}
		}
		this.endString();
	}
	,drawCharacters: function(text,start,length,opacity,color,x,y,transformation,fontGlyphs) {
		var font = this.font._get(this.fontSize,fontGlyphs);
		var tex = font.getTexture();
		if(kha_graphics4_TextShaderPainter.lastTexture != null && tex != kha_graphics4_TextShaderPainter.lastTexture) {
			this.drawBuffer();
		}
		kha_graphics4_TextShaderPainter.lastTexture = tex;
		var xpos = x;
		var ypos = y;
		var _g1 = start;
		var _g = start + length;
		while(_g1 < _g) {
			var i = _g1++;
			var q = font.getBakedQuad(this.bakedQuadCache,kha_graphics4_TextShaderPainter.findIndex(text[i],fontGlyphs),xpos,ypos);
			if(q != null) {
				if(kha_graphics4_TextShaderPainter.bufferIndex + 1 >= 100) {
					this.drawBuffer();
				}
				this.setRectColors(opacity,color);
				this.setRectTexCoords(q.s0 * tex.get_width() / tex.get_realWidth(),q.t0 * tex.get_height() / tex.get_realHeight(),q.s1 * tex.get_width() / tex.get_realWidth(),q.t1 * tex.get_height() / tex.get_realHeight());
				var p0_y;
				var p0_x;
				var value_y;
				var value_x = q.x0;
				value_y = q.y1;
				var w = transformation._02 * value_x + transformation._12 * value_y + transformation._22;
				var x1 = (transformation._00 * value_x + transformation._10 * value_y + transformation._20) / w;
				var y1 = (transformation._01 * value_x + transformation._11 * value_y + transformation._21) / w;
				p0_x = x1;
				p0_y = y1;
				var p1_y;
				var p1_x;
				var value_y1;
				var value_x1 = q.x0;
				value_y1 = q.y0;
				var w1 = transformation._02 * value_x1 + transformation._12 * value_y1 + transformation._22;
				var x2 = (transformation._00 * value_x1 + transformation._10 * value_y1 + transformation._20) / w1;
				var y2 = (transformation._01 * value_x1 + transformation._11 * value_y1 + transformation._21) / w1;
				p1_x = x2;
				p1_y = y2;
				var p2_y;
				var p2_x;
				var value_y2;
				var value_x2 = q.x1;
				value_y2 = q.y0;
				var w2 = transformation._02 * value_x2 + transformation._12 * value_y2 + transformation._22;
				var x3 = (transformation._00 * value_x2 + transformation._10 * value_y2 + transformation._20) / w2;
				var y3 = (transformation._01 * value_x2 + transformation._11 * value_y2 + transformation._21) / w2;
				p2_x = x3;
				p2_y = y3;
				var p3_y;
				var p3_x;
				var value_y3;
				var value_x3 = q.x1;
				value_y3 = q.y1;
				var w3 = transformation._02 * value_x3 + transformation._12 * value_y3 + transformation._22;
				var x4 = (transformation._00 * value_x3 + transformation._10 * value_y3 + transformation._20) / w3;
				var y4 = (transformation._01 * value_x3 + transformation._11 * value_y3 + transformation._21) / w3;
				p3_x = x4;
				p3_y = y4;
				this.setRectVertices(p0_x,p0_y,p1_x,p1_y,p2_x,p2_y,p3_x,p3_y);
				xpos += q.xadvance;
				++kha_graphics4_TextShaderPainter.bufferIndex;
			}
		}
	}
	,end: function() {
		if(kha_graphics4_TextShaderPainter.bufferIndex > 0) {
			this.drawBuffer();
		}
		kha_graphics4_TextShaderPainter.lastTexture = null;
	}
	,__class__: kha_graphics4_TextShaderPainter
	,__properties__: {set_pipeline:"set_pipeline",get_pipeline:"get_pipeline"}
};
var kha_graphics4_Graphics2 = $hxClasses["kha.graphics4.Graphics2"] = function(canvas) {
	this.myMipmapScaleQuality = kha_graphics2_ImageScaleQuality.High;
	this.myImageScaleQuality = kha_graphics2_ImageScaleQuality.High;
	kha_graphics2_Graphics.call(this);
	this.set_color(-1);
	this.canvas = canvas;
	this.g = canvas.get_g4();
	this.imagePainter = new kha_graphics4_ImageShaderPainter(this.g);
	this.coloredPainter = new kha_graphics4_ColoredShaderPainter(this.g);
	this.textPainter = new kha_graphics4_TextShaderPainter(this.g);
	this.textPainter.fontSize = this.get_fontSize();
	this.setProjection();
	if(kha_graphics4_Graphics2.videoPipeline == null) {
		kha_graphics4_Graphics2.videoPipeline = kha_graphics4_Graphics2.createImagePipeline(kha_graphics4_Graphics2.createImageVertexStructure());
		kha_graphics4_Graphics2.videoPipeline.fragmentShader = kha_Shaders.painter_video_frag;
		kha_graphics4_Graphics2.videoPipeline.vertexShader = kha_Shaders.painter_video_vert;
		kha_graphics4_Graphics2.videoPipeline.compile();
	}
};
kha_graphics4_Graphics2.__name__ = ["kha","graphics4","Graphics2"];
kha_graphics4_Graphics2.upperPowerOfTwo = function(v) {
	--v;
	v |= v >>> 1;
	v |= v >>> 2;
	v |= v >>> 4;
	v |= v >>> 8;
	v |= v >>> 16;
	return ++v;
};
kha_graphics4_Graphics2.createImageVertexStructure = function() {
	var structure = new kha_graphics4_VertexStructure();
	structure.add("vertexPosition",kha_graphics4_VertexData.Float3);
	structure.add("texPosition",kha_graphics4_VertexData.Float2);
	structure.add("vertexColor",kha_graphics4_VertexData.Float4);
	return structure;
};
kha_graphics4_Graphics2.createImagePipeline = function(structure) {
	var shaderPipeline = new kha_graphics4_PipelineState();
	shaderPipeline.fragmentShader = kha_Shaders.painter_image_frag;
	shaderPipeline.vertexShader = kha_Shaders.painter_image_vert;
	shaderPipeline.inputLayout = [structure];
	shaderPipeline.blendSource = kha_graphics4_BlendingFactor.BlendOne;
	shaderPipeline.blendDestination = kha_graphics4_BlendingFactor.InverseSourceAlpha;
	shaderPipeline.alphaBlendSource = kha_graphics4_BlendingFactor.SourceAlpha;
	shaderPipeline.alphaBlendDestination = kha_graphics4_BlendingFactor.InverseSourceAlpha;
	return shaderPipeline;
};
kha_graphics4_Graphics2.createColoredVertexStructure = function() {
	var structure = new kha_graphics4_VertexStructure();
	structure.add("vertexPosition",kha_graphics4_VertexData.Float3);
	structure.add("vertexColor",kha_graphics4_VertexData.Float4);
	return structure;
};
kha_graphics4_Graphics2.createColoredPipeline = function(structure) {
	var shaderPipeline = new kha_graphics4_PipelineState();
	shaderPipeline.fragmentShader = kha_Shaders.painter_colored_frag;
	shaderPipeline.vertexShader = kha_Shaders.painter_colored_vert;
	shaderPipeline.inputLayout = [structure];
	shaderPipeline.blendSource = kha_graphics4_BlendingFactor.SourceAlpha;
	shaderPipeline.blendDestination = kha_graphics4_BlendingFactor.InverseSourceAlpha;
	shaderPipeline.alphaBlendSource = kha_graphics4_BlendingFactor.SourceAlpha;
	shaderPipeline.alphaBlendDestination = kha_graphics4_BlendingFactor.InverseSourceAlpha;
	return shaderPipeline;
};
kha_graphics4_Graphics2.createTextVertexStructure = function() {
	var structure = new kha_graphics4_VertexStructure();
	structure.add("vertexPosition",kha_graphics4_VertexData.Float3);
	structure.add("texPosition",kha_graphics4_VertexData.Float2);
	structure.add("vertexColor",kha_graphics4_VertexData.Float4);
	return structure;
};
kha_graphics4_Graphics2.createTextPipeline = function(structure) {
	var shaderPipeline = new kha_graphics4_PipelineState();
	shaderPipeline.fragmentShader = kha_Shaders.painter_text_frag;
	shaderPipeline.vertexShader = kha_Shaders.painter_text_vert;
	shaderPipeline.inputLayout = [structure];
	shaderPipeline.blendSource = kha_graphics4_BlendingFactor.SourceAlpha;
	shaderPipeline.blendDestination = kha_graphics4_BlendingFactor.InverseSourceAlpha;
	shaderPipeline.alphaBlendSource = kha_graphics4_BlendingFactor.SourceAlpha;
	shaderPipeline.alphaBlendDestination = kha_graphics4_BlendingFactor.InverseSourceAlpha;
	return shaderPipeline;
};
kha_graphics4_Graphics2.__super__ = kha_graphics2_Graphics;
kha_graphics4_Graphics2.prototype = $extend(kha_graphics2_Graphics.prototype,{
	myColor: null
	,myFont: null
	,projectionMatrix: null
	,imagePainter: null
	,coloredPainter: null
	,textPainter: null
	,canvas: null
	,g: null
	,setProjection: function() {
		var width = this.canvas.get_width();
		var height = this.canvas.get_height();
		if(js_Boot.__instanceof(this.canvas,kha_Framebuffer)) {
			this.projectionMatrix = kha_math_FastMatrix4.orthogonalProjection(0,width,height,0,0.1,1000);
		} else {
			if(!kha_Image.get_nonPow2Supported()) {
				width = kha_graphics4_Graphics2.upperPowerOfTwo(width);
				height = kha_graphics4_Graphics2.upperPowerOfTwo(height);
			}
			if(this.g.renderTargetsInvertedY()) {
				this.projectionMatrix = kha_math_FastMatrix4.orthogonalProjection(0,width,0,height,0.1,1000);
			} else {
				this.projectionMatrix = kha_math_FastMatrix4.orthogonalProjection(0,width,height,0,0.1,1000);
			}
		}
		this.imagePainter.setProjection(this.projectionMatrix);
		this.coloredPainter.setProjection(this.projectionMatrix);
		this.textPainter.setProjection(this.projectionMatrix);
	}
	,drawImage: function(img,x,y) {
		var _this = this.coloredPainter;
		if(kha_graphics4_ColoredShaderPainter.triangleBufferIndex > 0) {
			_this.drawTriBuffer(false);
		}
		if(kha_graphics4_ColoredShaderPainter.bufferIndex > 0) {
			_this.drawBuffer(false);
		}
		this.textPainter.end();
		var xw = x + img.get_width();
		var yh = y + img.get_height();
		var p1_y;
		var p1_x;
		var _this1 = this.transformations[this.transformations.length - 1];
		var value_y;
		var value_x = x;
		value_y = yh;
		var w = _this1._02 * value_x + _this1._12 * value_y + _this1._22;
		var x1 = (_this1._00 * value_x + _this1._10 * value_y + _this1._20) / w;
		var y1 = (_this1._01 * value_x + _this1._11 * value_y + _this1._21) / w;
		p1_x = x1;
		p1_y = y1;
		var p2_y;
		var p2_x;
		var _this2 = this.transformations[this.transformations.length - 1];
		var value_y1;
		var value_x1 = x;
		value_y1 = y;
		var w1 = _this2._02 * value_x1 + _this2._12 * value_y1 + _this2._22;
		var x2 = (_this2._00 * value_x1 + _this2._10 * value_y1 + _this2._20) / w1;
		var y2 = (_this2._01 * value_x1 + _this2._11 * value_y1 + _this2._21) / w1;
		p2_x = x2;
		p2_y = y2;
		var p3_y;
		var p3_x;
		var _this3 = this.transformations[this.transformations.length - 1];
		var value_y2;
		var value_x2 = xw;
		value_y2 = y;
		var w2 = _this3._02 * value_x2 + _this3._12 * value_y2 + _this3._22;
		var x3 = (_this3._00 * value_x2 + _this3._10 * value_y2 + _this3._20) / w2;
		var y3 = (_this3._01 * value_x2 + _this3._11 * value_y2 + _this3._21) / w2;
		p3_x = x3;
		p3_y = y3;
		var p4_y;
		var p4_x;
		var _this4 = this.transformations[this.transformations.length - 1];
		var value_y3;
		var value_x3 = xw;
		value_y3 = yh;
		var w3 = _this4._02 * value_x3 + _this4._12 * value_y3 + _this4._22;
		var x4 = (_this4._00 * value_x3 + _this4._10 * value_y3 + _this4._20) / w3;
		var y4 = (_this4._01 * value_x3 + _this4._11 * value_y3 + _this4._21) / w3;
		p4_x = x4;
		p4_y = y4;
		var _this5 = this.imagePainter;
		var opacity = this.get_opacity();
		var color = this.get_color();
		var tex = img;
		if(kha_graphics4_ImageShaderPainter.bufferIndex + 1 >= 1500 || kha_graphics4_ImageShaderPainter.lastTexture != null && tex != kha_graphics4_ImageShaderPainter.lastTexture) {
			_this5.drawBuffer();
		}
		var r = ((color & 16711680) >>> 16) * 0.00392156862745098;
		var g = ((color & 65280) >>> 8) * 0.00392156862745098;
		var b = (color & 255) * 0.00392156862745098;
		var a = (color >>> 24) * 0.00392156862745098 * opacity;
		var baseIndex = kha_graphics4_ImageShaderPainter.bufferIndex * 9 * 4;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 5] = r;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 6] = g;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 7] = b;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 8] = a;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 14] = r;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 15] = g;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 16] = b;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 17] = a;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 23] = r;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 24] = g;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 25] = b;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 26] = a;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 32] = r;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 33] = g;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 34] = b;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 35] = a;
		var right = tex.get_width() / tex.get_realWidth();
		var bottom = tex.get_height() / tex.get_realHeight();
		var baseIndex1 = kha_graphics4_ImageShaderPainter.bufferIndex * 9 * 4;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 3] = 0;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 4] = bottom;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 12] = 0;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 13] = 0;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 21] = right;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 22] = 0;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 30] = right;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 31] = bottom;
		var baseIndex2 = kha_graphics4_ImageShaderPainter.bufferIndex * 9 * 4;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2] = p1_x;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 1] = p1_y;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 2] = -5.0;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 9] = p2_x;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 10] = p2_y;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 11] = -5.0;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 18] = p3_x;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 19] = p3_y;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 20] = -5.0;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 27] = p4_x;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 28] = p4_y;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 29] = -5.0;
		++kha_graphics4_ImageShaderPainter.bufferIndex;
		kha_graphics4_ImageShaderPainter.lastTexture = tex;
	}
	,drawScaledSubImage: function(img,sx,sy,sw,sh,dx,dy,dw,dh) {
		var _this = this.coloredPainter;
		if(kha_graphics4_ColoredShaderPainter.triangleBufferIndex > 0) {
			_this.drawTriBuffer(false);
		}
		if(kha_graphics4_ColoredShaderPainter.bufferIndex > 0) {
			_this.drawBuffer(false);
		}
		this.textPainter.end();
		var p1_y;
		var p1_x;
		var _this1 = this.transformations[this.transformations.length - 1];
		var value_y;
		var value_x = dx;
		value_y = dy + dh;
		var w = _this1._02 * value_x + _this1._12 * value_y + _this1._22;
		var x = (_this1._00 * value_x + _this1._10 * value_y + _this1._20) / w;
		var y = (_this1._01 * value_x + _this1._11 * value_y + _this1._21) / w;
		p1_x = x;
		p1_y = y;
		var p2_y;
		var p2_x;
		var _this2 = this.transformations[this.transformations.length - 1];
		var value_y1;
		var value_x1 = dx;
		value_y1 = dy;
		var w1 = _this2._02 * value_x1 + _this2._12 * value_y1 + _this2._22;
		var x1 = (_this2._00 * value_x1 + _this2._10 * value_y1 + _this2._20) / w1;
		var y1 = (_this2._01 * value_x1 + _this2._11 * value_y1 + _this2._21) / w1;
		p2_x = x1;
		p2_y = y1;
		var p3_y;
		var p3_x;
		var _this3 = this.transformations[this.transformations.length - 1];
		var value_y2;
		var value_x2 = dx + dw;
		value_y2 = dy;
		var w2 = _this3._02 * value_x2 + _this3._12 * value_y2 + _this3._22;
		var x2 = (_this3._00 * value_x2 + _this3._10 * value_y2 + _this3._20) / w2;
		var y2 = (_this3._01 * value_x2 + _this3._11 * value_y2 + _this3._21) / w2;
		p3_x = x2;
		p3_y = y2;
		var p4_y;
		var p4_x;
		var _this4 = this.transformations[this.transformations.length - 1];
		var value_y3;
		var value_x3 = dx + dw;
		value_y3 = dy + dh;
		var w3 = _this4._02 * value_x3 + _this4._12 * value_y3 + _this4._22;
		var x3 = (_this4._00 * value_x3 + _this4._10 * value_y3 + _this4._20) / w3;
		var y3 = (_this4._01 * value_x3 + _this4._11 * value_y3 + _this4._21) / w3;
		p4_x = x3;
		p4_y = y3;
		var _this5 = this.imagePainter;
		var opacity = this.get_opacity();
		var color = this.get_color();
		var tex = img;
		if(kha_graphics4_ImageShaderPainter.bufferIndex + 1 >= 1500 || kha_graphics4_ImageShaderPainter.lastTexture != null && tex != kha_graphics4_ImageShaderPainter.lastTexture) {
			_this5.drawBuffer();
		}
		var left = sx / tex.get_realWidth();
		var top = sy / tex.get_realHeight();
		var right = (sx + sw) / tex.get_realWidth();
		var bottom = (sy + sh) / tex.get_realHeight();
		var baseIndex = kha_graphics4_ImageShaderPainter.bufferIndex * 9 * 4;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 3] = left;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 4] = bottom;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 12] = left;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 13] = top;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 21] = right;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 22] = top;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 30] = right;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex + 31] = bottom;
		var r = ((color & 16711680) >>> 16) * 0.00392156862745098;
		var g = ((color & 65280) >>> 8) * 0.00392156862745098;
		var b = (color & 255) * 0.00392156862745098;
		var a = (color >>> 24) * 0.00392156862745098 * opacity;
		var baseIndex1 = kha_graphics4_ImageShaderPainter.bufferIndex * 9 * 4;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 5] = r;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 6] = g;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 7] = b;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 8] = a;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 14] = r;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 15] = g;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 16] = b;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 17] = a;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 23] = r;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 24] = g;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 25] = b;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 26] = a;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 32] = r;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 33] = g;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 34] = b;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1 + 35] = a;
		var baseIndex2 = kha_graphics4_ImageShaderPainter.bufferIndex * 9 * 4;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2] = p1_x;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 1] = p1_y;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 2] = -5.0;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 9] = p2_x;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 10] = p2_y;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 11] = -5.0;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 18] = p3_x;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 19] = p3_y;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 20] = -5.0;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 27] = p4_x;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 28] = p4_y;
		kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2 + 29] = -5.0;
		++kha_graphics4_ImageShaderPainter.bufferIndex;
		kha_graphics4_ImageShaderPainter.lastTexture = tex;
	}
	,get_color: function() {
		return this.myColor;
	}
	,set_color: function(color) {
		return this.myColor = color;
	}
	,drawRect: function(x,y,width,height,strength) {
		if(strength == null) {
			strength = 1.0;
		}
		this.imagePainter.end();
		this.textPainter.end();
		var _this = this.transformations[this.transformations.length - 1];
		var value_y;
		var value_x = x - strength / 2;
		value_y = y + strength / 2;
		var w = _this._02 * value_x + _this._12 * value_y + _this._22;
		var x1 = (_this._00 * value_x + _this._10 * value_y + _this._20) / w;
		var y1 = (_this._01 * value_x + _this._11 * value_y + _this._21) / w;
		var p1 = new kha_math_FastVector2(x1,y1);
		var _this1 = this.transformations[this.transformations.length - 1];
		var value_y1;
		var value_x1 = x - strength / 2;
		value_y1 = y - strength / 2;
		var w1 = _this1._02 * value_x1 + _this1._12 * value_y1 + _this1._22;
		var x2 = (_this1._00 * value_x1 + _this1._10 * value_y1 + _this1._20) / w1;
		var y2 = (_this1._01 * value_x1 + _this1._11 * value_y1 + _this1._21) / w1;
		var p2 = new kha_math_FastVector2(x2,y2);
		var _this2 = this.transformations[this.transformations.length - 1];
		var value_y2;
		var value_x2 = x + width + strength / 2;
		value_y2 = y - strength / 2;
		var w2 = _this2._02 * value_x2 + _this2._12 * value_y2 + _this2._22;
		var x3 = (_this2._00 * value_x2 + _this2._10 * value_y2 + _this2._20) / w2;
		var y3 = (_this2._01 * value_x2 + _this2._11 * value_y2 + _this2._21) / w2;
		var p3 = new kha_math_FastVector2(x3,y3);
		var _this3 = this.transformations[this.transformations.length - 1];
		var value_y3;
		var value_x3 = x + width + strength / 2;
		value_y3 = y + strength / 2;
		var w3 = _this3._02 * value_x3 + _this3._12 * value_y3 + _this3._22;
		var x4 = (_this3._00 * value_x3 + _this3._10 * value_y3 + _this3._20) / w3;
		var y4 = (_this3._01 * value_x3 + _this3._11 * value_y3 + _this3._21) / w3;
		var p4 = new kha_math_FastVector2(x4,y4);
		this.coloredPainter.fillRect(this.get_opacity(),this.get_color(),p1.x,p1.y,p2.x,p2.y,p3.x,p3.y,p4.x,p4.y);
		var _this4 = this.transformations[this.transformations.length - 1];
		var value_y4;
		var value_x4 = x - strength / 2;
		value_y4 = y + height + strength / 2;
		var w4 = _this4._02 * value_x4 + _this4._12 * value_y4 + _this4._22;
		var x5 = (_this4._00 * value_x4 + _this4._10 * value_y4 + _this4._20) / w4;
		var y5 = (_this4._01 * value_x4 + _this4._11 * value_y4 + _this4._21) / w4;
		p1 = new kha_math_FastVector2(x5,y5);
		var _this5 = this.transformations[this.transformations.length - 1];
		var value_y5;
		var value_x5 = x + strength / 2;
		value_y5 = y - strength / 2;
		var w5 = _this5._02 * value_x5 + _this5._12 * value_y5 + _this5._22;
		var x6 = (_this5._00 * value_x5 + _this5._10 * value_y5 + _this5._20) / w5;
		var y6 = (_this5._01 * value_x5 + _this5._11 * value_y5 + _this5._21) / w5;
		p3 = new kha_math_FastVector2(x6,y6);
		var _this6 = this.transformations[this.transformations.length - 1];
		var value_y6;
		var value_x6 = x + strength / 2;
		value_y6 = y + height + strength / 2;
		var w6 = _this6._02 * value_x6 + _this6._12 * value_y6 + _this6._22;
		var x7 = (_this6._00 * value_x6 + _this6._10 * value_y6 + _this6._20) / w6;
		var y7 = (_this6._01 * value_x6 + _this6._11 * value_y6 + _this6._21) / w6;
		p4 = new kha_math_FastVector2(x7,y7);
		this.coloredPainter.fillRect(this.get_opacity(),this.get_color(),p1.x,p1.y,p2.x,p2.y,p3.x,p3.y,p4.x,p4.y);
		var _this7 = this.transformations[this.transformations.length - 1];
		var value_y7;
		var value_x7 = x - strength / 2;
		value_y7 = y + height - strength / 2;
		var w7 = _this7._02 * value_x7 + _this7._12 * value_y7 + _this7._22;
		var x8 = (_this7._00 * value_x7 + _this7._10 * value_y7 + _this7._20) / w7;
		var y8 = (_this7._01 * value_x7 + _this7._11 * value_y7 + _this7._21) / w7;
		p2 = new kha_math_FastVector2(x8,y8);
		var _this8 = this.transformations[this.transformations.length - 1];
		var value_y8;
		var value_x8 = x + width + strength / 2;
		value_y8 = y + height - strength / 2;
		var w8 = _this8._02 * value_x8 + _this8._12 * value_y8 + _this8._22;
		var x9 = (_this8._00 * value_x8 + _this8._10 * value_y8 + _this8._20) / w8;
		var y9 = (_this8._01 * value_x8 + _this8._11 * value_y8 + _this8._21) / w8;
		p3 = new kha_math_FastVector2(x9,y9);
		var _this9 = this.transformations[this.transformations.length - 1];
		var value_y9;
		var value_x9 = x + width + strength / 2;
		value_y9 = y + height + strength / 2;
		var w9 = _this9._02 * value_x9 + _this9._12 * value_y9 + _this9._22;
		var x10 = (_this9._00 * value_x9 + _this9._10 * value_y9 + _this9._20) / w9;
		var y10 = (_this9._01 * value_x9 + _this9._11 * value_y9 + _this9._21) / w9;
		p4 = new kha_math_FastVector2(x10,y10);
		this.coloredPainter.fillRect(this.get_opacity(),this.get_color(),p1.x,p1.y,p2.x,p2.y,p3.x,p3.y,p4.x,p4.y);
		var _this10 = this.transformations[this.transformations.length - 1];
		var value_y10;
		var value_x10 = x + width - strength / 2;
		value_y10 = y + height + strength / 2;
		var w10 = _this10._02 * value_x10 + _this10._12 * value_y10 + _this10._22;
		var x11 = (_this10._00 * value_x10 + _this10._10 * value_y10 + _this10._20) / w10;
		var y11 = (_this10._01 * value_x10 + _this10._11 * value_y10 + _this10._21) / w10;
		p1 = new kha_math_FastVector2(x11,y11);
		var _this11 = this.transformations[this.transformations.length - 1];
		var value_y11;
		var value_x11 = x + width - strength / 2;
		value_y11 = y - strength / 2;
		var w11 = _this11._02 * value_x11 + _this11._12 * value_y11 + _this11._22;
		var x12 = (_this11._00 * value_x11 + _this11._10 * value_y11 + _this11._20) / w11;
		var y12 = (_this11._01 * value_x11 + _this11._11 * value_y11 + _this11._21) / w11;
		p2 = new kha_math_FastVector2(x12,y12);
		var _this12 = this.transformations[this.transformations.length - 1];
		var value_y12;
		var value_x12 = x + width + strength / 2;
		value_y12 = y - strength / 2;
		var w12 = _this12._02 * value_x12 + _this12._12 * value_y12 + _this12._22;
		var x13 = (_this12._00 * value_x12 + _this12._10 * value_y12 + _this12._20) / w12;
		var y13 = (_this12._01 * value_x12 + _this12._11 * value_y12 + _this12._21) / w12;
		p3 = new kha_math_FastVector2(x13,y13);
		var _this13 = this.transformations[this.transformations.length - 1];
		var value_y13;
		var value_x13 = x + width + strength / 2;
		value_y13 = y + height + strength / 2;
		var w13 = _this13._02 * value_x13 + _this13._12 * value_y13 + _this13._22;
		var x14 = (_this13._00 * value_x13 + _this13._10 * value_y13 + _this13._20) / w13;
		var y14 = (_this13._01 * value_x13 + _this13._11 * value_y13 + _this13._21) / w13;
		p4 = new kha_math_FastVector2(x14,y14);
		this.coloredPainter.fillRect(this.get_opacity(),this.get_color(),p1.x,p1.y,p2.x,p2.y,p3.x,p3.y,p4.x,p4.y);
	}
	,fillRect: function(x,y,width,height) {
		this.imagePainter.end();
		this.textPainter.end();
		var p1_y;
		var p1_x;
		var _this = this.transformations[this.transformations.length - 1];
		var value_y;
		var value_x = x;
		value_y = y + height;
		var w = _this._02 * value_x + _this._12 * value_y + _this._22;
		var x1 = (_this._00 * value_x + _this._10 * value_y + _this._20) / w;
		var y1 = (_this._01 * value_x + _this._11 * value_y + _this._21) / w;
		p1_x = x1;
		p1_y = y1;
		var p2_y;
		var p2_x;
		var _this1 = this.transformations[this.transformations.length - 1];
		var value_y1;
		var value_x1 = x;
		value_y1 = y;
		var w1 = _this1._02 * value_x1 + _this1._12 * value_y1 + _this1._22;
		var x2 = (_this1._00 * value_x1 + _this1._10 * value_y1 + _this1._20) / w1;
		var y2 = (_this1._01 * value_x1 + _this1._11 * value_y1 + _this1._21) / w1;
		p2_x = x2;
		p2_y = y2;
		var p3_y;
		var p3_x;
		var _this2 = this.transformations[this.transformations.length - 1];
		var value_y2;
		var value_x2 = x + width;
		value_y2 = y;
		var w2 = _this2._02 * value_x2 + _this2._12 * value_y2 + _this2._22;
		var x3 = (_this2._00 * value_x2 + _this2._10 * value_y2 + _this2._20) / w2;
		var y3 = (_this2._01 * value_x2 + _this2._11 * value_y2 + _this2._21) / w2;
		p3_x = x3;
		p3_y = y3;
		var p4_y;
		var p4_x;
		var _this3 = this.transformations[this.transformations.length - 1];
		var value_y3;
		var value_x3 = x + width;
		value_y3 = y + height;
		var w3 = _this3._02 * value_x3 + _this3._12 * value_y3 + _this3._22;
		var x4 = (_this3._00 * value_x3 + _this3._10 * value_y3 + _this3._20) / w3;
		var y4 = (_this3._01 * value_x3 + _this3._11 * value_y3 + _this3._21) / w3;
		p4_x = x4;
		p4_y = y4;
		this.coloredPainter.fillRect(this.get_opacity(),this.get_color(),p1_x,p1_y,p2_x,p2_y,p3_x,p3_y,p4_x,p4_y);
	}
	,drawString: function(text,x,y) {
		this.imagePainter.end();
		var _this = this.coloredPainter;
		if(kha_graphics4_ColoredShaderPainter.triangleBufferIndex > 0) {
			_this.drawTriBuffer(false);
		}
		if(kha_graphics4_ColoredShaderPainter.bufferIndex > 0) {
			_this.drawBuffer(false);
		}
		this.textPainter.drawString(text,this.get_opacity(),this.get_color(),x,y,this.transformations[this.transformations.length - 1],this.get_fontGlyphs());
	}
	,drawCharacters: function(text,start,length,x,y) {
		this.imagePainter.end();
		var _this = this.coloredPainter;
		if(kha_graphics4_ColoredShaderPainter.triangleBufferIndex > 0) {
			_this.drawTriBuffer(false);
		}
		if(kha_graphics4_ColoredShaderPainter.bufferIndex > 0) {
			_this.drawBuffer(false);
		}
		this.textPainter.drawCharacters(text,start,length,this.get_opacity(),this.get_color(),x,y,this.transformations[this.transformations.length - 1],this.get_fontGlyphs());
	}
	,get_font: function() {
		return this.myFont;
	}
	,set_font: function(font) {
		this.textPainter.setFont(font);
		return this.myFont = font;
	}
	,set_fontSize: function(value) {
		return kha_graphics2_Graphics.prototype.set_fontSize.call(this,this.textPainter.fontSize = value);
	}
	,drawLine: function(x1,y1,x2,y2,strength) {
		if(strength == null) {
			strength = 1.0;
		}
		this.imagePainter.end();
		this.textPainter.end();
		var vec;
		if(y2 == y1) {
			vec = new kha_math_FastVector2(0,-1);
		} else {
			vec = new kha_math_FastVector2(1,-(x2 - x1) / (y2 - y1));
		}
		vec.set_length(strength);
		var p1 = new kha_math_FastVector2(x1 + 0.5 * vec.x,y1 + 0.5 * vec.y);
		var p2 = new kha_math_FastVector2(x2 + 0.5 * vec.x,y2 + 0.5 * vec.y);
		var p3 = new kha_math_FastVector2(p1.x - vec.x,p1.y - vec.y);
		var p4 = new kha_math_FastVector2(p2.x - vec.x,p2.y - vec.y);
		var _this = this.transformations[this.transformations.length - 1];
		var w = _this._02 * p1.x + _this._12 * p1.y + _this._22;
		var x = (_this._00 * p1.x + _this._10 * p1.y + _this._20) / w;
		var y = (_this._01 * p1.x + _this._11 * p1.y + _this._21) / w;
		p1 = new kha_math_FastVector2(x,y);
		var _this1 = this.transformations[this.transformations.length - 1];
		var w1 = _this1._02 * p2.x + _this1._12 * p2.y + _this1._22;
		var x3 = (_this1._00 * p2.x + _this1._10 * p2.y + _this1._20) / w1;
		var y3 = (_this1._01 * p2.x + _this1._11 * p2.y + _this1._21) / w1;
		p2 = new kha_math_FastVector2(x3,y3);
		var _this2 = this.transformations[this.transformations.length - 1];
		var w2 = _this2._02 * p3.x + _this2._12 * p3.y + _this2._22;
		var x4 = (_this2._00 * p3.x + _this2._10 * p3.y + _this2._20) / w2;
		var y4 = (_this2._01 * p3.x + _this2._11 * p3.y + _this2._21) / w2;
		p3 = new kha_math_FastVector2(x4,y4);
		var _this3 = this.transformations[this.transformations.length - 1];
		var w3 = _this3._02 * p4.x + _this3._12 * p4.y + _this3._22;
		var x5 = (_this3._00 * p4.x + _this3._10 * p4.y + _this3._20) / w3;
		var y5 = (_this3._01 * p4.x + _this3._11 * p4.y + _this3._21) / w3;
		p4 = new kha_math_FastVector2(x5,y5);
		this.coloredPainter.fillTriangle(this.get_opacity(),this.get_color(),p1.x,p1.y,p2.x,p2.y,p3.x,p3.y);
		this.coloredPainter.fillTriangle(this.get_opacity(),this.get_color(),p3.x,p3.y,p2.x,p2.y,p4.x,p4.y);
	}
	,fillTriangle: function(x1,y1,x2,y2,x3,y3) {
		this.imagePainter.end();
		this.textPainter.end();
		var p1_y;
		var p1_x;
		var _this = this.transformations[this.transformations.length - 1];
		var value_y;
		var value_x = x1;
		value_y = y1;
		var w = _this._02 * value_x + _this._12 * value_y + _this._22;
		var x = (_this._00 * value_x + _this._10 * value_y + _this._20) / w;
		var y = (_this._01 * value_x + _this._11 * value_y + _this._21) / w;
		p1_x = x;
		p1_y = y;
		var p2_y;
		var p2_x;
		var _this1 = this.transformations[this.transformations.length - 1];
		var value_y1;
		var value_x1 = x2;
		value_y1 = y2;
		var w1 = _this1._02 * value_x1 + _this1._12 * value_y1 + _this1._22;
		var x4 = (_this1._00 * value_x1 + _this1._10 * value_y1 + _this1._20) / w1;
		var y4 = (_this1._01 * value_x1 + _this1._11 * value_y1 + _this1._21) / w1;
		p2_x = x4;
		p2_y = y4;
		var p3_y;
		var p3_x;
		var _this2 = this.transformations[this.transformations.length - 1];
		var value_y2;
		var value_x2 = x3;
		value_y2 = y3;
		var w2 = _this2._02 * value_x2 + _this2._12 * value_y2 + _this2._22;
		var x5 = (_this2._00 * value_x2 + _this2._10 * value_y2 + _this2._20) / w2;
		var y5 = (_this2._01 * value_x2 + _this2._11 * value_y2 + _this2._21) / w2;
		p3_x = x5;
		p3_y = y5;
		this.coloredPainter.fillTriangle(this.get_opacity(),this.get_color(),p1_x,p1_y,p2_x,p2_y,p3_x,p3_y);
	}
	,myImageScaleQuality: null
	,get_imageScaleQuality: function() {
		return this.myImageScaleQuality;
	}
	,set_imageScaleQuality: function(value) {
		this.imagePainter.setBilinearFilter(value == kha_graphics2_ImageScaleQuality.High);
		this.textPainter.setBilinearFilter(value == kha_graphics2_ImageScaleQuality.High);
		return this.myImageScaleQuality = value;
	}
	,myMipmapScaleQuality: null
	,get_mipmapScaleQuality: function() {
		return this.myMipmapScaleQuality;
	}
	,set_mipmapScaleQuality: function(value) {
		this.imagePainter.setBilinearMipmapFilter(value == kha_graphics2_ImageScaleQuality.High);
		return this.myMipmapScaleQuality = value;
	}
	,setPipeline: function(pipeline) {
		this.flush();
		this.imagePainter.set_pipeline(pipeline);
		this.coloredPainter.set_pipeline(pipeline);
		this.textPainter.set_pipeline(pipeline);
		if(pipeline != null) {
			this.g.setPipeline(pipeline);
		}
	}
	,scissor: function(x,y,width,height) {
		this.flush();
		this.g.scissor(x,y,width,height);
	}
	,disableScissor: function() {
		this.flush();
		this.g.disableScissor();
	}
	,begin: function(clear,clearColor) {
		if(clear == null) {
			clear = true;
		}
		this.g.begin();
		if(clear) {
			this.clear(clearColor);
		}
		this.setProjection();
	}
	,clear: function(color) {
		this.flush();
		this.g.clear(color == null ? -16777216 : color);
	}
	,flush: function() {
		this.imagePainter.end();
		this.textPainter.end();
		var _this = this.coloredPainter;
		if(kha_graphics4_ColoredShaderPainter.triangleBufferIndex > 0) {
			_this.drawTriBuffer(false);
		}
		if(kha_graphics4_ColoredShaderPainter.bufferIndex > 0) {
			_this.drawBuffer(false);
		}
	}
	,end: function() {
		this.flush();
		this.g.end();
	}
	,drawVideoInternal: function(video,x,y,width,height) {
	}
	,drawVideo: function(video,x,y,width,height) {
		this.setPipeline(kha_graphics4_Graphics2.videoPipeline);
		this.drawVideoInternal(video,x,y,width,height);
		this.setPipeline(null);
	}
	,__class__: kha_graphics4_Graphics2
});
var kha_graphics4_IndexBuffer = $hxClasses["kha.graphics4.IndexBuffer"] = function(indexCount,usage,canRead) {
	if(canRead == null) {
		canRead = false;
	}
	this.indexCount = indexCount;
	var this1 = new Uint32Array(indexCount);
	this._data = this1;
	this.buffer = Krom.createIndexBuffer(indexCount);
};
kha_graphics4_IndexBuffer.__name__ = ["kha","graphics4","IndexBuffer"];
kha_graphics4_IndexBuffer.prototype = {
	buffer: null
	,_data: null
	,indexCount: null
	,'delete': function() {
		Krom.deleteIndexBuffer(this.buffer);
		this.buffer = null;
	}
	,lock: function(start,count) {
		if(start == null) {
			start = 0;
		}
		if(count == null) {
			count = this.indexCount;
		}
		return this._data.subarray(start,start + count);
	}
	,unlock: function() {
		Krom.setIndices(this.buffer,this._data);
	}
	,set: function() {
		Krom.setIndexBuffer(this.buffer);
	}
	,count: function() {
		return this.indexCount;
	}
	,__class__: kha_graphics4_IndexBuffer
};
var kha_graphics4_MipMapFilter = $hxClasses["kha.graphics4.MipMapFilter"] = { __ename__ : ["kha","graphics4","MipMapFilter"], __constructs__ : ["NoMipFilter","PointMipFilter","LinearMipFilter"] };
kha_graphics4_MipMapFilter.NoMipFilter = ["NoMipFilter",0];
kha_graphics4_MipMapFilter.NoMipFilter.toString = $estr;
kha_graphics4_MipMapFilter.NoMipFilter.__enum__ = kha_graphics4_MipMapFilter;
kha_graphics4_MipMapFilter.PointMipFilter = ["PointMipFilter",1];
kha_graphics4_MipMapFilter.PointMipFilter.toString = $estr;
kha_graphics4_MipMapFilter.PointMipFilter.__enum__ = kha_graphics4_MipMapFilter;
kha_graphics4_MipMapFilter.LinearMipFilter = ["LinearMipFilter",2];
kha_graphics4_MipMapFilter.LinearMipFilter.toString = $estr;
kha_graphics4_MipMapFilter.LinearMipFilter.__enum__ = kha_graphics4_MipMapFilter;
var kha_graphics4_PipelineStateBase = $hxClasses["kha.graphics4.PipelineStateBase"] = function() {
	this.inputLayout = null;
	this.vertexShader = null;
	this.fragmentShader = null;
	this.geometryShader = null;
	this.tessellationControlShader = null;
	this.tessellationEvaluationShader = null;
	this.cullMode = kha_graphics4_CullMode.None;
	this.depthWrite = false;
	this.depthMode = kha_graphics4_CompareMode.Always;
	this.stencilMode = kha_graphics4_CompareMode.Always;
	this.stencilBothPass = kha_graphics4_StencilAction.Keep;
	this.stencilDepthFail = kha_graphics4_StencilAction.Keep;
	this.stencilFail = kha_graphics4_StencilAction.Keep;
	this.stencilReferenceValue = 0;
	this.stencilReadMask = 255;
	this.stencilWriteMask = 255;
	this.blendSource = kha_graphics4_BlendingFactor.BlendOne;
	this.blendDestination = kha_graphics4_BlendingFactor.BlendZero;
	this.blendOperation = kha_graphics4_BlendingOperation.Add;
	this.alphaBlendSource = kha_graphics4_BlendingFactor.BlendOne;
	this.alphaBlendDestination = kha_graphics4_BlendingFactor.BlendZero;
	this.alphaBlendOperation = kha_graphics4_BlendingOperation.Add;
	this.colorWriteMaskRed = this.colorWriteMaskBlue = this.colorWriteMaskGreen = this.colorWriteMaskAlpha = true;
	this.conservativeRasterization = false;
};
kha_graphics4_PipelineStateBase.__name__ = ["kha","graphics4","PipelineStateBase"];
kha_graphics4_PipelineStateBase.prototype = {
	inputLayout: null
	,vertexShader: null
	,fragmentShader: null
	,geometryShader: null
	,tessellationControlShader: null
	,tessellationEvaluationShader: null
	,cullMode: null
	,depthWrite: null
	,depthMode: null
	,stencilMode: null
	,stencilBothPass: null
	,stencilDepthFail: null
	,stencilFail: null
	,stencilReferenceValue: null
	,stencilReadMask: null
	,stencilWriteMask: null
	,blendSource: null
	,blendDestination: null
	,blendOperation: null
	,alphaBlendSource: null
	,alphaBlendDestination: null
	,alphaBlendOperation: null
	,colorWriteMaskRed: null
	,colorWriteMaskGreen: null
	,colorWriteMaskBlue: null
	,colorWriteMaskAlpha: null
	,set_colorWriteMask: function(value) {
		return this.colorWriteMaskRed = this.colorWriteMaskBlue = this.colorWriteMaskGreen = this.colorWriteMaskAlpha = value;
	}
	,conservativeRasterization: null
	,__class__: kha_graphics4_PipelineStateBase
	,__properties__: {set_colorWriteMask:"set_colorWriteMask"}
};
var kha_graphics4_PipelineState = $hxClasses["kha.graphics4.PipelineState"] = function() {
	kha_graphics4_PipelineStateBase.call(this);
	this.pipeline = Krom.createPipeline();
};
kha_graphics4_PipelineState.__name__ = ["kha","graphics4","PipelineState"];
kha_graphics4_PipelineState.convertCullMode = function(mode) {
	switch(mode[1]) {
	case 0:
		return 0;
	case 1:
		return 1;
	case 2:
		return 2;
	}
};
kha_graphics4_PipelineState.convertCompareMode = function(mode) {
	switch(mode[1]) {
	case 0:
		return 0;
	case 1:
		return 1;
	case 2:
		return 2;
	case 3:
		return 3;
	case 4:
		return 4;
	case 5:
		return 5;
	case 6:
		return 6;
	case 7:
		return 7;
	}
};
kha_graphics4_PipelineState.convertStencilAction = function(action) {
	switch(action[1]) {
	case 0:
		return 0;
	case 1:
		return 1;
	case 2:
		return 2;
	case 3:
		return 3;
	case 4:
		return 4;
	case 5:
		return 5;
	case 6:
		return 6;
	case 7:
		return 7;
	}
};
kha_graphics4_PipelineState.convertBlendingFactor = function(factor) {
	switch(factor[1]) {
	case 0:case 1:
		return 0;
	case 2:
		return 1;
	case 3:
		return 2;
	case 4:
		return 3;
	case 5:
		return 4;
	case 6:
		return 5;
	case 7:
		return 6;
	case 8:
		return 7;
	case 9:
		return 8;
	case 10:
		return 9;
	}
};
kha_graphics4_PipelineState.__super__ = kha_graphics4_PipelineStateBase;
kha_graphics4_PipelineState.prototype = $extend(kha_graphics4_PipelineStateBase.prototype,{
	pipeline: null
	,'delete': function() {
		Krom.deletePipeline(this.pipeline);
		this.pipeline = null;
	}
	,compile: function() {
		var structure0 = this.inputLayout.length > 0 ? this.inputLayout[0].elements : null;
		var structure1 = this.inputLayout.length > 1 ? this.inputLayout[1].elements : null;
		var structure2 = this.inputLayout.length > 2 ? this.inputLayout[2].elements : null;
		var structure3 = this.inputLayout.length > 3 ? this.inputLayout[3].elements : null;
		var gs = this.geometryShader != null ? this.geometryShader.shader : null;
		var tcs = this.tessellationControlShader != null ? this.tessellationControlShader.shader : null;
		var tes = this.tessellationEvaluationShader != null ? this.tessellationEvaluationShader.shader : null;
		Krom.compilePipeline(this.pipeline,structure0,structure1,structure2,structure3,this.inputLayout.length,this.vertexShader.shader,this.fragmentShader.shader,gs,tcs,tes,{ cullMode : kha_graphics4_PipelineState.convertCullMode(this.cullMode), depthWrite : this.depthWrite, depthMode : kha_graphics4_PipelineState.convertCompareMode(this.depthMode), stencilMode : kha_graphics4_PipelineState.convertCompareMode(this.stencilMode), stencilBothPass : kha_graphics4_PipelineState.convertStencilAction(this.stencilBothPass), stencilDepthFail : kha_graphics4_PipelineState.convertStencilAction(this.stencilDepthFail), stencilFail : kha_graphics4_PipelineState.convertStencilAction(this.stencilFail), stencilReferenceValue : this.stencilReferenceValue, stencilReadMask : this.stencilReadMask, stencilWriteMask : this.stencilWriteMask, blendSource : kha_graphics4_PipelineState.convertBlendingFactor(this.blendSource), blendDestination : kha_graphics4_PipelineState.convertBlendingFactor(this.blendDestination), alphaBlendSource : kha_graphics4_PipelineState.convertBlendingFactor(this.alphaBlendSource), alphaBlendDestination : kha_graphics4_PipelineState.convertBlendingFactor(this.alphaBlendDestination), colorWriteMaskRed : this.colorWriteMaskRed, colorWriteMaskGreen : this.colorWriteMaskGreen, colorWriteMaskBlue : this.colorWriteMaskBlue, colorWriteMaskAlpha : this.colorWriteMaskAlpha, conservativeRasterization : this.conservativeRasterization});
	}
	,set: function() {
		Krom.setPipeline(this.pipeline);
	}
	,getConstantLocation: function(name) {
		return Krom.getConstantLocation(this.pipeline,name);
	}
	,getTextureUnit: function(name) {
		return Krom.getTextureUnit(this.pipeline,name);
	}
	,__class__: kha_graphics4_PipelineState
});
var kha_graphics4_StencilAction = $hxClasses["kha.graphics4.StencilAction"] = { __ename__ : ["kha","graphics4","StencilAction"], __constructs__ : ["Keep","Zero","Replace","Increment","IncrementWrap","Decrement","DecrementWrap","Invert"] };
kha_graphics4_StencilAction.Keep = ["Keep",0];
kha_graphics4_StencilAction.Keep.toString = $estr;
kha_graphics4_StencilAction.Keep.__enum__ = kha_graphics4_StencilAction;
kha_graphics4_StencilAction.Zero = ["Zero",1];
kha_graphics4_StencilAction.Zero.toString = $estr;
kha_graphics4_StencilAction.Zero.__enum__ = kha_graphics4_StencilAction;
kha_graphics4_StencilAction.Replace = ["Replace",2];
kha_graphics4_StencilAction.Replace.toString = $estr;
kha_graphics4_StencilAction.Replace.__enum__ = kha_graphics4_StencilAction;
kha_graphics4_StencilAction.Increment = ["Increment",3];
kha_graphics4_StencilAction.Increment.toString = $estr;
kha_graphics4_StencilAction.Increment.__enum__ = kha_graphics4_StencilAction;
kha_graphics4_StencilAction.IncrementWrap = ["IncrementWrap",4];
kha_graphics4_StencilAction.IncrementWrap.toString = $estr;
kha_graphics4_StencilAction.IncrementWrap.__enum__ = kha_graphics4_StencilAction;
kha_graphics4_StencilAction.Decrement = ["Decrement",5];
kha_graphics4_StencilAction.Decrement.toString = $estr;
kha_graphics4_StencilAction.Decrement.__enum__ = kha_graphics4_StencilAction;
kha_graphics4_StencilAction.DecrementWrap = ["DecrementWrap",6];
kha_graphics4_StencilAction.DecrementWrap.toString = $estr;
kha_graphics4_StencilAction.DecrementWrap.__enum__ = kha_graphics4_StencilAction;
kha_graphics4_StencilAction.Invert = ["Invert",7];
kha_graphics4_StencilAction.Invert.toString = $estr;
kha_graphics4_StencilAction.Invert.__enum__ = kha_graphics4_StencilAction;
var kha_graphics4_TessellationControlShader = $hxClasses["kha.graphics4.TessellationControlShader"] = function(sources,names) {
	this.shader = Krom.createTessellationControlShader(sources[0].bytes.b.bufferValue,names[0]);
};
kha_graphics4_TessellationControlShader.__name__ = ["kha","graphics4","TessellationControlShader"];
kha_graphics4_TessellationControlShader.prototype = {
	shader: null
	,'delete': function() {
		Krom.deleteShader(this.shader);
		this.shader = null;
	}
	,__class__: kha_graphics4_TessellationControlShader
};
var kha_graphics4_TessellationEvaluationShader = $hxClasses["kha.graphics4.TessellationEvaluationShader"] = function(sources,names) {
	this.shader = Krom.createTessellationEvaluationShader(sources[0].bytes.b.bufferValue,names[0]);
};
kha_graphics4_TessellationEvaluationShader.__name__ = ["kha","graphics4","TessellationEvaluationShader"];
kha_graphics4_TessellationEvaluationShader.prototype = {
	shader: null
	,'delete': function() {
		Krom.deleteShader(this.shader);
		this.shader = null;
	}
	,__class__: kha_graphics4_TessellationEvaluationShader
};
var kha_graphics4_TexDir = $hxClasses["kha.graphics4.TexDir"] = { __ename__ : ["kha","graphics4","TexDir"], __constructs__ : ["U","V"] };
kha_graphics4_TexDir.U = ["U",0];
kha_graphics4_TexDir.U.toString = $estr;
kha_graphics4_TexDir.U.__enum__ = kha_graphics4_TexDir;
kha_graphics4_TexDir.V = ["V",1];
kha_graphics4_TexDir.V.toString = $estr;
kha_graphics4_TexDir.V.__enum__ = kha_graphics4_TexDir;
var kha_graphics4_TextureAddressing = $hxClasses["kha.graphics4.TextureAddressing"] = { __ename__ : ["kha","graphics4","TextureAddressing"], __constructs__ : ["Repeat","Mirror","Clamp"] };
kha_graphics4_TextureAddressing.Repeat = ["Repeat",0];
kha_graphics4_TextureAddressing.Repeat.toString = $estr;
kha_graphics4_TextureAddressing.Repeat.__enum__ = kha_graphics4_TextureAddressing;
kha_graphics4_TextureAddressing.Mirror = ["Mirror",1];
kha_graphics4_TextureAddressing.Mirror.toString = $estr;
kha_graphics4_TextureAddressing.Mirror.__enum__ = kha_graphics4_TextureAddressing;
kha_graphics4_TextureAddressing.Clamp = ["Clamp",2];
kha_graphics4_TextureAddressing.Clamp.toString = $estr;
kha_graphics4_TextureAddressing.Clamp.__enum__ = kha_graphics4_TextureAddressing;
var kha_graphics4_TextureFilter = $hxClasses["kha.graphics4.TextureFilter"] = { __ename__ : ["kha","graphics4","TextureFilter"], __constructs__ : ["PointFilter","LinearFilter","AnisotropicFilter"] };
kha_graphics4_TextureFilter.PointFilter = ["PointFilter",0];
kha_graphics4_TextureFilter.PointFilter.toString = $estr;
kha_graphics4_TextureFilter.PointFilter.__enum__ = kha_graphics4_TextureFilter;
kha_graphics4_TextureFilter.LinearFilter = ["LinearFilter",1];
kha_graphics4_TextureFilter.LinearFilter.toString = $estr;
kha_graphics4_TextureFilter.LinearFilter.__enum__ = kha_graphics4_TextureFilter;
kha_graphics4_TextureFilter.AnisotropicFilter = ["AnisotropicFilter",2];
kha_graphics4_TextureFilter.AnisotropicFilter.toString = $estr;
kha_graphics4_TextureFilter.AnisotropicFilter.__enum__ = kha_graphics4_TextureFilter;
var kha_graphics4_TextureFormat = $hxClasses["kha.graphics4.TextureFormat"] = { __ename__ : ["kha","graphics4","TextureFormat"], __constructs__ : ["RGBA32","L8","RGBA128","DEPTH16","RGBA64","A32","A16"] };
kha_graphics4_TextureFormat.RGBA32 = ["RGBA32",0];
kha_graphics4_TextureFormat.RGBA32.toString = $estr;
kha_graphics4_TextureFormat.RGBA32.__enum__ = kha_graphics4_TextureFormat;
kha_graphics4_TextureFormat.L8 = ["L8",1];
kha_graphics4_TextureFormat.L8.toString = $estr;
kha_graphics4_TextureFormat.L8.__enum__ = kha_graphics4_TextureFormat;
kha_graphics4_TextureFormat.RGBA128 = ["RGBA128",2];
kha_graphics4_TextureFormat.RGBA128.toString = $estr;
kha_graphics4_TextureFormat.RGBA128.__enum__ = kha_graphics4_TextureFormat;
kha_graphics4_TextureFormat.DEPTH16 = ["DEPTH16",3];
kha_graphics4_TextureFormat.DEPTH16.toString = $estr;
kha_graphics4_TextureFormat.DEPTH16.__enum__ = kha_graphics4_TextureFormat;
kha_graphics4_TextureFormat.RGBA64 = ["RGBA64",4];
kha_graphics4_TextureFormat.RGBA64.toString = $estr;
kha_graphics4_TextureFormat.RGBA64.__enum__ = kha_graphics4_TextureFormat;
kha_graphics4_TextureFormat.A32 = ["A32",5];
kha_graphics4_TextureFormat.A32.toString = $estr;
kha_graphics4_TextureFormat.A32.__enum__ = kha_graphics4_TextureFormat;
kha_graphics4_TextureFormat.A16 = ["A16",6];
kha_graphics4_TextureFormat.A16.toString = $estr;
kha_graphics4_TextureFormat.A16.__enum__ = kha_graphics4_TextureFormat;
var kha_graphics4_TextureUnit = $hxClasses["kha.graphics4.TextureUnit"] = function() { };
kha_graphics4_TextureUnit.__name__ = ["kha","graphics4","TextureUnit"];
var kha_graphics4_Usage = $hxClasses["kha.graphics4.Usage"] = { __ename__ : ["kha","graphics4","Usage"], __constructs__ : ["StaticUsage","DynamicUsage","ReadableUsage"] };
kha_graphics4_Usage.StaticUsage = ["StaticUsage",0];
kha_graphics4_Usage.StaticUsage.toString = $estr;
kha_graphics4_Usage.StaticUsage.__enum__ = kha_graphics4_Usage;
kha_graphics4_Usage.DynamicUsage = ["DynamicUsage",1];
kha_graphics4_Usage.DynamicUsage.toString = $estr;
kha_graphics4_Usage.DynamicUsage.__enum__ = kha_graphics4_Usage;
kha_graphics4_Usage.ReadableUsage = ["ReadableUsage",2];
kha_graphics4_Usage.ReadableUsage.toString = $estr;
kha_graphics4_Usage.ReadableUsage.__enum__ = kha_graphics4_Usage;
var kha_graphics4_VertexBuffer = $hxClasses["kha.graphics4.VertexBuffer"] = function(vertexCount,structure,usage,instanceDataStepRate,canRead) {
	if(canRead == null) {
		canRead = false;
	}
	if(instanceDataStepRate == null) {
		instanceDataStepRate = 0;
	}
	this.vertexCount = vertexCount;
	this.structure = structure;
	this.buffer = Krom.createVertexBuffer(vertexCount,structure.elements,instanceDataStepRate);
	var this1 = new Float32Array(vertexCount * (structure.byteSize() / 4 | 0));
	this._data = this1;
};
kha_graphics4_VertexBuffer.__name__ = ["kha","graphics4","VertexBuffer"];
kha_graphics4_VertexBuffer.prototype = {
	buffer: null
	,_data: null
	,vertexCount: null
	,structure: null
	,'delete': function() {
		Krom.deleteVertexBuffer(this.buffer);
		this.buffer = null;
	}
	,lock: function(start,count) {
		return this._data;
	}
	,unlock: function() {
		Krom.setVertices(this.buffer,this._data);
	}
	,stride: function() {
		return this.structure.byteSize();
	}
	,count: function() {
		return this.vertexCount;
	}
	,set: function(offset) {
		Krom.setVertexBuffer(this.buffer);
		return 0;
	}
	,__class__: kha_graphics4_VertexBuffer
};
var kha_graphics4_VertexData = $hxClasses["kha.graphics4.VertexData"] = { __ename__ : ["kha","graphics4","VertexData"], __constructs__ : ["Float1","Float2","Float3","Float4","Float4x4"] };
kha_graphics4_VertexData.Float1 = ["Float1",0];
kha_graphics4_VertexData.Float1.toString = $estr;
kha_graphics4_VertexData.Float1.__enum__ = kha_graphics4_VertexData;
kha_graphics4_VertexData.Float2 = ["Float2",1];
kha_graphics4_VertexData.Float2.toString = $estr;
kha_graphics4_VertexData.Float2.__enum__ = kha_graphics4_VertexData;
kha_graphics4_VertexData.Float3 = ["Float3",2];
kha_graphics4_VertexData.Float3.toString = $estr;
kha_graphics4_VertexData.Float3.__enum__ = kha_graphics4_VertexData;
kha_graphics4_VertexData.Float4 = ["Float4",3];
kha_graphics4_VertexData.Float4.toString = $estr;
kha_graphics4_VertexData.Float4.__enum__ = kha_graphics4_VertexData;
kha_graphics4_VertexData.Float4x4 = ["Float4x4",4];
kha_graphics4_VertexData.Float4x4.toString = $estr;
kha_graphics4_VertexData.Float4x4.__enum__ = kha_graphics4_VertexData;
var kha_graphics4_VertexElement = $hxClasses["kha.graphics4.VertexElement"] = function(name,data) {
	this.name = name;
	this.data = data;
};
kha_graphics4_VertexElement.__name__ = ["kha","graphics4","VertexElement"];
kha_graphics4_VertexElement.prototype = {
	name: null
	,data: null
	,__class__: kha_graphics4_VertexElement
};
var kha_graphics4_VertexShader = $hxClasses["kha.graphics4.VertexShader"] = function(sources,names) {
	if(sources != null) {
		this.shader = Krom.createVertexShader(sources[0].bytes.b.bufferValue,names[0]);
	}
};
kha_graphics4_VertexShader.__name__ = ["kha","graphics4","VertexShader"];
kha_graphics4_VertexShader.fromSource = function(source) {
	var shader = new kha_graphics4_VertexShader(null,null);
	shader.shader = Krom.createVertexShaderFromSource(source);
	return shader;
};
kha_graphics4_VertexShader.prototype = {
	shader: null
	,'delete': function() {
		Krom.deleteShader(this.shader);
		this.shader = null;
	}
	,__class__: kha_graphics4_VertexShader
};
var kha_graphics4_VertexStructure = $hxClasses["kha.graphics4.VertexStructure"] = function() {
	this.elements = [];
	this.instanced = false;
};
kha_graphics4_VertexStructure.__name__ = ["kha","graphics4","VertexStructure"];
kha_graphics4_VertexStructure.prototype = {
	elements: null
	,instanced: null
	,add: function(name,data) {
		this.elements.push(new kha_graphics4_VertexElement(name,data));
	}
	,size: function() {
		return this.elements.length;
	}
	,byteSize: function() {
		var byteSize = 0;
		var _g1 = 0;
		var _g = this.elements.length;
		while(_g1 < _g) {
			var i = _g1++;
			byteSize += this.dataByteSize(this.elements[i].data);
		}
		return byteSize;
	}
	,dataByteSize: function(data) {
		switch(data[1]) {
		case 0:
			return 4;
		case 1:
			return 8;
		case 2:
			return 12;
		case 3:
			return 16;
		case 4:
			return 64;
		}
	}
	,get: function(index) {
		return this.elements[index];
	}
	,__class__: kha_graphics4_VertexStructure
};
var kha_input_Gamepad = $hxClasses["kha.input.Gamepad"] = $hx_exports["kha"]["input"]["Gamepad"] = function(index,id) {
	if(id == null) {
		id = "unknown";
	}
	if(index == null) {
		index = 0;
	}
	this.index = index;
	this.axisListeners = [];
	this.buttonListeners = [];
	kha_input_Gamepad.instances[index] = this;
};
kha_input_Gamepad.__name__ = ["kha","input","Gamepad"];
kha_input_Gamepad.get = function(index) {
	if(index == null) {
		index = 0;
	}
	if(index >= kha_input_Gamepad.instances.length) {
		return null;
	}
	return kha_input_Gamepad.instances[index];
};
kha_input_Gamepad.notifyOnConnect = function(connectListener,disconnectListener) {
	if(connectListener != null) {
		kha_input_Gamepad.connectListeners.push(connectListener);
	}
	if(disconnectListener != null) {
		kha_input_Gamepad.disconnectListeners.push(disconnectListener);
	}
};
kha_input_Gamepad.removeConnect = function(connectListener,disconnectListener) {
	if(connectListener != null) {
		HxOverrides.remove(kha_input_Gamepad.connectListeners,connectListener);
	}
	if(disconnectListener != null) {
		HxOverrides.remove(kha_input_Gamepad.disconnectListeners,disconnectListener);
	}
};
kha_input_Gamepad.sendConnectEvent = function(index) {
	kha_input_Gamepad.instances[index].connected = true;
	var _g = 0;
	var _g1 = kha_input_Gamepad.connectListeners;
	while(_g < _g1.length) {
		var listener = _g1[_g];
		++_g;
		listener(index);
	}
};
kha_input_Gamepad.sendDisconnectEvent = function(index) {
	kha_input_Gamepad.instances[index].connected = false;
	var _g = 0;
	var _g1 = kha_input_Gamepad.disconnectListeners;
	while(_g < _g1.length) {
		var listener = _g1[_g];
		++_g;
		listener(index);
	}
};
kha_input_Gamepad.prototype = {
	index: null
	,notify: function(axisListener,buttonListener) {
		if(axisListener != null) {
			this.axisListeners.push(axisListener);
		}
		if(buttonListener != null) {
			this.buttonListeners.push(buttonListener);
		}
	}
	,remove: function(axisListener,buttonListener) {
		if(axisListener != null) {
			HxOverrides.remove(this.axisListeners,axisListener);
		}
		if(buttonListener != null) {
			HxOverrides.remove(this.buttonListeners,buttonListener);
		}
	}
	,axisListeners: null
	,buttonListeners: null
	,id: null
	,connected: null
	,get_id: function() {
		return kha_SystemImpl.getGamepadId(this.index);
	}
	,sendAxisEvent: function(axis,value) {
		var _g = 0;
		var _g1 = this.axisListeners;
		while(_g < _g1.length) {
			var listener = _g1[_g];
			++_g;
			listener(axis,value);
		}
	}
	,sendButtonEvent: function(button,value) {
		var _g = 0;
		var _g1 = this.buttonListeners;
		while(_g < _g1.length) {
			var listener = _g1[_g];
			++_g;
			listener(button,value);
		}
	}
	,__class__: kha_input_Gamepad
	,__properties__: {get_id:"get_id"}
};
var kha_network_Controller = $hxClasses["kha.network.Controller"] = function() {
	this.__id = kha_network_ControllerBuilder.nextId++;
	this._inputBuffer = new haxe_io_Bytes(new ArrayBuffer(1));
};
kha_network_Controller.__name__ = ["kha","network","Controller"];
kha_network_Controller.prototype = {
	__id: null
	,_inputBufferIndex: null
	,_inputBuffer: null
	,_id: function() {
		return this.__id;
	}
	,_receive: function(bytes) {
	}
	,__class__: kha_network_Controller
};
var kha_input_Keyboard = $hxClasses["kha.input.Keyboard"] = $hx_exports["kha"]["input"]["Keyboard"] = function() {
	kha_network_Controller.call(this);
	this.downListeners = [];
	this.upListeners = [];
	this.pressListeners = [];
	kha_input_Keyboard.instance = this;
};
kha_input_Keyboard.__name__ = ["kha","input","Keyboard"];
kha_input_Keyboard.get = function(num) {
	if(num == null) {
		num = 0;
	}
	return kha_SystemImpl.getKeyboard(num);
};
kha_input_Keyboard.__super__ = kha_network_Controller;
kha_input_Keyboard.prototype = $extend(kha_network_Controller.prototype,{
	notify: function(downListener,upListener,pressListener) {
		if(downListener != null) {
			this.downListeners.push(downListener);
		}
		if(upListener != null) {
			this.upListeners.push(upListener);
		}
		if(pressListener != null) {
			this.pressListeners.push(pressListener);
		}
	}
	,remove: function(downListener,upListener,pressListener) {
		if(downListener != null) {
			HxOverrides.remove(this.downListeners,downListener);
		}
		if(upListener != null) {
			HxOverrides.remove(this.upListeners,upListener);
		}
		if(pressListener != null) {
			HxOverrides.remove(this.pressListeners,pressListener);
		}
	}
	,show: function() {
	}
	,hide: function() {
	}
	,downListeners: null
	,upListeners: null
	,pressListeners: null
	,sendDownEvent: function(code) {
		var _g = 0;
		var _g1 = this.downListeners;
		while(_g < _g1.length) {
			var listener = _g1[_g];
			++_g;
			listener(code);
		}
	}
	,sendUpEvent: function(code) {
		var _g = 0;
		var _g1 = this.upListeners;
		while(_g < _g1.length) {
			var listener = _g1[_g];
			++_g;
			listener(code);
		}
	}
	,sendPressEvent: function($char) {
		var _g = 0;
		var _g1 = this.pressListeners;
		while(_g < _g1.length) {
			var listener = _g1[_g];
			++_g;
			listener($char);
		}
	}
	,_receive: function(bytes) {
	}
	,__class__: kha_input_Keyboard
});
var kha_input_Mouse = $hxClasses["kha.input.Mouse"] = $hx_exports["kha"]["input"]["Mouse"] = function() {
	kha_network_Controller.call(this);
	kha_input_Mouse.instance = this;
};
kha_input_Mouse.__name__ = ["kha","input","Mouse"];
kha_input_Mouse.get = function(num) {
	if(num == null) {
		num = 0;
	}
	return kha_SystemImpl.getMouse(num);
};
kha_input_Mouse.__super__ = kha_network_Controller;
kha_input_Mouse.prototype = $extend(kha_network_Controller.prototype,{
	notify: function(downListener,upListener,moveListener,wheelListener,leaveListener) {
		this.notifyWindowed(0,downListener,upListener,moveListener,wheelListener,leaveListener);
	}
	,remove: function(downListener,upListener,moveListener,wheelListener,leaveListener) {
		this.removeWindowed(0,downListener,upListener,moveListener,wheelListener,leaveListener);
	}
	,notifyWindowed: function(windowId,downListener,upListener,moveListener,wheelListener,leaveListener) {
		if(downListener != null) {
			if(this.windowDownListeners == null) {
				this.windowDownListeners = [];
			}
			while(this.windowDownListeners.length <= windowId) this.windowDownListeners.push([]);
			this.windowDownListeners[windowId].push(downListener);
		}
		if(upListener != null) {
			if(this.windowUpListeners == null) {
				this.windowUpListeners = [];
			}
			while(this.windowUpListeners.length <= windowId) this.windowUpListeners.push([]);
			this.windowUpListeners[windowId].push(upListener);
		}
		if(moveListener != null) {
			if(this.windowMoveListeners == null) {
				this.windowMoveListeners = [];
			}
			while(this.windowMoveListeners.length <= windowId) this.windowMoveListeners.push([]);
			this.windowMoveListeners[windowId].push(moveListener);
		}
		if(wheelListener != null) {
			if(this.windowWheelListeners == null) {
				this.windowWheelListeners = [];
			}
			while(this.windowWheelListeners.length <= windowId) this.windowWheelListeners.push([]);
			this.windowWheelListeners[windowId].push(wheelListener);
		}
		if(leaveListener != null) {
			if(this.windowLeaveListeners == null) {
				this.windowLeaveListeners = [];
			}
			while(this.windowLeaveListeners.length <= windowId) this.windowLeaveListeners.push([]);
			this.windowLeaveListeners[windowId].push(leaveListener);
		}
	}
	,removeWindowed: function(windowId,downListener,upListener,moveListener,wheelListener,leaveListener) {
		if(downListener != null) {
			if(this.windowDownListeners != null) {
				if(windowId < this.windowDownListeners.length) {
					HxOverrides.remove(this.windowDownListeners[windowId],downListener);
				} else {
					haxe_Log.trace("no downListeners for window \"" + windowId + "\" are registered",{ fileName : "Mouse.hx", lineNumber : 88, className : "kha.input.Mouse", methodName : "removeWindowed"});
				}
			} else {
				haxe_Log.trace("no downListeners were ever registered",{ fileName : "Mouse.hx", lineNumber : 91, className : "kha.input.Mouse", methodName : "removeWindowed"});
			}
		}
		if(upListener != null) {
			if(this.windowUpListeners != null) {
				if(windowId < this.windowUpListeners.length) {
					HxOverrides.remove(this.windowUpListeners[windowId],upListener);
				} else {
					haxe_Log.trace("no upListeners for window \"" + windowId + "\" are registered",{ fileName : "Mouse.hx", lineNumber : 100, className : "kha.input.Mouse", methodName : "removeWindowed"});
				}
			} else {
				haxe_Log.trace("no upListeners were ever registered",{ fileName : "Mouse.hx", lineNumber : 103, className : "kha.input.Mouse", methodName : "removeWindowed"});
			}
		}
		if(moveListener != null) {
			if(this.windowMoveListeners != null) {
				if(windowId < this.windowMoveListeners.length) {
					HxOverrides.remove(this.windowMoveListeners[windowId],moveListener);
				} else {
					haxe_Log.trace("no moveListeners for window \"" + windowId + "\" are registered",{ fileName : "Mouse.hx", lineNumber : 112, className : "kha.input.Mouse", methodName : "removeWindowed"});
				}
			} else {
				haxe_Log.trace("no moveListeners were ever registered",{ fileName : "Mouse.hx", lineNumber : 115, className : "kha.input.Mouse", methodName : "removeWindowed"});
			}
		}
		if(wheelListener != null) {
			if(this.windowWheelListeners != null) {
				if(windowId < this.windowWheelListeners.length) {
					HxOverrides.remove(this.windowWheelListeners[windowId],wheelListener);
				} else {
					haxe_Log.trace("no wheelListeners for window \"" + windowId + "\" are registered",{ fileName : "Mouse.hx", lineNumber : 124, className : "kha.input.Mouse", methodName : "removeWindowed"});
				}
			} else {
				haxe_Log.trace("no wheelListeners were ever registered",{ fileName : "Mouse.hx", lineNumber : 127, className : "kha.input.Mouse", methodName : "removeWindowed"});
			}
		}
		if(leaveListener != null) {
			if(this.windowLeaveListeners != null) {
				if(windowId < this.windowLeaveListeners.length) {
					HxOverrides.remove(this.windowLeaveListeners[windowId],leaveListener);
				} else {
					haxe_Log.trace("no leaveListeners for window \"" + windowId + "\" are registered",{ fileName : "Mouse.hx", lineNumber : 136, className : "kha.input.Mouse", methodName : "removeWindowed"});
				}
			} else {
				haxe_Log.trace("no leaveListeners were ever registered",{ fileName : "Mouse.hx", lineNumber : 139, className : "kha.input.Mouse", methodName : "removeWindowed"});
			}
		}
	}
	,lock: function() {
	}
	,unlock: function() {
	}
	,canLock: function() {
		return false;
	}
	,isLocked: function() {
		return false;
	}
	,notifyOnLockChange: function(func,error) {
	}
	,removeFromLockChange: function(func,error) {
	}
	,hideSystemCursor: function() {
	}
	,showSystemCursor: function() {
	}
	,windowDownListeners: null
	,windowUpListeners: null
	,windowMoveListeners: null
	,windowWheelListeners: null
	,windowLeaveListeners: null
	,sendLeaveEvent: function(windowId) {
		if(this.windowLeaveListeners != null) {
			var _g = 0;
			var _g1 = this.windowLeaveListeners[windowId];
			while(_g < _g1.length) {
				var listener = _g1[_g];
				++_g;
				listener();
			}
		}
	}
	,sendDownEvent: function(windowId,button,x,y) {
		if(this.windowDownListeners != null) {
			var _g = 0;
			var _g1 = this.windowDownListeners[windowId];
			while(_g < _g1.length) {
				var listener = _g1[_g];
				++_g;
				listener(button,x,y);
			}
		}
	}
	,sendUpEvent: function(windowId,button,x,y) {
		if(this.windowUpListeners != null) {
			var _g = 0;
			var _g1 = this.windowUpListeners[windowId];
			while(_g < _g1.length) {
				var listener = _g1[_g];
				++_g;
				listener(button,x,y);
			}
		}
	}
	,sendMoveEvent: function(windowId,x,y,movementX,movementY) {
		if(this.windowMoveListeners != null) {
			var _g = 0;
			var _g1 = this.windowMoveListeners[windowId];
			while(_g < _g1.length) {
				var listener = _g1[_g];
				++_g;
				listener(x,y,movementX,movementY);
			}
		}
	}
	,sendWheelEvent: function(windowId,delta) {
		if(this.windowWheelListeners != null) {
			var _g = 0;
			var _g1 = this.windowWheelListeners[windowId];
			while(_g < _g1.length) {
				var listener = _g1[_g];
				++_g;
				listener(delta);
			}
		}
	}
	,_receive: function(bytes) {
	}
	,__class__: kha_input_Mouse
});
var kha_input_MouseImpl = $hxClasses["kha.input.MouseImpl"] = function() {
	kha_input_Mouse.call(this);
};
kha_input_MouseImpl.__name__ = ["kha","input","MouseImpl"];
kha_input_MouseImpl.__super__ = kha_input_Mouse;
kha_input_MouseImpl.prototype = $extend(kha_input_Mouse.prototype,{
	lock: function() {
		kha_SystemImpl.lockMouse();
	}
	,unlock: function() {
		kha_SystemImpl.unlockMouse();
	}
	,canLock: function() {
		return kha_SystemImpl.canLockMouse();
	}
	,isLocked: function() {
		return kha_SystemImpl.isMouseLocked();
	}
	,notifyOnLockChange: function(func,error) {
		kha_SystemImpl.notifyOfMouseLockChange(func,error);
	}
	,removeFromLockChange: function(func,error) {
		kha_SystemImpl.removeFromMouseLockChange(func,error);
	}
	,hideSystemCursor: function() {
	}
	,showSystemCursor: function() {
	}
	,_receive: function(bytes) {
	}
	,__class__: kha_input_MouseImpl
});
var kha_input_Pen = $hxClasses["kha.input.Pen"] = function() {
	kha_input_Pen.instance = this;
};
kha_input_Pen.__name__ = ["kha","input","Pen"];
kha_input_Pen.get = function(num) {
	if(num == null) {
		num = 0;
	}
	return kha_SystemImpl.getPen(num);
};
kha_input_Pen.prototype = {
	notify: function(downListener,upListener,moveListener) {
		this.notifyWindowed(0,downListener,upListener,moveListener);
	}
	,remove: function(downListener,upListener,moveListener) {
		this.removeWindowed(0,downListener,upListener,moveListener);
	}
	,notifyWindowed: function(windowId,downListener,upListener,moveListener) {
		if(downListener != null) {
			if(this.windowDownListeners == null) {
				this.windowDownListeners = [];
			}
			while(this.windowDownListeners.length <= windowId) this.windowDownListeners.push([]);
			this.windowDownListeners[windowId].push(downListener);
		}
		if(upListener != null) {
			if(this.windowUpListeners == null) {
				this.windowUpListeners = [];
			}
			while(this.windowUpListeners.length <= windowId) this.windowUpListeners.push([]);
			this.windowUpListeners[windowId].push(upListener);
		}
		if(moveListener != null) {
			if(this.windowMoveListeners == null) {
				this.windowMoveListeners = [];
			}
			while(this.windowMoveListeners.length <= windowId) this.windowMoveListeners.push([]);
			this.windowMoveListeners[windowId].push(moveListener);
		}
	}
	,removeWindowed: function(windowId,downListener,upListener,moveListener) {
		if(downListener != null && this.windowDownListeners != null) {
			if(windowId < this.windowDownListeners.length) {
				HxOverrides.remove(this.windowDownListeners[windowId],downListener);
			}
		}
		if(upListener != null && this.windowUpListeners != null) {
			if(windowId < this.windowUpListeners.length) {
				HxOverrides.remove(this.windowUpListeners[windowId],upListener);
			}
		}
		if(moveListener != null && this.windowMoveListeners != null) {
			if(windowId < this.windowMoveListeners.length) {
				HxOverrides.remove(this.windowMoveListeners[windowId],moveListener);
			}
		}
	}
	,windowDownListeners: null
	,windowUpListeners: null
	,windowMoveListeners: null
	,sendDownEvent: function(windowId,x,y,pressure) {
		if(this.windowDownListeners != null) {
			var _g = 0;
			var _g1 = this.windowDownListeners[windowId];
			while(_g < _g1.length) {
				var listener = _g1[_g];
				++_g;
				listener(x,y,pressure);
			}
		}
	}
	,sendUpEvent: function(windowId,x,y,pressure) {
		if(this.windowUpListeners != null) {
			var _g = 0;
			var _g1 = this.windowUpListeners[windowId];
			while(_g < _g1.length) {
				var listener = _g1[_g];
				++_g;
				listener(x,y,pressure);
			}
		}
	}
	,sendMoveEvent: function(windowId,x,y,pressure) {
		if(this.windowMoveListeners != null) {
			var _g = 0;
			var _g1 = this.windowMoveListeners[windowId];
			while(_g < _g1.length) {
				var listener = _g1[_g];
				++_g;
				listener(x,y,pressure);
			}
		}
	}
	,__class__: kha_input_Pen
};
var kha_input_Sensor = $hxClasses["kha.input.Sensor"] = function() { };
kha_input_Sensor.__name__ = ["kha","input","Sensor"];
kha_input_Sensor.get = function(type) {
	return null;
};
kha_input_Sensor.prototype = {
	notify: function(listener) {
	}
	,__class__: kha_input_Sensor
};
var kha_input_SensorType = $hxClasses["kha.input.SensorType"] = { __ename__ : ["kha","input","SensorType"], __constructs__ : ["Accelerometer","Gyroscope"] };
kha_input_SensorType.Accelerometer = ["Accelerometer",0];
kha_input_SensorType.Accelerometer.toString = $estr;
kha_input_SensorType.Accelerometer.__enum__ = kha_input_SensorType;
kha_input_SensorType.Gyroscope = ["Gyroscope",1];
kha_input_SensorType.Gyroscope.toString = $estr;
kha_input_SensorType.Gyroscope.__enum__ = kha_input_SensorType;
var kha_input_Surface = $hxClasses["kha.input.Surface"] = $hx_exports["kha"]["input"]["Surface"] = function() {
	this.touchStartListeners = [];
	this.touchEndListeners = [];
	this.moveListeners = [];
	kha_input_Surface.instance = this;
};
kha_input_Surface.__name__ = ["kha","input","Surface"];
kha_input_Surface.get = function(num) {
	if(num == null) {
		num = 0;
	}
	if(num != 0) {
		return null;
	}
	return kha_input_Surface.instance;
};
kha_input_Surface.prototype = {
	notify: function(touchStartListener,touchEndListener,moveListener) {
		if(touchStartListener != null) {
			this.touchStartListeners.push(touchStartListener);
		}
		if(touchEndListener != null) {
			this.touchEndListeners.push(touchEndListener);
		}
		if(moveListener != null) {
			this.moveListeners.push(moveListener);
		}
	}
	,remove: function(touchStartListener,touchEndListener,moveListener) {
		if(touchStartListener != null) {
			HxOverrides.remove(this.touchStartListeners,touchStartListener);
		}
		if(touchEndListener != null) {
			HxOverrides.remove(this.touchEndListeners,touchEndListener);
		}
		if(moveListener != null) {
			this.moveListeners.push(moveListener);
		}
	}
	,touchStartListeners: null
	,touchEndListeners: null
	,moveListeners: null
	,sendTouchStartEvent: function(index,x,y) {
		var _g = 0;
		var _g1 = this.touchStartListeners;
		while(_g < _g1.length) {
			var listener = _g1[_g];
			++_g;
			listener(index,x,y);
		}
	}
	,sendTouchEndEvent: function(index,x,y) {
		var _g = 0;
		var _g1 = this.touchEndListeners;
		while(_g < _g1.length) {
			var listener = _g1[_g];
			++_g;
			listener(index,x,y);
		}
	}
	,sendMoveEvent: function(index,x,y) {
		var _g = 0;
		var _g1 = this.moveListeners;
		while(_g < _g1.length) {
			var listener = _g1[_g];
			++_g;
			listener(index,x,y);
		}
	}
	,__class__: kha_input_Surface
};
var kha_internal_BytesBlob = $hxClasses["kha.internal.BytesBlob"] = function(bytes) {
	this.bytes = bytes;
};
kha_internal_BytesBlob.__name__ = ["kha","internal","BytesBlob"];
kha_internal_BytesBlob.__interfaces__ = [kha_Resource];
kha_internal_BytesBlob.fromBytes = function(bytes) {
	return new kha_internal_BytesBlob(bytes);
};
kha_internal_BytesBlob.alloc = function(size) {
	return new kha_internal_BytesBlob(new haxe_io_Bytes(new ArrayBuffer(size)));
};
kha_internal_BytesBlob.readF32 = function(i) {
	var sign = (i & -2147483648) == 0 ? 1 : -1;
	var exp = i >> 23 & 255;
	var man = i & 8388607;
	switch(exp) {
	case 0:
		return 0.0;
	case 255:
		if(man != 0) {
			return NaN;
		} else if(sign > 0) {
			return Infinity;
		} else {
			return -Infinity;
		}
		break;
	default:
		return sign * ((man + 8388608) / 8388608.0) * Math.pow(2,exp - 127);
	}
};
kha_internal_BytesBlob.bit = function(value,position) {
	var b = (value >>> position & 1) == 1;
	if(b) {
		var a = 3;
		++a;
		return true;
	} else {
		var c = 4;
		--c;
		return false;
	}
};
kha_internal_BytesBlob.toText = function(chars,length) {
	var value = "";
	var _g1 = 0;
	var _g = length;
	while(_g1 < _g) {
		var i = _g1++;
		value += String.fromCharCode(chars[i]);
	}
	return value;
};
kha_internal_BytesBlob.prototype = {
	bytes: null
	,sub: function(start,length) {
		return new kha_internal_BytesBlob(this.bytes.sub(start,length));
	}
	,length: null
	,get_length: function() {
		return this.bytes.length;
	}
	,writeU8: function(position,value) {
		this.bytes.b[position] = value & 255;
	}
	,readU8: function(position) {
		var $byte = this.bytes.b[position];
		++position;
		return $byte;
	}
	,readS8: function(position) {
		var $byte = this.bytes.b[position];
		++position;
		var sign = ($byte & 128) == 0 ? 1 : -1;
		$byte &= 127;
		return sign * $byte;
	}
	,readU16BE: function(position) {
		var first = this.bytes.b[position];
		var second = this.bytes.b[position + 1];
		position += 2;
		return first * 256 + second;
	}
	,readU16LE: function(position) {
		var first = this.bytes.b[position];
		var second = this.bytes.b[position + 1];
		position += 2;
		return second * 256 + first;
	}
	,readU32LE: function(position) {
		var fourth = this.bytes.b[position];
		var third = this.bytes.b[position + 1];
		var second = this.bytes.b[position + 2];
		var first = this.bytes.b[position + 3];
		position += 4;
		return fourth + third * 256 + second * 256 * 256 + first * 256 * 256 * 256;
	}
	,readU32BE: function(position) {
		var fourth = this.bytes.b[position];
		var third = this.bytes.b[position + 1];
		var second = this.bytes.b[position + 2];
		var first = this.bytes.b[position + 3];
		position += 4;
		return first + second * 256 + third * 256 * 256 + fourth * 256 * 256 * 256;
	}
	,readS16BE: function(position) {
		var first = this.bytes.b[position];
		var second = this.bytes.b[position + 1];
		position += 2;
		var sign = (first & 128) == 0 ? 1 : -1;
		first &= 127;
		if(sign == -1) {
			return -32767 + first * 256 + second;
		} else {
			return first * 256 + second;
		}
	}
	,readS16LE: function(position) {
		var first = this.bytes.b[position];
		var second = this.bytes.b[position + 1];
		var sign = (second & 128) == 0 ? 1 : -1;
		second &= 127;
		position += 2;
		if(sign == -1) {
			return -32767 + second * 256 + first;
		} else {
			return second * 256 + first;
		}
	}
	,readS32LE: function(position) {
		var fourth = this.bytes.b[position];
		var third = this.bytes.b[position + 1];
		var second = this.bytes.b[position + 2];
		var first = this.bytes.b[position + 3];
		var sign = (first & 128) == 0 ? 1 : -1;
		first &= 127;
		position += 4;
		if(sign == -1) {
			return -2147483647 + fourth + third * 256 + second * 256 * 256 + first * 256 * 256 * 256;
		} else {
			return fourth + third * 256 + second * 256 * 256 + first * 256 * 256 * 256;
		}
	}
	,readS32BE: function(position) {
		var fourth = this.bytes.b[position];
		var third = this.bytes.b[position + 1];
		var second = this.bytes.b[position + 2];
		var first = this.bytes.b[position + 3];
		var sign = (fourth & 128) == 0 ? 1 : -1;
		fourth &= 127;
		position += 4;
		if(sign == -1) {
			return -2147483647 + first + second * 256 + third * 256 * 256 + fourth * 256 * 256 * 256;
		}
		return first + second * 256 + third * 256 * 256 + fourth * 256 * 256 * 256;
	}
	,readF32LE: function(position) {
		return kha_internal_BytesBlob.readF32(this.readS32LE(position));
	}
	,readF32BE: function(position) {
		return kha_internal_BytesBlob.readF32(this.readS32BE(position));
	}
	,toString: function() {
		return this.bytes.toString();
	}
	,readUtf8Char: function(position) {
		if(position.value >= this.get_length()) {
			return -1;
		}
		var c = this.readU8(position.value);
		++position.value;
		var value = 0;
		if(!kha_internal_BytesBlob.bit(c,7)) {
			value = c;
		} else if(kha_internal_BytesBlob.bit(c,7) && kha_internal_BytesBlob.bit(c,6) && !kha_internal_BytesBlob.bit(c,5)) {
			var a = c & 31;
			var c2 = this.readU8(position.value);
			++position.value;
			var b = c2 & 63;
			value = a << 6 | b;
		} else if(kha_internal_BytesBlob.bit(c,7) && kha_internal_BytesBlob.bit(c,6) && kha_internal_BytesBlob.bit(c,5) && !kha_internal_BytesBlob.bit(c,4)) {
			position.value += 2;
		} else if(kha_internal_BytesBlob.bit(c,7) && kha_internal_BytesBlob.bit(c,6) && kha_internal_BytesBlob.bit(c,5) && kha_internal_BytesBlob.bit(c,4) && !kha_internal_BytesBlob.bit(c,3)) {
			position.value += 3;
		}
		return value;
	}
	,readUtf8Block: function(buffer,position) {
		var bufferindex = 0;
		if(position.value >= this.get_length()) {
			return "";
		}
		while(bufferindex < 2000) {
			var c = this.readUtf8Char(position);
			if(c < 0) {
				break;
			}
			buffer[bufferindex] = c;
			++bufferindex;
		}
		return kha_internal_BytesBlob.toText(buffer,bufferindex);
	}
	,readUtf8String: function() {
		var this1 = new Array(2000);
		var buffer = this1;
		var text = "";
		var start = 0;
		if(this.get_length() >= 3 && this.bytes.b[0] == 239 && this.bytes.b[1] == 187 && this.bytes.b[2] == 191) {
			start = 3;
		}
		var position = { value : start};
		while(position.value < this.get_length()) text += this.readUtf8Block(buffer,position);
		return text;
	}
	,toBytes: function() {
		return this.bytes;
	}
	,unload: function() {
		this.bytes = null;
	}
	,__class__: kha_internal_BytesBlob
	,__properties__: {get_length:"get_length"}
};
var kha_krom_Graphics = $hxClasses["kha.krom.Graphics"] = function(renderTarget) {
	this.renderTarget = renderTarget;
};
kha_krom_Graphics.__name__ = ["kha","krom","Graphics"];
kha_krom_Graphics.__interfaces__ = [kha_graphics4_Graphics];
kha_krom_Graphics.prototype = {
	renderTarget: null
	,begin: function(additionalRenderTargets) {
		Krom.begin(this.renderTarget,additionalRenderTargets);
	}
	,beginFace: function(face) {
		Krom.beginFace(this.renderTarget,face);
	}
	,beginEye: function(eye) {
	}
	,end: function() {
		Krom.end();
	}
	,flush: function() {
	}
	,vsynced: function() {
		return true;
	}
	,refreshRate: function() {
		return 60;
	}
	,clear: function(color,depth,stencil) {
		var flags = 0;
		if(color != null) {
			flags |= 1;
		}
		if(depth != null) {
			flags |= 2;
		}
		if(stencil != null) {
			flags |= 4;
		}
		Krom.clear(flags,color == null ? 0 : color,depth,stencil);
	}
	,viewport: function(x,y,width,height) {
		Krom.viewport(x,y,width,height);
	}
	,setVertexBuffer: function(vertexBuffer) {
		vertexBuffer.set(0);
	}
	,setVertexBuffers: function(vertexBuffers) {
		Krom.setVertexBuffers(vertexBuffers);
	}
	,setIndexBuffer: function(indexBuffer) {
		indexBuffer.set();
	}
	,setCubeMap: function(unit,cubeMap) {
		Krom.setTexture(unit,cubeMap);
	}
	,setCubeMapDepth: function(unit,cubeMap) {
		Krom.setTextureDepth(unit,cubeMap);
	}
	,setTexture: function(unit,texture) {
		Krom.setTexture(unit,texture);
	}
	,setTextureDepth: function(unit,texture) {
		Krom.setTextureDepth(unit,texture);
	}
	,setTextureArray: function(unit,texture) {
	}
	,setVideoTexture: function(unit,texture) {
	}
	,setImageTexture: function(unit,texture) {
		Krom.setImageTexture(unit,texture);
	}
	,setTextureParameters: function(texunit,uAddressing,vAddressing,minificationFilter,magnificationFilter,mipmapFilter) {
		Krom.setTextureParameters(texunit,uAddressing[1],vAddressing[1],minificationFilter[1],magnificationFilter[1],mipmapFilter[1]);
	}
	,setTexture3DParameters: function(texunit,uAddressing,vAddressing,wAddressing,minificationFilter,magnificationFilter,mipmapFilter) {
		Krom.setTexture3DParameters(texunit,uAddressing[1],vAddressing[1],wAddressing[1],minificationFilter[1],magnificationFilter[1],mipmapFilter[1]);
	}
	,setPipeline: function(pipeline) {
		pipeline.set();
	}
	,setBool: function(location,value) {
		Krom.setBool(location,value);
	}
	,setInt: function(location,value) {
		Krom.setInt(location,value);
	}
	,setFloat: function(location,value) {
		Krom.setFloat(location,value);
	}
	,setFloat2: function(location,value1,value2) {
		Krom.setFloat2(location,value1,value2);
	}
	,setFloat3: function(location,value1,value2,value3) {
		Krom.setFloat3(location,value1,value2,value3);
	}
	,setFloat4: function(location,value1,value2,value3,value4) {
		Krom.setFloat4(location,value1,value2,value3,value4);
	}
	,setFloats: function(location,values) {
		Krom.setFloats(location,values);
	}
	,setVector2: function(location,value) {
		Krom.setFloat2(location,value.x,value.y);
	}
	,setVector3: function(location,value) {
		Krom.setFloat3(location,value.x,value.y,value.z);
	}
	,setVector4: function(location,value) {
		Krom.setFloat4(location,value.x,value.y,value.z,value.w);
	}
	,setMatrix: function(location,matrix) {
		Krom.setMatrix(location,matrix);
	}
	,setMatrix3: function(location,matrix) {
		Krom.setMatrix3(location,matrix);
	}
	,drawIndexedVertices: function(start,count) {
		if(count == null) {
			count = -1;
		}
		if(start == null) {
			start = 0;
		}
		Krom.drawIndexedVertices(start,count);
	}
	,drawIndexedVerticesInstanced: function(instanceCount,start,count) {
		if(count == null) {
			count = -1;
		}
		if(start == null) {
			start = 0;
		}
		Krom.drawIndexedVerticesInstanced(instanceCount,start,count);
	}
	,instancedRenderingAvailable: function() {
		return false;
	}
	,scissor: function(x,y,width,height) {
		Krom.scissor(x,y,width,height);
	}
	,disableScissor: function() {
		Krom.disableScissor();
	}
	,renderTargetsInvertedY: function() {
		return Krom.renderTargetsInvertedY();
	}
	,__class__: kha_krom_Graphics
};
var kha_krom_Sound = $hxClasses["kha.krom.Sound"] = function(bytes) {
	kha_Sound.call(this);
	this.compressedData = bytes;
	this.uncompressedData = null;
};
kha_krom_Sound.__name__ = ["kha","krom","Sound"];
kha_krom_Sound.__super__ = kha_Sound;
kha_krom_Sound.prototype = $extend(kha_Sound.prototype,{
	uncompress: function(done) {
		if(this.uncompressedData != null) {
			done();
			return;
		}
		var soundBytes = this.compressedData;
		var count = soundBytes.length / 4 | 0;
		var this1 = new Array(count);
		this.uncompressedData = this1;
		var _g1 = 0;
		var _g = count;
		while(_g1 < _g) {
			var i = _g1++;
			this.uncompressedData[i] = soundBytes.getFloat(i * 4);
		}
		this.compressedData = null;
		done();
	}
	,unload: function() {
		kha_Sound.prototype.unload.call(this);
	}
	,__class__: kha_krom_Sound
});
var kha_math_FastVector2 = $hxClasses["kha.math.FastVector2"] = function(x,y) {
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	this.x = x;
	this.y = y;
};
kha_math_FastVector2.__name__ = ["kha","math","FastVector2"];
kha_math_FastVector2.fromVector2 = function(v) {
	return new kha_math_FastVector2(v.x,v.y);
};
kha_math_FastVector2.prototype = {
	x: null
	,y: null
	,get_length: function() {
		return Math.sqrt(this.x * this.x + this.y * this.y);
	}
	,set_length: function(length) {
		var currentLength = this.get_length();
		if(currentLength == 0) {
			return 0;
		}
		var mul = length / currentLength;
		this.x *= mul;
		this.y *= mul;
		return length;
	}
	,toString: function() {
		return "FastVector2(" + this.x + ", " + this.y + ")";
	}
	,__class__: kha_math_FastVector2
	,__properties__: {set_length:"set_length",get_length:"get_length"}
};
var kha_math_FastVector3 = $hxClasses["kha.math.FastVector3"] = function(x,y,z) {
	if(z == null) {
		z = 0;
	}
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	this.x = x;
	this.y = y;
	this.z = z;
};
kha_math_FastVector3.__name__ = ["kha","math","FastVector3"];
kha_math_FastVector3.fromVector3 = function(v) {
	return new kha_math_FastVector3(v.x,v.y,v.z);
};
kha_math_FastVector3.prototype = {
	x: null
	,y: null
	,z: null
	,get_length: function() {
		return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);
	}
	,set_length: function(length) {
		var currentLength = this.get_length();
		if(currentLength == 0) {
			return 0;
		}
		var mul = length / currentLength;
		this.x *= mul;
		this.y *= mul;
		this.z *= mul;
		return length;
	}
	,toString: function() {
		return "FastVector3(" + this.x + ", " + this.y + ", " + this.z + ")";
	}
	,__class__: kha_math_FastVector3
	,__properties__: {set_length:"set_length",get_length:"get_length"}
};
var kha_math_FastVector4 = $hxClasses["kha.math.FastVector4"] = function(x,y,z,w) {
	if(w == null) {
		w = 1;
	}
	if(z == null) {
		z = 0;
	}
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	this.x = x;
	this.y = y;
	this.z = z;
	this.w = w;
};
kha_math_FastVector4.__name__ = ["kha","math","FastVector4"];
kha_math_FastVector4.fromVector4 = function(v) {
	return new kha_math_FastVector4(v.x,v.y,v.z,v.w);
};
kha_math_FastVector4.prototype = {
	x: null
	,y: null
	,z: null
	,w: null
	,get_length: function() {
		return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);
	}
	,set_length: function(length) {
		var currentLength = this.get_length();
		if(currentLength == 0) {
			return 0;
		}
		var mul = length / currentLength;
		this.x *= mul;
		this.y *= mul;
		this.z *= mul;
		this.w *= mul;
		return length;
	}
	,toString: function() {
		return "FastVector4(" + this.x + ", " + this.y + ", " + this.z + ", " + this.w + ")";
	}
	,__class__: kha_math_FastVector4
	,__properties__: {set_length:"set_length",get_length:"get_length"}
};
var kha_math_Matrix3 = $hxClasses["kha.math.Matrix3"] = function(_00,_10,_20,_01,_11,_21,_02,_12,_22) {
	this._00 = _00;
	this._10 = _10;
	this._20 = _20;
	this._01 = _01;
	this._11 = _11;
	this._21 = _21;
	this._02 = _02;
	this._12 = _12;
	this._22 = _22;
};
kha_math_Matrix3.__name__ = ["kha","math","Matrix3"];
kha_math_Matrix3.prototype = {
	_00: null
	,_10: null
	,_20: null
	,_01: null
	,_11: null
	,_21: null
	,_02: null
	,_12: null
	,_22: null
	,__class__: kha_math_Matrix3
};
var kha_math_Matrix4 = $hxClasses["kha.math.Matrix4"] = function(_00,_10,_20,_30,_01,_11,_21,_31,_02,_12,_22,_32,_03,_13,_23,_33) {
	this._00 = _00;
	this._10 = _10;
	this._20 = _20;
	this._30 = _30;
	this._01 = _01;
	this._11 = _11;
	this._21 = _21;
	this._31 = _31;
	this._02 = _02;
	this._12 = _12;
	this._22 = _22;
	this._32 = _32;
	this._03 = _03;
	this._13 = _13;
	this._23 = _23;
	this._33 = _33;
};
kha_math_Matrix4.__name__ = ["kha","math","Matrix4"];
kha_math_Matrix4.orthogonalProjection = function(left,right,bottom,top,zn,zf) {
	var tx = -(right + left) / (right - left);
	var ty = -(top + bottom) / (top - bottom);
	var tz = -(zf + zn) / (zf - zn);
	return new kha_math_Matrix4(2 / (right - left),0,0,tx,0,2 / (top - bottom),0,ty,0,0,-2 / (zf - zn),tz,0,0,0,1);
};
kha_math_Matrix4.perspectiveProjection = function(fovY,aspect,zn,zf) {
	var uh = 1.0 / Math.tan(fovY / 2);
	var uw = uh / aspect;
	return new kha_math_Matrix4(uw,0,0,0,0,uh,0,0,0,0,(zf + zn) / (zn - zf),2 * zf * zn / (zn - zf),0,0,-1,0);
};
kha_math_Matrix4.lookAt = function(eye,at,up) {
	var zaxis = new kha_math_Vector3(at.x - eye.x,at.y - eye.y,at.z - eye.z);
	zaxis.set_length(1);
	var _x = zaxis.y * up.z - zaxis.z * up.y;
	var _y = zaxis.z * up.x - zaxis.x * up.z;
	var _z = zaxis.x * up.y - zaxis.y * up.x;
	var xaxis = new kha_math_Vector3(_x,_y,_z);
	xaxis.set_length(1);
	var yaxis_z;
	var yaxis_y;
	var yaxis_x;
	var _x1 = xaxis.y * zaxis.z - xaxis.z * zaxis.y;
	var _y1 = xaxis.z * zaxis.x - xaxis.x * zaxis.z;
	var _z1 = xaxis.x * zaxis.y - xaxis.y * zaxis.x;
	yaxis_x = _x1;
	yaxis_y = _y1;
	yaxis_z = _z1;
	return new kha_math_Matrix4(xaxis.x,xaxis.y,xaxis.z,-(xaxis.x * eye.x + xaxis.y * eye.y + xaxis.z * eye.z),yaxis_x,yaxis_y,yaxis_z,-(yaxis_x * eye.x + yaxis_y * eye.y + yaxis_z * eye.z),-zaxis.x,-zaxis.y,-zaxis.z,zaxis.x * eye.x + zaxis.y * eye.y + zaxis.z * eye.z,0,0,0,1);
};
kha_math_Matrix4.prototype = {
	_00: null
	,_10: null
	,_20: null
	,_30: null
	,_01: null
	,_11: null
	,_21: null
	,_31: null
	,_02: null
	,_12: null
	,_22: null
	,_32: null
	,_03: null
	,_13: null
	,_23: null
	,_33: null
	,__class__: kha_math_Matrix4
};
var kha_math_Vector2 = $hxClasses["kha.math.Vector2"] = function(x,y) {
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	this.x = x;
	this.y = y;
};
kha_math_Vector2.__name__ = ["kha","math","Vector2"];
kha_math_Vector2.prototype = {
	x: null
	,y: null
	,get_length: function() {
		return Math.sqrt(this.x * this.x + this.y * this.y);
	}
	,set_length: function(length) {
		var currentLength = this.get_length();
		if(currentLength == 0) {
			return 0;
		}
		var mul = length / currentLength;
		this.x *= mul;
		this.y *= mul;
		return length;
	}
	,__class__: kha_math_Vector2
	,__properties__: {set_length:"set_length",get_length:"get_length"}
};
var kha_math_Vector3 = $hxClasses["kha.math.Vector3"] = function(x,y,z) {
	if(z == null) {
		z = 0;
	}
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	this.x = x;
	this.y = y;
	this.z = z;
};
kha_math_Vector3.__name__ = ["kha","math","Vector3"];
kha_math_Vector3.prototype = {
	x: null
	,y: null
	,z: null
	,get_length: function() {
		return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);
	}
	,set_length: function(length) {
		var currentLength = this.get_length();
		if(currentLength == 0) {
			return 0;
		}
		var mul = length / currentLength;
		this.x *= mul;
		this.y *= mul;
		this.z *= mul;
		return length;
	}
	,__class__: kha_math_Vector3
	,__properties__: {set_length:"set_length",get_length:"get_length"}
};
var kha_math_Vector4 = $hxClasses["kha.math.Vector4"] = function(x,y,z,w) {
	if(w == null) {
		w = 1;
	}
	if(z == null) {
		z = 0;
	}
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	this.x = x;
	this.y = y;
	this.z = z;
	this.w = w;
};
kha_math_Vector4.__name__ = ["kha","math","Vector4"];
kha_math_Vector4.prototype = {
	x: null
	,y: null
	,z: null
	,w: null
	,get_length: function() {
		return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);
	}
	,set_length: function(length) {
		var currentLength = this.get_length();
		if(currentLength == 0) {
			return 0;
		}
		var mul = length / currentLength;
		this.x *= mul;
		this.y *= mul;
		this.z *= mul;
		this.w *= mul;
		return length;
	}
	,__class__: kha_math_Vector4
	,__properties__: {set_length:"set_length",get_length:"get_length"}
};
var kha_network_Client = $hxClasses["kha.network.Client"] = function() { };
kha_network_Client.__name__ = ["kha","network","Client"];
kha_network_Client.prototype = {
	get_id: null
	,id: null
	,send: null
	,receive: null
	,onClose: null
	,__class__: kha_network_Client
	,__properties__: {get_id:"get_id"}
};
var kha_network_ControllerBuilder = $hxClasses["kha.network.ControllerBuilder"] = function() { };
kha_network_ControllerBuilder.__name__ = ["kha","network","ControllerBuilder"];
var kha_network_Entity = $hxClasses["kha.network.Entity"] = function() { };
kha_network_Entity.__name__ = ["kha","network","Entity"];
kha_network_Entity.prototype = {
	_id: null
	,_size: null
	,_send: null
	,_receive: null
	,__class__: kha_network_Entity
};
var kha_network_LocalClient = $hxClasses["kha.network.LocalClient"] = function(id) {
	this.myId = id;
};
kha_network_LocalClient.__name__ = ["kha","network","LocalClient"];
kha_network_LocalClient.__interfaces__ = [kha_network_Client];
kha_network_LocalClient.prototype = {
	myId: null
	,send: function(bytes,mandatory) {
	}
	,receive: function(receiver) {
	}
	,onClose: function(close) {
	}
	,controllers: null
	,get_controllers: function() {
		return null;
	}
	,id: null
	,get_id: function() {
		return this.myId;
	}
	,__class__: kha_network_LocalClient
	,__properties__: {get_id:"get_id",get_controllers:"get_controllers"}
};
var kha_network_Network = $hxClasses["kha.network.Network"] = function(url,port,errorCallback,closeCallback) {
};
kha_network_Network.__name__ = ["kha","network","Network"];
kha_network_Network.prototype = {
	send: function(bytes,mandatory) {
	}
	,listen: function(listener) {
	}
	,__class__: kha_network_Network
};
var kha_network_State = $hxClasses["kha.network.State"] = function(time,data) {
	this.time = time;
	this.data = data;
};
kha_network_State.__name__ = ["kha","network","State"];
kha_network_State.prototype = {
	time: null
	,data: null
	,__class__: kha_network_State
};
var kha_network_Session = $hxClasses["kha.network.Session"] = function(maxPlayers,address,port) {
	this.ping = 1;
	this.currentPlayers = 0;
	this.controllers = new haxe_ds_IntMap();
	this.entities = new haxe_ds_IntMap();
	kha_network_Session.instance = this;
	this.maxPlayers = maxPlayers;
	this.address = address;
	this.port = port;
};
kha_network_Session.__name__ = ["kha","network","Session"];
kha_network_Session.the = function() {
	return kha_network_Session.instance;
};
kha_network_Session.prototype = {
	entities: null
	,controllers: null
	,maxPlayers: null
	,currentPlayers: null
	,ping: null
	,address: null
	,port: null
	,startCallback: null
	,refusedCallback: null
	,resetCallback: null
	,localClient: null
	,network: null
	,updateTaskId: null
	,pingTaskId: null
	,me: null
	,get_me: function() {
		return this.localClient;
	}
	,addEntity: function(entity) {
		var this1 = this.entities;
		var key = entity._id();
		this1.h[key] = entity;
	}
	,addController: function(controller) {
		haxe_Log.trace("Adding controller id " + controller._id(),{ fileName : "Session.hx", lineNumber : 88, className : "kha.network.Session", methodName : "addController"});
		controller._inputBufferIndex = 0;
		var this1 = this.controllers;
		var key = controller._id();
		this1.h[key] = controller;
	}
	,sendControllerUpdate: function(id,bytes) {
		if(this.controllers.h.hasOwnProperty(id)) {
			if(this.controllers.h[id]._inputBuffer.length < this.controllers.h[id]._inputBufferIndex + 4 + bytes.length) {
				var newBuffer = new haxe_io_Bytes(new ArrayBuffer(this.controllers.h[id]._inputBufferIndex + 4 + bytes.length));
				newBuffer.blit(0,this.controllers.h[id]._inputBuffer,0,this.controllers.h[id]._inputBufferIndex);
				this.controllers.h[id]._inputBuffer = newBuffer;
			}
			this.controllers.h[id]._inputBuffer.setInt32(this.controllers.h[id]._inputBufferIndex,bytes.length);
			this.controllers.h[id]._inputBuffer.blit(this.controllers.h[id]._inputBufferIndex + 4,bytes,0,bytes.length);
			this.controllers.h[id]._inputBufferIndex += 4 + bytes.length;
		}
	}
	,sendPing: function() {
		var bytes = new haxe_io_Bytes(new ArrayBuffer(5));
		bytes.b[0] = 4;
		bytes.setFloat(1,kha_Scheduler.realTime());
		this.sendToServer(bytes);
	}
	,sendPlayerUpdate: function() {
	}
	,receive: function(bytes,client) {
		var _g = bytes.b[0];
		switch(_g) {
		case 0:
			var index = bytes.b[1];
			this.localClient = new kha_network_LocalClient(index);
			kha_Scheduler.resetTime();
			this.startCallback();
			break;
		case 1:
			var time = bytes.getDouble(1);
			var offset = 9;
			var entity = this.entities.iterator();
			while(entity.hasNext()) {
				var entity1 = entity.next();
				entity1._receive(offset,bytes);
				offset += entity1._size();
			}
			kha_Scheduler.warp(time);
			break;
		case 3:
			var _g1 = bytes.b[1];
			switch(_g1) {
			case 0:
				break;
			case 1:
				this.executeRPC(bytes);
				break;
			}
			break;
		case 4:
			var sendTime = bytes.getFloat(1);
			this.ping = kha_Scheduler.realTime() - sendTime;
			break;
		case 5:
			this.refusedCallback();
			break;
		case 6:
			this.currentPlayers = bytes.getInt32(1);
			break;
		}
	}
	,executeRPC: function(bytes) {
		var args = [];
		var syncId = bytes.getInt32(2);
		var index = 6;
		var classnamelength = bytes.getUInt16(index);
		index += 2;
		var classname = "";
		var _g1 = 0;
		var _g = classnamelength;
		while(_g1 < _g) {
			var i = _g1++;
			classname += String.fromCharCode(bytes.b[index]);
			++index;
		}
		var methodnamelength = bytes.getUInt16(index);
		index += 2;
		var methodname = "";
		var _g11 = 0;
		var _g2 = methodnamelength;
		while(_g11 < _g2) {
			var i1 = _g11++;
			methodname += String.fromCharCode(bytes.b[index]);
			++index;
		}
		while(index < bytes.length) {
			var type = bytes.b[index];
			++index;
			switch(type) {
			case 66:
				var value = bytes.b[index] == 1;
				++index;
				haxe_Log.trace("Bool: " + (value == null ? "null" : "" + value),{ fileName : "Session.hx", lineNumber : 295, className : "kha.network.Session", methodName : "executeRPC"});
				args.push(value);
				break;
			case 70:
				var value1 = bytes.getDouble(index);
				index += 8;
				haxe_Log.trace("Float: " + value1,{ fileName : "Session.hx", lineNumber : 300, className : "kha.network.Session", methodName : "executeRPC"});
				args.push(value1);
				break;
			case 73:
				var value2 = bytes.getInt32(index);
				index += 4;
				haxe_Log.trace("Int: " + value2,{ fileName : "Session.hx", lineNumber : 305, className : "kha.network.Session", methodName : "executeRPC"});
				args.push(value2);
				break;
			case 83:
				var length = bytes.getUInt16(index);
				index += 2;
				var str = "";
				var _g12 = 0;
				var _g3 = length;
				while(_g12 < _g3) {
					var i2 = _g12++;
					str += String.fromCharCode(bytes.b[index]);
					++index;
				}
				haxe_Log.trace("String: " + str,{ fileName : "Session.hx", lineNumber : 315, className : "kha.network.Session", methodName : "executeRPC"});
				args.push(str);
				break;
			default:
				haxe_Log.trace("Unknown argument type.",{ fileName : "Session.hx", lineNumber : 318, className : "kha.network.Session", methodName : "executeRPC"});
			}
		}
		if(syncId == -1) {
			Reflect.field(Type.resolveClass(classname),methodname + "_remotely").apply(null,args);
		} else {
			var o = kha_network_SyncBuilder.objects[syncId];
			Reflect.field(kha_network_SyncBuilder.objects[syncId],methodname + "_remotely").apply(o,args);
		}
	}
	,waitForStart: function(callback,refuseCallback,errorCallback,closeCallback,resCallback) {
		this.startCallback = callback;
		this.refusedCallback = refuseCallback;
		this.resetCallback = resCallback;
	}
	,reset: function() {
		kha_Scheduler.removeFrameTask(this.updateTaskId);
		kha_Scheduler.removeTimeTask(this.pingTaskId);
		this.currentPlayers = 0;
		this.ping = 1;
		this.controllers = new haxe_ds_IntMap();
		this.entities = new haxe_ds_IntMap();
		this.resetCallback();
	}
	,update: function() {
		var controller = this.controllers.iterator();
		while(controller.hasNext()) {
			var controller1 = controller.next();
			if(controller1._inputBufferIndex > 0) {
				var bytes = new haxe_io_Bytes(new ArrayBuffer(22 + controller1._inputBufferIndex));
				bytes.b[0] = 2;
				bytes.setInt32(1,controller1._id());
				bytes.setDouble(5,kha_Scheduler.time());
				bytes.setInt32(13,kha_System.windowWidth(0));
				bytes.setInt32(17,kha_System.windowHeight(0));
				var v = kha_System.get_screenRotation()[1];
				bytes.b[21] = v & 255;
				bytes.blit(22,controller1._inputBuffer,0,controller1._inputBufferIndex);
				this.sendToServer(bytes);
				controller1._inputBufferIndex = 0;
			}
		}
	}
	,sendToServer: function(bytes) {
		this.network.send(bytes,false);
	}
	,__class__: kha_network_Session
	,__properties__: {get_me:"get_me"}
};
var kha_network_SyncBuilder = $hxClasses["kha.network.SyncBuilder"] = function() { };
kha_network_SyncBuilder.__name__ = ["kha","network","SyncBuilder"];
var kha_simd_Float32x4 = $hxClasses["kha.simd.Float32x4"] = function(_0,_1,_2,_3) {
	this._0 = _0;
	this._1 = _1;
	this._2 = _2;
	this._3 = _3;
};
kha_simd_Float32x4.__name__ = ["kha","simd","Float32x4"];
kha_simd_Float32x4.create = function() {
	return new kha_simd_Float32x4(0,0,0,0);
};
kha_simd_Float32x4.loadAllFast = function(t) {
	return new kha_simd_Float32x4(t,t,t,t);
};
kha_simd_Float32x4.load = function(a,b,c,d) {
	return new kha_simd_Float32x4(a,b,c,d);
};
kha_simd_Float32x4.loadFast = function(a,b,c,d) {
	return new kha_simd_Float32x4(a,b,c,d);
};
kha_simd_Float32x4.get = function(t,index) {
	var value = 0;
	switch(index) {
	case 0:
		value = t._0;
		break;
	case 1:
		value = t._1;
		break;
	case 2:
		value = t._2;
		break;
	case 3:
		value = t._3;
		break;
	}
	return value;
};
kha_simd_Float32x4.getFast = function(t,index) {
	switch(index) {
	case 0:
		return t._0;
	case 1:
		return t._1;
	case 2:
		return t._2;
	case 3:
		return t._3;
	}
	return 0;
};
kha_simd_Float32x4.abs = function(t) {
	return new kha_simd_Float32x4(Math.abs(t._0),Math.abs(t._1),Math.abs(t._2),Math.abs(t._3));
};
kha_simd_Float32x4.add = function(a,b) {
	return new kha_simd_Float32x4(a._0 + b._0,a._1 + b._1,a._2 + b._2,a._3 + b._3);
};
kha_simd_Float32x4.div = function(a,b) {
	return new kha_simd_Float32x4(a._0 / b._0,a._1 / b._1,a._2 / b._2,a._3 / b._3);
};
kha_simd_Float32x4.mul = function(a,b) {
	return new kha_simd_Float32x4(a._0 * b._0,a._1 * b._1,a._2 * b._2,a._3 * b._3);
};
kha_simd_Float32x4.neg = function(t) {
	return new kha_simd_Float32x4(-t._0,-t._1,-t._2,-t._3);
};
kha_simd_Float32x4.reciprocalApproximation = function(t) {
	return new kha_simd_Float32x4(0,0,0,0);
};
kha_simd_Float32x4.reciprocalSqrtApproximation = function(t) {
	return new kha_simd_Float32x4(0,0,0,0);
};
kha_simd_Float32x4.sub = function(a,b) {
	return new kha_simd_Float32x4(a._0 - b._0,a._1 - b._1,a._2 - b._2,a._3 - b._3);
};
kha_simd_Float32x4.sqrt = function(t) {
	return new kha_simd_Float32x4(Math.sqrt(t._0),Math.sqrt(t._1),Math.sqrt(t._2),Math.sqrt(t._3));
};
kha_simd_Float32x4.prototype = {
	_0: null
	,_1: null
	,_2: null
	,_3: null
	,__class__: kha_simd_Float32x4
};
var zui_Canvas = $hxClasses["zui.Canvas"] = function() { };
zui_Canvas.__name__ = ["zui","Canvas"];
zui_Canvas.draw = function(ui,canvas,g) {
	if(zui_Canvas.screenW == -1) {
		zui_Canvas.screenW = kha_System.windowWidth();
		zui_Canvas.screenH = kha_System.windowHeight();
	}
	zui_Canvas.events = [];
	ui.begin(g);
	ui.g = g;
	var _g = 0;
	var _g1 = canvas.elements;
	while(_g < _g1.length) {
		var elem = _g1[_g];
		++_g;
		zui_Canvas.drawElement(ui,canvas,elem);
	}
	ui.end();
	return zui_Canvas.events;
};
zui_Canvas.drawElement = function(ui,canvas,element) {
	ui._x = canvas.x + element.x;
	ui._y = canvas.y + element.y;
	ui._w = element.width;
	var cw = canvas.width;
	var ch = canvas.height;
	var _g = element.anchor;
	switch(_g) {
	case 1:
		ui._x -= (cw - zui_Canvas.screenW) / 2;
		break;
	case 2:
		ui._x -= cw - zui_Canvas.screenW;
		break;
	case 3:
		ui._y -= (ch - zui_Canvas.screenH) / 2;
		break;
	case 4:
		ui._x -= (cw - zui_Canvas.screenW) / 2;
		ui._y -= (ch - zui_Canvas.screenH) / 2;
		break;
	case 5:
		ui._x -= cw - zui_Canvas.screenW;
		ui._y -= (ch - zui_Canvas.screenH) / 2;
		break;
	case 6:
		ui._y -= ch - zui_Canvas.screenH;
		break;
	case 7:
		ui._x -= (cw - zui_Canvas.screenW) / 2;
		ui._y -= ch - zui_Canvas.screenH;
		break;
	case 8:
		ui._x -= cw - zui_Canvas.screenW;
		ui._y -= ch - zui_Canvas.screenH;
		break;
	}
	var _g1 = element.type;
	switch(_g1) {
	case 0:
		var size = ui.fontSize;
		var tcol = ui.t.TEXT_COL;
		ui.fontSize = element.height;
		ui.t.TEXT_COL = element.color;
		ui.text(element.text);
		ui.fontSize = size;
		ui.t.TEXT_COL = tcol;
		break;
	case 1:
		var image = zui_Canvas.getAsset(canvas,element.asset);
		if(image != null) {
			ui.imageScrollAlign = false;
			var tint = element.color != null ? element.color : -1;
			if(ui.image(image,tint,element.height) == 3) {
				var e = element.event;
				if(e != null && e != "") {
					zui_Canvas.events.push(e);
				}
			}
			ui.imageScrollAlign = true;
		}
		break;
	case 2:
		if(ui.button(element.text)) {
			var e1 = element.event;
			if(e1 != null && e1 != "") {
				zui_Canvas.events.push(e1);
			}
		}
		break;
	}
	if(element.children != null) {
		var _g2 = 0;
		var _g3 = element.children;
		while(_g2 < _g3.length) {
			var c = _g3[_g2];
			++_g2;
			zui_Canvas.drawElement(ui,canvas,c);
		}
	}
};
zui_Canvas.getAsset = function(canvas,asset) {
	var _g = 0;
	var _g1 = canvas.assets;
	while(_g < _g1.length) {
		var a = _g1[_g];
		++_g;
		if(a.name == asset) {
			return zui_Canvas.assetMap.h[a.id];
		}
	}
	return null;
};
zui_Canvas.getElementId = function(canvas) {
	if(zui_Canvas.elemId == -1) {
		var _g = 0;
		var _g1 = canvas.elements;
		while(_g < _g1.length) {
			var e = _g1[_g];
			++_g;
			if(zui_Canvas.elemId < e.id) {
				zui_Canvas.elemId = e.id;
			}
		}
	}
	return ++zui_Canvas.elemId;
};
zui_Canvas.getAssetId = function(canvas) {
	if(zui_Canvas.assetId == -1) {
		var _g = 0;
		var _g1 = canvas.assets;
		while(_g < _g1.length) {
			var a = _g1[_g];
			++_g;
			if(zui_Canvas.assetId < a.id) {
				zui_Canvas.assetId = a.id;
			}
		}
	}
	return ++zui_Canvas.assetId;
};
var zui_Id = $hxClasses["zui.Id"] = function() { };
zui_Id.__name__ = ["zui","Id"];
var zui_Themes = $hxClasses["zui.Themes"] = function() { };
zui_Themes.__name__ = ["zui","Themes"];
var zui_Zui = $hxClasses["zui.Zui"] = function(ops) {
	this.restoreY = -1.0;
	this.restoreX = -1.0;
	this.checkSelectImage = null;
	this.elementsBaked = false;
	this.tabScroll = 0.0;
	this.tabHandle = null;
	this.tabNames = null;
	this.tooltipTime = 0.0;
	this.tooltipShown = false;
	this.tooltipY = 0.0;
	this.tooltipX = 0.0;
	this.tooltipText = "";
	this.comboToSubmit = 0;
	this.submitComboHandle = null;
	this.comboSelectedWindow = null;
	this.comboSelectedHandle = null;
	this.tabPressedHandle = null;
	this.tabPressed = false;
	this.textToSubmit = "";
	this.submitTextHandle = null;
	this.textSelectedHandle = null;
	this.windowHeader = 0.0;
	this.scrollEnabled = true;
	this.scrollingHandle = null;
	this.windowEnded = true;
	this.imageScrollAlign = true;
	this.scrollAlign = 0.0;
	this.curRatio = -1;
	this.highlightEnd = 0;
	this.highlightStart = 0;
	this.cursorY = 0;
	this.cursorX = 0;
	this.key = null;
	this.isKeyDown = false;
	this.inputWheelDelta = 0;
	this.inputEnabled = true;
	this.inputRegistered = false;
	this.alwaysRedraw = false;
	this.changed = false;
	this.isReleased = false;
	this.isHovered = false;
	this.isPushed = false;
	this.isStarted = false;
	this.isTyping = false;
	this.isScrolling = false;
	if(ops.theme == null) {
		ops.theme = zui_Themes.dark;
	}
	this.t = ops.theme;
	if(ops.khaWindowId == null) {
		ops.khaWindowId = 0;
	}
	if(ops.scaleFactor == null) {
		ops.scaleFactor = 1.0;
	}
	if(ops.scaleTexture == null) {
		ops.scaleTexture = 1.0;
	}
	if(ops.autoNotifyInput == null) {
		ops.autoNotifyInput = true;
	}
	this.ops = ops;
	this.setScale(ops.scaleFactor);
	if(ops.autoNotifyInput) {
		this.registerInput();
	}
};
zui_Zui.__name__ = ["zui","Zui"];
zui_Zui.prototype = {
	isScrolling: null
	,isTyping: null
	,isStarted: null
	,isPushed: null
	,isHovered: null
	,isReleased: null
	,changed: null
	,alwaysRedraw: null
	,inputRegistered: null
	,inputEnabled: null
	,inputX: null
	,inputY: null
	,inputInitialX: null
	,inputInitialY: null
	,inputDX: null
	,inputDY: null
	,inputWheelDelta: null
	,inputStarted: null
	,inputReleased: null
	,inputDown: null
	,inputDownR: null
	,isKeyDown: null
	,key: null
	,'char': null
	,cursorX: null
	,cursorY: null
	,highlightStart: null
	,highlightEnd: null
	,ratios: null
	,curRatio: null
	,xBeforeSplit: null
	,wBeforeSplit: null
	,globalG: null
	,g: null
	,t: null
	,SCALE: null
	,ops: null
	,fontSize: null
	,fontOffsetY: null
	,arrowOffsetX: null
	,arrowOffsetY: null
	,titleOffsetX: null
	,buttonOffsetY: null
	,checkOffsetX: null
	,checkOffsetY: null
	,checkSelectOffsetX: null
	,checkSelectOffsetY: null
	,radioOffsetX: null
	,radioOffsetY: null
	,radioSelectOffsetX: null
	,radioSelectOffsetY: null
	,scrollAlign: null
	,imageScrollAlign: null
	,_x: null
	,_y: null
	,_w: null
	,_h: null
	,_windowX: null
	,_windowY: null
	,_windowW: null
	,_windowH: null
	,currentWindow: null
	,windowEnded: null
	,scrollingHandle: null
	,scrollEnabled: null
	,windowHeader: null
	,textSelectedHandle: null
	,textSelectedCurrentText: null
	,submitTextHandle: null
	,textToSubmit: null
	,tabPressed: null
	,tabPressedHandle: null
	,comboSelectedHandle: null
	,comboSelectedWindow: null
	,comboSelectedAlign: null
	,comboSelectedTexts: null
	,comboSelectedLabel: null
	,comboSelectedX: null
	,comboSelectedY: null
	,comboSelectedW: null
	,submitComboHandle: null
	,comboToSubmit: null
	,tooltipText: null
	,tooltipX: null
	,tooltipY: null
	,tooltipShown: null
	,tooltipTime: null
	,tabNames: null
	,tabHandle: null
	,tabScroll: null
	,elementsBaked: null
	,checkSelectImage: null
	,setScale: function(factor) {
		this.ops.scaleFactor = factor;
		this.SCALE = this.ops.scaleFactor * this.ops.scaleTexture;
		this.fontSize = this.t.FONT_SIZE * this.ops.scaleFactor | 0;
		var fontHeight = this.ops.font.height(this.fontSize);
		this.fontOffsetY = (this.t.ELEMENT_H * this.SCALE - fontHeight) / 2;
		this.arrowOffsetY = (this.t.ELEMENT_H * this.SCALE - this.t.ARROW_SIZE * this.SCALE) / 2;
		this.arrowOffsetX = this.arrowOffsetY;
		this.titleOffsetX = (this.arrowOffsetX * 2 + this.t.ARROW_SIZE * this.SCALE) / this.SCALE;
		this.buttonOffsetY = (this.t.ELEMENT_H * this.SCALE - this.t.BUTTON_H * this.SCALE) / 2;
		this.checkOffsetY = (this.t.ELEMENT_H * this.SCALE - this.t.CHECK_SIZE * this.SCALE) / 2;
		this.checkOffsetX = this.checkOffsetY;
		this.checkSelectOffsetY = (this.t.CHECK_SIZE * this.SCALE - this.t.CHECK_SELECT_SIZE * this.SCALE) / 2;
		this.checkSelectOffsetX = this.checkSelectOffsetY;
		this.radioOffsetY = (this.t.ELEMENT_H * this.SCALE - this.t.CHECK_SIZE * this.SCALE) / 2;
		this.radioOffsetX = this.radioOffsetY;
		this.radioSelectOffsetY = (this.t.CHECK_SIZE * this.SCALE - this.t.CHECK_SELECT_SIZE * this.SCALE) / 2;
		this.radioSelectOffsetX = this.radioSelectOffsetY;
		this.elementsBaked = false;
	}
	,bakeElements: function() {
		if(this.checkSelectImage != null) {
			this.checkSelectImage.unload();
			this.checkSelectImage = null;
		}
		this.checkSelectImage = kha_Image.createRenderTarget(this.t.CHECK_SELECT_SIZE * this.SCALE | 0,this.t.CHECK_SELECT_SIZE * this.SCALE | 0,null,0,1,this.ops.khaWindowId);
		var g = this.checkSelectImage.get_g2();
		g.begin(true,0);
		g.set_color(this.t.ACCENT_SELECT_COL);
		g.drawLine(0,0,this.checkSelectImage.get_width(),this.checkSelectImage.get_height(),2 * this.SCALE);
		g.drawLine(this.checkSelectImage.get_width(),0,0,this.checkSelectImage.get_height(),2 * this.SCALE);
		g.end();
		this.elementsBaked = true;
	}
	,remove: function() {
		if(this.ops.autoNotifyInput) {
			this.unregisterInput();
		}
	}
	,registerInput: function() {
		kha_input_Mouse.get().notifyWindowed(this.ops.khaWindowId,$bind(this,this.onMouseDown),$bind(this,this.onMouseUp),$bind(this,this.onMouseMove),$bind(this,this.onMouseWheel));
		kha_input_Keyboard.get().notify($bind(this,this.onKeyDown),$bind(this,this.onKeyUp),$bind(this,this.onKeyPress));
		this.inputRegistered = true;
	}
	,unregisterInput: function() {
		kha_input_Mouse.get().removeWindowed(this.ops.khaWindowId,$bind(this,this.onMouseDown),$bind(this,this.onMouseUp),$bind(this,this.onMouseMove),$bind(this,this.onMouseWheel));
		kha_input_Keyboard.get().remove($bind(this,this.onKeyDown),$bind(this,this.onKeyUp),$bind(this,this.onKeyPress));
		this.endInput();
		this.inputX = this.inputY = 0;
		this.inputRegistered = false;
	}
	,begin: function(g) {
		if(!this.elementsBaked) {
			this.bakeElements();
		}
		this.globalG = g;
		this._x = 0;
		this._y = 0;
		this._w = 0;
		this._h = 0;
	}
	,end: function(last) {
		if(last == null) {
			last = true;
		}
		if(!this.windowEnded) {
			this.endWindow();
		}
		if(this.comboSelectedHandle != null) {
			this.drawCombo();
		}
		if(last) {
			this.endInput();
		}
		if(this.tabPressedHandle != null) {
			var end = this.tabPressedHandle.text.length;
			this.highlightStart = 0 < end ? 0 : end;
			this.highlightEnd = 0 < end ? end : 0;
			this.tabPressedHandle = null;
		}
	}
	,endInput: function() {
		this.isKeyDown = false;
		this.inputStarted = false;
		this.inputReleased = false;
		this.inputDX = 0;
		this.inputDY = 0;
		this.inputWheelDelta = 0;
	}
	,beginLayout: function(g,x,y,w) {
		if(!this.elementsBaked) {
			this.bakeElements();
		}
		this.currentWindow = null;
		this.g = g;
		this._windowX = 0;
		this._windowY = 0;
		this._windowW = w;
		this._x = x;
		this._y = y;
		this._w = w;
	}
	,endLayout: function(last) {
		if(last == null) {
			last = true;
		}
		if(last) {
			this.endInput();
		}
	}
	,inputChanged: function() {
		if(!(this.inputDX != 0 || this.inputDY != 0 || this.inputWheelDelta != 0 || this.inputStarted || this.inputReleased || this.inputDown || this.inputDownR)) {
			return this.isKeyDown;
		} else {
			return true;
		}
	}
	,window: function(handle,x,y,w,h,drag) {
		if(drag == null) {
			drag = false;
		}
		if(handle.texture == null || w != handle.texture.get_width() || h != handle.texture.get_height()) {
			this.resize(handle,w,h,this.ops.khaWindowId);
		}
		if(!this.windowEnded) {
			this.endWindow();
		}
		this.windowEnded = false;
		this.g = handle.texture.get_g2();
		this.currentWindow = handle;
		this._windowX = x + handle.dragX;
		this._windowY = y + handle.dragY;
		this._windowW = w;
		this._windowH = h;
		this.windowHeader = 0;
		var inputChanged = this.getInputInRect(this._windowX,this._windowY,this._windowW,this._windowH) && this.inputChanged();
		if(this.alwaysRedraw || this.isScrolling || this.isTyping || inputChanged) {
			handle.redraws = 2;
		}
		if(handle.redraws == 0) {
			return false;
		}
		this._x = 0;
		this._y = handle.scrollOffset;
		if(handle.layout == 1) {
			w = this.t.ELEMENT_W * this.SCALE | 0;
		}
		this._w = !handle.scrollEnabled ? w : w - (this.t.SCROLL_W * this.SCALE | 0);
		this._h = h;
		this.tooltipText = "";
		this.tabNames = null;
		if(this.t.FILL_WINDOW_BG) {
			this.g.begin(true,this.t.WINDOW_BG_COL);
		} else {
			this.g.begin(true,0);
			this.g.set_color(this.t.WINDOW_BG_COL);
			this.g.fillRect(this._x,this._y - handle.scrollOffset,handle.lastMaxX,handle.lastMaxY);
		}
		handle.dragEnabled = drag;
		if(drag) {
			if(this.inputStarted && this.getInputInRect(this._windowX,this._windowY,this._windowW,15)) {
				handle.dragging = true;
			} else if(this.inputReleased) {
				handle.dragging = false;
			}
			if(handle.dragging) {
				handle.redraws = 2;
				handle.dragX += this.inputDX | 0;
				handle.dragY += this.inputDY | 0;
			}
			this._y += 15;
			this.windowHeader += 15;
		}
		return true;
	}
	,endWindow: function() {
		var handle = this.currentWindow;
		if(handle.redraws > 0 || this.isScrolling || this.isTyping) {
			if(this.tabNames != null) {
				this.drawTabs();
			}
			if(handle.dragEnabled) {
				this.g.set_color(this.t.SEPARATOR_COL);
				this.g.fillRect(0,0,this._windowW,15);
			}
			var fullHeight = this._y - handle.scrollOffset;
			if(fullHeight < this._windowH || handle.layout == 1 || !this.scrollEnabled) {
				handle.scrollEnabled = false;
				handle.scrollOffset = 0;
			} else {
				handle.scrollEnabled = true;
				if(this.tabScroll < 0) {
					handle.scrollOffset = this.tabScroll;
					this.tabScroll = 0;
				}
				var amountToScroll = fullHeight - this._windowH;
				var amountScrolled = -handle.scrollOffset;
				var ratio = amountScrolled / amountToScroll;
				var barH = this._windowH * Math.abs(this._windowH / fullHeight);
				barH = Math.max(barH,this.t.ELEMENT_H * this.SCALE);
				var totalScrollableArea = this._windowH - barH;
				var e = amountToScroll / totalScrollableArea;
				var barY = totalScrollableArea * ratio;
				if(this.inputStarted && this.getInputInRect(this._windowX + this._windowW - (this.t.SCROLL_W * this.SCALE | 0),barY + this._windowY,this.t.SCROLL_W * this.SCALE | 0,barH)) {
					handle.scrolling = true;
					this.scrollingHandle = handle;
					this.isScrolling = true;
				}
				if(handle.scrolling) {
					this.scroll(this.inputDY * e,fullHeight);
				} else if(this.inputWheelDelta != 0) {
					this.scroll(this.inputWheelDelta * (this.t.ELEMENT_H * this.SCALE),fullHeight);
				}
				if(handle.scrollOffset > 0) {
					handle.scrollOffset = 0;
				} else if(fullHeight + handle.scrollOffset < this._windowH) {
					handle.scrollOffset = this._windowH - fullHeight;
				}
				this.g.set_color(this.t.WINDOW_BG_COL);
				this.g.fillRect(this._windowW - (this.t.SCROLL_W * this.SCALE | 0),this._windowY,this.t.SCROLL_W * this.SCALE | 0,this._windowH);
				this.g.set_color(this.t.ACCENT_COL);
				this.g.fillRect(this._windowW - (this.t.SCROLL_W * this.SCALE | 0) - this.scrollAlign,barY,this.t.SCROLL_W * this.SCALE | 0,barH);
			}
			handle.lastMaxX = this._x;
			handle.lastMaxY = this._y;
			if(handle.layout == 0) {
				handle.lastMaxX += this._windowW;
			} else {
				handle.lastMaxY += this._windowH;
			}
			handle.redraws--;
			this.g.end();
		}
		this.windowEnded = true;
		this.globalG.begin(false);
		this.globalG.set_color(this.t.WINDOW_TINT_COL);
		this.globalG.drawScaledImage(handle.texture,this._windowX,this._windowY,handle.texture.get_width() / this.ops.scaleTexture,handle.texture.get_height() / this.ops.scaleTexture);
		if(this.tooltipText != "") {
			if(!this.tooltipShown) {
				this.tooltipShown = true;
				this.tooltipX = this.inputX;
				this.tooltipTime = kha_Scheduler.time();
			}
			if(kha_Scheduler.time() - this.tooltipTime > this.t.TOOLTIP_DELAY) {
				this.drawTooltip();
			}
		} else {
			this.tooltipShown = false;
		}
		this.globalG.end();
	}
	,scroll: function(delta,fullHeight) {
		this.currentWindow.scrollOffset -= delta;
	}
	,restoreX: null
	,restoreY: null
	,tab: function(handle,text) {
		if(this.tabNames == null) {
			this.tabNames = [];
			this.tabHandle = handle;
			this.windowHeader += this.buttonOffsetY + this.t.BUTTON_H * this.SCALE;
			this.restoreX = this.inputX;
			this.restoreY = this.inputY;
			if(this.getInputInRect(this._windowX,this._windowY,this._windowW,this.windowHeader)) {
				this.inputX = this.inputY = -1;
			}
		}
		this.tabNames.push(text);
		var selected = handle.position == this.tabNames.length - 1;
		if(selected) {
			this.endElement();
		}
		return selected;
	}
	,drawTabs: function() {
		this.inputX = this.restoreX;
		this.inputY = this.restoreY;
		if(this.currentWindow == null) {
			return;
		}
		var tabX = 0.0;
		var origy = this._y;
		this._y = this.currentWindow.dragEnabled ? 15 : 0;
		this.g.set_color(this.t.WINDOW_BG_COL);
		this.g.fillRect(0,this._y,this._windowW,this.buttonOffsetY + this.t.BUTTON_H * this.SCALE);
		this.g.set_color(this.t.ACCENT_COL);
		this.g.fillRect(this.buttonOffsetY,this._y + this.buttonOffsetY + this.t.BUTTON_H * this.SCALE,this._windowW - this.buttonOffsetY * 2,this.t.LINE_STRENGTH * this.SCALE);
		var _g1 = 0;
		var _g = this.tabNames.length;
		while(_g1 < _g) {
			var i = _g1++;
			this._x = tabX;
			this._w = this.ops.font.width(this.fontSize,this.tabNames[i]) + this.buttonOffsetY * 2 + 14 * this.SCALE | 0;
			var released = this.getReleased();
			var pushed = this.getPushed();
			var hover = this.getHover();
			if(released) {
				var h = this.tabHandle.nest(this.tabHandle.position);
				h.scrollOffset = this.currentWindow.scrollOffset;
				h = this.tabHandle.nest(i);
				this.tabScroll = h.scrollOffset;
				this.tabHandle.position = i;
				this.currentWindow.redraws = 3;
			}
			var selected = this.tabHandle.position == i;
			this.g.set_color(pushed ? this.t.ACCENT_HOVER_COL : hover ? this.t.ACCENT_HOVER_COL : this.t.ACCENT_COL);
			tabX += this._w + 5;
			var g = this.g;
			var x = this._x + this.buttonOffsetY;
			var y = this._y + this.buttonOffsetY;
			var w = this._w;
			var h1 = this.t.BUTTON_H * this.SCALE;
			var strength = 0.0;
			if(strength == 0.0) {
				strength = this.t.LINE_STRENGTH * this.SCALE;
			}
			if(!selected) {
				g.fillRect(x,y,w,h1);
			} else {
				g.drawRect(x,y,w,h1,strength);
			}
			this.g.set_color(this.t.BUTTON_TEXT_COL);
			this.drawString(this.g,this.tabNames[i],this.t.TEXT_OFFSET,0,0);
			if(selected) {
				this.g.set_color(this.t.WINDOW_BG_COL);
				this.g.fillRect(this._x + this.buttonOffsetY + 1,this._y + this.buttonOffsetY + this.t.BUTTON_H * this.SCALE,this._w - 1,this.t.LINE_STRENGTH * this.SCALE);
			}
		}
		this._x = 0;
		this._y = origy;
		this._w = (!this.currentWindow.scrollEnabled ? this._windowW : this._windowW - (this.t.SCROLL_W * this.SCALE | 0)) | 0;
	}
	,panel: function(handle,text,accent,isTree) {
		if(isTree == null) {
			isTree = false;
		}
		if(accent == null) {
			accent = 0;
		}
		if(!this.isVisible(this.t.ELEMENT_H * this.SCALE)) {
			this.endElement();
			return handle.selected;
		}
		if(this.getReleased()) {
			handle.selected = !handle.selected;
		}
		var hover = this.getHover();
		if(accent > 0) {
			this.g.set_color(this.t.PANEL_BG_COL);
			this.g.fillRect(this._x,this._y,this._w,this.t.ELEMENT_H * this.SCALE);
		}
		if(isTree) {
			this.drawTree(handle.selected);
		} else {
			this.drawArrow(handle.selected);
		}
		this.g.set_color(this.t.PANEL_TEXT_COL);
		this.g.set_opacity(1.0);
		this.drawString(this.g,text,this.titleOffsetX,0);
		this.endElement();
		return handle.selected;
	}
	,image: function(image,tint,h) {
		if(tint == null) {
			tint = -1;
		}
		var iw = image.get_width() * this.SCALE;
		var ih = image.get_height() * this.SCALE;
		var w = Math.min(iw,this._w);
		var x = this._x;
		if(this.imageScrollAlign) {
			w = Math.min(iw,this._w - this.buttonOffsetY * 2);
			x += this.buttonOffsetY;
			var scroll = this.currentWindow != null && this.currentWindow.scrollEnabled;
			if(!scroll) {
				var r = this.curRatio == -1 ? 1.0 : this.ratios[this.curRatio];
				w -= (this.t.SCROLL_W * this.SCALE | 0) * r;
				x += (this.t.SCROLL_W * this.SCALE | 0) * r / 2;
			}
		}
		var ratio = h == null ? w / iw : h / ih;
		if(h == null) {
			h = ih * ratio;
		} else {
			w = iw * ratio;
		}
		if(!this.isVisible(h)) {
			this.endElement(h);
			return 0;
		}
		var started = this.getStarted(h);
		var down = this.getPushed(h);
		var released = this.getReleased(h);
		this.g.set_color(tint);
		var h_float = h;
		this.g.drawScaledImage(image,x,this._y,w,h_float);
		this.endElement(h);
		if(started) {
			return 1;
		} else if(released) {
			return 3;
		} else if(down) {
			return 2;
		} else {
			return 0;
		}
	}
	,text: function(text,align,bg) {
		if(bg == null) {
			bg = 0;
		}
		if(align == null) {
			align = 0;
		}
		if(!this.isVisible(this.t.ELEMENT_H * this.SCALE)) {
			this.endElement();
			return;
		}
		this.getReleased();
		if(bg != 0) {
			this.g.set_color(bg);
			this.g.fillRect(this._x + this.buttonOffsetY,this._y + this.buttonOffsetY,this._w - this.buttonOffsetY * 2,this.t.BUTTON_H * this.SCALE);
		}
		this.g.set_color(this.t.TEXT_COL);
		this.drawString(this.g,text,this.t.TEXT_OFFSET,0,align);
		this.endElement();
	}
	,floatInput: function(handle,label,align) {
		if(align == null) {
			align = 0;
		}
		if(label == null) {
			label = "";
		}
		var text = this.textInput(handle,label,align,true);
		return parseFloat(text);
	}
	,startTextEdit: function(handle) {
		this.isTyping = true;
		this.submitTextHandle = this.textSelectedHandle;
		this.textToSubmit = this.textSelectedCurrentText;
		this.textSelectedHandle = handle;
		this.textSelectedCurrentText = handle.text;
		this.tabPressed = false;
		this.tabPressedHandle = handle;
		this.cursorX = handle.text.length;
		this.cursorY = 0;
		var end = this.cursorX;
		this.highlightStart = 0 < end ? 0 : end;
		this.highlightEnd = 0 < end ? end : 0;
		if(kha_input_Keyboard.get() != null) {
			kha_input_Keyboard.get().show();
		}
	}
	,submitTextEdit: function() {
		this.submitTextHandle.text = this.textToSubmit;
		this.submitTextHandle.changed = this.changed = true;
		this.submitTextHandle = null;
		this.textToSubmit = "";
		this.textSelectedCurrentText = "";
	}
	,updateTextEdit: function(align,asFloat) {
		if(align == null) {
			align = 0;
		}
		var text = this.textSelectedCurrentText;
		if(this.isKeyDown) {
			if(this.key == 37) {
				if(this.cursorX > 0) {
					this.cursorX--;
				}
			} else if(this.key == 39) {
				if(this.cursorX < text.length) {
					this.cursorX++;
				}
			} else if(this.key == 8) {
				if(this.cursorX > 0) {
					if(this.highlightStart != this.highlightEnd) {
						text = HxOverrides.substr(text,0,this.highlightStart) + HxOverrides.substr(text,this.highlightEnd,text.length);
					} else {
						text = HxOverrides.substr(text,0,this.cursorX - 1) + HxOverrides.substr(text,this.cursorX,text.length);
					}
					this.cursorX--;
				}
			} else if(this.key == 46) {
				text = HxOverrides.substr(text,0,this.highlightStart) + HxOverrides.substr(text,this.highlightEnd + 1,null);
			} else if(this.key == 13) {
				this.deselectText();
			} else if(this.key == 9) {
				this.tabPressed = true;
				this.deselectText();
				this.key = null;
			} else if(this.key == 36) {
				this.cursorX = 0;
			} else if(this.key == 35) {
				this.cursorX = text.length;
			} else if(this.key != 16 && this.key != 20) {
				if(this["char"] != null && this["char"] != "") {
					if(HxOverrides.cca(this["char"],0) >= 32 && HxOverrides.cca(this["char"],0) != 127) {
						text = HxOverrides.substr(text,0,this.highlightStart) + this["char"] + HxOverrides.substr(text,this.highlightEnd,null);
						this.cursorX++;
					}
				}
			}
			var start = this.cursorX;
			var end = this.cursorX;
			this.highlightStart = start < end ? start : end;
			this.highlightEnd = start < end ? end : start;
		}
		var off = this.t.TEXT_OFFSET;
		var lineHeight = this.t.ELEMENT_H * this.SCALE;
		var cursorHeight = lineHeight - this.buttonOffsetY * 3.0;
		if(this.highlightStart != this.highlightEnd) {
			var hlstr = align == 0 ? HxOverrides.substr(text,this.highlightStart,this.highlightEnd) : text.substring(this.highlightEnd,this.highlightStart);
			var hlstrw = this.g.get_font().width(this.g.get_fontSize(),hlstr);
			var hlStart = align == 0 ? this._x + this.highlightStart + off : this._x + this._w - hlstrw - off;
			this.g.fillRect(hlStart,this._y + this.cursorY * lineHeight + this.buttonOffsetY * 1.5,hlstrw * this.SCALE,cursorHeight);
		}
		var time = kha_Scheduler.time();
		if(time % (this.t.FLASH_SPEED * 2.0) < this.t.FLASH_SPEED) {
			this.g.set_color(this.t.TEXT_COL);
			var str = align == 0 ? HxOverrides.substr(text,0,this.cursorX) : text.substring(this.cursorX,text.length);
			var strw = this.g.get_font().width(this.g.get_fontSize(),str);
			var cursorX = align == 0 ? this._x + strw + off : this._x + this._w - strw - off;
			this.g.fillRect(cursorX,this._y + this.cursorY * lineHeight + this.buttonOffsetY * 1.5,this.SCALE,cursorHeight);
		}
		if(asFloat) {
			var f = parseFloat(text);
			if(f != f) {
				f = 0;
			}
			var f_text = f == null ? "null" : "" + f;
			if(Std.parseInt(text) == f) {
				f_text += ".0";
			}
			if(text.charAt(0) == "-") {
				if(f_text.charAt(0) != "-") {
					f_text = "-" + f_text;
				}
				if(text.charAt(1) == "-") {
					f_text = text.substring(1,text.length);
					this.cursorX--;
				}
			}
			text = f_text;
		}
		this.textSelectedCurrentText = text;
	}
	,textInput: function(handle,label,align,asFloat) {
		if(asFloat == null) {
			asFloat = false;
		}
		if(align == null) {
			align = 0;
		}
		if(label == null) {
			label = "";
		}
		if(!this.isVisible(this.t.ELEMENT_H * this.SCALE)) {
			this.endElement();
			return handle.text;
		}
		var hover = this.getHover();
		this.g.set_color(hover ? this.t.ACCENT_HOVER_COL : this.t.ACCENT_COL);
		var g = this.g;
		var x = this._x + this.buttonOffsetY;
		var y = this._y + this.buttonOffsetY;
		var w = this._w - this.buttonOffsetY * 2;
		var h = this.t.BUTTON_H * this.SCALE;
		var strength = 0.0;
		if(strength == 0.0) {
			strength = this.t.LINE_STRENGTH * this.SCALE;
		}
		if(this.t.FILL_ACCENT_BG) {
			g.fillRect(x,y,w,h);
		} else {
			g.drawRect(x,y,w,h,strength);
		}
		var startEdit = this.getReleased() || this.tabPressed;
		if(this.textSelectedHandle != handle && startEdit) {
			this.startTextEdit(handle);
		}
		if(this.textSelectedHandle == handle) {
			this.updateTextEdit(align,asFloat);
		}
		if(this.submitTextHandle == handle) {
			this.submitTextEdit();
		} else {
			handle.changed = false;
		}
		if(label != "") {
			this.g.set_color(this.t.LABEL_COL);
			var labelAlign = align == 2 ? 0 : 2;
			var xOffset = labelAlign == 0 ? 7 : 0;
			this.drawString(this.g,label,xOffset,0,labelAlign);
		}
		this.g.set_color(this.t.TEXT_COL);
		if(this.textSelectedHandle != handle) {
			this.drawString(this.g,handle.text,null,0,align);
		} else {
			this.drawString(this.g,this.textSelectedCurrentText,null,0,align);
		}
		this.endElement();
		return handle.text;
	}
	,setHighlight: function(start,end) {
		this.highlightStart = start < end ? start : end;
		this.highlightEnd = start < end ? end : start;
	}
	,formatFloatString: function(text) {
		var f = parseFloat(text);
		if(f != f) {
			f = 0;
		}
		var f_text = f == null ? "null" : "" + f;
		if(Std.parseInt(text) == f) {
			f_text += ".0";
		}
		if(text.charAt(0) == "-") {
			if(f_text.charAt(0) != "-") {
				f_text = "-" + f_text;
			}
			if(text.charAt(1) == "-") {
				f_text = text.substring(1,text.length);
				this.cursorX--;
			}
		}
		return f_text;
	}
	,deselectText: function() {
		this.submitTextHandle = this.textSelectedHandle;
		this.textToSubmit = this.textSelectedCurrentText;
		this.textSelectedHandle = null;
		this.isTyping = false;
		if(this.currentWindow != null) {
			this.currentWindow.redraws = 2;
		}
		if(kha_input_Keyboard.get() != null) {
			kha_input_Keyboard.get().hide();
		}
		this.highlightStart = 0;
		this.highlightEnd = 0;
	}
	,button: function(text,align) {
		if(align == null) {
			align = 1;
		}
		if(!this.isVisible(this.t.ELEMENT_H * this.SCALE)) {
			this.endElement();
			return false;
		}
		var released = this.getReleased();
		var pushed = this.getPushed();
		var hover = this.getHover();
		this.g.set_color(pushed ? this.t.BUTTON_PRESSED_COL : hover ? this.t.BUTTON_HOVER_COL : this.t.BUTTON_COL);
		var g = this.g;
		var x = this._x + this.buttonOffsetY;
		var y = this._y + this.buttonOffsetY;
		var w = this._w - this.buttonOffsetY * 2;
		var h = this.t.BUTTON_H * this.SCALE;
		var strength = 0.0;
		if(strength == 0.0) {
			strength = this.t.LINE_STRENGTH * this.SCALE;
		}
		if(this.t.FILL_BUTTON_BG) {
			g.fillRect(x,y,w,h);
		} else {
			g.drawRect(x,y,w,h,strength);
		}
		this.g.set_color(this.t.BUTTON_TEXT_COL);
		this.drawString(this.g,text,this.t.TEXT_OFFSET,0,align);
		this.endElement();
		return released;
	}
	,check: function(handle,text) {
		if(!this.isVisible(this.t.ELEMENT_H * this.SCALE)) {
			this.endElement();
			return handle.selected;
		}
		if(this.getReleased()) {
			handle.selected = !handle.selected;
			handle.changed = this.changed = true;
		} else {
			handle.changed = false;
		}
		var hover = this.getHover();
		this.drawCheck(handle.selected,hover);
		this.g.set_color(this.t.TEXT_COL);
		this.drawString(this.g,text,this.titleOffsetX,0,0);
		this.endElement();
		return handle.selected;
	}
	,radio: function(handle,position,text) {
		if(!this.isVisible(this.t.ELEMENT_H * this.SCALE)) {
			this.endElement();
			return handle.position == position;
		}
		if(this.getReleased()) {
			handle.position = position;
			handle.changed = this.changed = true;
		} else {
			handle.changed = false;
		}
		var hover = this.getHover();
		this.drawRadio(handle.position == position,hover);
		this.g.set_color(this.t.TEXT_COL);
		this.drawString(this.g,text,this.titleOffsetX,0);
		this.endElement();
		return handle.position == position;
	}
	,inlineRadio: function(handle,texts) {
		if(!this.isVisible(this.t.ELEMENT_H * this.SCALE)) {
			this.endElement();
			return handle.position;
		}
		if(this.getReleased()) {
			if(++handle.position >= texts.length) {
				handle.position = 0;
			}
			handle.changed = this.changed = true;
		} else {
			handle.changed = false;
		}
		var hover = this.getHover();
		this.drawInlineRadio(texts[handle.position],hover);
		this.endElement();
		return handle.position;
	}
	,combo: function(handle,texts,label,showLabel,align) {
		if(align == null) {
			align = 0;
		}
		if(showLabel == null) {
			showLabel = false;
		}
		if(label == null) {
			label = "";
		}
		if(!this.isVisible(this.t.ELEMENT_H * this.SCALE)) {
			this.endElement();
			return handle.position;
		}
		if(this.getReleased()) {
			if(this.comboSelectedHandle == null) {
				this.inputEnabled = false;
				this.comboSelectedHandle = handle;
				this.comboSelectedWindow = this.currentWindow;
				this.comboSelectedAlign = align;
				this.comboSelectedTexts = texts;
				this.comboSelectedLabel = label;
				this.comboSelectedX = this._x + this._windowX | 0;
				this.comboSelectedY = this._y + this._windowY + this.t.ELEMENT_H * this.SCALE + this.t.ELEMENT_OFFSET * this.SCALE | 0;
				this.comboSelectedW = this._w | 0;
			}
		}
		if(handle == this.submitComboHandle) {
			handle.position = this.comboToSubmit;
			this.submitComboHandle = null;
			handle.changed = this.changed = true;
		} else {
			handle.changed = false;
		}
		var hover = this.getHover();
		if(hover) {
			this.g.set_color(this.t.ACCENT_HOVER_COL);
			var g = this.g;
			var x = this._x + this.buttonOffsetY;
			var y = this._y + this.buttonOffsetY;
			var w = this._w - this.buttonOffsetY * 2;
			var h = this.t.BUTTON_H * this.SCALE;
			var strength = 0.0;
			if(strength == 0.0) {
				strength = this.t.LINE_STRENGTH * this.SCALE;
			}
			if(this.t.FILL_ACCENT_BG) {
				g.fillRect(x,y,w,h);
			} else {
				g.drawRect(x,y,w,h,strength);
			}
		} else {
			this.g.set_color(this.t.ACCENT_COL);
			var g1 = this.g;
			var x1 = this._x + this.buttonOffsetY;
			var y1 = this._y + this.buttonOffsetY;
			var w1 = this._w - this.buttonOffsetY * 2;
			var h1 = this.t.BUTTON_H * this.SCALE;
			var strength1 = 0.0;
			if(strength1 == 0.0) {
				strength1 = this.t.LINE_STRENGTH * this.SCALE;
			}
			if(this.t.FILL_ACCENT_BG) {
				g1.fillRect(x1,y1,w1,h1);
			} else {
				g1.drawRect(x1,y1,w1,h1,strength1);
			}
		}
		var x2 = this._x + this._w - this.arrowOffsetX - 8;
		var y2 = this._y + this.arrowOffsetY + 3;
		this.g.fillTriangle(x2,y2,x2 + this.t.ARROW_SIZE * this.SCALE,y2,x2 + this.t.ARROW_SIZE * this.SCALE / 2,y2 + this.t.ARROW_SIZE * this.SCALE / 2);
		this.g.set_color(this.t.TEXT_COL);
		if(showLabel && label != "") {
			if(align == 0) {
				this._x -= 15;
			}
			this.drawString(this.g,label,null,0,align == 0 ? 2 : 0);
			if(align == 0) {
				this._x += 15;
			}
		}
		if(align == 2) {
			this._x -= 15;
		}
		this.drawString(this.g,texts[handle.position],null,0,align);
		if(align == 2) {
			this._x += 15;
		}
		this.endElement();
		return handle.position;
	}
	,slider: function(handle,text,from,to,filled,precision,displayValue,align) {
		if(align == null) {
			align = 2;
		}
		if(displayValue == null) {
			displayValue = true;
		}
		if(precision == null) {
			precision = 100;
		}
		if(filled == null) {
			filled = false;
		}
		if(to == null) {
			to = 1.0;
		}
		if(from == null) {
			from = 0.0;
		}
		if(!this.isVisible(this.t.ELEMENT_H * this.SCALE)) {
			this.endElement();
			return handle.value;
		}
		if(this.getStarted()) {
			handle.scrolling = true;
			this.scrollingHandle = handle;
			this.isScrolling = true;
		}
		if(handle.scrolling) {
			var range = to - from;
			var sliderX = this._x + this._windowX + this.buttonOffsetY;
			var sliderW = this._w - this.buttonOffsetY * 2;
			var step = range / sliderW;
			var value = from + (this.inputX - sliderX) * step;
			handle.value = (value * precision | 0) / precision;
			if(handle.value < from) {
				handle.value = from;
			} else if(handle.value > to) {
				handle.value = to;
			}
			handle.changed = this.changed = true;
		} else {
			handle.changed = false;
		}
		var hover = this.getHover();
		this.drawSlider(handle.value,from,to,filled,hover);
		var startEdit = this.getReleased() || this.tabPressed;
		if(startEdit) {
			handle.text = handle.value + "";
			this.startTextEdit(handle);
		}
		var lalign = align == 0 ? 2 : 0;
		if(this.textSelectedHandle == handle) {
			this.updateTextEdit(lalign,false);
		}
		if(this.submitTextHandle == handle) {
			this.submitTextEdit();
			handle.value = parseFloat(handle.text);
		} else {
			handle.changed = false;
		}
		this.g.set_color(this.t.LABEL_COL);
		this.drawString(this.g,text,null,0,align);
		if(displayValue) {
			this.g.set_color(this.t.TEXT_COL);
			if(this.textSelectedHandle != handle) {
				this.drawString(this.g,handle.value + "",null,0,lalign);
			} else {
				this.drawString(this.g,this.textSelectedCurrentText,null,0,lalign);
			}
		}
		this.endElement();
		return handle.value;
	}
	,separator: function() {
		if(!this.isVisible(this.t.ELEMENT_H * this.SCALE)) {
			this._y += 2;
			return;
		}
		this.g.set_color(this.t.SEPARATOR_COL);
		this.g.fillRect(this._x,this._y,this._w - this.t.TEXT_OFFSET,this.t.LINE_STRENGTH * this.SCALE);
		this._y += 2;
	}
	,tooltip: function(text) {
		this.tooltipText = text;
		this.tooltipY = this._y + this._windowY;
	}
	,drawArrow: function(selected) {
		var x = this._x + this.arrowOffsetX;
		var y = this._y + this.arrowOffsetY;
		this.g.set_color(this.t.ARROW_COL);
		if(selected) {
			this.g.fillTriangle(x,y,x + this.t.ARROW_SIZE * this.SCALE,y,x + this.t.ARROW_SIZE * this.SCALE / 2,y + this.t.ARROW_SIZE * this.SCALE);
		} else {
			this.g.fillTriangle(x,y,x,y + this.t.ARROW_SIZE * this.SCALE,x + this.t.ARROW_SIZE * this.SCALE,y + this.t.ARROW_SIZE * this.SCALE / 2);
		}
	}
	,drawTree: function(selected) {
		var SIGN_W = 7;
		var x = this._x + this.arrowOffsetX + 1;
		var y = this._y + this.arrowOffsetY + 1;
		this.g.set_color(this.t.ARROW_COL);
		if(selected) {
			this.g.fillRect(x,y + SIGN_W / 2 - 1,SIGN_W,SIGN_W / 8);
		} else {
			this.g.fillRect(x,y + SIGN_W / 2 - 1,SIGN_W,SIGN_W / 8);
			this.g.fillRect(x + SIGN_W / 2 - 1,y,SIGN_W / 8,SIGN_W);
		}
	}
	,drawCheck: function(selected,hover) {
		var x = this._x + this.checkOffsetX;
		var y = this._y + this.checkOffsetY;
		this.g.set_color(hover ? this.t.ACCENT_HOVER_COL : this.t.ACCENT_COL);
		var g = this.g;
		var w = this.t.CHECK_SIZE * this.SCALE;
		var h = this.t.CHECK_SIZE * this.SCALE;
		var strength = 0.0;
		if(strength == 0.0) {
			strength = this.t.LINE_STRENGTH * this.SCALE;
		}
		if(this.t.FILL_ACCENT_BG) {
			g.fillRect(x,y,w,h);
		} else {
			g.drawRect(x,y,w,h,strength);
		}
		if(selected) {
			this.g.set_color(-1);
			this.g.drawImage(this.checkSelectImage,x + this.checkSelectOffsetX,y + this.checkSelectOffsetY);
		}
	}
	,drawRadio: function(selected,hover) {
		var x = this._x + this.radioOffsetX;
		var y = this._y + this.radioOffsetY;
		this.g.set_color(hover ? this.t.ACCENT_HOVER_COL : this.t.ACCENT_COL);
		var g = this.g;
		var w = this.t.CHECK_SIZE * this.SCALE;
		var h = this.t.CHECK_SIZE * this.SCALE;
		var strength = 0.0;
		if(strength == 0.0) {
			strength = this.t.LINE_STRENGTH * this.SCALE;
		}
		if(this.t.FILL_ACCENT_BG) {
			g.fillRect(x,y,w,h);
		} else {
			g.drawRect(x,y,w,h,strength);
		}
		if(selected) {
			this.g.set_color(this.t.ACCENT_SELECT_COL);
			this.g.fillRect(x + this.radioSelectOffsetX,y + this.radioSelectOffsetY,this.t.CHECK_SELECT_SIZE * this.SCALE,this.t.CHECK_SELECT_SIZE * this.SCALE);
		}
	}
	,drawInlineRadio: function(text,hover) {
		if(hover) {
			this.g.set_color(this.t.ACCENT_HOVER_COL);
			this.g.fillRect(this._x + this.buttonOffsetY,this._y + this.buttonOffsetY,this._w - this.buttonOffsetY * 2,this.t.BUTTON_H * this.SCALE);
		} else {
			this.g.set_color(this.t.ACCENT_COL);
			this.g.drawRect(this._x + this.buttonOffsetY,this._y + this.buttonOffsetY,this._w - this.buttonOffsetY * 2,this.t.BUTTON_H * this.SCALE);
		}
		this.g.set_color(this.t.TEXT_COL);
		this.drawString(this.g,text,this.titleOffsetX,0,1);
	}
	,drawSlider: function(value,from,to,filled,hover) {
		var x = this._x + this.buttonOffsetY;
		var y = this._y + this.buttonOffsetY;
		var w = this._w - this.buttonOffsetY * 2;
		this.g.set_color(hover ? this.t.ACCENT_HOVER_COL : this.t.ACCENT_COL);
		var g = this.g;
		var h = this.t.BUTTON_H * this.SCALE;
		var strength = 0.0;
		if(strength == 0.0) {
			strength = this.t.LINE_STRENGTH * this.SCALE;
		}
		if(this.t.FILL_ACCENT_BG) {
			g.fillRect(x,y,w,h);
		} else {
			g.drawRect(x,y,w,h,strength);
		}
		this.g.set_color(hover ? this.t.ACCENT_HOVER_COL : this.t.ACCENT_COL);
		var offset = (value - from) / (to - from);
		var barW = 8 * this.SCALE;
		var sliderX = filled ? x : x + (w - barW) * offset;
		var sliderW = filled ? w * offset : barW;
		sliderW = Math.min(sliderW,w);
		this.g.fillRect(sliderX,y,sliderW,this.t.BUTTON_H * this.SCALE);
	}
	,drawCombo: function() {
		var _g = this.g;
		this.globalG.set_color(-14540254);
		var elementSize = this.t.ELEMENT_H * this.SCALE + this.t.ELEMENT_OFFSET * this.SCALE;
		this.globalG.begin(false);
		this.globalG.fillRect(this.comboSelectedX,this.comboSelectedY,this.comboSelectedW,(this.comboSelectedTexts.length + 1) * elementSize);
		this.beginLayout(this.globalG,this.comboSelectedX,this.comboSelectedY,this.comboSelectedW);
		this.inputEnabled = true;
		var _g1 = 0;
		var _g2 = this.comboSelectedTexts.length;
		while(_g1 < _g2) {
			var i = _g1++;
			if(this.button(this.comboSelectedTexts[i],this.comboSelectedAlign)) {
				this.comboToSubmit = i;
				this.submitComboHandle = this.comboSelectedHandle;
				if(this.comboSelectedWindow != null) {
					this.comboSelectedWindow.redraws = 2;
				}
				break;
			}
		}
		this.text(this.comboSelectedLabel);
		if(this.inputReleased && !zui_Zui.comboFirst) {
			this.comboSelectedHandle = null;
			zui_Zui.comboFirst = true;
		} else {
			zui_Zui.comboFirst = false;
		}
		this.inputEnabled = this.comboSelectedHandle == null;
		this.endLayout(false);
		this.globalG.end();
		this.g = _g;
	}
	,drawTooltip: function() {
		this.globalG.set_color(-1052689);
		var lines = this.tooltipText.split("\n");
		var tooltipW = 0;
		var _g = 0;
		while(_g < lines.length) {
			var line = lines[_g];
			++_g;
			var lineTooltipW = this.ops.font.width(this.fontSize,line);
			if(lineTooltipW > tooltipW) {
				tooltipW = lineTooltipW;
			}
		}
		this.tooltipX = Math.min(this.tooltipX,kha_System.windowWidth() - tooltipW - 20);
		this.globalG.fillRect(this.tooltipX,this.tooltipY,tooltipW + 20,this.t.ELEMENT_H * this.SCALE * lines.length * 0.6);
		this.globalG.set_font(this.ops.font);
		this.globalG.set_fontSize(this.fontSize);
		this.globalG.set_color(-15658735);
		var _g1 = 0;
		var _g2 = lines.length;
		while(_g1 < _g2) {
			var i = _g1++;
			this.globalG.drawString(lines[i],this.tooltipX + 5,this.tooltipY + i * this.fontSize);
		}
	}
	,drawString: function(g,text,xOffset,yOffset,align) {
		if(align == null) {
			align = 0;
		}
		if(yOffset == null) {
			yOffset = 0;
		}
		var maxChars = this._w / (this.fontSize / 2 | 0) | 0;
		if(text.length > maxChars) {
			text = text.substring(0,maxChars) + "..";
		}
		if(xOffset == null) {
			xOffset = this.t.TEXT_OFFSET;
		}
		xOffset *= this.SCALE;
		g.set_font(this.ops.font);
		g.set_fontSize(this.fontSize);
		if(align == 1) {
			xOffset = this._w / 2 - this.ops.font.width(this.fontSize,text) / 2;
		} else if(align == 2) {
			xOffset = this._w - this.ops.font.width(this.fontSize,text) - this.t.TEXT_OFFSET;
		}
		g.drawString(text,this._x + xOffset,this._y + this.fontOffsetY + yOffset);
	}
	,endElement: function(elementSize) {
		if(this.currentWindow == null) {
			this._y += this.t.ELEMENT_H * this.SCALE + this.t.ELEMENT_OFFSET * this.SCALE;
			return;
		}
		if(this.currentWindow.layout == 0) {
			if(this.curRatio == -1 || this.ratios != null && this.curRatio == this.ratios.length - 1) {
				if(elementSize == null) {
					elementSize = this.t.ELEMENT_H * this.SCALE + this.t.ELEMENT_OFFSET * this.SCALE;
				}
				this._y += elementSize;
				if(this.ratios != null && this.curRatio == this.ratios.length - 1) {
					this.curRatio = -1;
					this.ratios = null;
					this._x = this.xBeforeSplit;
					this._w = this.wBeforeSplit;
				}
			} else {
				this.curRatio++;
				this._x += this._w;
				this._w = this.wBeforeSplit * this.ratios[this.curRatio] | 0;
			}
		} else {
			this._x += this._w + this.t.ELEMENT_OFFSET * this.SCALE;
		}
	}
	,row: function(ratios) {
		this.ratios = ratios;
		this.curRatio = 0;
		this.xBeforeSplit = this._x;
		this.wBeforeSplit = this._w;
		this._w = this._w * ratios[this.curRatio] | 0;
	}
	,indent: function() {
		this._x += this.t.TAB_W * this.SCALE | 0;
		this._w -= this.t.TAB_W * this.SCALE | 0;
	}
	,unindent: function() {
		this._x -= this.t.TAB_W * this.SCALE | 0;
		this._w += this.t.TAB_W * this.SCALE | 0;
	}
	,fill: function(x,y,w,h,color) {
		this.g.set_color(color);
		this.g.fillRect(this._x + x * this.SCALE,this._y + y * this.SCALE,w * this.SCALE,h * this.SCALE);
		this.g.set_color(-1);
	}
	,drawRect: function(g,fill,x,y,w,h,strength) {
		if(strength == null) {
			strength = 0.0;
		}
		if(strength == 0.0) {
			strength = this.t.LINE_STRENGTH * this.SCALE;
		}
		if(fill) {
			g.fillRect(x,y,w,h);
		} else {
			g.drawRect(x,y,w,h,strength);
		}
	}
	,isVisible: function(elemH) {
		if(this.currentWindow == null) {
			return true;
		}
		if(this._y + elemH > 0) {
			return this._y < this.currentWindow.texture.get_height();
		} else {
			return false;
		}
	}
	,getReleased: function(elemH) {
		if(elemH == null) {
			elemH = -1.0;
		}
		this.isReleased = this.inputEnabled && this.inputReleased && this.getHover(elemH) && this.getInitialHover(elemH);
		return this.isReleased;
	}
	,getPushed: function(elemH) {
		if(elemH == null) {
			elemH = -1.0;
		}
		this.isPushed = this.inputEnabled && this.inputDown && this.getHover(elemH) && this.getInitialHover(elemH);
		return this.isPushed;
	}
	,getStarted: function(elemH) {
		if(elemH == null) {
			elemH = -1.0;
		}
		this.isStarted = this.inputEnabled && this.inputStarted && this.getHover(elemH);
		return this.isStarted;
	}
	,getInitialHover: function(elemH) {
		if(elemH == null) {
			elemH = -1.0;
		}
		if(elemH == -1.0) {
			elemH = this.t.ELEMENT_H * this.SCALE;
		}
		if(this.inputEnabled && this.inputInitialX >= this._windowX + this._x && this.inputInitialX < this._windowX + this._x + this._w && this.inputInitialY >= this._windowY + this._y) {
			return this.inputInitialY < this._windowY + this._y + elemH;
		} else {
			return false;
		}
	}
	,getHover: function(elemH) {
		if(elemH == null) {
			elemH = -1.0;
		}
		if(elemH == -1.0) {
			elemH = this.t.ELEMENT_H * this.SCALE;
		}
		this.isHovered = this.inputEnabled && this.inputX >= this._windowX + this._x && this.inputX < this._windowX + this._x + this._w && this.inputY >= this._windowY + this._y && this.inputY < this._windowY + this._y + elemH;
		return this.isHovered;
	}
	,getInputInRect: function(x,y,w,h,scale) {
		if(scale == null) {
			scale = 1.0;
		}
		if(this.inputEnabled && this.inputX >= x * scale && this.inputX < (x + w) * scale && this.inputY >= y * scale) {
			return this.inputY < (y + h) * scale;
		} else {
			return false;
		}
	}
	,onMouseDown: function(button,x,y) {
		this.inputStarted = true;
		if(button == 0) {
			this.inputDown = true;
		} else {
			this.inputDownR = true;
		}
		var sx = x * this.ops.scaleTexture | 0;
		var sy = y * this.ops.scaleTexture | 0;
		this.setInputPosition(sx,sy);
		this.inputInitialX = sx;
		this.inputInitialY = sy;
	}
	,onMouseUp: function(button,x,y) {
		if(this.isScrolling) {
			this.isScrolling = false;
			if(this.scrollingHandle != null) {
				this.scrollingHandle.scrolling = false;
			}
			if(x == this.inputInitialX && y == this.inputInitialY) {
				this.inputReleased = true;
			}
		} else {
			this.inputReleased = true;
		}
		if(button == 0) {
			this.inputDown = false;
		} else {
			this.inputDownR = false;
		}
		this.setInputPosition(x * this.ops.scaleTexture | 0,y * this.ops.scaleTexture | 0);
		this.deselectText();
	}
	,onMouseMove: function(x,y,movementX,movementY) {
		this.setInputPosition(x * this.ops.scaleTexture | 0,y * this.ops.scaleTexture | 0);
	}
	,onMouseWheel: function(delta) {
		this.inputWheelDelta = delta;
	}
	,setInputPosition: function(x,y) {
		this.inputDX += x - this.inputX;
		this.inputDY += y - this.inputY;
		this.inputX = x;
		this.inputY = y;
	}
	,onKeyDown: function(code) {
		this.isKeyDown = true;
		this.key = code;
		if(code == 32) {
			this["char"] = " ";
		}
	}
	,onKeyUp: function(code) {
	}
	,onKeyPress: function($char) {
		this.isKeyDown = true;
		this["char"] = $char;
	}
	,ELEMENT_W: function() {
		return this.t.ELEMENT_W * this.SCALE;
	}
	,ELEMENT_H: function() {
		return this.t.ELEMENT_H * this.SCALE;
	}
	,ELEMENT_OFFSET: function() {
		return this.t.ELEMENT_OFFSET * this.SCALE;
	}
	,ARROW_SIZE: function() {
		return this.t.ARROW_SIZE * this.SCALE;
	}
	,BUTTON_H: function() {
		return this.t.BUTTON_H * this.SCALE;
	}
	,CHECK_SIZE: function() {
		return this.t.CHECK_SIZE * this.SCALE;
	}
	,CHECK_SELECT_SIZE: function() {
		return this.t.CHECK_SELECT_SIZE * this.SCALE;
	}
	,SCROLL_W: function() {
		return this.t.SCROLL_W * this.SCALE | 0;
	}
	,TEXT_OFFSET: function() {
		return this.t.TEXT_OFFSET;
	}
	,TAB_W: function() {
		return this.t.TAB_W * this.SCALE | 0;
	}
	,LINE_STRENGTH: function() {
		return this.t.LINE_STRENGTH * this.SCALE;
	}
	,resize: function(handle,w,h,khaWindowId) {
		if(khaWindowId == null) {
			khaWindowId = 0;
		}
		handle.redraws = 2;
		if(handle.texture != null) {
			handle.texture.unload();
		}
		handle.texture = kha_Image.createRenderTarget(w,h,kha_graphics4_TextureFormat.RGBA32,0,1,khaWindowId);
		handle.texture.get_g2().set_imageScaleQuality(kha_graphics2_ImageScaleQuality.High);
	}
	,__class__: zui_Zui
};
var zui_Handle = $hxClasses["zui.Handle"] = function(ops) {
	this.changed = false;
	this.dragY = 0;
	this.dragX = 0;
	this.dragEnabled = false;
	this.dragging = false;
	this.lastMaxY = 0.0;
	this.lastMaxX = 0.0;
	this.layout = 0;
	this.scrollEnabled = false;
	this.scrollOffset = 0.0;
	this.scrolling = false;
	this.redraws = 2;
	this.texture = null;
	this.text = "";
	this.value = 0.0;
	this.b = 0.0;
	this.g = 0.0;
	this.r = 0.0;
	this.color = -1;
	this.position = 0;
	this.selected = false;
	if(ops != null) {
		if(ops.selected != null) {
			this.selected = ops.selected;
		}
		if(ops.position != null) {
			this.position = ops.position;
		}
		if(ops.value != null) {
			this.value = ops.value;
		}
		if(ops.text != null) {
			this.text = ops.text;
		}
		if(ops.color != null) {
			this.color = ops.color;
		}
		if(ops.layout != null) {
			this.layout = ops.layout;
		}
	}
};
zui_Handle.__name__ = ["zui","Handle"];
zui_Handle.prototype = {
	selected: null
	,position: null
	,color: null
	,r: null
	,g: null
	,b: null
	,value: null
	,text: null
	,texture: null
	,redraws: null
	,scrolling: null
	,scrollOffset: null
	,scrollEnabled: null
	,layout: null
	,lastMaxX: null
	,lastMaxY: null
	,dragging: null
	,dragEnabled: null
	,dragX: null
	,dragY: null
	,changed: null
	,children: null
	,nest: function(i,ops) {
		if(this.children == null) {
			this.children = [];
		}
		while(this.children.length <= i) this.children.push(null);
		if(this.children[i] == null) {
			this.children[i] = new zui_Handle(ops);
		}
		return this.children[i];
	}
	,__class__: zui_Handle
};
function $iterator(o) { if( o instanceof Array ) return function() { return HxOverrides.iter(o); }; return typeof(o.iterator) == 'function' ? $bind(o,o.iterator) : o.iterator; }
var $_, $fid = 0;
function $bind(o,m) { if( m == null ) return null; if( m.__id__ == null ) m.__id__ = $fid++; var f; if( o.hx__closures__ == null ) o.hx__closures__ = {}; else f = o.hx__closures__[m.__id__]; if( f == null ) { f = function(){ return f.method.apply(f.scope, arguments); }; f.scope = o; f.method = m; o.hx__closures__[m.__id__] = f; } return f; }
$hxClasses["Math"] = Math;
String.prototype.__class__ = $hxClasses["String"] = String;
String.__name__ = ["String"];
$hxClasses["Array"] = Array;
Array.__name__ = ["Array"];
Date.prototype.__class__ = $hxClasses["Date"] = Date;
Date.__name__ = ["Date"];
var Int = $hxClasses["Int"] = { __name__ : ["Int"]};
var Dynamic = $hxClasses["Dynamic"] = { __name__ : ["Dynamic"]};
var Float = $hxClasses["Float"] = Number;
Float.__name__ = ["Float"];
var Bool = $hxClasses["Bool"] = Boolean;
Bool.__ename__ = ["Bool"];
var Class = $hxClasses["Class"] = { __name__ : ["Class"]};
var Enum = { };
var __map_reserved = {};
var ArrayBuffer = $global.ArrayBuffer || js_html_compat_ArrayBuffer;
if(ArrayBuffer.prototype.slice == null) {
	ArrayBuffer.prototype.slice = js_html_compat_ArrayBuffer.sliceImpl;
}
var DataView = $global.DataView || js_html_compat_DataView;
var Float32Array = $global.Float32Array || js_html_compat_Float32Array._new;
var Uint8Array = $global.Uint8Array || js_html_compat_Uint8Array._new;
Main.projectName = "untitled";
Main.projectPackage = "arm";
armory_logicnode_DisplayInfoNode.displayIndex = 0;
iron_math_Quat.helpVec0 = new iron_math_Vec4();
iron_math_Quat.helpVec1 = new iron_math_Vec4();
iron_math_Quat.helpVec2 = new iron_math_Vec4();
armory_logicnode_TransformNode.q = new iron_math_Quat();
armory_renderpath_HosekWilkie.firstFrame = true;
armory_renderpath_HosekWilkieData.datasetRGB1 = [-1.099459e+000,-1.335146e-001,-4.083223e+000,5.919603e+000,-1.104166e-001,1.600158e+000,-1.326538e-006,4.917807e+000,5.127716e-001,-1.169858e+000,-1.832793e-001,9.694744e-001,9.495762e-002,-4.738918e-002,2.194171e-001,1.095749e-001,3.603604e+000,3.815119e-001,-9.665225e-001,-1.403888e-001,5.194457e+000,-1.107607e+000,-8.135181e-001,4.969661e+000,-2.300508e-001,-2.489350e+000,1.279158e+000,-1.292508e+000,-1.299552e-001,-2.071404e+000,-4.752482e-002,1.215598e+000,-1.904179e+000,3.027985e-001,8.707768e+000,6.332446e-002,-9.264666e-001,-1.696780e-001,4.574070e+000,-4.232936e-001,-7.575833e+000,5.079755e+000,-2.576343e-001,-4.506805e+000,6.908129e-001,-1.139072e+000,-1.796056e-001,1.923311e+000,6.788529e+000,-2.364389e+000,-1.064041e+000,1.717010e-001,1.534681e+000,5.015810e-001,-1.107257e+000,-1.384411e-001,-4.285744e+000,5.713157e+000,-1.015992e-001,1.372638e+000,6.555893e-002,5.127514e+000,6.550471e-001,-1.187337e+000,-1.969013e-001,8.551048e-001,5.289708e-002,-7.626406e-002,1.733153e-002,1.779454e-001,3.801038e+000,4.742709e-001,-9.685321e-001,-1.553308e-001,4.732492e+000,-1.178935e+000,-7.852791e-001,4.604492e+000,-2.666518e-001,-2.367663e+000,1.177527e+000,-1.252817e+000,-5.129949e-002,-2.800433e+000,-1.295992e-002,1.308964e+000,-2.204331e+000,7.276011e-001,8.699265e+000,1.188388e-001,-9.459509e-001,-2.322133e-001,4.375041e+000,-1.712018e-001,-7.451681e+000,5.078019e+000,-4.223538e-001,-4.595561e+000,1.074719e+000,-1.125092e+000,-1.796750e-001,1.626399e+000,6.989743e+000,-2.406382e+000,-9.060383e-001,2.961611e-001,1.337715e+000,5.438140e-001,-1.135338e+000,-1.716160e-001,-1.499253e+000,2.373491e+000,-1.654023e-001,9.566404e-001,1.113453e-001,4.528473e+000,6.579439e-001,-1.132780e+000,-1.456214e-001,-1.736672e+000,1.756589e+000,-1.087003e-001,3.757927e-001,2.525070e-001,7.178513e+000,5.003814e-001,-1.167176e+000,-2.927225e-001,5.727667e+000,-3.139244e+000,-6.425204e-001,2.822634e+000,-1.457812e-001,-6.787080e+000,1.017072e+000,-1.042529e+000,4.110823e-002,-4.000629e+000,4.362364e+000,1.090540e+000,-1.338674e+000,8.246964e-001,1.095249e+001,2.912211e-001,-1.061598e+000,-2.096143e-001,3.803155e+000,-7.977069e+000,-3.637880e+000,3.707671e+000,-1.903128e-001,-3.397953e+000,9.971500e-001,-1.073560e+000,-2.077964e-001,1.492052e+000,1.626322e+001,-5.015304e+000,-4.059889e-001,2.659782e-001,6.395380e-001,5.634436e-001,-1.172794e+000,-2.111186e-001,-1.360013e+000,1.604080e+000,-8.473723e-002,7.217312e-001,1.548030e-001,4.257010e+000,6.328974e-001,-1.238374e+000,-2.670827e-001,3.247678e-001,5.466311e-001,-7.425952e-001,5.276440e-001,2.678026e-002,5.484169e+000,6.814734e-001,-1.176923e+000,-2.574586e-001,2.304045e+000,-2.797678e+000,1.464405e+000,1.998552e+000,2.550559e-001,-4.199772e+000,7.544892e-001,-1.003284e+000,1.943984e-002,-2.145066e+000,1.030924e+001,-1.525413e+001,-2.023010e+000,5.448699e-001,8.159497e+000,5.539148e-001,-1.060017e+000,-2.037206e-001,2.483018e+000,-4.595459e+000,6.526991e+000,4.031804e+000,1.206513e-001,-2.586527e+000,7.875752e-001,-1.081141e+000,-2.123302e-001,1.092275e+000,2.683841e+000,-4.166938e+000,-1.396582e+000,4.371205e-001,1.030233e+000,6.664862e-001,-1.222392e+000,-2.651924e-001,-4.625037e-001,3.521964e-001,2.148855e-002,5.078494e-001,1.791590e-001,3.852516e+000,5.998216e-001,-1.424610e+000,-4.710155e-001,-1.826815e-001,1.786277e+000,-1.952442e+000,5.277612e-001,-1.773629e-002,2.415874e+000,6.701272e-001,-1.130655e+000,-1.358609e-001,9.171203e-001,-4.660394e+000,6.251162e+000,1.904529e+000,2.639668e-001,1.856130e+000,8.228440e-001,-9.739015e-001,-6.674749e-002,-4.768897e-001,1.248589e+001,-1.994688e+001,-2.353043e+000,5.885575e-001,1.287251e+000,4.830135e-001,-1.082178e+000,-1.974495e-001,1.050245e+000,-4.792855e+000,8.663406e+000,3.246969e+000,1.556731e-001,8.117442e-001,8.050376e-001,-1.063354e+000,-1.727108e-001,9.681592e-001,2.736077e+000,-4.969269e+000,-8.360570e-001,5.994612e-001,1.024039e+000,6.786935e-001,-1.261936e+000,-3.053676e-001,-4.262222e-001,4.000196e-001,-2.059388e-002,4.721802e-001,1.480028e-001,3.505343e+000,6.121337e-001,-1.681088e+000,-6.971919e-001,-1.105652e-001,7.437426e-001,-6.594399e-001,2.254221e-001,8.710195e-002,1.263913e+000,5.681865e-001,-9.453001e-001,3.460388e-002,6.067038e-001,-1.985128e+000,3.457236e+000,2.655483e+000,-1.162354e-002,3.304716e+000,1.001950e+000,-1.086609e+000,-2.029011e-001,-6.399170e-001,6.926885e+000,-1.512189e+001,-3.793051e+000,9.456120e-001,2.222222e-001,2.893725e-001,-1.041259e+000,-1.388790e-001,1.147331e+000,6.282086e+000,3.679836e+000,4.398314e+000,-1.355232e-001,1.031134e+000,9.273509e-001,-1.063473e+000,-1.916051e-001,6.556979e-001,-3.371891e-003,-3.699664e+000,-1.926783e+000,7.371154e-001,1.179975e+000,6.367068e-001,-1.336390e+000,-3.778927e-001,-7.259477e-001,2.270247e-001,4.627513e-001,1.366459e-001,2.637347e-001,3.292059e+000,4.998211e-001,-2.119878e+000,-1.055472e+000,5.422052e-001,7.826648e-001,-1.286065e+000,9.517905e-001,-1.432358e-001,-2.379816e-001,5.910513e-001,-7.761432e-001,2.124336e-001,-6.845184e-001,-9.812342e-001,4.347257e+000,9.671980e-001,3.773150e-001,5.789529e+000,9.646598e-001,-1.118734e+000,-3.513815e-001,5.500918e-001,9.449627e-001,-1.262070e+001,-1.825280e+000,4.731260e-001,-3.326892e+000,3.568768e-001,-1.026437e+000,-8.257946e-002,3.221701e-001,1.198372e+001,1.555130e+000,2.560304e+000,1.406465e-001,2.912858e+000,8.643181e-001,-1.069949e+000,-2.029607e-001,5.825042e-001,-2.398595e-003,-3.278335e+000,-1.349882e+000,7.208433e-001,8.505164e-001,6.625391e-001,-1.392309e+000,-4.454945e-001,-5.664000e-001,6.283393e-001,-3.761727e-001,6.949802e-001,7.748178e-002,3.192797e+000,5.968661e-001,-2.713405e+000,-1.395112e+000,2.029230e-001,1.877272e-001,-3.715859e-001,-1.652929e-001,2.385861e-001,-4.150768e-001,1.375467e-001,-9.588644e-001,2.433900e-002,-1.527493e+000,-9.632874e-001,5.496269e+000,1.094931e+000,2.004044e-001,6.084554e+000,1.369604e+000,-8.028546e-001,-2.473563e-001,1.617898e+000,2.073591e+000,-1.149446e+001,-8.394131e-001,2.726847e-001,-4.634538e+000,1.367293e-001,-1.198326e+000,-1.804865e-001,-3.565414e-001,4.073200e+000,1.662086e+000,1.239770e+000,3.367978e-001,2.997402e+000,9.360383e-001,-1.013531e+000,-1.859060e-001,5.799857e-001,1.331883e+001,-4.346873e+000,-1.113820e+000,5.275714e-001,8.045177e-001,6.496373e-001,-1.530103e+000,-6.107468e-001,-3.841771e-001,1.881508e+000,-1.464807e+000,6.654690e-001,-5.950797e-006,2.738912e+000,8.101012e-001,-2.415469e+000,-1.057499e+000,-4.161968e-001,-2.357548e+000,6.300296e-001,6.224915e-001,1.545048e-002,2.038561e+000,-1.339415e-001,-3.096796e+000,-1.465688e+000,-1.199232e+000,4.567061e+000,3.260980e+000,-9.794907e-001,8.950491e-001,2.049235e+000,1.331015e+000,2.713904e-001,2.852852e-001,1.202090e+000,-8.206784e+000,-5.805762e+000,1.804431e+000,-6.090648e-001,-1.990902e+000,3.288858e-001,-1.456580e+000,-3.455960e-001,-6.409257e-002,1.667697e+001,-2.311094e+000,-9.771104e-001,6.759863e-001,1.245136e+000,7.911932e-001,-9.860389e-001,-2.099564e-001,2.946650e-001,-3.547800e-003,-2.268313e+000,-6.205647e-002,4.705185e-001,8.657995e-001,6.856284e-001,-1.971736e+000,-9.414047e-001,-3.400557e-001,1.468763e+000,-1.474284e+000,5.501062e-001,-1.109750e-005,2.356370e+000,9.001702e-001,-1.589845e+000,-7.797079e-001,-5.582240e-001,-8.137376e-001,5.846617e-001,1.129459e-001,-2.658005e-002,2.707248e+000,-2.112486e-001,-6.940173e+000,-2.823963e+000,-1.620848e+000,1.090696e+000,2.391730e+000,1.370047e+000,5.890462e-001,1.728400e+000,1.331253e+000,1.293144e+000,-1.919778e-003,1.644206e+000,-8.666967e-001,-7.161953e+000,-1.385018e+000,-1.505374e-001,-1.388643e+000,2.530122e-001,-1.488880e+000,-2.495496e-001,-2.377137e-001,1.167714e+001,-8.617124e-001,1.053828e+000,1.992744e-001,3.633564e-001,8.553304e-001,-1.060891e+000,-4.035829e-001,2.823207e-001,-2.369798e-003,-1.876577e+000,-5.950265e-001,4.241017e-001,3.140802e-001,6.631669e-001,-1.101204e+000,-1.351353e-001,-4.030882e+000,6.096353e+000,-1.148599e-001,1.606507e+000,-1.555474e-006,4.436084e+000,5.973715e-001,-1.154597e+000,-1.923378e-001,8.512132e-001,2.934895e-001,-6.522777e-002,1.389077e-001,9.091469e-002,3.133307e+000,2.108541e-001,-1.031588e+000,-1.546804e-001,5.266214e+000,-9.491390e-001,-7.184867e-001,4.875626e+000,-1.911907e-001,-2.865642e+000,1.087895e+000,-1.159454e+000,-9.546699e-002,-1.508146e+000,-2.031411e-002,1.040653e+000,-2.333508e+000,2.540592e-001,8.594981e+000,9.316770e-002,-1.035940e+000,-2.021151e-001,4.719343e+000,-9.019318e-001,-7.858046e+000,3.901234e+000,-2.233137e-001,-4.344739e+000,6.550733e-001,-1.096669e+000,-1.558196e-001,2.057553e+000,6.274495e+000,-2.678352e+000,-1.814927e+000,1.550676e-001,1.903276e+000,4.998989e-001,-1.114209e+000,-1.473531e-001,-7.602914e+000,8.973685e+000,-4.980074e-002,1.289198e+000,8.366906e-002,4.557987e+000,6.118757e-001,-1.149397e+000,-1.981628e-001,4.914096e+000,-3.498986e+000,-6.257090e-002,1.667401e-001,1.048980e-001,2.284689e+000,5.935965e-001,-1.056121e+000,-1.456172e-001,4.272656e-001,2.912649e+000,-5.501745e-001,4.406542e+000,-1.387680e-001,1.245555e+000,9.733011e-001,-1.125047e+000,-4.003662e-002,1.058457e+000,-3.462236e+000,4.395278e-001,-2.395805e+000,5.177589e-001,4.866247e+000,4.253189e-001,-1.051444e+000,-2.804541e-001,3.364668e+000,3.293787e+000,-1.015741e+001,3.807407e+000,-3.592377e-001,-3.367415e+000,7.900825e-001,-1.093847e+000,-1.436965e-001,2.384780e+000,5.787070e+000,-2.445987e+000,-1.311171e+000,2.326563e-001,1.158439e+000,5.555416e-001,-1.134824e+000,-1.680468e-001,-3.325620e+000,4.458596e+000,-1.135063e-001,1.104500e+000,7.794544e-002,4.609952e+000,6.854854e-001,-1.143017e+000,-1.565926e-001,3.014687e-001,-1.763027e-001,-3.557925e-002,-2.342406e-001,2.528705e-001,5.884085e+000,4.750602e-001,-1.136801e+000,-2.907502e-001,3.682423e+000,-4.061202e-001,-8.728159e-001,4.001510e+000,-1.522202e-001,-5.528713e+000,1.044847e+000,-1.063652e+000,7.808107e-002,-1.983678e+000,3.648078e-001,2.102276e+000,-3.065050e+000,8.431951e-001,1.038830e+001,2.662834e-001,-1.061015e+000,-2.859814e-001,4.223615e+000,-2.290138e+000,-8.314010e+000,4.405718e+000,-4.613627e-001,-4.502910e+000,1.008383e+000,-1.106302e+000,-1.697123e-001,2.087196e+000,8.238929e+000,-2.992416e+000,-1.821776e+000,3.434859e-001,7.755179e-001,5.341190e-001,-1.171110e+000,-2.106304e-001,-1.614361e+000,2.378103e+000,-1.625969e-001,8.504483e-001,1.059312e-001,4.046256e+000,6.618227e-001,-1.200480e+000,-2.235733e-001,1.014390e+000,-1.174074e+000,-4.440180e-001,2.262406e-001,1.665868e-001,5.461829e+000,5.676310e-001,-1.223587e+000,-3.502622e-001,1.699106e+000,6.724266e-001,1.268567e+000,2.135102e+000,8.039374e-004,-5.221111e+000,9.445690e-001,-9.452673e-001,1.468459e-001,-1.335034e+000,4.346628e+000,-1.285652e+001,-1.807046e+000,8.175243e-001,9.301065e+000,3.656798e-001,-1.134681e+000,-3.310951e-001,3.571244e+000,-2.208948e+000,6.041580e+000,3.107577e+000,-3.112127e-001,-4.186351e+000,9.188333e-001,-1.083237e+000,-1.831394e-001,2.062654e+000,1.385424e+000,-5.004950e+000,-1.332669e+000,3.627352e-001,3.323150e-001,6.191181e-001,-1.211527e+000,-2.590617e-001,-1.660874e-001,3.627905e-001,-1.039258e-001,4.697924e-001,1.671653e-001,3.507497e+000,6.022506e-001,-1.433017e+000,-4.733592e-001,1.724445e-001,9.953236e-001,-1.874457e+000,4.432099e-001,1.715810e-002,2.339272e+000,6.441470e-001,-1.084920e+000,-1.587903e-001,8.999585e-001,-2.537516e+000,5.877859e+000,2.014554e+000,9.689141e-002,3.177242e-001,9.030399e-001,-1.008242e+000,2.793030e-003,-3.507469e-001,1.028300e+001,-2.080454e+001,-2.781026e+000,8.995090e-001,3.366951e+000,3.473867e-001,-1.103151e+000,-2.799598e-001,2.525791e+000,-4.255704e+000,9.903388e+000,3.722668e+000,-3.603941e-001,-1.303292e+000,9.369454e-001,-1.102235e+000,-2.025061e-001,2.085660e+000,1.686787e+000,-5.010957e+000,-1.656458e+000,4.584029e-001,-2.751759e-001,6.184162e-001,-1.256130e+000,-3.104904e-001,1.639350e-001,1.315502e-001,-7.297583e-001,4.778480e-001,1.259265e-001,3.012108e+000,6.202728e-001,-1.620114e+000,-6.552670e-001,-2.877157e-001,1.094371e+000,2.818914e-001,3.696830e-001,9.428521e-002,1.450951e+000,5.681308e-001,-9.686204e-001,-3.755647e-002,1.469980e+000,-3.103414e+000,2.856583e+000,1.883209e+000,-5.746099e-002,1.286383e+000,1.001751e+000,-1.089377e+000,-1.023062e-001,-1.498891e+000,1.066455e+001,-1.720184e+001,-2.759314e+000,1.061258e+000,2.910211e+000,2.624701e-001,-1.044681e+000,-2.156857e-001,3.230136e+000,-5.863862e-001,6.096640e+000,3.550019e+000,-4.255773e-001,-1.500033e+000,9.687696e-001,-1.133658e+000,-2.505101e-001,1.717840e+000,8.480428e-003,-5.011789e+000,-1.740989e+000,4.983430e-001,-2.081829e-001,6.088641e-001,-1.335366e+000,-3.863319e-001,-5.279971e-001,3.638324e-001,3.230699e-001,8.339707e-002,2.483293e-001,2.678646e+000,4.998346e-001,-2.004511e+000,-9.957121e-001,1.250807e+000,1.625025e-002,-3.410754e-001,7.858244e-001,-9.506757e-002,2.651876e-002,5.788643e-001,-8.714157e-001,1.192051e-001,-8.486879e-001,-3.702497e-001,1.818277e+000,1.103427e+000,2.454866e-001,3.841575e+000,9.847350e-001,-1.042618e+000,-2.285793e-001,3.620175e-001,2.983368e+000,-9.776844e+000,-1.971587e+000,6.691674e-001,-7.901947e-001,3.213200e-001,-1.099112e+000,-1.869868e-001,2.044065e+000,2.062964e+000,1.265668e+000,2.710130e+000,-1.099443e-001,2.179353e-001,9.024108e-001,-1.106985e+000,-2.396881e-001,1.809807e+000,8.523319e+000,-5.011788e+000,-1.590086e+000,3.248449e-001,-1.003187e-001,6.550606e-001,-1.421285e+000,-4.767024e-001,-3.885004e-001,8.274590e-001,-3.644229e-001,6.999513e-001,5.196710e-002,2.578431e+000,6.246310e-001,-2.611217e+000,-1.398846e+000,4.527425e-001,-5.932142e-001,2.224617e-001,-5.593581e-001,3.389633e-001,-7.767112e-001,6.536004e-002,-9.881543e-001,4.684782e-002,-8.616613e-001,8.799807e-001,4.003130e+000,1.739543e+000,-8.098378e-002,5.524802e+000,1.499673e+000,-7.544759e-001,-2.314808e-001,8.125770e-001,-7.724135e-001,-9.577645e+000,-1.629433e+000,6.790832e-001,-4.193895e+000,-2.526624e-002,-1.273719e+000,-2.187030e-001,1.401798e+000,5.231832e+000,7.405093e-001,1.775166e+000,-7.269476e-002,1.996087e+000,1.057450e+000,-1.046864e+000,-2.247559e-001,1.679449e+000,1.140057e+001,-4.948829e+000,-1.182664e+000,3.241038e-001,-2.470012e-001,6.115900e-001,-1.514607e+000,-5.985430e-001,-1.877610e-001,1.756930e+000,-1.314206e+000,6.115810e-001,-5.970460e-006,2.412975e+000,8.124304e-001,-2.308414e+000,-1.083797e+000,-1.179959e-001,-1.728246e+000,7.784742e-001,5.494505e-001,6.203168e-003,9.326251e-001,-1.419518e-001,-3.230837e+000,-1.438670e+000,-9.868286e-001,2.974393e+000,1.949339e+000,-6.337857e-001,8.160271e-001,3.278606e+000,1.354373e+000,5.149378e-001,2.754789e-001,1.040965e+000,-4.501186e+000,-3.399057e+000,9.661861e-001,-4.736173e-001,-4.037574e+000,2.794847e-001,-1.621870e+000,-3.192763e-001,8.786242e-001,9.785565e+000,-2.727652e+000,1.903691e-002,5.521261e-001,2.138764e+000,8.419871e-001,-9.951701e-001,-2.550607e-001,1.498952e+000,-2.737197e-003,-3.101832e+000,-5.921329e-001,2.864422e-001,-4.405218e-001,6.631410e-001,-1.902954e+000,-9.056918e-001,-2.069570e-001,1.191499e+000,-1.092577e+000,5.849556e-001,-9.649602e-006,2.048407e+000,9.001527e-001,-1.271627e+000,-7.193923e-001,-1.136606e-002,-1.167951e-001,3.286175e-003,-5.262827e-002,-2.473874e-002,1.716125e+000,-2.187133e-001,-7.647175e+000,-3.114129e+000,-1.490128e+000,-5.266488e-001,3.063090e+000,1.474262e+000,5.481458e-001,2.052174e+000,1.353089e+000,2.191403e+000,3.421120e-001,1.446510e+000,2.170943e+000,-7.768187e+000,-1.471207e+000,-1.456708e-001,-1.753574e+000,2.310576e-001,-1.932296e+000,-3.814739e-001,6.245422e-001,6.748294e+000,-3.060171e-001,1.067747e+000,2.500671e-001,-1.252596e-001,8.614611e-001,-9.471101e-001,-4.052640e-001,1.300174e+000,-3.951536e-003,-1.908284e+000,-5.385721e-001,2.133578e-001,-6.250292e-001,6.658012e-001];
armory_renderpath_HosekWilkieData.datasetRGBRad1 = [1.962684e+000,1.159831e+000,4.450588e+000,5.079633e+000,4.437388e+000,4.324573e+000,1.946487e+000,1.287515e+000,3.703696e+000,8.782833e+000,3.440437e+000,5.160333e+000,1.882170e+000,1.335878e+000,2.648641e+000,1.358368e+001,3.105473e+000,5.907387e+000,1.738159e+000,1.624289e+000,-8.786695e-003,2.118253e+001,2.770255e+000,7.055672e+000,1.571896e+000,2.301786e+000,-4.028545e+000,2.966806e+001,1.630876e+000,8.711031e+000,1.475048e+000,2.679086e+000,-6.311315e+000,3.377896e+001,2.140975e+000,9.385283e+000,1.326174e+000,3.378759e+000,-9.831444e+000,3.942061e+001,2.852702e+000,1.082542e+001,1.153344e+000,3.967771e+000,-1.265181e+001,4.195016e+001,7.468239e+000,1.221350e+001,9.746081e-001,4.051626e+000,-1.298454e+001,3.754964e+001,1.749232e+001,1.420619e+001,8.448016e-001,3.181809e+000,-8.757338e+000,2.197962e+001,3.524033e+001,1.639549e+001,2.029623e+000,1.364434e+000,4.201529e+000,5.415099e+000,9.825839e+000,1.063328e+001,2.023126e+000,1.494728e+000,3.420413e+000,9.072178e+000,9.205157e+000,1.186639e+001,1.956307e+000,1.648665e+000,2.039712e+000,1.430239e+001,9.039526e+000,1.330453e+001,1.825053e+000,1.985022e+000,-8.036307e-001,2.202493e+001,9.415361e+000,1.517659e+001,1.650367e+000,2.593201e+000,-4.469328e+000,2.969817e+001,9.410977e+000,1.744850e+001,1.555202e+000,2.962925e+000,-6.608170e+000,3.329887e+001,1.064559e+001,1.850816e+001,1.412478e+000,3.439403e+000,-9.196616e+000,3.685077e+001,1.345341e+001,2.003128e+001,1.252990e+000,3.820805e+000,-1.115338e+001,3.721593e+001,2.014916e+001,2.182320e+001,1.091952e+000,3.663027e+000,-1.031330e+001,2.978985e+001,3.296835e+001,2.375450e+001,9.501691e-001,2.664579e+000,-5.545167e+000,1.281159e+001,5.154768e+001,2.574284e+001];
armory_renderpath_HosekWilkieData.datasetRGB2 = [-1.140530e+000,-1.982747e-001,-7.512730e+000,8.403899e+000,-5.699038e-002,9.015907e-001,3.392161e-002,4.772522e+000,5.111184e-001,-1.165117e+000,-1.852955e-001,2.963684e+000,-2.262274e+000,-1.571683e-001,6.339974e-001,4.977879e-002,7.243307e+000,4.220053e-001,-1.169936e+000,-3.357429e-001,1.911291e+000,-2.391074e-001,-4.791643e-001,1.446113e+000,-9.178108e-002,-4.700239e+000,8.096219e-001,-1.060246e+000,-1.051633e-001,5.013829e-001,2.832309e+000,-3.707855e-001,1.523131e+000,9.163749e-002,5.604183e+000,7.208566e-001,-1.089753e+000,-2.382167e-001,2.360312e+000,-5.902562e+000,-8.799894e+000,1.377692e+000,-6.131633e-002,-1.415472e+000,6.124057e-001,-1.075481e+000,-1.242391e-001,1.425781e+000,8.810319e+000,-2.922646e+000,1.486520e+000,3.270580e-002,3.889783e+000,4.999482e-001,-1.149342e+000,-2.076337e-001,-7.446587e+000,8.014559e+000,-4.866227e-002,8.203043e-001,6.386483e-002,4.894198e+000,5.452051e-001,-1.120531e+000,-1.513311e-001,2.735504e+000,-2.417591e+000,-1.361114e-001,4.296342e-001,9.427488e-002,8.171403e+000,4.102448e-001,-1.226964e+000,-3.516378e-001,1.308298e+000,-5.097487e-002,-4.846783e-001,1.654619e+000,-1.134940e-001,-3.347854e+000,1.131147e+000,-9.664377e-001,2.767589e-002,1.658235e-001,2.407439e+000,-1.300304e-001,9.170958e-001,2.742895e-001,6.642633e+000,2.550064e-001,-1.153358e+000,-3.126223e-001,2.078934e+000,-5.857733e+000,-8.659848e+000,1.758505e+000,-9.616094e-002,-1.230863e+000,9.663832e-001,-1.053850e+000,-1.330743e-001,1.481738e+000,1.049485e+001,-3.528854e+000,9.142363e-001,1.244880e-001,2.644615e+000,5.001048e-001,-1.173687e+000,-2.360362e-001,-3.741454e+000,4.088507e+000,-7.528205e-002,6.645237e-001,7.718265e-002,4.651220e+000,5.586318e-001,-1.213757e+000,-2.589561e-001,7.132551e-001,-4.259327e-001,-1.980821e-001,3.627815e-001,4.666560e-002,5.807984e+000,5.847377e-001,-1.108794e+000,-2.259870e-001,1.574179e+000,-3.753731e-001,-5.984743e-001,1.659414e+000,-1.681021e-002,6.785219e-001,8.647325e-001,-1.060896e+000,-1.346690e-002,-7.529656e-001,1.711319e+000,-9.792435e-001,2.022433e-001,3.826487e-001,5.725157e+000,5.290714e-001,-1.085145e+000,-2.840715e-001,2.088029e+000,-4.935097e+000,-9.056542e+000,1.976149e+000,-3.912485e-002,-8.636064e-001,7.452125e-001,-1.077983e+000,-1.416633e-001,1.100848e+000,1.015875e+001,-2.943712e+000,5.255135e-001,2.164224e-001,2.941143e+000,6.699937e-001,-1.223293e+000,-2.867444e-001,-1.624136e+000,1.668299e+000,-9.537589e-002,5.015947e-001,1.130741e-001,4.244812e+000,5.082152e-001,-1.325342e+000,-4.280991e-001,4.705490e-001,6.926592e-002,-4.572587e-001,5.344144e-001,-2.554192e-002,3.093939e+000,6.639401e-001,-1.113581e+000,-1.192133e-001,4.011536e-001,7.011889e-001,2.052842e-001,9.880724e-001,1.807533e-002,4.690160e+000,8.576240e-001,-1.016063e+000,-1.038138e-001,-2.280391e-001,7.898918e-001,-1.127333e+001,2.074545e-001,5.388182e-001,1.364263e+000,4.660455e-001,-1.099582e+000,-2.228607e-001,1.332648e+000,5.135188e+000,1.653152e+000,1.417020e+000,-1.087532e-001,1.809275e+000,8.080874e-001,-1.064357e+000,-1.520775e-001,8.207368e-001,-1.323565e-003,-5.009523e+000,3.946298e-001,4.337902e-001,2.593198e+000,6.719172e-001,-1.278702e+000,-3.512866e-001,-4.511055e-001,3.895760e-001,-2.429672e-001,4.270577e-001,1.135348e-001,3.719130e+000,4.998867e-001,-1.580069e+000,-7.095475e-001,-3.198904e-001,1.715748e+000,-1.185915e+000,4.523161e-001,-1.026159e-002,7.927188e-001,5.538350e-001,-9.474023e-001,1.173703e-001,4.881381e-001,-2.618684e+000,3.251661e+000,1.213931e+000,-1.736274e-002,8.000768e+000,1.025998e+000,-1.129091e+000,-3.287694e-001,-3.524077e-001,3.352892e+000,-1.416073e+001,-8.485617e-001,6.560766e-001,-2.820937e+000,3.111303e-001,-1.030884e+000,-1.137581e-001,1.109855e+000,8.082276e+000,1.519214e+000,2.112433e+000,-1.592299e-001,3.675905e+000,8.703367e-001,-1.075192e+000,-1.627166e-001,3.514910e-001,1.168164e+000,-4.255822e+000,-6.015348e-001,6.265776e-001,2.884818e+000,6.548384e-001,-1.316017e+000,-3.889652e-001,-5.030854e-001,4.488704e-001,-3.186800e-001,4.570763e-001,8.909201e-002,3.659274e+000,5.011746e-001,-1.731876e+000,-8.493806e-001,1.194871e-001,2.002781e+000,-2.006547e+000,4.872233e-001,-2.854606e-002,2.662137e-001,4.611629e-001,-9.273680e-001,1.380954e-001,-3.302179e-001,-3.553265e+000,4.633345e+000,9.696729e-001,8.799775e-002,8.291129e+000,1.094451e+000,-1.099377e+000,-3.325392e-001,2.501063e-001,2.613712e+000,-1.328142e+001,-5.579527e-001,4.992081e-001,-3.504402e+000,3.022924e-001,-1.048420e+000,-1.227773e-001,5.845373e-001,1.105869e+001,3.813151e-002,1.330409e+000,1.978131e-002,3.959430e+000,8.396439e-001,-1.063233e+000,-1.560639e-001,2.840033e-001,8.751565e-001,-3.411820e+000,-1.436564e-001,5.846580e-001,2.899292e+000,6.799095e-001,-1.376715e+000,-4.541567e-001,-1.445491e+000,1.569898e+000,-1.390627e-001,5.558270e-001,4.109877e-002,3.349451e+000,5.516123e-001,-1.953391e+000,-1.035869e+000,1.690563e+000,-1.964690e-001,-7.787096e-001,5.799605e-001,2.945626e-002,4.217906e-002,2.451373e-001,-1.012422e+000,7.136451e-002,-1.862534e+000,-7.228653e-001,1.947997e-001,2.091805e-001,6.399233e-002,7.928994e+000,1.290733e+000,-9.706708e-001,-2.880950e-001,1.107797e+000,-2.731734e+000,-8.445995e+000,4.296774e-001,5.117648e-001,-3.824277e+000,1.761207e-001,-1.110611e+000,-1.789409e-001,2.108488e-001,2.071430e+001,-1.763174e+000,9.554695e-002,-2.943103e-002,3.422079e+000,8.815496e-001,-1.048334e+000,-1.614087e-001,2.475184e-001,2.146938e-002,-2.983901e+000,2.538224e-001,5.601370e-001,2.461925e+000,6.777394e-001,-1.393719e+000,-5.002724e-001,-2.408940e+000,2.680983e+000,-1.362825e-001,7.395067e-001,-3.300343e-006,3.260889e+000,8.132057e-001,-2.128663e+000,-1.151182e+000,2.923026e+000,-1.931838e+000,-4.426170e-001,2.309983e-001,-5.485890e-003,3.279529e-001,-2.229467e-001,-1.618022e+000,-3.766490e-001,-3.163544e+000,1.611608e+000,-3.967476e-001,3.933680e-001,3.006742e-001,6.835177e+000,1.613765e+000,-5.669064e-001,-1.481749e-001,2.071817e+000,-8.157422e+000,-5.988088e+000,2.387202e-001,1.447191e-001,-4.296385e+000,5.011258e-002,-1.241724e+000,-2.519348e-001,-1.908609e-001,2.952235e+001,-3.333660e+000,-1.837651e-002,1.022249e-001,2.929320e+000,8.867262e-001,-1.021670e+000,-1.667327e-001,1.789771e-001,-2.178108e-003,-2.641572e+000,-5.641484e-002,5.303758e-001,2.138196e+000,6.780350e-001,-1.669332e+000,-7.588708e-001,-2.993557e+000,3.178760e+000,-8.066442e-002,6.544672e-001,-8.089880e-006,2.628924e+000,9.001272e-001,-1.755806e+000,-8.735348e-001,3.258881e+000,-2.504785e+000,-3.300791e-001,1.180565e-001,-9.315982e-003,1.785154e+000,-3.205824e-001,-3.720277e+000,-1.733350e+000,-3.332272e+000,1.515869e+000,1.734218e-001,8.011956e-001,1.995440e-001,3.817666e+000,1.638502e+000,4.724641e-001,3.209828e-001,2.051443e+000,-5.105574e+000,-6.509139e+000,-4.232041e-001,2.598931e-001,-2.151756e+000,-3.493910e-003,-1.525600e+000,-4.897606e-001,-9.891121e-002,2.346818e+001,-2.278152e+000,1.681219e-001,-4.469389e-002,1.051000e+000,9.294666e-001,-9.908649e-001,-2.008182e-001,1.605143e-001,-2.463113e-003,-2.477349e+000,-1.218647e-001,4.750121e-001,1.460813e+000,6.661364e-001,-2.122119e+000,-1.125475e+000,-3.066599e+000,3.145078e+000,-5.411593e-002,5.133628e-001,-7.823408e-006,2.268448e+000,9.001416e-001,-1.528158e+000,-9.370249e-001,2.567559e+000,-1.591439e+000,-3.634460e-001,1.763256e-001,1.119624e-003,1.811848e+000,-2.637929e-001,-6.524387e+000,-2.673507e+000,-2.940472e+000,-6.025609e-001,7.852067e-001,1.073499e+000,-3.540435e-002,3.517416e+000,1.490466e+000,8.886026e-001,-9.681828e-002,1.430554e+000,4.993717e+000,-6.071355e+000,-6.053986e-001,5.092997e-001,-1.273010e+000,7.491329e-002,-1.481997e+000,-5.897282e-001,2.659264e-001,1.267239e+000,-5.741291e-001,5.983011e-002,-2.217312e-001,-3.016452e-001,9.260830e-001,-1.010943e+000,-2.075134e-001,5.066749e-002,1.470708e+001,-3.780501e+000,7.253223e-002,4.045458e-001,1.320164e+000,6.559925e-001,-1.129907e+000,-1.884011e-001,-8.047670e+000,9.035776e+000,-5.539419e-002,8.823349e-001,3.197135e-002,4.839388e+000,5.042822e-001,-1.133821e+000,-1.510781e-001,3.362822e+000,-2.453381e+000,-1.463925e-001,4.728708e-001,5.958140e-002,7.636300e+000,4.805162e-001,-1.176518e+000,-3.549902e-001,1.729044e+000,-2.160966e-001,-5.075865e-001,1.675584e+000,-8.906902e-002,-5.386842e+000,5.452218e-001,-1.043563e+000,-7.520975e-002,8.750644e-001,2.510518e+000,7.584882e-003,9.361250e-001,7.889083e-002,6.066644e+000,5.813108e-001,-1.081304e+000,-2.222253e-001,2.517638e+000,-4.453820e+000,-8.663691e+000,8.662558e-001,-4.802657e-002,-8.965449e-001,4.886656e-001,-1.083774e+000,-1.375469e-001,1.685818e+000,5.631120e+000,-3.100752e+000,4.045941e-001,2.346895e-002,3.390321e+000,5.008309e-001,-1.143158e+000,-2.058334e-001,-9.660198e+000,1.062394e+001,-4.434119e-002,8.607615e-001,3.177325e-002,4.416481e+000,5.918162e-001,-1.146773e+000,-1.727385e-001,4.626048e+000,-4.684602e+000,-8.307137e-002,1.619616e-001,1.484866e-001,7.572868e+000,2.681126e-001,-1.151324e+000,-3.099303e-001,4.125596e-001,2.340752e+000,-4.214444e-001,1.987375e+000,-1.913410e-001,-3.845978e+000,1.337311e+000,-1.034258e+000,-7.778759e-003,7.050094e-001,-8.036369e-001,3.138570e-001,2.469452e-001,3.559970e-001,7.485917e+000,4.790329e-002,-1.096568e+000,-2.673169e-001,2.575654e+000,-8.057121e-001,-8.884928e+000,1.416170e+000,-2.091315e-001,-1.543494e+000,1.065445e+000,-1.083304e+000,-1.528265e-001,1.697727e+000,2.503702e+000,-2.885296e+000,-1.298500e-001,1.548870e-001,2.479652e+000,5.066496e-001,-1.165736e+000,-2.329945e-001,-5.967964e+000,6.705959e+000,-5.931355e-002,7.485638e-001,3.913878e-002,4.221591e+000,6.183926e-001,-1.212422e+000,-2.545910e-001,2.418626e+000,-2.266104e+000,-1.102014e-001,1.363887e-002,1.055411e-001,5.648062e+000,4.557412e-001,-1.070436e+000,-2.163341e-001,7.098718e-001,7.843075e-001,-4.323930e-001,2.109823e+000,-9.589700e-002,-1.985193e-001,1.060428e+000,-1.104879e+000,-3.013622e-002,2.976276e-002,1.069707e+000,1.410000e-001,-4.880020e-001,4.452288e-001,6.418590e+000,3.195986e-001,-1.048969e+000,-2.655317e-001,2.689426e+000,-3.941038e+000,-9.506461e+000,1.837119e+000,-1.892124e-001,-1.562146e+000,9.043414e-001,-1.106145e+000,-1.601642e-001,1.544544e+000,7.388492e+000,-2.924600e+000,-4.328453e-001,1.763161e-001,2.523111e+000,5.851902e-001,-1.203666e+000,-2.776587e-001,-2.084286e+000,2.450840e+000,-8.746613e-002,5.258507e-001,7.983316e-002,3.860055e+000,5.486167e-001,-1.340448e+000,-4.230590e-001,3.462849e-001,4.707607e-001,-2.512626e-001,1.530746e-001,2.724218e-002,3.035216e+000,5.876133e-001,-1.014554e+000,-1.168790e-001,9.477794e-001,-1.061218e+000,-4.196730e-001,2.058832e+000,-5.989624e-002,3.058168e+000,9.763861e-001,-1.137388e+000,-9.854030e-002,-2.984893e-001,3.647820e+000,-6.585571e-001,-1.479180e+000,6.102932e-001,3.265914e+000,3.480333e-001,-1.021816e+000,-2.344957e-001,2.463671e+000,-7.240685e+000,-8.862697e+000,2.514058e+000,-2.122768e-001,-3.313968e-002,9.028136e-001,-1.126581e+000,-1.874347e-001,1.454154e+000,1.034398e+001,-3.237393e+000,-8.654927e-001,2.457248e-001,1.845769e+000,6.002482e-001,-1.263727e+000,-3.439354e-001,-1.786388e-001,3.980166e-001,-3.349517e-001,3.825166e-001,1.029225e-001,3.331096e+000,4.998955e-001,-1.530010e+000,-6.879698e-001,2.380415e-001,1.608216e+000,-1.682679e+000,3.546360e-001,-3.915220e-003,4.517655e-001,5.128605e-001,-9.685659e-001,9.480403e-002,6.076844e-002,-3.217561e+000,4.568074e+000,1.069299e+000,2.083638e-002,7.301088e+000,1.072165e+000,-1.113925e+000,-3.112382e-001,3.954133e-001,5.105907e+000,-1.456866e+001,-4.917378e-001,5.289909e-001,-2.678374e+000,3.014709e-001,-1.046864e+000,-1.215754e-001,1.778308e+000,4.661489e+000,2.565583e-001,1.353680e+000,-1.175767e-001,3.415972e+000,8.457746e-001,-1.104480e+000,-1.940913e-001,1.343668e+000,-1.759206e-003,-5.009204e+000,-4.186951e-001,3.125710e-001,1.628183e+000,6.720408e-001,-1.286902e+000,-3.781238e-001,-8.977253e-002,3.545393e-001,-4.866515e-001,3.843664e-001,8.281675e-002,3.122231e+000,5.046991e-001,-1.712597e+000,-8.549112e-001,4.809286e-001,1.515398e+000,-2.212211e+000,2.539029e-001,2.335997e-002,-6.089466e-002,4.268444e-001,-8.807283e-001,1.646097e-001,-4.437898e-001,-3.188247e+000,5.984417e+000,1.334779e+000,-4.026975e-002,7.546431e+000,1.175751e+000,-1.147253e+000,-3.538199e-001,6.101836e-001,4.437780e+000,-1.559813e+001,-1.103222e+000,6.242039e-001,-3.091472e+000,2.174290e-001,-1.038230e+000,-1.213475e-001,1.547505e+000,5.893176e+000,1.368738e+000,1.663127e+000,-1.377130e-001,3.185279e+000,8.736453e-001,-1.101026e+000,-1.874907e-001,1.272667e+000,3.596524e+000,-5.007243e+000,-6.352483e-001,3.048985e-001,1.931613e+000,6.788844e-001,-1.342753e+000,-4.384971e-001,-1.213491e+000,1.621399e+000,-1.551441e-001,5.614218e-001,2.591739e-002,2.958967e+000,5.782132e-001,-1.937684e+000,-1.066019e+000,1.913336e+000,-7.347719e-001,-5.916167e-001,1.587590e-001,1.092568e-001,-6.275002e-001,1.599071e-001,-9.302391e-001,1.486187e-001,-1.603835e+000,1.783713e-001,1.100461e+000,1.174181e+000,-1.602361e-001,7.868331e+000,1.468971e+000,-1.053631e+000,-3.727050e-001,1.114117e+000,-9.603286e-001,-1.062469e+001,-1.162140e+000,7.952797e-001,-4.478765e+000,-4.440862e-002,-1.083629e+000,-1.261405e-001,1.229344e+000,1.127825e+001,1.319010e-001,1.624729e+000,-2.825898e-001,3.661082e+000,1.036911e+000,-1.093950e+000,-2.067455e-001,1.258035e+000,7.548645e+000,-4.598387e+000,-8.944932e-001,3.292634e-001,1.311304e+000,6.291871e-001,-1.385867e+000,-5.068139e-001,-1.486490e+000,1.969049e+000,-1.698025e-001,6.629167e-001,-5.289365e-006,2.760315e+000,8.644368e-001,-2.107367e+000,-1.175639e+000,2.313241e+000,-1.001653e+000,-4.843139e-001,1.124485e-001,3.901494e-005,-3.502469e-001,-3.204780e-001,-1.475244e+000,-2.833055e-001,-2.085824e+000,1.192563e+000,-7.645200e-001,8.380081e-001,2.203580e-001,7.157885e+000,1.753702e+000,-6.644372e-001,-2.549735e-001,1.600273e+000,-8.589034e+000,-6.144718e+000,-7.599731e-001,2.898370e-001,-5.770923e+000,-9.656242e-002,-1.211687e+000,-1.653494e-001,8.393400e-001,2.792988e+001,-3.395461e+000,9.933752e-001,-3.976877e-002,3.776659e+000,9.546526e-001,-1.063757e+000,-2.037563e-001,1.117207e+000,-1.252806e-003,-3.332330e+000,-6.971409e-001,3.388719e-001,1.311398e+000,6.635171e-001,-1.678889e+000,-7.992295e-001,-2.421687e+000,2.871029e+000,-7.662842e-002,6.046208e-001,-7.598099e-006,2.002314e+000,9.001307e-001,-1.692144e+000,-8.804250e-001,3.060895e+000,-2.000009e+000,-3.183563e-001,8.385862e-002,-6.326713e-003,1.206639e+000,-3.369967e-001,-3.676795e+000,-1.719207e+000,-2.534697e+000,1.005285e+000,1.550407e-001,1.072910e+000,1.318094e-001,3.717018e+000,1.689191e+000,5.424542e-001,3.263528e-001,1.551055e+000,-3.841058e+000,-6.598996e+000,-1.201779e+000,3.530669e-001,-2.542945e+000,-6.482523e-002,-1.553849e+000,-4.576860e-001,9.324676e-001,1.950982e+001,-2.344516e+000,1.121020e+000,-1.221537e-001,7.285496e-001,9.582816e-001,-1.020650e+000,-2.215797e-001,1.009774e+000,-2.056855e-003,-2.740338e+000,-8.122355e-001,3.328967e-001,8.982766e-001,6.594676e-001,-2.247360e+000,-1.221267e+000,-3.072346e+000,3.385139e+000,-4.387559e-002,5.084887e-001,-7.418833e-006,1.750107e+000,9.001401e-001,-1.248499e+000,-8.442718e-001,3.062611e+000,-2.020314e+000,-2.815341e-001,5.254745e-002,3.345008e-003,1.433225e+000,-2.835911e-001,-7.004119e+000,-2.927978e+000,-2.649852e+000,7.971894e-001,5.466893e-001,1.442667e+000,-6.063912e-002,2.806194e+000,1.547429e+000,1.434882e+000,9.114639e-002,1.170089e+000,3.512808e-002,-5.861915e+000,-1.411843e+000,5.400486e-001,-7.746522e-001,2.386984e-002,-1.559053e+000,-5.502302e-001,1.200396e+000,1.347741e+001,-2.344397e+000,8.868907e-001,-3.292661e-001,-1.362105e+000,9.217826e-001,-1.044436e+000,-2.360719e-001,7.054471e-001,-2.904518e-003,-2.092829e+000,-5.119668e-001,4.174861e-001,9.687435e-001,6.588427e-001];
armory_renderpath_HosekWilkieData.datasetRGBRad2 = [1.590330e+000,1.355401e+000,1.151412e+000,1.359116e+001,5.857714e+000,8.090833e+000,1.552540e+000,1.510040e+000,1.276413e-001,1.604643e+001,5.912162e+000,8.350009e+000,1.470871e+000,1.880464e+000,-1.865398e+000,2.030808e+001,5.471461e+000,9.109834e+000,1.356563e+000,2.373866e+000,-4.653245e+000,2.570922e+001,5.686009e+000,1.009480e+001,1.244232e+000,2.851519e+000,-7.130942e+000,2.993449e+001,6.382120e+000,1.114578e+001,1.173693e+000,3.120604e+000,-8.491886e+000,3.187393e+001,7.290615e+000,1.180066e+001,1.091845e+000,3.368888e+000,-9.722083e+000,3.268508e+001,1.032424e+001,1.236508e+001,9.858985e-001,3.500541e+000,-1.026328e+001,3.092956e+001,1.610881e+001,1.331222e+001,8.864993e-001,3.172888e+000,-8.687550e+000,2.362161e+001,2.621851e+001,1.474967e+001,7.946973e-001,2.189355e+000,-4.207953e+000,9.399091e+000,4.062849e+001,1.681753e+001,1.711696e+000,1.657311e+000,9.328021e-001,1.317880e+001,1.506751e+001,1.863556e+001,1.666968e+000,1.849993e+000,-2.088601e-001,1.586653e+001,1.486880e+001,1.940719e+001,1.584846e+000,2.170022e+000,-2.019597e+000,1.970826e+001,1.490684e+001,2.045055e+001,1.469412e+000,2.524017e+000,-4.197267e+000,2.365249e+001,1.664588e+001,2.134477e+001,1.369714e+000,2.843548e+000,-6.059031e+000,2.634993e+001,1.881361e+001,2.232186e+001,1.310477e+000,2.984444e+000,-6.831686e+000,2.682340e+001,2.123267e+001,2.259755e+001,1.222552e+000,3.176523e+000,-7.731496e+000,2.671760e+001,2.484358e+001,2.336863e+001,1.115781e+000,3.130635e+000,-7.581744e+000,2.336531e+001,3.171048e+001,2.413859e+001,1.013181e+000,2.699342e+000,-5.602709e+000,1.500158e+001,4.217613e+001,2.515957e+001,8.976323e-001,1.726948e+000,-1.296120e+000,1.183675e+000,5.503215e+001,2.643066e+001];
armory_renderpath_HosekWilkieData.datasetRGB3 = [-1.372629e+000,-4.905585e-001,-4.100789e+001,4.122169e+001,-7.389360e-003,4.839359e-001,6.474757e-003,3.471755e+000,5.092936e-001,-1.523025e+000,-6.497084e-001,6.249857e+000,-5.662543e+000,-1.908402e-002,5.512810e-001,-2.181049e-005,2.507663e+000,4.339598e-001,-1.035567e+000,-7.478740e-002,9.221030e-001,-2.140047e+000,-2.374146e-002,3.795517e-001,-1.769134e-002,7.479831e+000,7.729303e-001,-1.271086e+000,-5.588190e-001,6.908023e-001,2.096832e+000,-2.453967e-001,1.410648e+000,4.475036e-002,-4.719115e+000,5.741186e-001,-9.712598e-001,-7.033926e-002,9.167274e-001,-9.502097e-001,3.004684e-001,4.547054e-001,-5.929017e-002,5.266196e+000,7.204135e-001,-1.087457e+000,-1.888896e-001,8.156686e-001,3.101712e-001,-2.155419e+000,1.422205e+000,9.692261e-002,3.122404e+000,4.999430e-001,-1.425280e+000,-5.413508e-001,-3.454883e+001,3.481142e+001,-8.686975e-003,4.914268e-001,-2.479243e-006,3.239879e+000,6.094201e-001,-1.688557e+000,-8.070865e-001,7.018459e+000,-6.244574e+000,-2.149341e-002,3.993971e-001,1.252502e-002,1.630662e+000,1.097860e-001,-8.664152e-001,7.869125e-002,-5.236535e-001,-1.218960e+000,-2.059093e-002,6.684898e-001,-5.584112e-002,8.602299e+000,1.410496e+000,-1.319763e+000,-5.985323e-001,1.253918e+000,1.914706e+000,-3.216739e-001,9.011213e-001,1.324845e-001,-5.252749e+000,6.231252e-002,-9.706008e-001,-5.914059e-002,5.693150e-001,-1.175362e+000,5.221644e-001,7.518213e-001,-8.247655e-002,5.875635e+000,9.850863e-001,-1.085330e+000,-1.956105e-001,8.019605e-001,5.338101e-001,-3.423464e+000,1.110444e+000,1.507923e-001,2.864942e+000,4.999481e-001,-1.431967e+000,-5.478935e-001,-3.286288e+001,3.305288e+001,-8.380797e-003,4.772050e-001,-3.044274e-006,3.289973e+000,5.976303e-001,-1.801361e+000,-9.315889e-001,5.391756e+000,-4.588592e+000,-2.040076e-002,4.144684e-001,1.814534e-002,1.051795e+000,1.145651e-001,-7.905357e-001,1.451332e-001,-1.605661e-001,-1.592174e+000,4.561348e-004,3.380323e-001,-7.770275e-002,8.775384e+000,1.489512e+000,-1.308575e+000,-5.539232e-001,9.184133e-001,2.011479e+000,-3.842472e-001,1.432274e+000,1.637153e-001,-4.408856e+000,5.272957e-002,-9.829872e-001,-8.183048e-002,4.464556e-001,-1.442716e+000,1.029641e+000,-6.991617e-002,8.702356e-003,5.706417e+000,9.116452e-001,-1.087130e+000,-2.038013e-001,7.260801e-001,9.164376e-001,-5.006183e+000,1.511271e+000,1.257134e-001,2.715439e+000,6.201652e-001,-1.448662e+000,-5.799075e-001,-2.833268e+001,2.858023e+001,-9.134061e-003,4.404783e-001,-2.709026e-006,3.029357e+000,5.540071e-001,-2.061772e+000,-1.145190e+000,7.918478e+000,-7.212525e+000,-2.020760e-002,2.962715e-001,4.689670e-002,8.517209e-001,2.334587e-001,-6.413755e-001,1.780425e-001,-2.412919e+000,1.064484e+000,-1.949986e-002,6.769741e-001,-1.752760e-001,7.262714e+000,1.325869e+000,-1.304871e+000,-3.975581e-001,1.219002e+000,7.285178e-001,-2.710105e-001,7.779727e-001,3.247139e-001,-8.818168e-001,1.839517e-001,-1.001104e+000,-1.994801e-001,3.676742e-001,-1.409737e+000,2.901555e-001,2.506940e-001,2.468899e-003,3.398923e+000,8.584645e-001,-1.111552e+000,-2.487204e-001,7.410842e-001,1.703749e+000,-5.007855e+000,1.057763e+000,1.354511e-001,2.088715e+000,6.600013e-001,-1.547227e+000,-6.679466e-001,-1.861465e+001,1.884045e+001,-1.242210e-002,4.157339e-001,-2.432805e-006,2.812423e+000,5.446957e-001,-2.043890e+000,-1.149081e+000,2.304118e+000,-1.715757e+000,-2.433628e-002,2.816836e-001,7.185458e-002,1.064860e+000,2.706789e-001,-9.040720e-001,-8.274472e-002,-2.555676e-001,-6.326215e-001,-2.770880e-002,6.676024e-001,-2.513532e-001,5.903839e+000,1.241452e+000,-1.000013e+000,-1.010774e-001,3.699166e-001,8.774526e-001,-3.042007e-001,6.951053e-001,4.361813e-001,6.793421e-001,2.573892e-001,-1.171332e+000,-3.768188e-001,3.701377e-001,-1.470757e+000,5.525942e-001,2.991456e-002,1.581823e-002,2.365233e+000,8.214514e-001,-1.068667e+000,-2.326330e-001,6.725059e-001,2.243733e+000,-4.614370e+000,1.033677e+000,1.376291e-001,2.013334e+000,6.865304e-001,-1.592991e+000,-7.246948e-001,-2.598204e+001,2.621960e+001,-8.365176e-003,4.207571e-001,-2.742772e-006,2.623735e+000,5.873190e-001,-2.271349e+000,-1.280884e+000,6.308739e+000,-5.758350e+000,-1.977049e-002,3.671835e-001,6.698038e-002,1.150597e+000,1.759218e-001,-6.368620e-001,-7.436052e-003,-2.230026e+000,1.640997e+000,-1.548497e-002,3.145331e-001,-2.492644e-001,5.083843e+000,1.260215e+000,-1.177925e+000,-9.628114e-002,3.051152e-001,-3.749544e-002,-2.713209e-001,1.164226e+000,4.559969e-001,2.175429e+000,2.874284e-001,-1.078500e+000,-3.801779e-001,4.788906e-001,-4.795969e-001,5.977621e-001,-4.488535e-001,3.386874e-002,1.538143e+000,8.062054e-001,-1.108028e+000,-2.596892e-001,5.162202e-001,1.557081e+000,-4.265039e+000,1.182535e+000,1.563762e-001,2.095084e+000,6.883383e-001,-1.668427e+000,-7.908511e-001,-2.779690e+001,2.799746e+001,-7.186935e-003,3.757766e-001,-3.326858e-006,2.563421e+000,5.439687e-001,-2.156175e+000,-1.220004e+000,3.585732e+000,-3.235988e+000,-1.086239e-002,1.846143e-001,1.046017e-001,1.234427e+000,2.842191e-001,-1.117051e+000,-4.101627e-001,-8.463730e-001,7.671472e-001,-2.226609e-002,8.574943e-001,-3.434124e-001,4.475715e+000,1.154824e+000,-7.444840e-001,2.312078e-001,-5.393724e-001,1.574213e-001,-1.763914e-001,2.751692e-001,5.564200e-001,2.217672e+000,3.483932e-001,-1.273036e+000,-5.275562e-001,4.902512e-001,-4.498436e-002,4.339366e-001,2.386682e-001,2.380879e-002,1.413444e+000,7.855923e-001,-1.084192e+000,-2.936753e-001,4.719432e-001,1.384436e+000,-3.257789e+000,6.119543e-001,1.681884e-001,1.650441e+000,6.936631e-001,-1.848490e+000,-9.512670e-001,-3.005251e+001,3.024315e+001,-5.635304e-003,3.447780e-001,-2.782999e-006,2.309422e+000,5.643559e-001,-2.300008e+000,-1.252335e+000,-1.218876e+000,1.493730e+000,-6.107100e-003,7.974860e-002,1.023449e-001,1.505934e+000,2.360948e-001,-1.483705e+000,-8.547575e-001,-7.797146e-001,6.447971e-001,-2.678052e-002,1.091263e+000,-3.344889e-001,3.830416e+000,1.189425e+000,-5.348005e-001,3.982733e-001,-4.071573e-001,3.265569e-001,-8.658789e-002,-2.370892e-001,5.369097e-001,1.478279e+000,3.143303e-001,-1.320401e+000,-6.043247e-001,3.019196e-001,-7.732911e-002,4.768381e-001,6.745764e-001,3.694098e-002,1.158234e+000,8.169056e-001,-1.101040e+000,-3.420019e-001,3.775661e-001,1.769338e+000,-2.990515e+000,1.649529e-001,1.970125e-001,1.453355e+000,6.759757e-001,-2.251946e+000,-1.229349e+000,-3.271808e+001,3.283114e+001,-4.252027e-003,3.372289e-001,-3.001937e-006,2.154046e+000,5.842674e-001,-1.867834e+000,-9.531252e-001,-1.229365e+001,1.269149e+001,-6.844772e-003,1.185107e-001,7.539587e-002,1.846381e+000,1.899412e-001,-3.398629e+000,-2.180862e+000,2.335213e+000,-3.382823e+000,-8.613985e-003,8.431602e-001,-2.393567e-001,3.112460e+000,1.218556e+000,5.708381e-001,9.406030e-001,-6.890113e-001,2.746233e+000,-5.772068e-002,1.096005e-001,3.491978e-001,7.281453e-001,3.212049e-001,-1.705909e+000,-8.517224e-001,1.131160e-001,-2.141434e+000,4.274043e-001,3.397600e-001,1.786490e-001,9.026101e-001,7.882800e-001,-1.012865e+000,-3.495551e-001,3.369038e-001,3.724205e+000,-3.089586e+000,1.266964e-001,1.461790e-001,1.170199e+000,6.931052e-001,-2.890318e+000,-1.665573e+000,-3.493756e+001,3.500369e+001,-2.984251e-003,2.622419e-001,-4.259360e-006,1.947681e+000,6.905752e-001,-1.956022e+000,-1.062900e+000,-1.919714e+001,1.975164e+001,-8.865396e-003,2.165540e-001,5.475637e-002,1.761134e+000,3.164249e-003,-5.612198e+000,-3.101371e+000,4.098034e+000,-6.144001e+000,9.944958e-003,2.905472e-001,-1.707110e-001,3.199107e+000,1.337660e+000,8.353756e-001,4.855943e-001,-1.243589e+000,5.147385e+000,-7.013963e-002,9.380410e-001,2.335714e-001,1.727744e-001,2.802696e-001,-1.524329e+000,-7.388547e-001,3.259025e-001,-4.050634e+000,4.058549e-001,-2.591384e-001,1.898299e-001,3.556071e-001,7.884126e-001,-1.070371e+000,-4.207858e-001,1.739862e-001,5.293410e+000,-3.136757e+000,2.323856e-001,1.673706e-001,1.007227e+000,6.844287e-001,-1.341720e+000,-4.834889e-001,-4.633447e+001,4.682148e+001,-6.137296e-003,4.599216e-001,7.047323e-003,2.895798e+000,4.999398e-001,-1.529104e+000,-6.498631e-001,1.534103e+001,-1.450675e+001,-1.531439e-002,3.280082e-001,1.682926e-002,1.901587e+000,5.013227e-001,-1.014776e+000,-1.454495e-001,-4.071085e+000,2.954982e+000,-2.630348e-002,5.681531e-001,-3.016505e-002,6.773854e+000,5.003504e-001,-1.172413e+000,-4.026320e-001,2.960428e+000,2.020710e-001,-2.004947e-001,9.375572e-001,5.998168e-002,-4.945934e+000,4.502898e-001,-9.898161e-001,-5.772814e-002,4.470024e-001,-5.786656e-001,1.158168e-001,3.468040e-001,-5.043360e-002,6.867947e+000,8.012363e-001,-1.085111e+000,-1.882675e-001,1.223748e+000,3.565495e-001,-3.688357e+000,5.653723e-001,6.727646e-002,2.690130e+000,4.999400e-001,-1.389119e+000,-5.290250e-001,-4.055774e+001,4.105972e+001,-7.062577e-003,4.560060e-001,-1.736334e-006,2.775512e+000,6.671455e-001,-1.584641e+000,-7.200619e-001,1.248067e+001,-1.156028e+001,-1.659568e-002,3.050029e-001,1.099895e-002,1.438927e+000,-2.138015e-002,-9.826068e-001,-8.887254e-002,-2.960031e+000,1.808816e+000,-2.478159e-002,6.035733e-001,-4.868441e-002,7.347705e+000,1.584739e+000,-1.150423e+000,-4.073793e-001,2.412991e+000,4.870840e-001,-2.337902e-001,8.295114e-001,1.129914e-001,-5.150045e+000,-9.016643e-002,-1.016933e+000,-6.311501e-002,5.218937e-001,-5.716430e-001,1.250993e-001,3.601524e-001,-5.497586e-002,7.060139e+000,1.018333e+000,-1.073151e+000,-1.845444e-001,1.155394e+000,3.004486e-001,-3.431711e+000,4.657031e-001,9.401223e-002,2.688620e+000,4.999544e-001,-1.391257e+000,-5.365815e-001,-4.255881e+001,4.299132e+001,-5.838466e-003,4.229134e-001,-2.760038e-006,2.775531e+000,6.234597e-001,-1.780062e+000,-9.228880e-001,1.376172e+001,-1.260946e+001,-1.507526e-002,3.117435e-001,2.205045e-002,6.093731e-001,3.463446e-002,-7.388169e-001,1.275670e-001,-3.999528e+000,2.223993e+000,-1.856853e-002,5.439310e-001,-8.834054e-002,8.037139e+000,1.645951e+000,-1.322387e+000,-5.320143e-001,2.659359e+000,1.086712e+000,-2.129712e-001,8.704649e-001,1.800315e-001,-4.967241e+000,-1.383720e-001,-9.378288e-001,-1.599895e-002,3.607555e-001,-1.980561e+000,3.791456e-001,1.212268e-001,-2.845992e-002,6.825542e+000,1.059139e+000,-1.100832e+000,-2.172313e-001,1.211561e+000,2.002721e+000,-5.010011e+000,5.717583e-001,6.777702e-002,2.160006e+000,5.676392e-001,-1.409373e+000,-5.708751e-001,-3.034974e+001,3.079809e+001,-7.280715e-003,3.723304e-001,-2.436279e-006,2.577348e+000,5.913377e-001,-1.954312e+000,-1.116510e+000,5.399148e+000,-4.299553e+000,-1.724739e-002,3.742824e-001,4.187077e-002,1.044883e-001,1.232727e-001,-6.772215e-001,2.001396e-001,-3.670523e-001,-1.014628e+000,-3.497152e-003,4.099858e-001,-1.584633e-001,7.750400e+000,1.514559e+000,-1.291600e+000,-4.977437e-001,9.641914e-001,1.562420e+000,-3.227782e-001,9.055427e-001,3.046444e-001,-3.385619e+000,9.546291e-003,-9.750857e-001,-8.770560e-002,9.054256e-001,-1.429236e+000,8.974777e-001,-1.217961e-001,-5.194608e-002,4.909409e+000,9.589153e-001,-1.088007e+000,-1.959301e-001,9.745799e-001,1.260761e+000,-5.008864e+000,7.271248e-001,1.096661e-001,2.717295e+000,6.340731e-001,-1.456050e+000,-6.223072e-001,-2.228088e+001,2.269604e+001,-9.340812e-003,4.118308e-001,-2.418083e-006,2.442117e+000,5.589638e-001,-2.176449e+000,-1.302416e+000,2.222836e+000,-1.222730e+000,-1.728051e-002,1.323513e-001,7.027731e-002,4.835745e-002,2.093351e-001,-5.789641e-001,2.215407e-001,2.142291e-001,-1.201725e+000,-1.185728e-002,8.122982e-001,-2.380420e-001,6.706841e+000,1.404146e+000,-1.307463e+000,-4.515174e-001,6.447827e-001,1.223841e+000,-2.902391e-001,4.986588e-001,4.073652e-001,-1.706696e+000,1.060885e-001,-9.698678e-001,-1.307094e-001,9.389347e-001,-1.522852e+000,7.768797e-001,-1.368595e-001,-3.857426e-002,3.676935e+000,8.980966e-001,-1.104349e+000,-2.380323e-001,1.047043e+000,1.865421e+000,-5.011664e+000,7.014954e-001,9.622701e-002,1.891360e+000,6.687354e-001,-1.502249e+000,-6.724523e-001,-2.888092e+001,2.930360e+001,-6.685766e-003,3.685464e-001,-2.469442e-006,2.310797e+000,5.566754e-001,-2.217125e+000,-1.364924e+000,4.048243e+000,-3.111333e+000,-1.317747e-002,1.921948e-001,8.627702e-002,1.981769e-003,2.213689e-001,-6.215757e-001,1.687995e-001,-5.949131e-001,-1.551293e-001,3.356129e-004,6.897657e-001,-2.855053e-001,6.271042e+000,1.363084e+000,-1.216317e+000,-3.489429e-001,7.566226e-001,5.409809e-001,-2.830843e-001,6.191825e-001,4.755163e-001,-9.131387e-001,1.383909e-001,-1.030437e+000,-2.034064e-001,8.335995e-001,-1.050947e+000,8.689093e-001,-3.672310e-001,-4.056183e-002,3.111269e+000,8.856842e-001,-1.078984e+000,-2.070549e-001,9.683145e-001,1.497022e+000,-5.007653e+000,7.702541e-001,1.285822e-001,2.225188e+000,6.587911e-001,-1.559291e+000,-7.374039e-001,-3.596311e+001,3.634470e+001,-4.667132e-003,3.277964e-001,-2.487945e-006,2.215652e+000,5.764681e-001,-2.356929e+000,-1.444755e+000,6.244526e+000,-5.540162e+000,-8.794510e-003,1.792100e-001,9.578517e-002,3.737676e-001,1.922194e-001,-6.589752e-001,-2.926910e-002,-1.831779e+000,1.869962e+000,-2.030095e-003,7.552089e-001,-3.168157e-001,4.632196e+000,1.294054e+000,-1.161046e+000,-1.472506e-001,6.494138e-001,-8.327174e-001,-2.320724e-001,3.391212e-001,5.269637e-001,9.376341e-001,2.458573e-001,-1.034427e+000,-3.062504e-001,8.975634e-001,3.203531e-001,8.565142e-001,-1.250162e-001,-4.094017e-002,1.861304e+000,8.223468e-001,-1.109954e+000,-2.740277e-001,1.063811e+000,7.077398e-001,-4.695734e+000,5.621696e-001,1.248956e-001,1.297723e+000,6.789720e-001,-1.788293e+000,-9.368751e-001,-4.382980e+001,4.424963e+001,-3.652530e-003,3.094331e-001,-2.810503e-006,1.904402e+000,5.861599e-001,-2.268206e+000,-1.312676e+000,2.863082e+000,-2.373727e+000,-5.144980e-003,1.711072e-001,9.316041e-002,9.309598e-001,1.791683e-001,-1.376966e+000,-7.418582e-001,-1.349589e+000,1.563419e+000,-3.124219e-003,6.967139e-001,-3.061887e-001,3.602731e+000,1.255669e+000,-6.017540e-001,2.815928e-001,5.424052e-001,-6.885450e-001,-1.620001e-001,2.980046e-001,4.995571e-001,7.371203e-001,2.812466e-001,-1.278853e+000,-5.245326e-001,7.870520e-001,3.125067e-001,7.748105e-001,-7.788581e-002,3.490956e-003,1.283748e+000,8.130190e-001,-1.050930e+000,-2.786331e-001,1.056344e+000,1.053002e+000,-4.047789e+000,4.432174e-001,1.169077e-001,9.532621e-001,6.806764e-001,-2.084927e+000,-1.203954e+000,-4.881638e+001,4.920160e+001,-2.896045e-003,2.882977e-001,-3.073517e-006,1.702211e+000,6.374180e-001,-2.328567e+000,-1.238023e+000,-1.891019e+000,2.451520e+000,-5.847581e-003,2.084702e-001,7.848130e-002,1.211048e+000,8.095008e-002,-2.634632e+000,-1.789460e+000,-1.370558e-001,-3.326435e-001,2.783737e-003,5.239451e-001,-2.548881e-001,2.896327e+000,1.324116e+000,6.882616e-002,5.997821e-001,1.535398e-001,1.375209e+000,-1.267285e-001,4.239743e-001,4.013122e-001,1.794675e-001,2.395382e-001,-1.430918e+000,-6.439041e-001,8.325980e-001,-1.705612e+000,7.236426e-001,-5.567593e-002,6.408718e-002,6.836524e-001,8.388887e-001,-1.037956e+000,-3.215402e-001,9.457349e-001,3.178114e+000,-4.152156e+000,2.230992e-001,1.156198e-001,7.606223e-001,6.656923e-001,-2.967314e+000,-1.728778e+000,-3.730988e+001,3.755578e+001,-2.588835e-003,2.927966e-001,-3.935038e-006,1.592161e+000,6.868694e-001,-2.123311e+000,-1.175148e+000,-1.314988e+001,1.386882e+001,-7.828537e-003,1.852026e-001,5.481038e-002,1.294309e+000,2.428177e-002,-5.443597e+000,-3.156344e+000,2.110838e+000,-3.421556e+000,1.181890e-002,1.196951e-001,-1.742902e-001,2.404353e+000,1.272805e+000,1.029898e+000,5.912521e-001,-3.983531e-001,3.286069e+000,-9.252065e-002,1.331381e+000,2.560642e-001,8.001754e-001,3.624178e-001,-1.547574e+000,-7.881604e-001,1.020902e+000,-2.897069e+000,5.213470e-001,-9.242315e-001,1.185594e-001,-1.150721e+000,7.317211e-001,-9.621043e-001,-1.991406e-001,6.531287e-001,3.925839e+000,-3.596904e+000,6.317332e-001,1.531334e-001,1.457846e+000,6.966285e-001];
armory_renderpath_HosekWilkieData.datasetRGBRad3 = [9.926518e-001,1.999494e+000,-4.136109e+000,1.856270e+001,1.351028e+001,1.390238e+001,9.634366e-001,2.119694e+000,-4.614523e+000,1.919701e+001,1.376644e+001,1.418731e+001,9.446537e-001,2.171610e+000,-4.915556e+000,1.918240e+001,1.537135e+001,1.400530e+001,9.073074e-001,2.330536e+000,-5.577596e+000,1.961615e+001,1.688365e+001,1.446955e+001,8.739124e-001,2.388682e+000,-5.842995e+000,1.923265e+001,1.887735e+001,1.485698e+001,8.563688e-001,2.391534e+000,-5.769133e+000,1.828709e+001,2.097209e+001,1.469587e+001,8.270533e-001,2.342790e+000,-5.558071e+000,1.684993e+001,2.356498e+001,1.505975e+001,7.908339e-001,2.190341e+000,-4.852571e+000,1.374862e+001,2.806846e+001,1.548444e+001,7.403619e-001,1.783998e+000,-2.983854e+000,7.622563e+000,3.507610e+001,1.615805e+001,6.840111e-001,1.154457e+000,-2.393830e-001,-7.896893e-001,4.282765e+001,1.779469e+001,1.168300e+000,1.860993e+000,-2.129074e+000,1.251952e+001,3.032499e+001,2.938716e+001,1.150338e+000,1.918813e+000,-2.413527e+000,1.274862e+001,3.087134e+001,2.951432e+001,1.114719e+000,1.964689e+000,-2.625423e+000,1.247837e+001,3.237949e+001,2.943596e+001,1.077948e+000,2.006292e+000,-2.846934e+000,1.190195e+001,3.459293e+001,2.937492e+001,1.035143e+000,1.986681e+000,-2.752584e+000,1.060972e+001,3.722185e+001,2.918594e+001,1.015992e+000,1.992054e+000,-2.812626e+000,1.001416e+001,3.847300e+001,2.924624e+001,9.756887e-001,1.939897e+000,-2.533281e+000,8.319176e+000,4.083907e+001,2.925586e+001,9.264164e-001,1.716454e+000,-1.597044e+000,4.739725e+000,4.507683e+001,2.878915e+001,8.595191e-001,1.346034e+000,-2.801895e-002,-6.582906e-001,5.017523e+001,2.852953e+001,7.754116e-001,7.709245e-001,2.200201e+000,-7.487661e+000,5.436622e+001,2.893432e+001];
armory_renderpath_HosekWilkieData.datasetsRGB = [armory_renderpath_HosekWilkieData.datasetRGB1,armory_renderpath_HosekWilkieData.datasetRGB2,armory_renderpath_HosekWilkieData.datasetRGB3];
armory_renderpath_HosekWilkieData.datasetsRGBRad = [armory_renderpath_HosekWilkieData.datasetRGBRad1,armory_renderpath_HosekWilkieData.datasetRGBRad2,armory_renderpath_HosekWilkieData.datasetRGBRad3];
armory_system_Event.events = new haxe_ds_StringMap();
armory_trait_internal_CameraController.keyUp = "w";
armory_trait_internal_CameraController.keyDown = "s";
armory_trait_internal_CameraController.keyLeft = "a";
armory_trait_internal_CameraController.keyRight = "d";
armory_trait_internal_CameraController.keyStrafeUp = "e";
armory_trait_internal_CameraController.keyStrafeDown = "q";
armory_trait_FirstPersonController.rotationSpeed = 2.0;
armory_trait_FollowCamera.__meta__ = { fields : { target : { prop : null}, lerp : { prop : null}, lerpSpeed : { prop : null}}};
armory_trait_NavAgent.__meta__ = { fields : { speed : { prop : null}}};
armory_trait_ConvexBreaker.meshIndex = 0;
kha_math_FastMatrix4.width = 4;
kha_math_FastMatrix4.height = 4;
iron_math_Mat4.helpVec = new iron_math_Vec4();
iron_math_Mat4.helpMat = iron_math_Mat4.identity();
armory_trait_PhysicsDrag.v = new iron_math_Vec4();
armory_trait_PhysicsDrag.m = iron_math_Mat4.identity();
armory_trait_PhysicsDrag.first = true;
armory_trait_PhysicsDrag.start = new iron_math_Vec4();
armory_trait_PhysicsDrag.end = new iron_math_Vec4();
armory_trait_SimpleMoveObject.__meta__ = { fields : { speed : { prop : null}}};
armory_trait_SimpleRotateObject.__meta__ = { fields : { speed : { prop : null}}};
armory_trait_SimpleScaleObject.__meta__ = { fields : { speed : { prop : null}}};
armory_trait_ThirdPersonController.rotationSpeed = 1.0;
armory_trait_VehicleBody.keyUp = "w";
armory_trait_VehicleBody.keyDown = "s";
armory_trait_VehicleBody.keyLeft = "a";
armory_trait_VehicleBody.keyRight = "d";
armory_trait_VehicleBody.keyStrafeUp = "e";
armory_trait_VehicleBody.keyStrafeDown = "q";
armory_trait_WalkNavigation.enabled = true;
armory_trait_WalkNavigation.speed = 5.0;
armory_trait_WalkNavigation.keyUp = "w";
armory_trait_WalkNavigation.keyDown = "s";
armory_trait_WalkNavigation.keyLeft = "a";
armory_trait_WalkNavigation.keyRight = "d";
armory_trait_WalkNavigation.keyStrafeUp = "e";
armory_trait_WalkNavigation.keyStrafeDown = "q";
iron_App.traitInits = [];
iron_App.traitUpdates = [];
iron_App.traitLateUpdates = [];
iron_App.traitRenders = [];
iron_App.traitRenders2D = [];
iron_App.pauseUpdates = false;
iron_data_Data.cachedSceneRaws = new haxe_ds_StringMap();
iron_data_Data.cachedMeshes = new haxe_ds_StringMap();
iron_data_Data.cachedLamps = new haxe_ds_StringMap();
iron_data_Data.cachedCameras = new haxe_ds_StringMap();
iron_data_Data.cachedMaterials = new haxe_ds_StringMap();
iron_data_Data.cachedParticles = new haxe_ds_StringMap();
iron_data_Data.cachedWorlds = new haxe_ds_StringMap();
iron_data_Data.cachedShaders = new haxe_ds_StringMap();
iron_data_Data.cachedBlobs = new haxe_ds_StringMap();
iron_data_Data.cachedImages = new haxe_ds_StringMap();
iron_data_Data.cachedSounds = new haxe_ds_StringMap();
iron_data_Data.cachedVideos = new haxe_ds_StringMap();
iron_data_Data.cachedFonts = new haxe_ds_StringMap();
iron_data_Data.loadingMeshes = new haxe_ds_StringMap();
iron_data_Data.loadingLamps = new haxe_ds_StringMap();
iron_data_Data.loadingCameras = new haxe_ds_StringMap();
iron_data_Data.loadingMaterials = new haxe_ds_StringMap();
iron_data_Data.loadingParticles = new haxe_ds_StringMap();
iron_data_Data.loadingWorlds = new haxe_ds_StringMap();
iron_data_Data.loadingShaders = new haxe_ds_StringMap();
iron_data_Data.loadingSceneRaws = new haxe_ds_StringMap();
iron_data_Data.assetsLoaded = 0;
iron_data_Data.loadingBlobs = new haxe_ds_StringMap();
iron_data_Data.loadingImages = new haxe_ds_StringMap();
iron_data_Data.loadingSounds = new haxe_ds_StringMap();
iron_data_Data.loadingVideos = new haxe_ds_StringMap();
iron_data_Data.loadingFonts = new haxe_ds_StringMap();
iron_object_Object.uidCounter = 0;
iron_object_Object.seed = 1;
iron_Scene.uidCounter = 0;
iron_Scene.framePassed = true;
iron_system_Time.scale = 1.0;
iron_system_Time.last = 0.0;
iron_system_Time.realDelta = 0.0;
armory_trait_internal_Bridge.App = iron_App;
armory_trait_internal_Bridge.Scene = iron_Scene;
armory_trait_internal_Bridge.Time = iron_system_Time;
armory_trait_internal_Bridge.Object = iron_object_Object;
armory_trait_internal_Bridge.Data = iron_data_Data;
armory_trait_internal_DebugConsole.lastTrace = "";
armory_trait_internal_DebugConsole.lrow = [0.5,0.5];
armory_trait_internal_DebugDraw.maxLines = 300;
armory_trait_internal_DebugDraw.maxVertices = 1200;
armory_trait_internal_DebugDraw.maxIndices = 1800;
armory_trait_internal_DebugDraw.vx = new iron_math_Vec4();
armory_trait_internal_DebugDraw.vy = new iron_math_Vec4();
armory_trait_internal_DebugDraw.vz = new iron_math_Vec4();
armory_trait_internal_DebugDraw.v1 = new iron_math_Vec4();
armory_trait_internal_DebugDraw.v2 = new iron_math_Vec4();
armory_trait_internal_DebugDraw.t = new iron_math_Vec4();
armory_trait_internal_MovieTexture.created = false;
armory_trait_internal_SpaceArmory.first = true;
armory_trait_physics_bullet_KinematicCharacterController.nextId = 0;
armory_trait_physics_bullet_PhysicsWorld.physTime = 0.0;
armory_trait_physics_bullet_RigidBody.nextId = 0;
haxe_Serializer.USE_CACHE = false;
haxe_Serializer.USE_ENUM_INDEX = false;
haxe_Serializer.BASE64 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";
haxe_Unserializer.DEFAULT_RESOLVER = new haxe__$Unserializer_DefaultResolver();
haxe_Unserializer.BASE64 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";
haxe_ds_ObjectMap.count = 0;
haxe_io_FPHelper.i64tmp = (function($this) {
	var $r;
	var this1 = new haxe__$Int64__$_$_$Int64(0,0);
	$r = this1;
	return $r;
}(this));
haxe_zip_InflateImpl.LEN_EXTRA_BITS_TBL = [0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,-1,-1];
haxe_zip_InflateImpl.LEN_BASE_VAL_TBL = [3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258];
haxe_zip_InflateImpl.DIST_EXTRA_BITS_TBL = [0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,-1,-1];
haxe_zip_InflateImpl.DIST_BASE_VAL_TBL = [1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];
haxe_zip_InflateImpl.CODE_LENGTHS_POS = [16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];
iron_RenderPath.helpMat = iron_math_Mat4.identity();
iron_RenderPath.meshContext = "mesh";
iron_RenderPath.shadowsContext = "shadowmap";
iron_RenderPath.drawCalls = 0;
iron_RenderPath.batchBuckets = 0;
iron_RenderPath.batchCalls = 0;
iron_RenderPath.culled = 0;
iron_RenderPath.numTrisMesh = 0;
iron_RenderPath.numTrisShadow = 0;
iron_data_ConstData.skydomeIndices = [0,1,2,0,3,4,3,5,6,5,7,8,7,9,10,9,11,12,13,14,15,11,16,17,13,18,2,14,2,19,2,1,20,1,4,21,4,6,22,6,8,23,8,10,24,10,12,25,14,26,15,17,27,25,22,23,28,24,29,28,24,25,30,26,31,15,25,27,32,26,19,33,19,20,34,20,21,35,21,22,36,33,34,37,34,35,38,35,36,39,36,28,40,28,29,41,30,42,41,31,43,15,30,32,44,31,33,45,40,41,46,42,47,46,43,48,15,42,44,49,43,45,50,45,37,51,37,38,52,39,53,52,39,40,54,50,51,55,51,52,56,53,57,56,53,54,58,46,59,58,46,47,60,48,61,15,47,49,62,48,50,63,59,64,65,59,60,66,61,67,15,60,62,68,61,63,69,63,55,70,56,71,70,56,57,72,57,58,65,70,71,73,71,72,74,72,65,75,64,76,75,64,66,77,67,78,15,68,79,77,67,69,80,69,70,81,76,77,82,78,83,15,77,79,84,80,85,83,80,81,86,81,73,87,74,88,87,74,75,89,76,90,89,87,88,91,88,89,92,90,93,92,90,82,94,83,95,15,82,84,96,83,85,97,86,98,97,86,87,99,95,100,15,96,101,102,95,97,103,97,98,104,98,99,105,91,106,105,91,92,107,93,108,107,93,94,102,105,106,109,106,107,110,108,111,110,108,102,112,100,113,15,102,101,114,100,103,115,103,104,116,104,105,117,114,118,119,113,115,120,115,116,121,117,122,121,109,123,122,109,110,124,111,125,124,111,112,119,113,126,15,123,124,127,125,128,127,125,119,129,126,130,15,119,118,131,126,120,132,121,133,132,121,122,134,122,123,135,130,132,136,132,133,137,133,134,138,134,135,139,135,127,140,128,141,140,128,129,142,130,143,15,129,131,144,139,140,145,141,146,145,141,142,147,143,148,15,142,144,149,143,136,150,137,151,150,138,152,151,138,139,153,150,151,154,152,155,154,153,156,155,153,145,157,146,158,157,146,147,159,148,160,15,147,149,161,148,150,162,158,163,164,158,159,165,160,166,15,161,167,165,160,162,168,162,154,169,155,170,169,156,171,170,156,157,164,169,170,172,171,173,172,171,164,174,163,175,174,163,165,176,166,177,15,165,167,178,166,168,179,168,169,180,176,181,182,177,183,15,176,178,184,177,179,185,179,180,186,172,187,186,173,188,187,173,174,189,175,182,189,187,190,191,188,192,190,188,189,193,182,194,193,182,181,195,183,196,15,181,184,197,183,185,198,185,186,191,194,195,199,196,200,15,195,197,201,196,198,202,198,191,203,190,204,203,192,205,204,192,193,206,194,207,206,205,208,209,205,206,210,207,211,210,207,199,212,200,213,15,199,201,214,202,215,213,202,203,216,204,209,216,213,217,15,214,218,219,215,220,217,215,216,221,209,222,221,209,208,223,208,210,224,211,225,224,211,212,219,223,226,227,223,224,228,225,229,228,225,219,230,217,231,15,218,232,230,220,233,231,220,221,234,222,227,234,230,232,235,231,233,236,233,234,237,227,238,237,227,226,239,226,228,240,229,241,240,229,230,242,231,243,15,239,240,244,241,245,244,241,242,246,243,247,15,235,248,246,243,236,249,237,250,249,238,251,250,239,252,251,249,250,253,250,251,254,252,255,254,252,244,256,245,257,256,245,246,258,247,259,15,248,260,258,247,249,261,257,262,263,258,264,262,259,265,15,258,260,266,259,261,267,261,253,268,253,254,269,255,270,269,255,256,263,268,271,272,269,273,271,270,274,273,270,263,275,262,276,275,262,264,277,265,278,15,264,266,279,267,272,278,276,280,281,276,277,282,278,283,15,277,279,284,278,272,285,272,271,286,271,273,287,274,288,287,274,275,281,287,3,0,288,5,3,281,7,5,280,9,7,282,11,9,283,13,15,282,284,16,285,18,13,286,0,18,0,2,18,0,4,1,3,6,4,5,8,6,7,10,8,9,12,10,11,17,12,13,2,14,14,19,26,2,20,19,1,21,20,4,22,21,6,23,22,8,24,23,10,25,24,17,25,12,22,28,36,24,28,23,24,30,29,25,32,30,26,33,31,19,34,33,20,35,34,21,36,35,33,37,45,34,38,37,35,39,38,36,40,39,28,41,40,30,41,29,30,44,42,31,45,43,40,46,54,42,46,41,42,49,47,43,50,48,45,51,50,37,52,51,39,52,38,39,54,53,50,55,63,51,56,55,53,56,52,53,58,57,46,58,54,46,60,59,47,62,60,48,63,61,59,65,58,59,66,64,60,68,66,61,69,67,63,70,69,56,70,55,56,72,71,57,65,72,70,73,81,71,74,73,72,75,74,64,75,65,64,77,76,68,77,66,67,80,78,69,81,80,76,82,90,77,84,82,80,83,78,80,86,85,81,87,86,74,87,73,74,89,88,76,89,75,87,91,99,88,92,91,90,92,89,90,94,93,82,96,94,83,97,95,86,97,85,86,99,98,96,102,94,95,103,100,97,104,103,98,105,104,91,105,99,91,107,106,93,107,92,93,102,108,105,109,117,106,110,109,108,110,107,108,112,111,102,114,112,100,115,113,103,116,115,104,117,116,114,119,112,113,120,126,115,121,120,117,121,116,109,122,117,109,124,123,111,124,110,111,119,125,123,127,135,125,127,124,125,129,128,119,131,129,126,132,130,121,132,120,121,134,133,122,135,134,130,136,143,132,137,136,133,138,137,134,139,138,135,140,139,128,140,127,128,142,141,129,144,142,139,145,153,141,145,140,141,147,146,142,149,147,143,150,148,137,150,136,138,151,137,138,153,152,150,154,162,152,154,151,153,155,152,153,157,156,146,157,145,146,159,158,147,161,159,148,162,160,158,164,157,158,165,163,161,165,159,160,168,166,162,169,168,155,169,154,156,170,155,156,164,171,169,172,180,171,172,170,171,174,173,163,174,164,163,176,175,165,178,176,166,179,177,168,180,179,176,182,175,176,184,181,177,185,183,179,186,185,172,186,180,173,187,172,173,189,188,175,189,174,187,191,186,188,190,187,188,193,192,182,193,189,182,195,194,181,197,195,183,198,196,185,191,198,194,199,207,195,201,199,196,202,200,198,203,202,190,203,191,192,204,190,192,206,205,194,206,193,205,209,204,205,210,208,207,210,206,207,212,211,199,214,212,202,213,200,202,216,215,204,216,203,214,219,212,215,217,213,215,221,220,209,221,216,209,223,222,208,224,223,211,224,210,211,219,225,223,227,222,223,228,226,225,228,224,225,230,229,218,230,219,220,231,217,220,234,233,222,234,221,230,235,242,231,236,243,233,237,236,227,237,234,227,239,238,226,240,239,229,240,228,229,242,241,239,244,252,241,244,240,241,246,245,235,246,242,243,249,247,237,249,236,238,250,237,239,251,238,249,253,261,250,254,253,252,254,251,252,256,255,245,256,244,245,258,257,248,258,246,247,261,259,257,263,256,258,262,257,258,266,264,259,267,265,261,268,267,253,269,268,255,269,254,255,263,270,268,272,267,269,271,268,270,273,269,270,275,274,262,275,263,262,277,276,264,279,277,267,278,265,276,281,275,276,282,280,277,284,282,278,285,283,272,286,285,271,287,286,274,287,273,274,281,288,287,0,286,288,3,287,281,5,288,280,7,281,282,9,280,282,16,11,285,13,283,286,18,285,84,289,96,96,289,101,101,289,114,114,289,118,118,289,131,144,131,289,149,144,289,149,289,161,161,289,167,167,289,178,178,289,184,184,289,197,197,289,201,201,289,214,214,289,218,218,289,232,232,289,235,235,289,248,260,248,289,260,289,266,266,289,279,279,289,284,284,289,16,16,289,17,27,17,289,27,289,32,44,32,289,44,289,49,49,289,62,62,289,68,68,289,79,79,289,84];
iron_data_ConstData.skydomePos = [-0.55557,0.0,0.83147,-0.544895,0.108386,0.83147,-0.37533,0.074658,0.92388,-0.707107,0.0,0.707107,-0.69352,0.13795,0.707107,-0.83147,0.0,0.55557,-0.815493,0.162212,0.55557,-0.92388,0.0,0.382683,-0.906127,0.18024,0.382683,-0.980785,0.0,0.19509,-0.96194,0.191342,0.19509,-1.0,0.0,0.0,-0.980785,0.19509,0.0,-0.19509,0.0,0.980785,-0.191342,0.03806,0.980785,0.0,0.0,1.,-0.980785,0.0,-0.28234,-0.96194,0.191342,-0.28234,-0.382683,0.0,0.92388,-0.353553,0.146447,0.92388,-0.51328,0.212608,0.83147,-0.653281,0.270598,0.707107,-0.768178,0.31819,0.55557,-0.853553,0.353553,0.382683,-0.906127,0.37533,0.19509,-0.923879,0.382684,0.0,-0.18024,0.074658,0.980785,-0.906127,0.37533,-0.28234,-0.768178,0.51328,0.382683,-0.815493,0.544895,0.19509,-0.831469,0.55557,0.0,-0.162212,0.108387,0.980785,-0.815493,0.544895,-0.28234,-0.31819,0.212608,0.92388,-0.46194,0.308658,0.83147,-0.587938,0.392848,0.707107,-0.691342,0.46194,0.55557,-0.392847,0.392848,0.83147,-0.5,0.5,0.707107,-0.587938,0.587938,0.55557,-0.653281,0.653282,0.382683,-0.69352,0.69352,0.19509,-0.707107,0.707107,0.0,-0.13795,0.13795,0.980785,-0.69352,0.69352,-0.28234,-0.270598,0.270598,0.92388,-0.544895,0.815493,0.19509,-0.55557,0.83147,0.0,-0.108386,0.162212,0.980785,-0.544895,0.815493,-0.28234,-0.212607,0.31819,0.92388,-0.308658,0.46194,0.83147,-0.392847,0.587938,0.707107,-0.46194,0.691342,0.55557,-0.51328,0.768178,0.382683,-0.212607,0.51328,0.83147,-0.270598,0.653282,0.707107,-0.318189,0.768178,0.55557,-0.353553,0.853554,0.382683,-0.37533,0.906128,0.19509,-0.382683,0.92388,0.0,-0.074658,0.18024,0.980785,-0.37533,0.906128,-0.28234,-0.146446,0.353554,0.92388,-0.191341,0.96194,0.19509,-0.18024,0.906128,0.382683,-0.19509,0.980785,0.0,-0.03806,0.191342,0.980785,-0.191341,0.96194,-0.28234,-0.074658,0.375331,0.92388,-0.108386,0.544895,0.83147,-0.137949,0.69352,0.707107,-0.162211,0.815493,0.55557,0.0,0.707107,0.707107,0.0,0.83147,0.55557,0.0,0.92388,0.382683,0.0,0.980785,0.19509,0.0,1.,0.0,0.0,0.195091,0.980785,0.0,0.980785,-0.28234,0.0,0.382684,0.92388,0.0,0.55557,0.83147,0.195091,0.980785,0.0,0.038061,0.191342,0.980785,0.191342,0.96194,-0.28234,0.074658,0.375331,0.92388,0.108387,0.544895,0.83147,0.13795,0.69352,0.707107,0.162212,0.815493,0.55557,0.18024,0.906128,0.382683,0.191342,0.96194,0.19509,0.31819,0.768178,0.55557,0.353554,0.853554,0.382683,0.375331,0.906127,0.19509,0.382684,0.92388,0.0,0.074658,0.18024,0.980785,0.375331,0.906127,-0.28234,0.146447,0.353554,0.92388,0.212608,0.51328,0.83147,0.270598,0.653282,0.707107,0.108387,0.162212,0.980785,0.544895,0.815493,-0.28234,0.555571,0.83147,0.0,0.212608,0.31819,0.92388,0.308659,0.46194,0.83147,0.392848,0.587938,0.707107,0.46194,0.691342,0.55557,0.51328,0.768178,0.382683,0.544895,0.815493,0.19509,0.587938,0.587938,0.55557,0.653282,0.653282,0.382683,0.69352,0.69352,0.19509,0.707107,0.707107,0.0,0.13795,0.13795,0.980785,0.69352,0.69352,-0.28234,0.270599,0.270598,0.92388,0.392848,0.392848,0.83147,0.5,0.5,0.707107,0.815493,0.544895,-0.28234,0.83147,0.55557,0.0,0.31819,0.212608,0.92388,0.46194,0.308658,0.83147,0.587938,0.392848,0.707107,0.691342,0.46194,0.55557,0.768178,0.51328,0.382683,0.815493,0.544895,0.19509,0.162212,0.108386,0.980785,0.853554,0.353553,0.382683,0.906128,0.37533,0.19509,0.92388,0.382683,0.0,0.18024,0.074658,0.980785,0.906128,0.37533,-0.28234,0.353554,0.146447,0.92388,0.51328,0.212608,0.83147,0.653282,0.270598,0.707107,0.768178,0.31819,0.55557,0.375331,0.074658,0.92388,0.544896,0.108386,0.83147,0.69352,0.13795,0.707107,0.815493,0.162212,0.55557,0.906128,0.18024,0.382683,0.96194,0.191342,0.19509,0.980786,0.19509,0.0,0.191342,0.03806,0.980785,0.96194,0.191342,-0.28234,0.92388,0.0,0.382683,0.980785,0.0,0.19509,1.,0.0,0.0,0.195091,0.0,0.980785,0.980785,0.0,-0.28234,0.382684,0.0,0.92388,0.555571,0.0,0.83147,0.707107,0.0,0.707107,0.83147,0.0,0.55557,0.544896,-0.108386,0.83147,0.69352,-0.13795,0.707107,0.815493,-0.162212,0.55557,0.906128,-0.18024,0.382683,0.96194,-0.191342,0.19509,0.980786,-0.19509,0.0,0.191342,-0.03806,0.980785,0.96194,-0.191342,-0.28234,0.375331,-0.074658,0.92388,0.906127,-0.37533,0.19509,0.853554,-0.353553,0.382683,0.92388,-0.382684,0.0,0.18024,-0.074658,0.980785,0.906127,-0.37533,-0.28234,0.353554,-0.146447,0.92388,0.51328,-0.212608,0.83147,0.653282,-0.270598,0.707107,0.768178,-0.31819,0.55557,0.587938,-0.392847,0.707107,0.691342,-0.46194,0.55557,0.768178,-0.51328,0.382683,0.815493,-0.544895,0.19509,0.83147,-0.55557,0.0,0.162212,-0.108386,0.980785,0.815493,-0.544895,-0.28234,0.31819,-0.212608,0.92388,0.46194,-0.308658,0.83147,0.707107,-0.707107,0.0,0.69352,-0.69352,0.19509,0.13795,-0.13795,0.980785,0.69352,-0.69352,-0.28234,0.270598,-0.270598,0.92388,0.392848,-0.392848,0.83147,0.5,-0.5,0.707107,0.587938,-0.587938,0.55557,0.653282,-0.653281,0.382683,0.392848,-0.587938,0.707107,0.308659,-0.46194,0.83147,0.46194,-0.691342,0.55557,0.51328,-0.768178,0.382683,0.544895,-0.815493,0.19509,0.55557,-0.83147,0.0,0.108387,-0.162212,0.980785,0.544895,-0.815493,-0.28234,0.212608,-0.31819,0.92388,0.382684,-0.92388,0.0,0.074658,-0.18024,0.980785,0.37533,-0.906127,-0.28234,0.146447,-0.353553,0.92388,0.212608,-0.51328,0.83147,0.270598,-0.653281,0.707107,0.31819,-0.768177,0.55557,0.353554,-0.853553,0.382683,0.37533,-0.906127,0.19509,0.162212,-0.815493,0.55557,0.13795,-0.69352,0.707107,0.18024,-0.906127,0.382683,0.191342,-0.961939,0.19509,0.19509,-0.980785,0.0,0.038061,-0.191342,0.980785,0.191342,-0.961939,-0.28234,0.074658,-0.37533,0.92388,0.108387,-0.544895,0.83147,0.0,-0.19509,0.980785,0.0,-0.980785,-0.28234,0.0,-1.0,0.0,0.0,-0.382683,0.92388,0.0,-0.55557,0.83147,0.0,-0.707107,0.707107,0.0,-0.831469,0.55557,0.0,-0.923879,0.382683,0.0,-0.980785,0.19509,-0.162211,-0.815493,0.55557,-0.137949,-0.69352,0.707107,-0.18024,-0.906127,0.382683,-0.191342,-0.961939,0.19509,-0.19509,-0.980785,0.0,-0.03806,-0.191342,0.980785,-0.191342,-0.961939,-0.28234,-0.074658,-0.37533,0.92388,-0.108386,-0.544895,0.83147,-0.37533,-0.906127,-0.28234,-0.146446,-0.353553,0.92388,-0.212607,-0.51328,0.83147,-0.270598,-0.653281,0.707107,-0.318189,-0.768177,0.55557,-0.353553,-0.853553,0.382683,-0.37533,-0.906127,0.19509,-0.382683,-0.923879,0.0,-0.074658,-0.18024,0.980785,-0.51328,-0.768178,0.382683,-0.544895,-0.815493,0.19509,-0.55557,-0.831469,0.0,-0.108386,-0.162212,0.980785,-0.544895,-0.815493,-0.28234,-0.212607,-0.31819,0.92388,-0.308658,-0.46194,0.83147,-0.392847,-0.587938,0.707107,-0.461939,-0.691341,0.55557,-0.392847,-0.392847,0.83147,-0.5,-0.5,0.707107,-0.587937,-0.587937,0.55557,-0.653281,-0.653281,0.382683,-0.693519,-0.693519,0.19509,-0.707106,-0.707106,0.0,-0.137949,-0.13795,0.980785,-0.693519,-0.693519,-0.28234,-0.270598,-0.270598,0.92388,-0.815492,-0.544895,0.19509,-0.768177,-0.51328,0.382683,-0.831469,-0.55557,0.0,-0.162211,-0.108386,0.980785,-0.815492,-0.544895,-0.28234,-0.318189,-0.212607,0.92388,-0.461939,-0.308658,0.83147,-0.587937,-0.392847,0.707107,-0.691341,-0.461939,0.55557,-0.51328,-0.212607,0.83147,-0.353553,-0.146447,0.92388,-0.653281,-0.270598,0.707107,-0.768177,-0.318189,0.55557,-0.853553,-0.353553,0.382683,-0.906127,-0.37533,0.19509,-0.923879,-0.382683,0.0,-0.18024,-0.074658,0.980785,-0.906127,-0.37533,-0.28234,-0.961939,-0.191341,0.19509,-0.906127,-0.18024,0.382683,-0.980785,-0.19509,0.0,-0.191342,-0.03806,0.980785,-0.961939,-0.191341,-0.28234,-0.37533,-0.074658,0.92388,-0.544895,-0.108386,0.83147,-0.69352,-0.13795,0.707107,-0.815492,-0.162211,0.55557,0.0,0.0,-0.860043];
iron_data_ConstData.skydomeNor = [0.559771,0.0,-0.828639,0.548997,-0.109195,-0.828639,0.380413,-0.075655,-0.92169,0.710135,0.0,-0.704031,0.696493,-0.138524,-0.704031,0.833338,0.0,-0.552751,0.817316,-0.162572,-0.552751,0.924741,0.0,-0.380535,0.90698,-0.180395,-0.380535,0.980987,0.0,-0.193915,0.962157,-0.191382,-0.193915,0.999878,0.0,-0.015015,0.980651,-0.195044,-0.015015,0.200964,0.0,-0.979583,0.197089,-0.039186,-0.979583,0.0,0.0,-1.0,0.858486,0.0,0.512803,0.841975,-0.167455,0.512803,0.38786,0.0,-0.92169,0.358348,-0.148412,-0.92169,0.517136,-0.214209,-0.828639,0.656056,-0.271737,-0.704031,0.76989,-0.318888,-0.552751,0.854366,-0.353862,-0.380535,0.906339,-0.375408,-0.193915,0.923765,-0.382611,-0.015015,0.185644,-0.076907,-0.979583,0.793146,-0.328532,0.512803,0.768914,-0.513749,-0.380535,0.815668,-0.545,-0.193915,0.831355,-0.555498,-0.015015,0.167089,-0.111637,-0.979583,0.713797,-0.476943,0.512803,0.322489,-0.215491,-0.92169,0.465407,-0.310984,-0.828639,0.590442,-0.394513,-0.704031,0.692892,-0.462966,-0.552751,0.395795,-0.395795,-0.828639,0.502121,-0.502121,-0.704031,0.589251,-0.589251,-0.552751,0.65389,-0.65389,-0.380535,0.693655,-0.693655,-0.193915,0.707022,-0.707022,-0.015015,0.142094,-0.142094,-0.979583,0.607044,-0.607044,0.512803,0.27427,-0.27427,-0.92169,0.545,-0.815668,-0.193915,0.555498,-0.831355,-0.015015,0.111637,-0.167089,-0.979583,0.476943,-0.713797,0.512803,0.215491,-0.322489,-0.92169,0.310984,-0.465407,-0.828639,0.394513,-0.590442,-0.704031,0.462966,-0.692892,-0.552751,0.513749,-0.768914,-0.380535,0.214209,-0.517136,-0.828639,0.271737,-0.656056,-0.704031,0.318888,-0.76989,-0.552751,0.353862,-0.854366,-0.380535,0.375408,-0.906339,-0.193915,0.382611,-0.923765,-0.015015,0.076907,-0.185644,-0.979583,0.328532,-0.793146,0.512803,0.148412,-0.358348,-0.92169,0.191382,-0.962157,-0.193915,0.180395,-0.90698,-0.380535,0.195044,-0.980651,-0.015015,0.039186,-0.197089,-0.979583,0.167455,-0.841975,0.512803,0.075655,-0.380413,-0.92169,0.109195,-0.548997,-0.828639,0.138524,-0.696493,-0.704031,0.162572,-0.817316,-0.552751,0.0,-0.710135,-0.704031,0.0,-0.833338,-0.552751,0.0,-0.924741,-0.380535,0.0,-0.980987,-0.193915,0.0,-0.999878,-0.015015,0.0,-0.200964,-0.979583,0.0,-0.858486,0.512803,0.0,-0.38786,-0.92169,0.0,-0.559771,-0.828639,-0.195044,-0.980651,-0.015015,-0.039186,-0.197089,-0.979583,-0.167455,-0.841975,0.512803,-0.075655,-0.380413,-0.92169,-0.109195,-0.548997,-0.828639,-0.138524,-0.696493,-0.704031,-0.162572,-0.817316,-0.552751,-0.180395,-0.90698,-0.380535,-0.191382,-0.962157,-0.193915,-0.318888,-0.76989,-0.552751,-0.353862,-0.854366,-0.380535,-0.375408,-0.906339,-0.193915,-0.382611,-0.923765,-0.015015,-0.076907,-0.185644,-0.979583,-0.328532,-0.793146,0.512803,-0.148412,-0.358348,-0.92169,-0.214209,-0.517136,-0.828639,-0.271737,-0.656056,-0.704031,-0.111637,-0.167089,-0.979583,-0.476943,-0.713797,0.512803,-0.555498,-0.831355,-0.015015,-0.215491,-0.322489,-0.92169,-0.310984,-0.465407,-0.828639,-0.394513,-0.590442,-0.704031,-0.462966,-0.692892,-0.552751,-0.513749,-0.768914,-0.380535,-0.545,-0.815668,-0.193915,-0.589251,-0.589251,-0.552751,-0.65389,-0.65389,-0.380535,-0.693655,-0.693655,-0.193915,-0.707022,-0.707022,-0.015015,-0.142094,-0.142094,-0.979583,-0.607044,-0.607044,0.512803,-0.27427,-0.27427,-0.92169,-0.395795,-0.395795,-0.828639,-0.502121,-0.502121,-0.704031,-0.713797,-0.476943,0.512803,-0.831355,-0.555498,-0.015015,-0.322489,-0.215491,-0.92169,-0.465407,-0.310984,-0.828639,-0.590442,-0.394513,-0.704031,-0.692892,-0.462966,-0.552751,-0.768914,-0.513749,-0.380535,-0.815668,-0.545,-0.193915,-0.167089,-0.111637,-0.979583,-0.854366,-0.353862,-0.380535,-0.906339,-0.375408,-0.193915,-0.923765,-0.382611,-0.015015,-0.185644,-0.076907,-0.979583,-0.793146,-0.328532,0.512803,-0.358348,-0.148412,-0.92169,-0.517136,-0.214209,-0.828639,-0.656056,-0.271737,-0.704031,-0.76989,-0.318888,-0.552751,-0.380413,-0.075655,-0.92169,-0.548997,-0.109195,-0.828639,-0.696493,-0.138524,-0.704031,-0.817316,-0.162572,-0.552751,-0.90698,-0.180395,-0.380535,-0.962157,-0.191382,-0.193915,-0.980651,-0.195044,-0.015015,-0.197089,-0.039186,-0.979583,-0.841975,-0.167455,0.512803,-0.924741,0.0,-0.380535,-0.980987,0.0,-0.193915,-0.999878,0.0,-0.015015,-0.200964,0.0,-0.979583,-0.858486,0.0,0.512803,-0.38786,0.0,-0.92169,-0.559771,0.0,-0.828639,-0.710135,0.0,-0.704031,-0.833338,0.0,-0.552751,-0.548997,0.109195,-0.828639,-0.696493,0.138524,-0.704031,-0.817316,0.162572,-0.552751,-0.90698,0.180395,-0.380535,-0.962157,0.191382,-0.193915,-0.980651,0.195044,-0.015015,-0.197089,0.039186,-0.979583,-0.841975,0.167455,0.512803,-0.380413,0.075655,-0.92169,-0.906339,0.375408,-0.193915,-0.854366,0.353862,-0.380535,-0.923765,0.382611,-0.015015,-0.185644,0.076907,-0.979583,-0.793146,0.328532,0.512803,-0.358348,0.148412,-0.92169,-0.517136,0.214209,-0.828639,-0.656056,0.271737,-0.704031,-0.76989,0.318888,-0.552751,-0.590442,0.394513,-0.704031,-0.692892,0.462966,-0.552751,-0.768914,0.513749,-0.380535,-0.815668,0.545,-0.193915,-0.831355,0.555498,-0.015015,-0.167089,0.111637,-0.979583,-0.713797,0.476943,0.512803,-0.322489,0.215491,-0.92169,-0.465407,0.310984,-0.828639,-0.707022,0.707022,-0.015015,-0.693655,0.693655,-0.193915,-0.142094,0.142094,-0.979583,-0.607044,0.607044,0.512803,-0.27427,0.27427,-0.92169,-0.395795,0.395795,-0.828639,-0.502121,0.502121,-0.704031,-0.589251,0.589251,-0.552751,-0.65389,0.65389,-0.380535,-0.394513,0.590442,-0.704031,-0.310984,0.465407,-0.828639,-0.462966,0.692892,-0.552751,-0.513749,0.768914,-0.380535,-0.545,0.815668,-0.193915,-0.555498,0.831355,-0.015015,-0.111637,0.167089,-0.979583,-0.476943,0.713797,0.512803,-0.215491,0.322489,-0.92169,-0.382611,0.923765,-0.015015,-0.076907,0.185644,-0.979583,-0.328532,0.793146,0.512803,-0.148412,0.358348,-0.92169,-0.214209,0.517136,-0.828639,-0.271737,0.656056,-0.704031,-0.318888,0.76989,-0.552751,-0.353862,0.854366,-0.380535,-0.375408,0.906339,-0.193915,-0.162572,0.817316,-0.552751,-0.138524,0.696493,-0.704031,-0.180395,0.90698,-0.380535,-0.191382,0.962157,-0.193915,-0.195044,0.980651,-0.015015,-0.039186,0.197089,-0.979583,-0.167455,0.841975,0.512803,-0.075655,0.380413,-0.92169,-0.109195,0.548997,-0.828639,0.0,0.200964,-0.979583,0.0,0.858486,0.512803,0.0,0.999878,-0.015015,0.0,0.38786,-0.92169,0.0,0.559771,-0.828639,0.0,0.710135,-0.704031,0.0,0.833338,-0.552751,0.0,0.924741,-0.380535,0.0,0.980987,-0.193915,0.162572,0.817316,-0.552751,0.138524,0.696493,-0.704031,0.180395,0.90698,-0.380535,0.191382,0.962157,-0.193915,0.195044,0.980651,-0.015015,0.039186,0.197089,-0.979583,0.167455,0.841975,0.512803,0.075655,0.380413,-0.92169,0.109195,0.548997,-0.828639,0.328532,0.793146,0.512803,0.148412,0.358348,-0.92169,0.214209,0.517136,-0.828639,0.271737,0.656056,-0.704031,0.318888,0.76989,-0.552751,0.353862,0.854366,-0.380535,0.375408,0.906339,-0.193915,0.382611,0.923765,-0.015015,0.076907,0.185644,-0.979583,0.513749,0.768914,-0.380535,0.545,0.815668,-0.193915,0.555498,0.831355,-0.015015,0.111637,0.167089,-0.979583,0.476943,0.713797,0.512803,0.215491,0.322489,-0.92169,0.310984,0.465407,-0.828639,0.394513,0.590442,-0.704031,0.462966,0.692892,-0.552751,0.395795,0.395795,-0.828639,0.502121,0.502121,-0.704031,0.589251,0.589251,-0.552751,0.65389,0.65389,-0.380535,0.693655,0.693655,-0.193915,0.707022,0.707022,-0.015015,0.142094,0.142094,-0.979583,0.607044,0.607044,0.512803,0.27427,0.27427,-0.92169,0.815668,0.545,-0.193915,0.768914,0.513749,-0.380535,0.831355,0.555498,-0.015015,0.167089,0.111637,-0.979583,0.713797,0.476943,0.512803,0.322489,0.215491,-0.92169,0.465407,0.310984,-0.828639,0.590442,0.394513,-0.704031,0.692892,0.462966,-0.552751,0.517136,0.214209,-0.828639,0.358348,0.148412,-0.92169,0.656056,0.271737,-0.704031,0.76989,0.318888,-0.552751,0.854366,0.353862,-0.380535,0.906339,0.375408,-0.193915,0.923765,0.382611,-0.015015,0.185644,0.076907,-0.979583,0.793146,0.328532,0.512803,0.962157,0.191382,-0.193915,0.90698,0.180395,-0.380535,0.980651,0.195044,-0.015015,0.197089,0.039186,-0.979583,0.841975,0.167486,0.512803,0.380413,0.075655,-0.92169,0.548997,0.109195,-0.828639,0.696493,0.138524,-0.704031,0.817316,0.162572,-0.552751,0.0,0.0,0.999969];
iron_data_ConstData.sphereIndices = [0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,11,12,13,14,15,16,14,16,17,18,19,20,18,20,21,22,23,24,22,24,25,26,27,28,26,28,29,30,31,32,33,34,35,33,35,36,37,38,39,37,39,40,41,42,43,41,43,44,45,46,47,45,47,48,49,50,51,49,51,52,53,54,55,53,55,56,57,58,59,60,61,62,60,62,63,64,65,66,64,66,67,68,69,70,68,70,71,72,73,74,72,74,75,76,77,78,79,80,81,82,83,84,82,84,85,86,87,88,86,88,89,90,91,92,90,92,93,94,95,96,94,96,97,98,99,100,98,100,101,102,103,104,105,106,107,108,109,110,108,110,111,112,113,114,112,114,115,116,117,118,116,118,119,120,121,122,123,124,125,126,127,128,126,128,129,130,131,132,130,132,133,134,135,136,134,136,137,138,139,140,138,140,141,142,143,144,142,144,145,146,147,148,146,148,149,150,151,152,150,152,153,154,155,156,154,156,157,158,159,160,158,160,161,162,163,164,162,164,165,166,167,168,166,168,169,170,171,172,170,172,173,174,175,176,177,178,179,180,181,182,180,182,183,184,185,186,184,186,187,188,189,190,188,190,191,192,193,194,195,196,197,198,199,200,198,200,201,202,203,204,202,204,205,206,207,208,206,208,209,210,211,212,210,212,213,214,215,216,214,216,217,218,219,220,221,222,223,224,225,226,224,226,227,228,229,230,228,230,231,232,233,234,232,234,235,236,237,238,236,238,239,240,241,242,243,244,245,243,245,246,247,248,249,247,249,250,251,252,253,251,253,254,255,256,257,255,257,258,259,260,261,259,261,262,263,264,265,263,265,266,267,268,269,270,271,272,270,272,273,274,275,276,274,276,277,278,279,280,278,280,281,282,283,284,282,284,285,286,287,288,286,288,289,290,291,292,293,294,295,296,297,298,296,298,299,300,301,302,300,302,303,304,305,306,304,306,307,308,309,310,308,310,311,312,313,314,315,316,317,318,319,320,318,320,321,322,323,324,322,324,325,326,327,328,326,328,329,330,331,332,330,332,333,334,335,336,337,338,339,340,341,342,340,342,343,344,345,346,344,346,347,348,349,350,348,350,351,352,353,354,352,354,355,356,357,358,356,358,359,360,361,362,363,364,365,363,365,366,367,368,369,367,369,370,371,372,373,371,373,374,375,376,377,375,377,378,379,380,381,379,381,382,383,384,385,383,385,386,387,388,389,390,391,392,390,392,393,394,395,396,394,396,397,398,399,400,398,400,401,402,403,404,402,404,405,406,407,408,409,410,411,412,413,414,412,414,415,416,417,418,416,418,419,420,421,422,420,422,423,424,425,426,424,426,427,428,429,430,428,430,431,432,433,434,435,436,437,438,439,440,438,440,441,442,443,444,442,444,445,446,447,448,446,448,449,450,451,452,453,454,455,456,457,458,456,458,459,460,461,462,460,462,463,464,465,466,464,466,467,468,469,470,468,470,471,472,473,474,472,474,475,476,477,478,476,478,479];
iron_data_ConstData.spherePos = [0.0,0.46194,-0.191342,0.0,0.5,0.0,0.191342,0.46194,0.0,0.176777,0.426777,-0.191342,0.0,0.46194,0.191342,0.0,0.353553,0.353553,0.135299,0.326641,0.353553,0.176777,0.426777,0.191342,0.0,0.191342,0.46194,0.0,0.0,0.5,0.073223,0.176777,0.46194,0.0,0.0,-0.5,0.0,0.191342,-0.46194,0.073223,0.176777,-0.46194,0.0,0.353553,-0.353553,0.0,0.46194,-0.191342,0.176777,0.426777,-0.191342,0.135299,0.326641,-0.353553,0.0,0.5,0.0,0.0,0.46194,0.191342,0.176777,0.426777,0.191342,0.191342,0.46194,0.0,0.0,0.353553,0.353553,0.0,0.191342,0.46194,0.073223,0.176777,0.46194,0.135299,0.326641,0.353553,0.0,0.191342,-0.46194,0.0,0.353553,-0.353553,0.135299,0.326641,-0.353553,0.073223,0.176777,-0.46194,0.0,0.0,-0.5,0.073223,0.176777,-0.46194,0.135299,0.135299,-0.46194,0.135299,0.326641,-0.353553,0.176777,0.426777,-0.191342,0.326641,0.326641,-0.191342,0.25,0.25,-0.353553,0.191342,0.46194,0.0,0.176777,0.426777,0.191342,0.326641,0.326641,0.191342,0.353553,0.353553,0.0,0.135299,0.326641,0.353553,0.073223,0.176777,0.46194,0.135299,0.135299,0.46194,0.25,0.25,0.353553,0.073223,0.176777,-0.46194,0.135299,0.326641,-0.353553,0.25,0.25,-0.353553,0.135299,0.135299,-0.46194,0.176777,0.426777,-0.191342,0.191342,0.46194,0.0,0.353553,0.353553,0.0,0.326641,0.326641,-0.191342,0.176777,0.426777,0.191342,0.135299,0.326641,0.353553,0.25,0.25,0.353553,0.326641,0.326641,0.191342,0.073223,0.176777,0.46194,0.0,0.0,0.5,0.135299,0.135299,0.46194,0.25,0.25,0.353553,0.135299,0.135299,0.46194,0.176777,0.073223,0.46194,0.326641,0.135299,0.353553,0.135299,0.135299,-0.46194,0.25,0.25,-0.353553,0.326641,0.135299,-0.353553,0.176777,0.073223,-0.46194,0.326641,0.326641,-0.191342,0.353553,0.353553,0.0,0.46194,0.191342,0.0,0.426777,0.176777,-0.191342,0.326641,0.326641,0.191342,0.25,0.25,0.353553,0.326641,0.135299,0.353553,0.426777,0.176777,0.191342,0.135299,0.135299,0.46194,0.0,0.0,0.5,0.176777,0.073223,0.46194,0.0,0.0,-0.5,0.135299,0.135299,-0.46194,0.176777,0.073223,-0.46194,0.25,0.25,-0.353553,0.326641,0.326641,-0.191342,0.426777,0.176777,-0.191342,0.326641,0.135299,-0.353553,0.353553,0.353553,0.0,0.326641,0.326641,0.191342,0.426777,0.176777,0.191342,0.46194,0.191342,0.0,0.176777,0.073223,-0.46194,0.326641,0.135299,-0.353553,0.353553,0.0,-0.353553,0.191342,0.0,-0.46194,0.426777,0.176777,-0.191342,0.46194,0.191342,0.0,0.5,0.0,0.0,0.46194,0.0,-0.191342,0.426777,0.176777,0.191342,0.326641,0.135299,0.353553,0.353553,0.0,0.353553,0.46194,0.0,0.191342,0.176777,0.073223,0.46194,0.0,0.0,0.5,0.191342,0.0,0.46194,0.0,0.0,-0.5,0.176777,0.073223,-0.46194,0.191342,0.0,-0.46194,0.326641,0.135299,-0.353553,0.426777,0.176777,-0.191342,0.46194,0.0,-0.191342,0.353553,0.0,-0.353553,0.46194,0.191342,0.0,0.426777,0.176777,0.191342,0.46194,0.0,0.191342,0.5,0.0,0.0,0.326641,0.135299,0.353553,0.176777,0.073223,0.46194,0.191342,0.0,0.46194,0.353553,0.0,0.353553,0.191342,0.0,0.46194,0.0,0.0,0.5,0.176777,-0.073223,0.46194,0.0,0.0,-0.5,0.191342,0.0,-0.46194,0.176777,-0.073223,-0.46194,0.353553,0.0,-0.353553,0.46194,0.0,-0.191342,0.426777,-0.176777,-0.191342,0.326641,-0.135299,-0.353553,0.5,0.0,0.0,0.46194,0.0,0.191342,0.426777,-0.176777,0.191342,0.46194,-0.191342,0.0,0.353553,0.0,0.353553,0.191342,0.0,0.46194,0.176777,-0.073223,0.46194,0.326641,-0.135299,0.353553,0.191342,0.0,-0.46194,0.353553,0.0,-0.353553,0.326641,-0.135299,-0.353553,0.176777,-0.073223,-0.46194,0.46194,0.0,-0.191342,0.5,0.0,0.0,0.46194,-0.191342,0.0,0.426777,-0.176777,-0.191342,0.46194,0.0,0.191342,0.353553,0.0,0.353553,0.326641,-0.135299,0.353553,0.426777,-0.176777,0.191342,0.326641,-0.135299,-0.353553,0.426777,-0.176777,-0.191342,0.326641,-0.326641,-0.191342,0.25,-0.25,-0.353553,0.46194,-0.191342,0.0,0.426777,-0.176777,0.191342,0.326641,-0.326641,0.191342,0.353553,-0.353553,0.0,0.326641,-0.135299,0.353553,0.176777,-0.073223,0.46194,0.135299,-0.135299,0.46194,0.25,-0.25,0.353553,0.176777,-0.073223,-0.46194,0.326641,-0.135299,-0.353553,0.25,-0.25,-0.353553,0.135299,-0.135299,-0.46194,0.426777,-0.176777,-0.191342,0.46194,-0.191342,0.0,0.353553,-0.353553,0.0,0.326641,-0.326641,-0.191342,0.426777,-0.176777,0.191342,0.326641,-0.135299,0.353553,0.25,-0.25,0.353553,0.326641,-0.326641,0.191342,0.176777,-0.073223,0.46194,0.0,0.0,0.5,0.135299,-0.135299,0.46194,0.0,0.0,-0.5,0.176777,-0.073223,-0.46194,0.135299,-0.135299,-0.46194,0.135299,-0.135299,-0.46194,0.25,-0.25,-0.353553,0.135299,-0.326641,-0.353553,0.073223,-0.176777,-0.46194,0.326641,-0.326641,-0.191342,0.353553,-0.353553,0.0,0.191342,-0.46194,0.0,0.176777,-0.426777,-0.191342,0.326641,-0.326641,0.191342,0.25,-0.25,0.353553,0.135299,-0.326641,0.353553,0.176777,-0.426777,0.191342,0.135299,-0.135299,0.46194,0.0,0.0,0.5,0.073223,-0.176777,0.46194,0.0,0.0,-0.5,0.135299,-0.135299,-0.46194,0.073223,-0.176777,-0.46194,0.25,-0.25,-0.353553,0.326641,-0.326641,-0.191342,0.176777,-0.426777,-0.191342,0.135299,-0.326641,-0.353553,0.353553,-0.353553,0.0,0.326641,-0.326641,0.191342,0.176777,-0.426777,0.191342,0.191342,-0.46194,0.0,0.25,-0.25,0.353553,0.135299,-0.135299,0.46194,0.073223,-0.176777,0.46194,0.135299,-0.326641,0.353553,0.176777,-0.426777,-0.191342,0.191342,-0.46194,0.0,0.0,-0.5,0.0,0.0,-0.46194,-0.191342,0.176777,-0.426777,0.191342,0.135299,-0.326641,0.353553,0.0,-0.353553,0.353553,0.0,-0.46194,0.191342,0.073223,-0.176777,0.46194,0.0,0.0,0.5,0.0,-0.191342,0.46194,0.0,0.0,-0.5,0.073223,-0.176777,-0.46194,0.0,-0.191342,-0.46194,0.135299,-0.326641,-0.353553,0.176777,-0.426777,-0.191342,0.0,-0.46194,-0.191342,0.0,-0.353553,-0.353553,0.191342,-0.46194,0.0,0.176777,-0.426777,0.191342,0.0,-0.46194,0.191342,0.0,-0.5,0.0,0.135299,-0.326641,0.353553,0.073223,-0.176777,0.46194,0.0,-0.191342,0.46194,0.0,-0.353553,0.353553,0.073223,-0.176777,-0.46194,0.135299,-0.326641,-0.353553,0.0,-0.353553,-0.353553,0.0,-0.191342,-0.46194,0.0,0.0,-0.5,0.0,-0.191342,-0.46194,-0.073223,-0.176777,-0.46194,0.0,-0.353553,-0.353553,0.0,-0.46194,-0.191342,-0.176777,-0.426776,-0.191342,-0.135299,-0.32664,-0.353553,0.0,-0.5,0.0,0.0,-0.46194,0.191342,-0.176777,-0.426776,0.191342,-0.191342,-0.461939,0.0,0.0,-0.353553,0.353553,0.0,-0.191342,0.46194,-0.073223,-0.176777,0.46194,-0.135299,-0.32664,0.353553,0.0,-0.191342,-0.46194,0.0,-0.353553,-0.353553,-0.135299,-0.32664,-0.353553,-0.073223,-0.176777,-0.46194,0.0,-0.46194,-0.191342,0.0,-0.5,0.0,-0.191342,-0.461939,0.0,-0.176777,-0.426776,-0.191342,0.0,-0.46194,0.191342,0.0,-0.353553,0.353553,-0.135299,-0.32664,0.353553,-0.176777,-0.426776,0.191342,0.0,-0.191342,0.46194,0.0,0.0,0.5,-0.073223,-0.176777,0.46194,-0.191342,-0.461939,0.0,-0.176777,-0.426776,0.191342,-0.326641,-0.32664,0.191342,-0.353553,-0.353553,0.0,-0.135299,-0.32664,0.353553,-0.073223,-0.176777,0.46194,-0.135299,-0.135299,0.46194,-0.25,-0.25,0.353553,-0.073223,-0.176777,-0.46194,-0.135299,-0.32664,-0.353553,-0.25,-0.25,-0.353553,-0.135299,-0.135299,-0.46194,-0.176777,-0.426776,-0.191342,-0.191342,-0.461939,0.0,-0.353553,-0.353553,0.0,-0.326641,-0.32664,-0.191342,-0.176777,-0.426776,0.191342,-0.135299,-0.32664,0.353553,-0.25,-0.25,0.353553,-0.326641,-0.32664,0.191342,-0.073223,-0.176777,0.46194,0.0,0.0,0.5,-0.135299,-0.135299,0.46194,0.0,0.0,-0.5,-0.073223,-0.176777,-0.46194,-0.135299,-0.135299,-0.46194,-0.135299,-0.32664,-0.353553,-0.176777,-0.426776,-0.191342,-0.326641,-0.32664,-0.191342,-0.25,-0.25,-0.353553,-0.135299,-0.135299,-0.46194,-0.25,-0.25,-0.353553,-0.326641,-0.135299,-0.353553,-0.176777,-0.073223,-0.46194,-0.326641,-0.32664,-0.191342,-0.353553,-0.353553,0.0,-0.46194,-0.191341,0.0,-0.426777,-0.176776,-0.191342,-0.326641,-0.32664,0.191342,-0.25,-0.25,0.353553,-0.326641,-0.135299,0.353553,-0.426777,-0.176776,0.191342,-0.135299,-0.135299,0.46194,0.0,0.0,0.5,-0.176777,-0.073223,0.46194,0.0,0.0,-0.5,-0.135299,-0.135299,-0.46194,-0.176777,-0.073223,-0.46194,-0.25,-0.25,-0.353553,-0.326641,-0.32664,-0.191342,-0.426777,-0.176776,-0.191342,-0.326641,-0.135299,-0.353553,-0.353553,-0.353553,0.0,-0.326641,-0.32664,0.191342,-0.426777,-0.176776,0.191342,-0.46194,-0.191341,0.0,-0.25,-0.25,0.353553,-0.135299,-0.135299,0.46194,-0.176777,-0.073223,0.46194,-0.326641,-0.135299,0.353553,-0.426777,-0.176776,0.191342,-0.326641,-0.135299,0.353553,-0.353553,0.0,0.353553,-0.46194,0.0,0.191342,-0.176777,-0.073223,0.46194,0.0,0.0,0.5,-0.191342,0.0,0.46194,0.0,0.0,-0.5,-0.176777,-0.073223,-0.46194,-0.191342,0.0,-0.46194,-0.326641,-0.135299,-0.353553,-0.426777,-0.176776,-0.191342,-0.46194,0.0,-0.191342,-0.353553,0.0,-0.353553,-0.46194,-0.191341,0.0,-0.426777,-0.176776,0.191342,-0.46194,0.0,0.191342,-0.5,0.0,0.0,-0.326641,-0.135299,0.353553,-0.176777,-0.073223,0.46194,-0.191342,0.0,0.46194,-0.353553,0.0,0.353553,-0.176777,-0.073223,-0.46194,-0.326641,-0.135299,-0.353553,-0.353553,0.0,-0.353553,-0.191342,0.0,-0.46194,-0.426777,-0.176776,-0.191342,-0.46194,-0.191341,0.0,-0.5,0.0,0.0,-0.46194,0.0,-0.191342,0.0,0.0,-0.5,-0.191342,0.0,-0.46194,-0.176777,0.073223,-0.46194,-0.353553,0.0,-0.353553,-0.46194,0.0,-0.191342,-0.426776,0.176777,-0.191342,-0.326641,0.135299,-0.353553,-0.5,0.0,0.0,-0.46194,0.0,0.191342,-0.426776,0.176777,0.191342,-0.461939,0.191342,0.0,-0.353553,0.0,0.353553,-0.191342,0.0,0.46194,-0.176777,0.073223,0.46194,-0.326641,0.135299,0.353553,-0.191342,0.0,-0.46194,-0.353553,0.0,-0.353553,-0.326641,0.135299,-0.353553,-0.176777,0.073223,-0.46194,-0.46194,0.0,-0.191342,-0.5,0.0,0.0,-0.461939,0.191342,0.0,-0.426776,0.176777,-0.191342,-0.46194,0.0,0.191342,-0.353553,0.0,0.353553,-0.326641,0.135299,0.353553,-0.426776,0.176777,0.191342,-0.191342,0.0,0.46194,0.0,0.0,0.5,-0.176777,0.073223,0.46194,-0.326641,0.135299,0.353553,-0.176777,0.073223,0.46194,-0.135299,0.135299,0.46194,-0.25,0.25,0.353553,-0.176777,0.073223,-0.46194,-0.326641,0.135299,-0.353553,-0.25,0.25,-0.353553,-0.135299,0.135299,-0.46194,-0.426776,0.176777,-0.191342,-0.461939,0.191342,0.0,-0.353553,0.353554,0.0,-0.32664,0.326641,-0.191342,-0.426776,0.176777,0.191342,-0.326641,0.135299,0.353553,-0.25,0.25,0.353553,-0.32664,0.326641,0.191342,-0.176777,0.073223,0.46194,0.0,0.0,0.5,-0.135299,0.135299,0.46194,0.0,0.0,-0.5,-0.176777,0.073223,-0.46194,-0.135299,0.135299,-0.46194,-0.326641,0.135299,-0.353553,-0.426776,0.176777,-0.191342,-0.32664,0.326641,-0.191342,-0.25,0.25,-0.353553,-0.461939,0.191342,0.0,-0.426776,0.176777,0.191342,-0.32664,0.326641,0.191342,-0.353553,0.353554,0.0,-0.135299,0.135299,-0.46194,-0.25,0.25,-0.353553,-0.135299,0.326641,-0.353553,-0.073223,0.176777,-0.46194,-0.32664,0.326641,-0.191342,-0.353553,0.353554,0.0,-0.191341,0.46194,0.0,-0.176776,0.426777,-0.191342,-0.32664,0.326641,0.191342,-0.25,0.25,0.353553,-0.135299,0.326641,0.353553,-0.176776,0.426777,0.191342,-0.135299,0.135299,0.46194,0.0,0.0,0.5,-0.073223,0.176777,0.46194,0.0,0.0,-0.5,-0.135299,0.135299,-0.46194,-0.073223,0.176777,-0.46194,-0.25,0.25,-0.353553,-0.32664,0.326641,-0.191342,-0.176776,0.426777,-0.191342,-0.135299,0.326641,-0.353553,-0.353553,0.353554,0.0,-0.32664,0.326641,0.191342,-0.176776,0.426777,0.191342,-0.191341,0.46194,0.0,-0.25,0.25,0.353553,-0.135299,0.135299,0.46194,-0.073223,0.176777,0.46194,-0.135299,0.326641,0.353553,-0.073223,0.176777,0.46194,0.0,0.0,0.5,0.0,0.191342,0.46194,0.0,0.0,-0.5,-0.073223,0.176777,-0.46194,0.0,0.191342,-0.46194,-0.135299,0.326641,-0.353553,-0.176776,0.426777,-0.191342,0.0,0.46194,-0.191342,0.0,0.353553,-0.353553,-0.191341,0.46194,0.0,-0.176776,0.426777,0.191342,0.0,0.46194,0.191342,0.0,0.5,0.0,0.0,0.191342,0.46194,0.0,0.353553,0.353553,-0.135299,0.326641,0.353553,-0.073223,0.176777,0.46194,-0.073223,0.176777,-0.46194,-0.135299,0.326641,-0.353553,0.0,0.353553,-0.353553,0.0,0.191342,-0.46194,-0.176776,0.426777,-0.191342,-0.191341,0.46194,0.0,0.0,0.5,0.0,0.0,0.46194,-0.191342,-0.176776,0.426777,0.191342,-0.135299,0.326641,0.353553,0.0,0.353553,0.353553,0.0,0.46194,0.191342];
iron_data_ConstData.coneIndices = [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,50,51,52,52,53,54,54,55,56,57,58,59,60,61,62,62,63,64,64,65,48,48,50,52,52,54,56,56,60,62,62,64,48,48,52,56,56,62,48];
iron_data_ConstData.conePos = [0.0,0.5,-1.0,0.0,0.0,0.0,0.191342,0.46194,-1.0,0.191342,0.46194,-1.0,0.0,0.0,0.0,0.353553,0.353553,-1.0,0.353553,0.353553,-1.0,0.0,0.0,0.0,0.46194,0.191342,-1.0,0.46194,0.191342,-1.0,0.0,0.0,0.0,0.5,0.0,-1.0,0.5,0.0,-1.0,0.0,0.0,0.0,0.46194,-0.191342,-1.0,0.46194,-0.191342,-1.0,0.0,0.0,0.0,0.353553,-0.353553,-1.0,0.353553,-0.353553,-1.0,0.0,0.0,0.0,0.191342,-0.46194,-1.0,0.191342,-0.46194,-1.0,0.0,0.0,0.0,0.0,-0.5,-1.0,0.0,-0.5,-1.0,0.0,0.0,0.0,-0.191342,-0.46194,-1.0,-0.191342,-0.46194,-1.0,0.0,0.0,0.0,-0.353553,-0.353554,-1.0,-0.353553,-0.353554,-1.0,0.0,0.0,0.0,-0.46194,-0.191342,-1.0,-0.46194,-0.191342,-1.0,0.0,0.0,0.0,-0.5,0.0,-1.0,-0.5,0.0,-1.0,0.0,0.0,0.0,-0.46194,0.191342,-1.0,-0.46194,0.191342,-1.0,0.0,0.0,0.0,-0.353553,0.353554,-1.0,-0.353553,0.353554,-1.0,0.0,0.0,0.0,-0.191341,0.46194,-1.0,-0.191341,0.46194,-1.0,0.0,0.0,0.0,0.0,0.5,-1.0,-0.191341,0.46194,-1.0,0.0,0.5,-1.0,0.191342,0.46194,-1.0,0.353553,0.353553,-1.0,0.46194,0.191342,-1.0,0.5,0.0,-1.0,0.46194,-0.191342,-1.0,0.353553,-0.353553,-1.0,0.191342,-0.46194,-1.0,0.191342,-0.46194,-1.0,0.0,-0.5,-1.0,-0.191342,-0.46194,-1.0,-0.191342,-0.46194,-1.0,-0.353553,-0.353554,-1.0,-0.46194,-0.191342,-1.0,-0.5,0.0,-1.0,-0.46194,0.191342,-1.0,-0.353553,0.353554,-1.0];
iron_data_MaterialData.uidCounter = 0;
iron_data_MaterialContext.num = 0;
iron_math_Math.E = 2.7182818284590452354;
iron_math_Math.LOG2E = 1.4426950408889634074;
iron_math_Math.LOG10E = 0.43429448190325182765;
iron_math_Math.LN2 = 0.69314718055994530942;
iron_math_Math.LN10 = 2.30258509299404568402;
iron_math_Math.PI = 3.14159265358979323846;
iron_math_Math.PI_2 = 1.57079632679489661923;
iron_math_Math.PI_4 = 0.78539816339744830962;
iron_math_Math.ONE_PI = 0.31830988618379067154;
iron_math_Math.TWO_PI = 0.63661977236758134308;
iron_math_Math.TWO_SQRTPI = 1.12837916709551257390;
iron_math_Math.SQRT2 = 1.41421356237309504880;
iron_math_Math.SQRT1_2 = 0.70710678118654752440;
iron_math_RayCaster.VPInv = iron_math_Mat4.identity();
iron_math_RayCaster.PInv = iron_math_Mat4.identity();
iron_math_RayCaster.VInv = iron_math_Mat4.identity();
iron_math_RayCaster.loc = new iron_math_Vec4();
iron_math_RayCaster.nor = new iron_math_Vec4();
iron_math_RayCaster.m = iron_math_Mat4.identity();
iron_object_Animation.m1 = iron_math_Mat4.identity();
iron_object_Animation.m2 = iron_math_Mat4.identity();
iron_object_Animation.vpos = new iron_math_Vec4();
iron_object_Animation.vpos2 = new iron_math_Vec4();
iron_object_Animation.vscl = new iron_math_Vec4();
iron_object_Animation.vscl2 = new iron_math_Vec4();
iron_object_Animation.q1 = new iron_math_Quat();
iron_object_Animation.q2 = new iron_math_Quat();
iron_object_Animation.animationTime = 0.0;
iron_object_Animation.startTime = 0.0;
iron_object_BoneAnimation.skinMaxBones = 50;
iron_object_BoneAnimation.vpos = new iron_math_Vec4();
iron_object_BoneAnimation.vscl = new iron_math_Vec4();
iron_object_BoneAnimation.q1 = new iron_math_Quat();
iron_object_BoneAnimation.q2 = new iron_math_Quat();
iron_object_BoneAnimation.vpos2 = new iron_math_Vec4();
iron_object_BoneAnimation.vscl2 = new iron_math_Vec4();
iron_object_BoneAnimation.wm = iron_math_Mat4.identity();
iron_object_CameraObject.temp = new iron_math_Vec4();
iron_object_CameraObject.sphereCenter = new iron_math_Vec4();
iron_object_CameraObject.q = new iron_math_Quat();
iron_object_LampObject.cascadeCount = 1;
iron_object_LampObject.cascadeSplitFactor = 0.8;
iron_object_LampObject.m = iron_math_Mat4.identity();
iron_object_LampObject.p1 = new iron_math_Vec4();
iron_object_LampObject.p2 = new iron_math_Vec4();
iron_object_LampObject.p3 = new iron_math_Vec4();
iron_object_Transform.temp = iron_math_Mat4.identity();
kha_math_FastMatrix3.width = 3;
kha_math_FastMatrix3.height = 3;
iron_object_Uniforms.biasMat = new iron_math_Mat4(0.5,0.0,0.0,0.5,0.0,0.5,0.0,0.5,0.0,0.0,0.5,0.5,0.0,0.0,0.0,1.0);
iron_object_Uniforms.helpMat = iron_math_Mat4.identity();
iron_object_Uniforms.helpMat2 = iron_math_Mat4.identity();
iron_object_Uniforms.helpMat3 = iron_math_Mat3.identity();
iron_object_Uniforms.helpVec = new iron_math_Vec4();
iron_object_Uniforms.helpVec2 = new iron_math_Vec4();
iron_object_Uniforms.helpQuat = new iron_math_Quat();
iron_system_Input.occupied = false;
iron_system_Input.gamepads = [];
iron_system_Mouse.buttons = ["left","right","middle"];
iron_system_Pen.buttons = ["tip"];
iron_system_Keyboard.keys = ["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9",".",",","space","backspace","tab","enter","shift","ctrl","alt","esc","del","back","up","right","left","down"];
iron_system_Gamepad.buttonsPS = ["cross","circle","square","triangle","l1","r1","l2","r2","share","options","l3","r3","up","down","left","right","home","touchpad"];
iron_system_Gamepad.buttonsXBOX = ["a","b","x","y","l1","r1","l2","r2","share","options","l3","r3","up","down","left","right","home","touchpad"];
iron_system_Gamepad.buttons = iron_system_Gamepad.buttonsPS;
iron_system_Tween.DEFAULT_OVERSHOOT = 1.70158;
iron_system_Tween.eases = [iron_system_Tween.easeLinear,iron_system_Tween.easeSineIn,iron_system_Tween.easeSineOut,iron_system_Tween.easeSineInOut,iron_system_Tween.easeQuadIn,iron_system_Tween.easeQuadOut,iron_system_Tween.easeQuadInOut,iron_system_Tween.easeCubicIn,iron_system_Tween.easeCubicOut,iron_system_Tween.easeCubicInOut,iron_system_Tween.easeQuartIn,iron_system_Tween.easeQuartOut,iron_system_Tween.easeQuartInOut,iron_system_Tween.easeQuintIn,iron_system_Tween.easeQuintOut,iron_system_Tween.easeQuintInOut,iron_system_Tween.easeExpoIn,iron_system_Tween.easeExpoOut,iron_system_Tween.easeExpoInOut,iron_system_Tween.easeCircIn,iron_system_Tween.easeCircOut,iron_system_Tween.easeCircInOut,iron_system_Tween.easeBackIn,iron_system_Tween.easeBackOut,iron_system_Tween.easeBackInOut];
iron_system_Tween.anims = [];
js_Boot.__toStr = ({ }).toString;
js_html_compat_Float32Array.BYTES_PER_ELEMENT = 4;
js_html_compat_Uint8Array.BYTES_PER_ELEMENT = 1;
kha_Assets.images = new kha__$Assets_ImageList();
kha_Assets.sounds = new kha__$Assets_SoundList();
kha_Assets.blobs = new kha__$Assets_BlobList();
kha_Assets.fonts = new kha__$Assets_FontList();
kha_Assets.videos = new kha__$Assets_VideoList();
kha__$Color_Color_$Impl_$.Black = -16777216;
kha__$Color_Color_$Impl_$.White = -1;
kha__$Color_Color_$Impl_$.Red = -65536;
kha__$Color_Color_$Impl_$.Blue = -16776961;
kha__$Color_Color_$Impl_$.Green = -16711936;
kha__$Color_Color_$Impl_$.Magenta = -65281;
kha__$Color_Color_$Impl_$.Yellow = -256;
kha__$Color_Color_$Impl_$.Cyan = -16711681;
kha__$Color_Color_$Impl_$.Purple = -8388480;
kha__$Color_Color_$Impl_$.Pink = -16181;
kha__$Color_Color_$Impl_$.Orange = -23296;
kha__$Color_Color_$Impl_$.Transparent = 0;
kha__$Color_Color_$Impl_$.invMaxChannelValue = 0.00392156862745098;
kha_FontStyle.Default = new kha_FontStyle(false,false,false);
kha_Scheduler.timeWarpSaveTime = 10.0;
kha_Scheduler.DIF_COUNT = 3;
kha_Scheduler.maxframetime = 0.5;
kha_Scheduler.startTime = 0;
kha_Shaders.blur_edge_pass_fragData0 = "s2683:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgp1bmlmb3JtIHNhbXBsZXIyRCBnYnVmZmVyMDsKdW5pZm9ybSB2ZWMyIGRpckludjsKdW5pZm9ybSBzYW1wbGVyMkQgdGV4OwoKb3V0IHZlYzQgZnJhZ0NvbG9yOwppbiB2ZWMyIHRleENvb3JkOwoKdmVjMiBvY3RhaGVkcm9uV3JhcCh2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogLTEuMCwgKHYueSA%PSAwLjApID8gMS4wIDogLTEuMCk7Cn0KCnZlYzMgZ2V0Tm9yKHZlYzIgZW5jKQp7CiAgICB2ZWMzIG47CiAgICBuLnogPSAoMS4wIC0gYWJzKGVuYy54KSkgLSBhYnMoZW5jLnkpOwogICAgdmVjMiBfNTg7CiAgICBpZiAobi56ID49IDAuMCkKICAgIHsKICAgICAgICBfNTggPSBlbmM7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzU4ID0gb2N0YWhlZHJvbldyYXAoZW5jKTsKICAgIH0KICAgIG4gPSB2ZWMzKF81OC54LCBfNTgueSwgbi56KTsKICAgIG4gPSBub3JtYWxpemUobik7CiAgICByZXR1cm4gbjsKfQoKZmxvYXQgZG9CbHVyKGZsb2F0IGJsdXJXZWlnaHQsIGludCBwb3MsIHZlYzMgbm9yLCB2ZWMyIHRleENvb3JkXzEpCnsKICAgIGZsb2F0IHBvc2FkZCA9IGZsb2F0KHBvcykgKyAwLjU7CiAgICB2ZWMzIG5vcjIgPSBnZXROb3IodGV4dHVyZShnYnVmZmVyMCwgdGV4Q29vcmRfMSArIChkaXJJbnYgKiBmbG9hdChwb3MpKSkueHkpOwogICAgZmxvYXQgaW5mbHVlbmNlRmFjdG9yID0gc3RlcCgwLjk0OTk5OTk4ODA3OTA3MTA0NDkyMTg3NSwgZG90KG5vcjIsIG5vcikpOwogICAgZmxvYXQgY29sID0gdGV4dHVyZSh0ZXgsIHRleENvb3JkXzEgKyAoZGlySW52ICogcG9zYWRkKSkueDsKICAgIGZyYWdDb2xvci54ICs9ICgoY29sICogYmx1cldlaWdodCkgKiBpbmZsdWVuY2VGYWN0b3IpOwogICAgZmxvYXQgd2VpZ2h0ID0gYmx1cldlaWdodCAqIGluZmx1ZW5jZUZhY3RvcjsKICAgIG5vcjIgPSBnZXROb3IodGV4dHVyZShnYnVmZmVyMCwgdGV4Q29vcmRfMSAtIChkaXJJbnYgKiBmbG9hdChwb3MpKSkueHkpOwogICAgaW5mbHVlbmNlRmFjdG9yID0gc3RlcCgwLjk0OTk5OTk4ODA3OTA3MTA0NDkyMTg3NSwgZG90KG5vcjIsIG5vcikpOwogICAgY29sID0gdGV4dHVyZSh0ZXgsIHRleENvb3JkXzEgLSAoZGlySW52ICogcG9zYWRkKSkueDsKICAgIGZyYWdDb2xvci54ICs9ICgoY29sICogYmx1cldlaWdodCkgKiBpbmZsdWVuY2VGYWN0b3IpOwogICAgd2VpZ2h0ICs9IChibHVyV2VpZ2h0ICogaW5mbHVlbmNlRmFjdG9yKTsKICAgIHJldHVybiB3ZWlnaHQ7Cn0KCnZvaWQgbWFpbigpCnsKICAgIHZlYzIgdGMgPSB0ZXhDb29yZCAqIDEuMDsKICAgIHZlYzMgbm9yID0gZ2V0Tm9yKHRleHR1cmUoZ2J1ZmZlcjAsIHRleENvb3JkKS54eSk7CiAgICBmcmFnQ29sb3IueCA9IHRleHR1cmUodGV4LCB0YykueCAqIDAuMjI3MDI2OTk4OTk2NzM0NjE5MTQwNjI1OwogICAgZmxvYXQgd2VpZ2h0ID0gMC4yMjcwMjY5OTg5OTY3MzQ2MTkxNDA2MjU7CiAgICBmbG9hdCBfMTc4ID0gZG9CbHVyKDAuMTk0NTk0NjA2NzU3MTY0MDAxNDY0ODQzNzUsIDEsIG5vciwgdGMpOwogICAgd2VpZ2h0ICs9IF8xNzg7CiAgICBmbG9hdCBfMTg1ID0gZG9CbHVyKDAuMTIxNjIxNjAxMjgzNTUwMjYyNDUxMTcxODc1LCAyLCBub3IsIHRjKTsKICAgIHdlaWdodCArPSBfMTg1OwogICAgZmxvYXQgXzE5MiA9IGRvQmx1cigwLjA1NDA1Mzk5OTQ4MzU4NTM1NzY2NjAxNTYyNSwgMywgbm9yLCB0Yyk7CiAgICB3ZWlnaHQgKz0gXzE5MjsKICAgIGZsb2F0IF8xOTkgPSBkb0JsdXIoMC4wMTYyMTYwMDA1NDIwNDQ2Mzk1ODc0MDIzNDM3NSwgNCwgbm9yLCB0Yyk7CiAgICB3ZWlnaHQgKz0gXzE5OTsKICAgIGZyYWdDb2xvciA9IHZlYzQoZnJhZ0NvbG9yLnggLyB3ZWlnaHQpOwp9Cgo";
kha_Shaders.compositor_pass_fragData0 = "s3256:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgp1bmlmb3JtIHZlYzIgdGV4U3RlcDsKdW5pZm9ybSBzYW1wbGVyMkQgdGV4Owp1bmlmb3JtIHNhbXBsZXIyRCBnYnVmZmVyRDsKCmluIHZlYzIgdGV4Q29vcmQ7Cm91dCB2ZWM0IGZyYWdDb2xvcjsKCnZlYzMgdG9uZW1hcEZpbG1pYyh2ZWMzIGNvbG9yKQp7CiAgICB2ZWMzIHggPSBtYXgodmVjMygwLjApLCBjb2xvciAtIHZlYzMoMC4wMDQwMDAwMDAxODk5ODk4MDUyMjE1NTc2MTcxODc1KSk7CiAgICByZXR1cm4gKHggKiAoKHggKiA2LjE5OTk5OTgwOTI2NTEzNjcxODc1KSArIHZlYzMoMC41KSkpIC8gKCh4ICogKCh4ICogNi4xOTk5OTk4MDkyNjUxMzY3MTg3NSkgKyB2ZWMzKDEuNzAwMDAwMDQ3NjgzNzE1ODIwMzEyNSkpKSArIHZlYzMoMC4wNTk5OTk5OTg2NTg4OTU0OTI1NTM3MTA5Mzc1KSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIHZlYzIgdGV4Q28gPSB0ZXhDb29yZDsKICAgIHZlYzIgdGNyZ2JOVyA9IHRleENvICsgKHZlYzIoLTEuMCkgKiB0ZXhTdGVwKTsKICAgIHZlYzIgdGNyZ2JORSA9IHRleENvICsgKHZlYzIoMS4wLCAtMS4wKSAqIHRleFN0ZXApOwogICAgdmVjMiB0Y3JnYlNXID0gdGV4Q28gKyAodmVjMigtMS4wLCAxLjApICogdGV4U3RlcCk7CiAgICB2ZWMyIHRjcmdiU0UgPSB0ZXhDbyArICh2ZWMyKDEuMCkgKiB0ZXhTdGVwKTsKICAgIHZlYzIgdGNyZ2JNID0gdmVjMih0ZXhDbyk7CiAgICB2ZWMzIHJnYk5XID0gdGV4dHVyZSh0ZXgsIHRjcmdiTlcpLnh5ejsKICAgIHZlYzMgcmdiTkUgPSB0ZXh0dXJlKHRleCwgdGNyZ2JORSkueHl6OwogICAgdmVjMyByZ2JTVyA9IHRleHR1cmUodGV4LCB0Y3JnYlNXKS54eXo7CiAgICB2ZWMzIHJnYlNFID0gdGV4dHVyZSh0ZXgsIHRjcmdiU0UpLnh5ejsKICAgIHZlYzMgcmdiTSA9IHRleHR1cmUodGV4LCB0Y3JnYk0pLnh5ejsKICAgIHZlYzMgbHVtYSA9IHZlYzMoMC4yOTg5OTk5OTQ5OTMyMDk4Mzg4NjcxODc1LCAwLjU4NzAwMDAxMjM5Nzc2NjExMzI4MTI1LCAwLjExNDAwMDAwMDA1OTYwNDY0NDc3NTM5MDYyNSk7CiAgICBmbG9hdCBsdW1hTlcgPSBkb3QocmdiTlcsIGx1bWEpOwogICAgZmxvYXQgbHVtYU5FID0gZG90KHJnYk5FLCBsdW1hKTsKICAgIGZsb2F0IGx1bWFTVyA9IGRvdChyZ2JTVywgbHVtYSk7CiAgICBmbG9hdCBsdW1hU0UgPSBkb3QocmdiU0UsIGx1bWEpOwogICAgZmxvYXQgbHVtYU0gPSBkb3QocmdiTSwgbHVtYSk7CiAgICBmbG9hdCBsdW1hTWluID0gbWluKGx1bWFNLCBtaW4obWluKGx1bWFOVywgbHVtYU5FKSwgbWluKGx1bWFTVywgbHVtYVNFKSkpOwogICAgZmxvYXQgbHVtYU1heCA9IG1heChsdW1hTSwgbWF4KG1heChsdW1hTlcsIGx1bWFORSksIG1heChsdW1hU1csIGx1bWFTRSkpKTsKICAgIHZlYzIgZGlyOwogICAgZGlyLnggPSAtKChsdW1hTlcgKyBsdW1hTkUpIC0gKGx1bWFTVyArIGx1bWFTRSkpOwogICAgZGlyLnkgPSAobHVtYU5XICsgbHVtYVNXKSAtIChsdW1hTkUgKyBsdW1hU0UpOwogICAgZmxvYXQgZGlyUmVkdWNlID0gbWF4KCgoKGx1bWFOVyArIGx1bWFORSkgKyBsdW1hU1cpICsgbHVtYVNFKSAqIDAuMDMxMjUsIDAuMDA3ODEyNSk7CiAgICBmbG9hdCByY3BEaXJNaW4gPSAxLjAgLyAobWluKGFicyhkaXIueCksIGFicyhkaXIueSkpICsgZGlyUmVkdWNlKTsKICAgIGRpciA9IG1pbih2ZWMyKDguMCksIG1heCh2ZWMyKC04LjApLCBkaXIgKiByY3BEaXJNaW4pKSAqIHRleFN0ZXA7CiAgICB2ZWMzIHJnYkEgPSAodGV4dHVyZSh0ZXgsIHRleENvICsgKGRpciAqIC0wLjE2NjY2NjY3MTYzMzcyMDM5Nzk0OTIxODc1KSkueHl6ICsgdGV4dHVyZSh0ZXgsIHRleENvICsgKGRpciAqIDAuMTY2NjY2NjcxNjMzNzIwMzk3OTQ5MjE4NzUpKS54eXopICogMC41OwogICAgdmVjMyByZ2JCID0gKHJnYkEgKiAwLjUpICsgKCh0ZXh0dXJlKHRleCwgdGV4Q28gKyAoZGlyICogLTAuNSkpLnh5eiArIHRleHR1cmUodGV4LCB0ZXhDbyArIChkaXIgKiAwLjUpKS54eXopICogMC4yNSk7CiAgICBmbG9hdCBsdW1hQiA9IGRvdChyZ2JCLCBsdW1hKTsKICAgIGlmICgobHVtYUIgPCBsdW1hTWluKSB8fCAobHVtYUIgPiBsdW1hTWF4KSkKICAgIHsKICAgICAgICBmcmFnQ29sb3IgPSB2ZWM0KHJnYkEueCwgcmdiQS55LCByZ2JBLnosIGZyYWdDb2xvci53KTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBmcmFnQ29sb3IgPSB2ZWM0KHJnYkIueCwgcmdiQi55LCByZ2JCLnosIGZyYWdDb2xvci53KTsKICAgIH0KICAgIHZlYzMgXzI3NyA9IHRvbmVtYXBGaWxtaWMoZnJhZ0NvbG9yLnh5eik7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF8yNzcueCwgXzI3Ny55LCBfMjc3LnosIGZyYWdDb2xvci53KTsKfQoK";
kha_Shaders.compositor_pass_vertData0 = "s331:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgpvdXQgdmVjMiB0ZXhDb29yZDsKaW4gdmVjMiBwb3M7Cgp2b2lkIG1haW4oKQp7CiAgICB0ZXhDb29yZCA9IChwb3MgKiB2ZWMyKDAuNSkpICsgdmVjMigwLjUpOwogICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvcywgMC4wLCAxLjApOwp9Cgo";
kha_Shaders.deferred_indirect_fragData0 = "s5339:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgp1bmlmb3JtIHZlYzQgc2hpcnJbN107CnVuaWZvcm0gc2FtcGxlcjJEIGdidWZmZXIwOwp1bmlmb3JtIHNhbXBsZXIyRCBnYnVmZmVyMTsKdW5pZm9ybSB2ZWMzIGV5ZTsKdW5pZm9ybSB2ZWMzIGV5ZUxvb2s7CnVuaWZvcm0gdmVjMiBjYW1lcmFQcm9qOwp1bmlmb3JtIHNhbXBsZXIyRCBzZW52bWFwQnJkZjsKdW5pZm9ybSBpbnQgZW52bWFwTnVtTWlwbWFwczsKdW5pZm9ybSBzYW1wbGVyMkQgc2Vudm1hcFJhZGlhbmNlOwp1bmlmb3JtIGZsb2F0IGVudm1hcFN0cmVuZ3RoOwp1bmlmb3JtIHNhbXBsZXIyRCBzc2FvdGV4OwoKaW4gdmVjMiB0ZXhDb29yZDsKaW4gdmVjMyB2aWV3UmF5OwpvdXQgdmVjNCBmcmFnQ29sb3I7Cgp2ZWMyIG9jdGFoZWRyb25XcmFwKHZlYzIgdikKewogICAgcmV0dXJuICh2ZWMyKDEuMCkgLSBhYnModi55eCkpICogdmVjMigodi54ID49IDAuMCkgPyAxLjAgOiAtMS4wLCAodi55ID49IDAuMCkgPyAxLjAgOiAtMS4wKTsKfQoKdmVjMiB1bnBhY2tGbG9hdChmbG9hdCBmKQp7CiAgICByZXR1cm4gdmVjMihmbG9vcihmKSAvIDEwMC4wLCBmcmFjdChmKSk7Cn0KCnZlYzMgc3VyZmFjZUFsYmVkbyh2ZWMzIGJhc2VDb2xvciwgZmxvYXQgbWV0YWxuZXNzKQp7CiAgICByZXR1cm4gbWl4KGJhc2VDb2xvciwgdmVjMygwLjApLCB2ZWMzKG1ldGFsbmVzcykpOwp9Cgp2ZWMzIGdldFBvcyh2ZWMzIGV5ZV8xLCB2ZWMzIGV5ZUxvb2tfMSwgdmVjMyB2aWV3UmF5XzEsIGZsb2F0IGRlcHRoLCB2ZWMyIGNhbWVyYVByb2pfMSkKewogICAgdmVjMyB2cmF5ID0gbm9ybWFsaXplKHZpZXdSYXlfMSk7CiAgICBmbG9hdCBsaW5lYXJEZXB0aCA9IGNhbWVyYVByb2pfMS55IC8gKCgoZGVwdGggKiAwLjUpICsgMC41KSAtIGNhbWVyYVByb2pfMS54KTsKICAgIGZsb2F0IHZpZXdaRGlzdCA9IGRvdChleWVMb29rXzEsIHZyYXkpOwogICAgdmVjMyB3cG9zaXRpb24gPSBleWVfMSArICh2cmF5ICogKGxpbmVhckRlcHRoIC8gdmlld1pEaXN0KSk7CiAgICByZXR1cm4gd3Bvc2l0aW9uOwp9Cgp2ZWMzIHN1cmZhY2VGMCh2ZWMzIGJhc2VDb2xvciwgZmxvYXQgbWV0YWxuZXNzKQp7CiAgICByZXR1cm4gbWl4KHZlYzMoMC4wMzk5OTk5OTkxMDU5MzAzMjgzNjkxNDA2MjUpLCBiYXNlQ29sb3IsIHZlYzMobWV0YWxuZXNzKSk7Cn0KCnZlYzMgc2hJcnJhZGlhbmNlKHZlYzMgbm9yKQp7CiAgICB2ZWMzIGNsMDAgPSB2ZWMzKHNoaXJyWzBdLngsIHNoaXJyWzBdLnksIHNoaXJyWzBdLnopOwogICAgdmVjMyBjbDFtMSA9IHZlYzMoc2hpcnJbMF0udywgc2hpcnJbMV0ueCwgc2hpcnJbMV0ueSk7CiAgICB2ZWMzIGNsMTAgPSB2ZWMzKHNoaXJyWzFdLnosIHNoaXJyWzFdLncsIHNoaXJyWzJdLngpOwogICAgdmVjMyBjbDExID0gdmVjMyhzaGlyclsyXS55LCBzaGlyclsyXS56LCBzaGlyclsyXS53KTsKICAgIHZlYzMgY2wybTIgPSB2ZWMzKHNoaXJyWzNdLngsIHNoaXJyWzNdLnksIHNoaXJyWzNdLnopOwogICAgdmVjMyBjbDJtMSA9IHZlYzMoc2hpcnJbM10udywgc2hpcnJbNF0ueCwgc2hpcnJbNF0ueSk7CiAgICB2ZWMzIGNsMjAgPSB2ZWMzKHNoaXJyWzRdLnosIHNoaXJyWzRdLncsIHNoaXJyWzVdLngpOwogICAgdmVjMyBjbDIxID0gdmVjMyhzaGlycls1XS55LCBzaGlycls1XS56LCBzaGlycls1XS53KTsKICAgIHZlYzMgY2wyMiA9IHZlYzMoc2hpcnJbNl0ueCwgc2hpcnJbNl0ueSwgc2hpcnJbNl0ueik7CiAgICByZXR1cm4gKCgoKCgoKCgoKGNsMjIgKiAwLjQyOTA0Mjk5NDk3NjA0MzcwMTE3MTg3NSkgKiAoKG5vci55ICogbm9yLnkpIC0gKC1ub3IueiAqIC1ub3IueikpKSArICgoKGNsMjAgKiAwLjc0MzEyNTAyMTQ1NzY3MjExOTE0MDYyNSkgKiBub3IueCkgKiBub3IueCkpICsgKGNsMDAgKiAwLjg4NjIyNzAxMTY4MDYwMzAyNzM0Mzc1KSkgLSAoY2wyMCAqIDAuMjQ3NzA3OTkyNzkyMTI5NTE2NjAxNTYyNSkpICsgKCgoY2wybTIgKiAwLjg1ODA4NTk4OTk1MjA4NzQwMjM0Mzc1KSAqIG5vci55KSAqIC1ub3IueikpICsgKCgoY2wyMSAqIDAuODU4MDg1OTg5OTUyMDg3NDAyMzQzNzUpICogbm9yLnkpICogbm9yLngpKSArICgoKGNsMm0xICogMC44NTgwODU5ODk5NTIwODc0MDIzNDM3NSkgKiAtbm9yLnopICogbm9yLngpKSArICgoY2wxMSAqIDEuMDIzMzI3OTQ2NjYyOTAyODMyMDMxMjUpICogbm9yLnkpKSArICgoY2wxbTEgKiAxLjAyMzMyNzk0NjY2MjkwMjgzMjAzMTI1KSAqIC1ub3IueikpICsgKChjbDEwICogMS4wMjMzMjc5NDY2NjI5MDI4MzIwMzEyNSkgKiBub3IueCk7Cn0KCmZsb2F0IGdldE1pcEZyb21Sb3VnaG5lc3MoZmxvYXQgcm91Z2huZXNzLCBmbG9hdCBudW1NaXBtYXBzKQp7CiAgICByZXR1cm4gcm91Z2huZXNzICogbnVtTWlwbWFwczsKfQoKdmVjMiBlbnZNYXBFcXVpcmVjdCh2ZWMzIG5vcm1hbCkKewogICAgZmxvYXQgcGhpID0gYWNvcyhub3JtYWwueik7CiAgICBmbG9hdCB0aGV0YSA9IGF0YW4oLW5vcm1hbC55LCBub3JtYWwueCkgKyAzLjE0MTU5Mjc0MTAxMjU3MzI0MjE4NzU7CiAgICByZXR1cm4gdmVjMih0aGV0YSAvIDYuMjgzMTg1NDgyMDI1MTQ2NDg0Mzc1LCBwaGkgLyAzLjE0MTU5Mjc0MTAxMjU3MzI0MjE4NzUpOwp9Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWM0IGcwID0gdGV4dHVyZShnYnVmZmVyMCwgdGV4Q29vcmQpOwogICAgdmVjMyBuOwogICAgbi56ID0gKDEuMCAtIGFicyhnMC54KSkgLSBhYnMoZzAueSk7CiAgICB2ZWMyIF8zMTQ7CiAgICBpZiAobi56ID49IDAuMCkKICAgIHsKICAgICAgICBfMzE0ID0gZzAueHk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzMxNCA9IG9jdGFoZWRyb25XcmFwKGcwLnh5KTsKICAgIH0KICAgIG4gPSB2ZWMzKF8zMTQueCwgXzMxNC55LCBuLnopOwogICAgbiA9IG5vcm1hbGl6ZShuKTsKICAgIHZlYzIgbWV0cm91Z2ggPSB1bnBhY2tGbG9hdChnMC56KTsKICAgIHZlYzQgZzEgPSB0ZXh0dXJlKGdidWZmZXIxLCB0ZXhDb29yZCk7CiAgICB2ZWMzIGFsYmVkbyA9IHN1cmZhY2VBbGJlZG8oZzEueHl6LCBtZXRyb3VnaC54KTsKICAgIGZsb2F0IGRlcHRoID0gKCgxLjAgLSBnMC53KSAqIDIuMCkgLSAxLjA7CiAgICB2ZWMzIHAgPSBnZXRQb3MoZXllLCBleWVMb29rLCB2aWV3UmF5LCBkZXB0aCwgY2FtZXJhUHJvaik7CiAgICB2ZWMzIHYgPSBub3JtYWxpemUoZXllIC0gcCk7CiAgICBmbG9hdCBkb3ROViA9IG1heChkb3QobiwgdiksIDAuMCk7CiAgICB2ZWMzIGYwID0gc3VyZmFjZUYwKGcxLnh5eiwgbWV0cm91Z2gueCk7CiAgICB2ZWMyIGVudkJSREYgPSB0ZXh0dXJlKHNlbnZtYXBCcmRmLCB2ZWMyKG1ldHJvdWdoLnksIDEuMCAtIGRvdE5WKSkueHk7CiAgICB2ZWMzIGVudmwgPSBzaElycmFkaWFuY2Uobik7CiAgICB2ZWMzIHJlZmxlY3Rpb25Xb3JsZCA9IHJlZmxlY3QoLXYsIG4pOwogICAgZmxvYXQgbG9kID0gZ2V0TWlwRnJvbVJvdWdobmVzcyhtZXRyb3VnaC55LCBmbG9hdChlbnZtYXBOdW1NaXBtYXBzKSk7CiAgICB2ZWMzIHByZWZpbHRlcmVkQ29sb3IgPSB0ZXh0dXJlTG9kKHNlbnZtYXBSYWRpYW5jZSwgZW52TWFwRXF1aXJlY3QocmVmbGVjdGlvbldvcmxkKSwgbG9kKS54eXo7CiAgICBlbnZsICo9IGFsYmVkbzsKICAgIGVudmwgKz0gKChwcmVmaWx0ZXJlZENvbG9yICogKChmMCAqIGVudkJSREYueCkgKyB2ZWMzKGVudkJSREYueSkpKSAqIDEuNSk7CiAgICBlbnZsICo9IChlbnZtYXBTdHJlbmd0aCAqIGcxLncpOwogICAgZnJhZ0NvbG9yID0gdmVjNChlbnZsLngsIGVudmwueSwgZW52bC56LCBmcmFnQ29sb3Iudyk7CiAgICB2ZWMzIF80NTMgPSBmcmFnQ29sb3IueHl6ICogdGV4dHVyZShzc2FvdGV4LCB0ZXhDb29yZCkueDsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzQ1My54LCBfNDUzLnksIF80NTMueiwgZnJhZ0NvbG9yLncpOwp9Cgo";
kha_Shaders.deferred_indirect_vertData0 = "s632:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgp1bmlmb3JtIG1hdDQgaW52VlA7CnVuaWZvcm0gdmVjMyBleWU7CgpvdXQgdmVjMiB0ZXhDb29yZDsKaW4gdmVjMiBwb3M7Cm91dCB2ZWMzIHZpZXdSYXk7Cgp2b2lkIG1haW4oKQp7CiAgICB0ZXhDb29yZCA9IChwb3MgKiB2ZWMyKDAuNSkpICsgdmVjMigwLjUpOwogICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvcywgMC4wLCAxLjApOwogICAgdmVjNCB2ID0gdmVjNChwb3MueCwgcG9zLnksIDEuMCwgMS4wKTsKICAgIHYgPSB2ZWM0KGludlZQICogdik7CiAgICB2ZWMzIF82MiA9IHYueHl6IC8gdmVjMyh2LncpOwogICAgdiA9IHZlYzQoXzYyLngsIF82Mi55LCBfNjIueiwgdi53KTsKICAgIHZpZXdSYXkgPSB2Lnh5eiAtIGV5ZTsKfQoK";
kha_Shaders.deferred_light_fragData0 = "s11128:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgp1bmlmb3JtIHNhbXBsZXIyRCBnYnVmZmVyMDsKdW5pZm9ybSBzYW1wbGVyMkQgZ2J1ZmZlcjE7CnVuaWZvcm0gbWF0NCBpbnZWUDsKdW5pZm9ybSB2ZWMzIGV5ZTsKdW5pZm9ybSB2ZWMzIGxpZ2h0UG9zOwp1bmlmb3JtIGludCBsaWdodFNoYWRvdzsKdW5pZm9ybSBtYXQ0IExXVlA7CnVuaWZvcm0gZmxvYXQgc2hhZG93c0JpYXM7CnVuaWZvcm0gc2FtcGxlcjJEIHNoYWRvd01hcDsKdW5pZm9ybSBzYW1wbGVyQ3ViZSBzaGFkb3dNYXBDdWJlOwp1bmlmb3JtIHZlYzIgbGlnaHRQcm9qOwp1bmlmb3JtIGludCBsaWdodFR5cGU7CnVuaWZvcm0gdmVjMyBsaWdodERpcjsKdW5pZm9ybSB2ZWMyIHNwb3RsaWdodERhdGE7CnVuaWZvcm0gdmVjMyBsaWdodENvbG9yOwp1bmlmb3JtIHZlYzQgY2FzRGF0YVsyMF07CgppbiB2ZWM0IHd2cHBvc2l0aW9uOwpvdXQgdmVjNCBmcmFnQ29sb3I7Cgp2ZWMyIG9jdGFoZWRyb25XcmFwKHZlYzIgdikKewogICAgcmV0dXJuICh2ZWMyKDEuMCkgLSBhYnModi55eCkpICogdmVjMigodi54ID49IDAuMCkgPyAxLjAgOiAtMS4wLCAodi55ID49IDAuMCkgPyAxLjAgOiAtMS4wKTsKfQoKdmVjMyBnZXRQb3MyKG1hdDQgaW52VlBfMSwgZmxvYXQgZGVwdGgsIHZlYzIgY29vcmQpCnsKICAgIHZlYzQgcG9zID0gdmVjNCgoY29vcmQgKiAyLjApIC0gdmVjMigxLjApLCBkZXB0aCwgMS4wKTsKICAgIHBvcyA9IGludlZQXzEgKiBwb3M7CiAgICB2ZWMzIF81MDAgPSBwb3MueHl6IC8gdmVjMyhwb3Mudyk7CiAgICBwb3MgPSB2ZWM0KF81MDAueCwgXzUwMC55LCBfNTAwLnosIHBvcy53KTsKICAgIHJldHVybiBwb3MueHl6Owp9Cgp2ZWMyIHVucGFja0Zsb2F0KGZsb2F0IGYpCnsKICAgIHJldHVybiB2ZWMyKGZsb29yKGYpIC8gMTAwLjAsIGZyYWN0KGYpKTsKfQoKdmVjMyBzdXJmYWNlQWxiZWRvKHZlYzMgYmFzZUNvbG9yLCBmbG9hdCBtZXRhbG5lc3MpCnsKICAgIHJldHVybiBtaXgoYmFzZUNvbG9yLCB2ZWMzKDAuMCksIHZlYzMobWV0YWxuZXNzKSk7Cn0KCnZlYzMgc3VyZmFjZUYwKHZlYzMgYmFzZUNvbG9yLCBmbG9hdCBtZXRhbG5lc3MpCnsKICAgIHJldHVybiBtaXgodmVjMygwLjAzOTk5OTk5OTEwNTkzMDMyODM2OTE0MDYyNSksIGJhc2VDb2xvciwgdmVjMyhtZXRhbG5lc3MpKTsKfQoKZmxvYXQgc2hhZG93Q29tcGFyZShzYW1wbGVyMkQgc2hhZG93TWFwXzEsIHZlYzIgdXYsIGZsb2F0IGNvbXBhcmUpCnsKICAgIGZsb2F0IGRlcHRoID0gdGV4dHVyZShzaGFkb3dNYXBfMSwgdXYpLng7CiAgICByZXR1cm4gc3RlcChjb21wYXJlLCBkZXB0aCk7Cn0KCmZsb2F0IHNoYWRvd0xlcnAoc2FtcGxlcjJEIHNoYWRvd01hcF8xLCB2ZWMyIHV2LCBmbG9hdCBjb21wYXJlLCB2ZWMyIHNtU2l6ZSkKewogICAgdmVjMiB0ZXhlbFNpemUgPSB2ZWMyKDEuMCkgLyBzbVNpemU7CiAgICB2ZWMyIGYgPSBmcmFjdCgodXYgKiBzbVNpemUpICsgdmVjMigwLjUpKTsKICAgIHZlYzIgY2VudHJvaWRVViA9IGZsb29yKCh1diAqIHNtU2l6ZSkgKyB2ZWMyKDAuNSkpIC8gc21TaXplOwogICAgZmxvYXQgbGIgPSBzaGFkb3dDb21wYXJlKHNoYWRvd01hcF8xLCBjZW50cm9pZFVWLCBjb21wYXJlKTsKICAgIGZsb2F0IGx0ID0gc2hhZG93Q29tcGFyZShzaGFkb3dNYXBfMSwgY2VudHJvaWRVViArICh0ZXhlbFNpemUgKiB2ZWMyKDAuMCwgMS4wKSksIGNvbXBhcmUpOwogICAgZmxvYXQgcmIgPSBzaGFkb3dDb21wYXJlKHNoYWRvd01hcF8xLCBjZW50cm9pZFVWICsgKHRleGVsU2l6ZSAqIHZlYzIoMS4wLCAwLjApKSwgY29tcGFyZSk7CiAgICBmbG9hdCBydCA9IHNoYWRvd0NvbXBhcmUoc2hhZG93TWFwXzEsIGNlbnRyb2lkVVYgKyB0ZXhlbFNpemUsIGNvbXBhcmUpOwogICAgZmxvYXQgYSA9IG1peChsYiwgbHQsIGYueSk7CiAgICBmbG9hdCBiID0gbWl4KHJiLCBydCwgZi55KTsKICAgIGZsb2F0IGMgPSBtaXgoYSwgYiwgZi54KTsKICAgIHJldHVybiBjOwp9CgpmbG9hdCBQQ0Yoc2FtcGxlcjJEIHNoYWRvd01hcF8xLCB2ZWMyIHV2LCBmbG9hdCBjb21wYXJlLCB2ZWMyIHNtU2l6ZSkKewogICAgZmxvYXQgcmVzdWx0ID0gc2hhZG93TGVycChzaGFkb3dNYXBfMSwgdXYgKyAodmVjMigtMS4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycChzaGFkb3dNYXBfMSwgdXYgKyAodmVjMigtMS4wLCAwLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHNoYWRvd01hcF8xLCB1diArICh2ZWMyKC0xLjAsIDEuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAoc2hhZG93TWFwXzEsIHV2ICsgKHZlYzIoMC4wLCAtMS4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycChzaGFkb3dNYXBfMSwgdXYsIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycChzaGFkb3dNYXBfMSwgdXYgKyAodmVjMigwLjAsIDEuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAoc2hhZG93TWFwXzEsIHV2ICsgKHZlYzIoMS4wLCAtMS4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycChzaGFkb3dNYXBfMSwgdXYgKyAodmVjMigxLjAsIDAuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAoc2hhZG93TWFwXzEsIHV2ICsgKHZlYzIoMS4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXR1cm4gcmVzdWx0IC8gOS4wOwp9CgpmbG9hdCBzaGFkb3dUZXN0KHNhbXBsZXIyRCBzaGFkb3dNYXBfMSwgdmVjMyBsUG9zLCBmbG9hdCBzaGFkb3dzQmlhc18xLCB2ZWMyIHNtU2l6ZSkKewogICAgYm9vbCBfNDQyID0gbFBvcy54IDwgMC4wOwogICAgYm9vbCBfNDQ4OwogICAgaWYgKCFfNDQyKQogICAgewogICAgICAgIF80NDggPSBsUG9zLnkgPCAwLjA7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzQ0OCA9IF80NDI7CiAgICB9CiAgICBib29sIF80NTQ7CiAgICBpZiAoIV80NDgpCiAgICB7CiAgICAgICAgXzQ1NCA9IGxQb3MueCA%IDEuMDsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfNDU0ID0gXzQ0ODsKICAgIH0KICAgIGJvb2wgXzQ2MDsKICAgIGlmICghXzQ1NCkKICAgIHsKICAgICAgICBfNDYwID0gbFBvcy55ID4gMS4wOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF80NjAgPSBfNDU0OwogICAgfQogICAgaWYgKF80NjApCiAgICB7CiAgICAgICAgcmV0dXJuIDEuMDsKICAgIH0KICAgIHJldHVybiBQQ0Yoc2hhZG93TWFwXzEsIGxQb3MueHksIGxQb3MueiAtIHNoYWRvd3NCaWFzXzEsIHNtU2l6ZSk7Cn0KCmZsb2F0IGxwVG9EZXB0aChpbm91dCB2ZWMzIGxwLCB2ZWMyIGxpZ2h0UHJval8xKQp7CiAgICBscCA9IGFicyhscCk7CiAgICBmbG9hdCB6Y29tcCA9IG1heChscC54LCBtYXgobHAueSwgbHAueikpOwogICAgemNvbXAgPSBsaWdodFByb2pfMS54IC0gKGxpZ2h0UHJval8xLnkgLyB6Y29tcCk7CiAgICByZXR1cm4gKHpjb21wICogMC41KSArIDAuNTsKfQoKZmxvYXQgUENGQ3ViZShzYW1wbGVyQ3ViZSBzaGFkb3dNYXBDdWJlXzEsIHZlYzMgbHAsIGlub3V0IHZlYzMgbWwsIGZsb2F0IGJpYXMsIHZlYzIgbGlnaHRQcm9qXzEsIHZlYzMgbikKewogICAgdmVjMyBwYXJhbSA9IGxwIC0gKG4gKiAwLjAwMzAwMDAwMDAyNjA3NzAzMjA4OTIzMzM5ODQzNzUpOwogICAgZmxvYXQgXzMzOSA9IGxwVG9EZXB0aChwYXJhbSwgbGlnaHRQcm9qXzEpOwogICAgZmxvYXQgY29tcGFyZSA9IF8zMzkgLSAoYmlhcyAqIDAuNDAwMDAwMDA1OTYwNDY0NDc3NTM5MDYyNSk7CiAgICBtbCArPSAobiAqIDAuMDAzMDAwMDAwMDI2MDc3MDMyMDg5MjMzMzk4NDM3NSk7CiAgICBmbG9hdCByZXN1bHQgPSBzdGVwKGNvbXBhcmUsIHRleHR1cmUoc2hhZG93TWFwQ3ViZV8xLCBtbCkueCk7CiAgICByZXN1bHQgKz0gc3RlcChjb21wYXJlLCB0ZXh0dXJlKHNoYWRvd01hcEN1YmVfMSwgbWwgKyB2ZWMzKDAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1KSkueCk7CiAgICByZXN1bHQgKz0gc3RlcChjb21wYXJlLCB0ZXh0dXJlKHNoYWRvd01hcEN1YmVfMSwgbWwgKyB2ZWMzKC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIDAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1KSkueCk7CiAgICByZXN1bHQgKz0gc3RlcChjb21wYXJlLCB0ZXh0dXJlKHNoYWRvd01hcEN1YmVfMSwgbWwgKyB2ZWMzKDAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1LCAtMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIDAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1KSkueCk7CiAgICByZXN1bHQgKz0gc3RlcChjb21wYXJlLCB0ZXh0dXJlKHNoYWRvd01hcEN1YmVfMSwgbWwgKyB2ZWMzKDAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1LCAwLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgLTAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1KSkueCk7CiAgICByZXN1bHQgKz0gc3RlcChjb21wYXJlLCB0ZXh0dXJlKHNoYWRvd01hcEN1YmVfMSwgbWwgKyB2ZWMzKC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgLTAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1LCAwLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSkpLngpOwogICAgcmVzdWx0ICs9IHN0ZXAoY29tcGFyZSwgdGV4dHVyZShzaGFkb3dNYXBDdWJlXzEsIG1sICsgdmVjMygwLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgLTAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1LCAtMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUpKS54KTsKICAgIHJlc3VsdCArPSBzdGVwKGNvbXBhcmUsIHRleHR1cmUoc2hhZG93TWFwQ3ViZV8xLCBtbCArIHZlYzMoLTAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1LCAwLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgLTAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1KSkueCk7CiAgICByZXN1bHQgKz0gc3RlcChjb21wYXJlLCB0ZXh0dXJlKHNoYWRvd01hcEN1YmVfMSwgbWwgKyB2ZWMzKC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSkpLngpOwogICAgcmVzdWx0IC89IDkuMDsKICAgIHJldHVybiByZXN1bHQ7Cn0KCmZsb2F0IGF0dGVudWF0ZShmbG9hdCBkaXN0KQp7CiAgICByZXR1cm4gMS4wIC8gKGRpc3QgKiBkaXN0KTsKfQoKdmVjMyBsYW1iZXJ0RGlmZnVzZUJSREYodmVjMyBhbGJlZG8sIGZsb2F0IG5sKQp7CiAgICByZXR1cm4gYWxiZWRvICogbWF4KDAuMCwgbmwpOwp9CgpmbG9hdCBkX2dneChmbG9hdCBuaCwgZmxvYXQgYSkKewogICAgZmxvYXQgYTIgPSBhICogYTsKICAgIGZsb2F0IGRlbm9tID0gcG93KCgobmggKiBuaCkgKiAoYTIgLSAxLjApKSArIDEuMCwgMi4wKTsKICAgIHJldHVybiAoYTIgKiAwLjMxODMwOTg3MzM0MjUxNDAzODA4NTkzNzUpIC8gZGVub207Cn0KCmZsb2F0IHZfc21pdGhzY2hsaWNrKGZsb2F0IG5sLCBmbG9hdCBudiwgZmxvYXQgYSkKewogICAgcmV0dXJuIDEuMCAvICgoKG5sICogKDEuMCAtIGEpKSArIGEpICogKChudiAqICgxLjAgLSBhKSkgKyBhKSk7Cn0KCnZlYzMgZl9zY2hsaWNrKHZlYzMgZjAsIGZsb2F0IHZoKQp7CiAgICByZXR1cm4gZjAgKyAoKHZlYzMoMS4wKSAtIGYwKSAqIGV4cDIoKCgtNS41NTQ3Mjk5Mzg1MDcwODAwNzgxMjUgKiB2aCkgLSA2Ljk4MzE2MDAxODkyMDg5ODQzNzUpICogdmgpKTsKfQoKdmVjMyBzcGVjdWxhckJSREYodmVjMyBmMCwgZmxvYXQgcm91Z2huZXNzLCBmbG9hdCBubCwgZmxvYXQgbmgsIGZsb2F0IG52LCBmbG9hdCB2aCkKewogICAgZmxvYXQgYSA9IHJvdWdobmVzcyAqIHJvdWdobmVzczsKICAgIHJldHVybiAoZl9zY2hsaWNrKGYwLCB2aCkgKiAoZF9nZ3gobmgsIGEpICogY2xhbXAodl9zbWl0aHNjaGxpY2sobmwsIG52LCBhKSwgMC4wLCAxLjApKSkgLyB2ZWMzKDQuMCk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIHZlYzIgdGV4Q29vcmQgPSB3dnBwb3NpdGlvbi54eSAvIHZlYzIod3ZwcG9zaXRpb24udyk7CiAgICB0ZXhDb29yZCA9ICh0ZXhDb29yZCAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICB2ZWM0IGcwID0gdGV4dHVyZShnYnVmZmVyMCwgdGV4Q29vcmQpOwogICAgdmVjNCBnMSA9IHRleHR1cmUoZ2J1ZmZlcjEsIHRleENvb3JkKTsKICAgIGZsb2F0IGRlcHRoID0gKCgxLjAgLSBnMC53KSAqIDIuMCkgLSAxLjA7CiAgICB2ZWMzIG47CiAgICBuLnogPSAoMS4wIC0gYWJzKGcwLngpKSAtIGFicyhnMC55KTsKICAgIHZlYzIgXzU1NDsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF81NTQgPSBnMC54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfNTU0ID0gb2N0YWhlZHJvbldyYXAoZzAueHkpOwogICAgfQogICAgbiA9IHZlYzMoXzU1NC54LCBfNTU0LnksIG4ueik7CiAgICBuID0gbm9ybWFsaXplKG4pOwogICAgdmVjMyBwID0gZ2V0UG9zMihpbnZWUCwgZGVwdGgsIHRleENvb3JkKTsKICAgIHZlYzIgbWV0cm91Z2ggPSB1bnBhY2tGbG9hdChnMC56KTsKICAgIHZlYzMgdiA9IG5vcm1hbGl6ZShleWUgLSBwKTsKICAgIGZsb2F0IGRvdE5WID0gZG90KG4sIHYpOwogICAgdmVjMyBhbGJlZG8gPSBzdXJmYWNlQWxiZWRvKGcxLnh5eiwgbWV0cm91Z2gueCk7CiAgICB2ZWMzIGYwID0gc3VyZmFjZUYwKGcxLnh5eiwgbWV0cm91Z2gueCk7CiAgICB2ZWMzIGxwID0gbGlnaHRQb3MgLSBwOwogICAgdmVjMyBsID0gbm9ybWFsaXplKGxwKTsKICAgIHZlYzMgaCA9IG5vcm1hbGl6ZSh2ICsgbCk7CiAgICBmbG9hdCBkb3ROSCA9IGRvdChuLCBoKTsKICAgIGZsb2F0IGRvdFZIID0gZG90KHYsIGgpOwogICAgZmxvYXQgZG90TkwgPSBkb3QobiwgbCk7CiAgICBmbG9hdCB2aXNpYmlsaXR5ID0gMS4wOwogICAgaWYgKGxpZ2h0U2hhZG93ID09IDEpCiAgICB7CiAgICAgICAgdmVjNCBsUG9zID0gTFdWUCAqIHZlYzQocCArICgobiAqIHNoYWRvd3NCaWFzKSAqIDEwLjApLCAxLjApOwogICAgICAgIGlmIChsUG9zLncgPiAwLjApCiAgICAgICAgewogICAgICAgICAgICB2aXNpYmlsaXR5ID0gc2hhZG93VGVzdChzaGFkb3dNYXAsIGxQb3MueHl6IC8gdmVjMyhsUG9zLncpLCBzaGFkb3dzQmlhcywgdmVjMigxMDI0LjApKTsKICAgICAgICB9CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgaWYgKGxpZ2h0U2hhZG93ID09IDIpCiAgICAgICAgewogICAgICAgICAgICB2ZWMzIHBhcmFtID0gLWw7CiAgICAgICAgICAgIGZsb2F0IF82ODggPSBQQ0ZDdWJlKHNoYWRvd01hcEN1YmUsIGxwLCBwYXJhbSwgc2hhZG93c0JpYXMsIGxpZ2h0UHJvaiwgbik7CiAgICAgICAgICAgIHZpc2liaWxpdHkgPSBfNjg4OwogICAgICAgIH0KICAgIH0KICAgIHZpc2liaWxpdHkgKj0gYXR0ZW51YXRlKGRpc3RhbmNlKHAsIGxpZ2h0UG9zKSk7CiAgICBpZiAobGlnaHRUeXBlID09IDIpCiAgICB7CiAgICAgICAgZmxvYXQgc3BvdEVmZmVjdCA9IGRvdChsaWdodERpciwgbCk7CiAgICAgICAgaWYgKHNwb3RFZmZlY3QgPCBzcG90bGlnaHREYXRhLngpCiAgICAgICAgewogICAgICAgICAgICB2aXNpYmlsaXR5ICo9IHNtb290aHN0ZXAoc3BvdGxpZ2h0RGF0YS55LCBzcG90bGlnaHREYXRhLngsIHNwb3RFZmZlY3QpOwogICAgICAgIH0KICAgIH0KICAgIHZlYzMgXzczMyA9IGxhbWJlcnREaWZmdXNlQlJERihhbGJlZG8sIGRvdE5MKSArIHNwZWN1bGFyQlJERihmMCwgbWV0cm91Z2gueSwgZG90TkwsIGRvdE5ILCBkb3ROViwgZG90VkgpOwogICAgZnJhZ0NvbG9yID0gdmVjNChfNzMzLngsIF83MzMueSwgXzczMy56LCBmcmFnQ29sb3Iudyk7CiAgICB2ZWMzIF83NDAgPSBmcmFnQ29sb3IueHl6ICogbGlnaHRDb2xvcjsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzc0MC54LCBfNzQwLnksIF83NDAueiwgZnJhZ0NvbG9yLncpOwogICAgdmVjMyBfNzQ2ID0gZnJhZ0NvbG9yLnh5eiAqIHZpc2liaWxpdHk7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF83NDYueCwgXzc0Ni55LCBfNzQ2LnosIGZyYWdDb2xvci53KTsKfQoK";
kha_Shaders.deferred_light_quad_fragData0 = "s9982:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgp1bmlmb3JtIHZlYzQgY2FzRGF0YVsyMF07CnVuaWZvcm0gc2FtcGxlcjJEIGdidWZmZXIwOwp1bmlmb3JtIHNhbXBsZXIyRCBnYnVmZmVyMTsKdW5pZm9ybSB2ZWMzIGV5ZTsKdW5pZm9ybSB2ZWMzIGV5ZUxvb2s7CnVuaWZvcm0gdmVjMiBjYW1lcmFQcm9qOwp1bmlmb3JtIHZlYzMgbDsKdW5pZm9ybSBpbnQgbGlnaHRTaGFkb3c7CnVuaWZvcm0gc2FtcGxlcjJEIHNoYWRvd01hcDsKdW5pZm9ybSBmbG9hdCBzaGFkb3dzQmlhczsKdW5pZm9ybSB2ZWMzIGxpZ2h0Q29sb3I7CgppbiB2ZWMyIHRleENvb3JkOwppbiB2ZWMzIHZpZXdSYXk7Cm91dCB2ZWM0IGZyYWdDb2xvcjsKCnZlYzIgb2N0YWhlZHJvbldyYXAodmVjMiB2KQp7CiAgICByZXR1cm4gKHZlYzIoMS4wKSAtIGFicyh2Lnl4KSkgKiB2ZWMyKCh2LnggPj0gMC4wKSA:IDEuMCA6IC0xLjAsICh2LnkgPj0gMC4wKSA:IDEuMCA6IC0xLjApOwp9Cgp2ZWMzIGdldFBvcyh2ZWMzIGV5ZV8xLCB2ZWMzIGV5ZUxvb2tfMSwgdmVjMyB2aWV3UmF5XzEsIGZsb2F0IGRlcHRoLCB2ZWMyIGNhbWVyYVByb2pfMSkKewogICAgdmVjMyB2cmF5ID0gbm9ybWFsaXplKHZpZXdSYXlfMSk7CiAgICBmbG9hdCBsaW5lYXJEZXB0aCA9IGNhbWVyYVByb2pfMS55IC8gKCgoZGVwdGggKiAwLjUpICsgMC41KSAtIGNhbWVyYVByb2pfMS54KTsKICAgIGZsb2F0IHZpZXdaRGlzdCA9IGRvdChleWVMb29rXzEsIHZyYXkpOwogICAgdmVjMyB3cG9zaXRpb24gPSBleWVfMSArICh2cmF5ICogKGxpbmVhckRlcHRoIC8gdmlld1pEaXN0KSk7CiAgICByZXR1cm4gd3Bvc2l0aW9uOwp9Cgp2ZWMyIHVucGFja0Zsb2F0KGZsb2F0IGYpCnsKICAgIHJldHVybiB2ZWMyKGZsb29yKGYpIC8gMTAwLjAsIGZyYWN0KGYpKTsKfQoKdmVjMyBzdXJmYWNlQWxiZWRvKHZlYzMgYmFzZUNvbG9yLCBmbG9hdCBtZXRhbG5lc3MpCnsKICAgIHJldHVybiBtaXgoYmFzZUNvbG9yLCB2ZWMzKDAuMCksIHZlYzMobWV0YWxuZXNzKSk7Cn0KCnZlYzMgc3VyZmFjZUYwKHZlYzMgYmFzZUNvbG9yLCBmbG9hdCBtZXRhbG5lc3MpCnsKICAgIHJldHVybiBtaXgodmVjMygwLjAzOTk5OTk5OTEwNTkzMDMyODM2OTE0MDYyNSksIGJhc2VDb2xvciwgdmVjMyhtZXRhbG5lc3MpKTsKfQoKbWF0NCBnZXRDYXNjYWRlTWF0KGZsb2F0IGQsIGlub3V0IGludCBjYXNpLCBpbm91dCBpbnQgY2FzSW5kZXgpCnsKICAgIHZlYzQgY29tcCA9IHZlYzQoZmxvYXQoZCA%IGNhc0RhdGFbMTZdLngpLCBmbG9hdChkID4gY2FzRGF0YVsxNl0ueSksIGZsb2F0KGQgPiBjYXNEYXRhWzE2XS56KSwgZmxvYXQoZCA%IGNhc0RhdGFbMTZdLncpKTsKICAgIGNhc2kgPSBpbnQobWluKGRvdCh2ZWM0KDEuMCksIGNvbXApLCA0LjApKTsKICAgIGNhc0luZGV4ID0gY2FzaSAqIDQ7CiAgICByZXR1cm4gbWF0NCh2ZWM0KGNhc0RhdGFbY2FzSW5kZXggKyAwXSksIHZlYzQoY2FzRGF0YVtjYXNJbmRleCArIDFdKSwgdmVjNChjYXNEYXRhW2Nhc0luZGV4ICsgMl0pLCB2ZWM0KGNhc0RhdGFbY2FzSW5kZXggKyAzXSkpOwp9CgpmbG9hdCBzaGFkb3dDb21wYXJlKHNhbXBsZXIyRCBzaGFkb3dNYXBfMSwgdmVjMiB1diwgZmxvYXQgY29tcGFyZSkKewogICAgZmxvYXQgZGVwdGggPSB0ZXh0dXJlKHNoYWRvd01hcF8xLCB1dikueDsKICAgIHJldHVybiBzdGVwKGNvbXBhcmUsIGRlcHRoKTsKfQoKZmxvYXQgc2hhZG93TGVycChzYW1wbGVyMkQgc2hhZG93TWFwXzEsIHZlYzIgdXYsIGZsb2F0IGNvbXBhcmUsIHZlYzIgc21TaXplKQp7CiAgICB2ZWMyIHRleGVsU2l6ZSA9IHZlYzIoMS4wKSAvIHNtU2l6ZTsKICAgIHZlYzIgZiA9IGZyYWN0KCh1diAqIHNtU2l6ZSkgKyB2ZWMyKDAuNSkpOwogICAgdmVjMiBjZW50cm9pZFVWID0gZmxvb3IoKHV2ICogc21TaXplKSArIHZlYzIoMC41KSkgLyBzbVNpemU7CiAgICBmbG9hdCBsYiA9IHNoYWRvd0NvbXBhcmUoc2hhZG93TWFwXzEsIGNlbnRyb2lkVVYsIGNvbXBhcmUpOwogICAgZmxvYXQgbHQgPSBzaGFkb3dDb21wYXJlKHNoYWRvd01hcF8xLCBjZW50cm9pZFVWICsgKHRleGVsU2l6ZSAqIHZlYzIoMC4wLCAxLjApKSwgY29tcGFyZSk7CiAgICBmbG9hdCByYiA9IHNoYWRvd0NvbXBhcmUoc2hhZG93TWFwXzEsIGNlbnRyb2lkVVYgKyAodGV4ZWxTaXplICogdmVjMigxLjAsIDAuMCkpLCBjb21wYXJlKTsKICAgIGZsb2F0IHJ0ID0gc2hhZG93Q29tcGFyZShzaGFkb3dNYXBfMSwgY2VudHJvaWRVViArIHRleGVsU2l6ZSwgY29tcGFyZSk7CiAgICBmbG9hdCBhID0gbWl4KGxiLCBsdCwgZi55KTsKICAgIGZsb2F0IGIgPSBtaXgocmIsIHJ0LCBmLnkpOwogICAgZmxvYXQgYyA9IG1peChhLCBiLCBmLngpOwogICAgcmV0dXJuIGM7Cn0KCmZsb2F0IFBDRihzYW1wbGVyMkQgc2hhZG93TWFwXzEsIHZlYzIgdXYsIGZsb2F0IGNvbXBhcmUsIHZlYzIgc21TaXplKQp7CiAgICBmbG9hdCByZXN1bHQgPSBzaGFkb3dMZXJwKHNoYWRvd01hcF8xLCB1diArICh2ZWMyKC0xLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHNoYWRvd01hcF8xLCB1diArICh2ZWMyKC0xLjAsIDAuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAoc2hhZG93TWFwXzEsIHV2ICsgKHZlYzIoLTEuMCwgMS4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycChzaGFkb3dNYXBfMSwgdXYgKyAodmVjMigwLjAsIC0xLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHNoYWRvd01hcF8xLCB1diwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHNoYWRvd01hcF8xLCB1diArICh2ZWMyKDAuMCwgMS4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycChzaGFkb3dNYXBfMSwgdXYgKyAodmVjMigxLjAsIC0xLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHNoYWRvd01hcF8xLCB1diArICh2ZWMyKDEuMCwgMC4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycChzaGFkb3dNYXBfMSwgdXYgKyAodmVjMigxLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJldHVybiByZXN1bHQgLyA5LjA7Cn0KCmZsb2F0IHNoYWRvd1Rlc3Qoc2FtcGxlcjJEIHNoYWRvd01hcF8xLCB2ZWMzIGxQb3MsIGZsb2F0IHNoYWRvd3NCaWFzXzEsIHZlYzIgc21TaXplKQp7CiAgICBib29sIF8zMDYgPSBsUG9zLnggPCAwLjA7CiAgICBib29sIF8zMTI7CiAgICBpZiAoIV8zMDYpCiAgICB7CiAgICAgICAgXzMxMiA9IGxQb3MueSA8IDAuMDsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMzEyID0gXzMwNjsKICAgIH0KICAgIGJvb2wgXzMxODsKICAgIGlmICghXzMxMikKICAgIHsKICAgICAgICBfMzE4ID0gbFBvcy54ID4gMS4wOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF8zMTggPSBfMzEyOwogICAgfQogICAgYm9vbCBfMzI0OwogICAgaWYgKCFfMzE4KQogICAgewogICAgICAgIF8zMjQgPSBsUG9zLnkgPiAxLjA7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzMyNCA9IF8zMTg7CiAgICB9CiAgICBpZiAoXzMyNCkKICAgIHsKICAgICAgICByZXR1cm4gMS4wOwogICAgfQogICAgcmV0dXJuIFBDRihzaGFkb3dNYXBfMSwgbFBvcy54eSwgbFBvcy56IC0gc2hhZG93c0JpYXNfMSwgc21TaXplKTsKfQoKZmxvYXQgc2hhZG93VGVzdENhc2NhZGUoc2FtcGxlcjJEIHNoYWRvd01hcF8xLCB2ZWMzIGV5ZV8xLCB2ZWMzIHAsIGZsb2F0IHNoYWRvd3NCaWFzXzEsIHZlYzIgc21TaXplKQp7CiAgICBmbG9hdCBkID0gZGlzdGFuY2UoZXllXzEsIHApOwogICAgaW50IHBhcmFtOwogICAgaW50IHBhcmFtXzE7CiAgICBtYXQ0IF80MjIgPSBnZXRDYXNjYWRlTWF0KGQsIHBhcmFtLCBwYXJhbV8xKTsKICAgIGludCBjYXNpID0gcGFyYW07CiAgICBpbnQgY2FzSW5kZXggPSBwYXJhbV8xOwogICAgbWF0NCBMV1ZQID0gXzQyMjsKICAgIHZlYzQgbFBvcyA9IExXVlAgKiB2ZWM0KHAsIDEuMCk7CiAgICBmbG9hdCB2aXNpYmlsaXR5ID0gMS4wOwogICAgaWYgKGxQb3MudyA%IDAuMCkKICAgIHsKICAgICAgICB2aXNpYmlsaXR5ID0gc2hhZG93VGVzdChzaGFkb3dNYXBfMSwgbFBvcy54eXogLyB2ZWMzKGxQb3MudyksIHNoYWRvd3NCaWFzXzEsIHNtU2l6ZSk7CiAgICB9CiAgICBmbG9hdCBuZXh0U3BsaXQgPSBjYXNEYXRhWzE2XVtjYXNpXTsKICAgIGZsb2F0IF80NTA7CiAgICBpZiAoY2FzaSA9PSAwKQogICAgewogICAgICAgIF80NTAgPSBuZXh0U3BsaXQ7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzQ1MCA9IG5leHRTcGxpdCAtIChjYXNEYXRhWzE2XVtjYXNpIC0gMV0pOwogICAgfQogICAgZmxvYXQgc3BsaXRTaXplID0gXzQ1MDsKICAgIGZsb2F0IHNwbGl0RGlzdCA9IChuZXh0U3BsaXQgLSBkKSAvIHNwbGl0U2l6ZTsKICAgIGZsb2F0IHZpc2liaWxpdHkyOwogICAgaWYgKChzcGxpdERpc3QgPD0gMC4xNTAwMDAwMDU5NjA0NjQ0Nzc1MzkwNjI1KSAmJiAoY2FzaSAhPSAzKSkKICAgIHsKICAgICAgICBpbnQgY2FzSW5kZXgyID0gY2FzSW5kZXggKyA0OwogICAgICAgIG1hdDQgTFdWUDIgPSBtYXQ0KHZlYzQoY2FzRGF0YVtjYXNJbmRleDIgKyAwXSksIHZlYzQoY2FzRGF0YVtjYXNJbmRleDIgKyAxXSksIHZlYzQoY2FzRGF0YVtjYXNJbmRleDIgKyAyXSksIHZlYzQoY2FzRGF0YVtjYXNJbmRleDIgKyAzXSkpOwogICAgICAgIHZlYzQgbFBvczIgPSBMV1ZQMiAqIHZlYzQocCwgMS4wKTsKICAgICAgICB2aXNpYmlsaXR5MiA9IDEuMDsKICAgICAgICBpZiAobFBvczIudyA%IDAuMCkKICAgICAgICB7CiAgICAgICAgICAgIHZpc2liaWxpdHkyID0gc2hhZG93VGVzdChzaGFkb3dNYXBfMSwgbFBvczIueHl6IC8gdmVjMyhsUG9zMi53KSwgc2hhZG93c0JpYXNfMSwgc21TaXplKTsKICAgICAgICB9CiAgICAgICAgZmxvYXQgbGVycEFtdCA9IHNtb290aHN0ZXAoMC4wLCAwLjE1MDAwMDAwNTk2MDQ2NDQ3NzUzOTA2MjUsIHNwbGl0RGlzdCk7CiAgICAgICAgcmV0dXJuIG1peCh2aXNpYmlsaXR5MiwgdmlzaWJpbGl0eSwgbGVycEFtdCk7CiAgICB9CiAgICByZXR1cm4gdmlzaWJpbGl0eTsKfQoKdmVjMyBsYW1iZXJ0RGlmZnVzZUJSREYodmVjMyBhbGJlZG8sIGZsb2F0IG5sKQp7CiAgICByZXR1cm4gYWxiZWRvICogbWF4KDAuMCwgbmwpOwp9CgpmbG9hdCBkX2dneChmbG9hdCBuaCwgZmxvYXQgYSkKewogICAgZmxvYXQgYTIgPSBhICogYTsKICAgIGZsb2F0IGRlbm9tID0gcG93KCgobmggKiBuaCkgKiAoYTIgLSAxLjApKSArIDEuMCwgMi4wKTsKICAgIHJldHVybiAoYTIgKiAwLjMxODMwOTg3MzM0MjUxNDAzODA4NTkzNzUpIC8gZGVub207Cn0KCmZsb2F0IHZfc21pdGhzY2hsaWNrKGZsb2F0IG5sLCBmbG9hdCBudiwgZmxvYXQgYSkKewogICAgcmV0dXJuIDEuMCAvICgoKG5sICogKDEuMCAtIGEpKSArIGEpICogKChudiAqICgxLjAgLSBhKSkgKyBhKSk7Cn0KCnZlYzMgZl9zY2hsaWNrKHZlYzMgZjAsIGZsb2F0IHZoKQp7CiAgICByZXR1cm4gZjAgKyAoKHZlYzMoMS4wKSAtIGYwKSAqIGV4cDIoKCgtNS41NTQ3Mjk5Mzg1MDcwODAwNzgxMjUgKiB2aCkgLSA2Ljk4MzE2MDAxODkyMDg5ODQzNzUpICogdmgpKTsKfQoKdmVjMyBzcGVjdWxhckJSREYodmVjMyBmMCwgZmxvYXQgcm91Z2huZXNzLCBmbG9hdCBubCwgZmxvYXQgbmgsIGZsb2F0IG52LCBmbG9hdCB2aCkKewogICAgZmxvYXQgYSA9IHJvdWdobmVzcyAqIHJvdWdobmVzczsKICAgIHJldHVybiAoZl9zY2hsaWNrKGYwLCB2aCkgKiAoZF9nZ3gobmgsIGEpICogY2xhbXAodl9zbWl0aHNjaGxpY2sobmwsIG52LCBhKSwgMC4wLCAxLjApKSkgLyB2ZWMzKDQuMCk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIHZlYzQgZzAgPSB0ZXh0dXJlKGdidWZmZXIwLCB0ZXhDb29yZCk7CiAgICB2ZWM0IGcxID0gdGV4dHVyZShnYnVmZmVyMSwgdGV4Q29vcmQpOwogICAgZmxvYXQgZGVwdGggPSAoKDEuMCAtIGcwLncpICogMi4wKSAtIDEuMDsKICAgIHZlYzMgbjsKICAgIG4ueiA9ICgxLjAgLSBhYnMoZzAueCkpIC0gYWJzKGcwLnkpOwogICAgdmVjMyB2OwogICAgZmxvYXQgZG90TlY7CiAgICB2ZWMyIF82MjI7CiAgICB2ZWMyIG1ldHJvdWdoOwogICAgdmVjMyBhbGJlZG87CiAgICB2ZWMzIGYwOwogICAgZmxvYXQgZG90Tkw7CiAgICBmbG9hdCB2aXNpYmlsaXR5OwogICAgaWYgKG4ueiA%PSAwLjApCiAgICB7CiAgICAgICAgXzYyMiA9IGcwLnh5OwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF82MjIgPSBvY3RhaGVkcm9uV3JhcChnMC54eSk7CiAgICB9CiAgICBuID0gdmVjMyhfNjIyLngsIF82MjIueSwgbi56KTsKICAgIG4gPSBub3JtYWxpemUobik7CiAgICB2ZWMzIHAgPSBnZXRQb3MoZXllLCBleWVMb29rLCB2aWV3UmF5LCBkZXB0aCwgY2FtZXJhUHJvaik7CiAgICBtZXRyb3VnaCA9IHVucGFja0Zsb2F0KGcwLnopOwogICAgdiA9IG5vcm1hbGl6ZShleWUgLSBwKTsKICAgIGRvdE5WID0gZG90KG4sIHYpOwogICAgYWxiZWRvID0gc3VyZmFjZUFsYmVkbyhnMS54eXosIG1ldHJvdWdoLngpOwogICAgZjAgPSBzdXJmYWNlRjAoZzEueHl6LCBtZXRyb3VnaC54KTsKICAgIGRvdE5MID0gZG90KG4sIGwpOwogICAgdmlzaWJpbGl0eSA9IDEuMDsKICAgIGlmIChsaWdodFNoYWRvdyA9PSAxKQogICAgewogICAgICAgIHZpc2liaWxpdHkgPSBzaGFkb3dUZXN0Q2FzY2FkZShzaGFkb3dNYXAsIGV5ZSwgcCArICgobiAqIHNoYWRvd3NCaWFzKSAqIDEwLjApLCBzaGFkb3dzQmlhcywgdmVjMig0MDk2LjAsIDEwMjQuMCkpOwogICAgfQogICAgdmVjMyBoID0gbm9ybWFsaXplKHYgKyBsKTsKICAgIGZsb2F0IGRvdE5IID0gZG90KG4sIGgpOwogICAgZmxvYXQgZG90VkggPSBkb3QodiwgaCk7CiAgICB2ZWMzIF83MzEgPSBsYW1iZXJ0RGlmZnVzZUJSREYoYWxiZWRvLCBkb3ROTCkgKyBzcGVjdWxhckJSREYoZjAsIG1ldHJvdWdoLnksIGRvdE5MLCBkb3ROSCwgZG90TlYsIGRvdFZIKTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzczMS54LCBfNzMxLnksIF83MzEueiwgZnJhZ0NvbG9yLncpOwogICAgdmVjMyBfNzM4ID0gZnJhZ0NvbG9yLnh5eiAqIGxpZ2h0Q29sb3I7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF83MzgueCwgXzczOC55LCBfNzM4LnosIGZyYWdDb2xvci53KTsKICAgIHZlYzMgXzc0NCA9IGZyYWdDb2xvci54eXogKiB2aXNpYmlsaXR5OwogICAgZnJhZ0NvbG9yID0gdmVjNChfNzQ0LngsIF83NDQueSwgXzc0NC56LCBmcmFnQ29sb3Iudyk7Cn0KCg";
kha_Shaders.pass_vertData0 = "s331:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgpvdXQgdmVjMiB0ZXhDb29yZDsKaW4gdmVjMiBwb3M7Cgp2b2lkIG1haW4oKQp7CiAgICB0ZXhDb29yZCA9IChwb3MgKiB2ZWMyKDAuNSkpICsgdmVjMigwLjUpOwogICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvcywgMC4wLCAxLjApOwp9Cgo";
kha_Shaders.pass_lamp_volume_vertData0 = "s347:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgp1bmlmb3JtIG1hdDQgTFZXVlA7CgpvdXQgdmVjNCB3dnBwb3NpdGlvbjsKaW4gdmVjMyBwb3M7Cgp2b2lkIG1haW4oKQp7CiAgICB3dnBwb3NpdGlvbiA9IExWV1ZQICogdmVjNChwb3MsIDEuMCk7CiAgICBnbF9Qb3NpdGlvbiA9IHd2cHBvc2l0aW9uOwp9Cgo";
kha_Shaders.pass_viewray_vertData0 = "s632:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgp1bmlmb3JtIG1hdDQgaW52VlA7CnVuaWZvcm0gdmVjMyBleWU7CgpvdXQgdmVjMiB0ZXhDb29yZDsKaW4gdmVjMiBwb3M7Cm91dCB2ZWMzIHZpZXdSYXk7Cgp2b2lkIG1haW4oKQp7CiAgICB0ZXhDb29yZCA9IChwb3MgKiB2ZWMyKDAuNSkpICsgdmVjMigwLjUpOwogICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvcywgMC4wLCAxLjApOwogICAgdmVjNCB2ID0gdmVjNChwb3MueCwgcG9zLnksIDEuMCwgMS4wKTsKICAgIHYgPSB2ZWM0KGludlZQICogdik7CiAgICB2ZWMzIF82MiA9IHYueHl6IC8gdmVjMyh2LncpOwogICAgdiA9IHZlYzQoXzYyLngsIF82Mi55LCBfNjIueiwgdi53KTsKICAgIHZpZXdSYXkgPSB2Lnh5eiAtIGV5ZTsKfQoK";
kha_Shaders.ssao_pass_fragData0 = "s8427:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgp1bmlmb3JtIHZlYzIgYXNwZWN0UmF0aW87CnVuaWZvcm0gc2FtcGxlcjJEIGdidWZmZXJEOwp1bmlmb3JtIHZlYzMgZXllOwp1bmlmb3JtIG1hdDQgaW52VlA7CnVuaWZvcm0gc2FtcGxlcjJEIGdidWZmZXIwOwp1bmlmb3JtIHNhbXBsZXIyRCBzbm9pc2U7CnVuaWZvcm0gdmVjMiBzY3JlZW5TaXplOwoKaW4gdmVjMiB0ZXhDb29yZDsKb3V0IHZlYzQgZnJhZ0NvbG9yOwoKdmVjMiBvY3RhaGVkcm9uV3JhcCh2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogLTEuMCwgKHYueSA%PSAwLjApID8gMS4wIDogLTEuMCk7Cn0KCnZlYzMgZ2V0UG9zMk5vRXllKHZlYzMgZXllXzEsIG1hdDQgaW52VlBfMSwgZmxvYXQgZGVwdGgsIHZlYzIgY29vcmQpCnsKICAgIHZlYzQgcG9zID0gdmVjNCgoY29vcmQgKiAyLjApIC0gdmVjMigxLjApLCBkZXB0aCwgMS4wKTsKICAgIHBvcyA9IGludlZQXzEgKiBwb3M7CiAgICB2ZWMzIF83NCA9IHBvcy54eXogLyB2ZWMzKHBvcy53KTsKICAgIHBvcyA9IHZlYzQoXzc0LngsIF83NC55LCBfNzQueiwgcG9zLncpOwogICAgcmV0dXJuIHBvcy54eXogLSBleWVfMTsKfQoKZmxvYXQgZG9BTyhpbm91dCB2ZWMyIGtlcm5lbFZlYywgdmVjMiByYW5kb21WZWMsIG1hdDIgcm90TWF0LCB2ZWMzIGN1cnJlbnRQb3MsIHZlYzMgbiwgZmxvYXQgY3VycmVudERpc3RhbmNlKQp7CiAgICBrZXJuZWxWZWMgKj0gYXNwZWN0UmF0aW87CiAgICBmbG9hdCByYWRpdXMgPSAwLjExOTk5OTk5NzMxNzc5MDk4NTEwNzQyMTg3NSAqIHJhbmRvbVZlYy55OwogICAga2VybmVsVmVjID0gKChyb3RNYXQgKiBrZXJuZWxWZWMpIC8gdmVjMihjdXJyZW50RGlzdGFuY2UpKSAqIHJhZGl1czsKICAgIHZlYzIgY29vcmQgPSB0ZXhDb29yZCArIGtlcm5lbFZlYzsKICAgIGZsb2F0IGRlcHRoID0gKHRleHR1cmUoZ2J1ZmZlckQsIGNvb3JkKS54ICogMi4wKSAtIDEuMDsKICAgIHZlYzMgcG9zID0gZ2V0UG9zMk5vRXllKGV5ZSwgaW52VlAsIGRlcHRoLCBjb29yZCkgLSBjdXJyZW50UG9zOwogICAgZmxvYXQgYW5nbGUgPSBkb3QocG9zLCBuKTsKICAgIGFuZ2xlICo9IHN0ZXAoMC4xMDAwMDAwMDE0OTAxMTYxMTkzODQ3NjU2MjUsIGFuZ2xlIC8gbGVuZ3RoKHBvcykpOwogICAgYW5nbGUgLT0gKGN1cnJlbnREaXN0YW5jZSAqIDAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1KTsKICAgIGFuZ2xlID0gbWF4KDAuMCwgYW5nbGUpOwogICAgYW5nbGUgLz0gKChkb3QocG9zLCBwb3MpIC8gbWluKGN1cnJlbnREaXN0YW5jZSAqIDAuMjUsIDEuMCkpICsgMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUpOwogICAgcmV0dXJuIGFuZ2xlOwp9Cgp2b2lkIG1haW4oKQp7CiAgICBmbG9hdCBkZXB0aCA9ICh0ZXh0dXJlKGdidWZmZXJELCB0ZXhDb29yZCkueCAqIDIuMCkgLSAxLjA7CiAgICBpZiAoZGVwdGggPT0gMS4wKQogICAgewogICAgICAgIGZyYWdDb2xvci54ID0gMS4wOwogICAgICAgIHJldHVybjsKICAgIH0KICAgIHZlYzIgZW5jID0gdGV4dHVyZShnYnVmZmVyMCwgdGV4Q29vcmQpLnh5OwogICAgdmVjMyBuOwogICAgbi56ID0gKDEuMCAtIGFicyhlbmMueCkpIC0gYWJzKGVuYy55KTsKICAgIHZlYzIgXzE5NTsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF8xOTUgPSBlbmM7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzE5NSA9IG9jdGFoZWRyb25XcmFwKGVuYyk7CiAgICB9CiAgICBuID0gdmVjMyhfMTk1LngsIF8xOTUueSwgbi56KTsKICAgIG4gPSBub3JtYWxpemUobik7CiAgICB2ZWMzIGN1cnJlbnRQb3MgPSBnZXRQb3MyTm9FeWUoZXllLCBpbnZWUCwgZGVwdGgsIHRleENvb3JkKTsKICAgIGZsb2F0IGN1cnJlbnREaXN0YW5jZSA9IGxlbmd0aChjdXJyZW50UG9zKTsKICAgIHZlYzIgcmFuZG9tVmVjID0gdGV4dHVyZShzbm9pc2UsICh0ZXhDb29yZCAqIHNjcmVlblNpemUpIC8gdmVjMig4LjApKS54eTsKICAgIHJhbmRvbVZlYyA9IChyYW5kb21WZWMgKiAyLjApIC0gdmVjMigxLjApOwogICAgbWF0MiByb3RNYXQgPSBtYXQyKHZlYzIodmVjMihjb3MocmFuZG9tVmVjLnggKiAzLjE0MTU5Mjc0MTAxMjU3MzI0MjE4NzUpLCAtc2luKHJhbmRvbVZlYy54ICogMy4xNDE1OTI3NDEwMTI1NzMyNDIxODc1KSkpLCB2ZWMyKHZlYzIoc2luKHJhbmRvbVZlYy54ICogMy4xNDE1OTI3NDEwMTI1NzMyNDIxODc1KSwgY29zKHJhbmRvbVZlYy54ICogMy4xNDE1OTI3NDEwMTI1NzMyNDIxODc1KSkpKTsKICAgIHZlYzIgcGFyYW0gPSB2ZWMyKDEuMCwgMC4wKTsKICAgIHZlYzIgcGFyYW1fMSA9IHJhbmRvbVZlYzsKICAgIG1hdDIgcGFyYW1fMiA9IHJvdE1hdDsKICAgIHZlYzMgcGFyYW1fMyA9IGN1cnJlbnRQb3M7CiAgICB2ZWMzIHBhcmFtXzQgPSBuOwogICAgZmxvYXQgcGFyYW1fNSA9IGN1cnJlbnREaXN0YW5jZTsKICAgIGZsb2F0IF8yNzUgPSBkb0FPKHBhcmFtLCBwYXJhbV8xLCBwYXJhbV8yLCBwYXJhbV8zLCBwYXJhbV80LCBwYXJhbV81KTsKICAgIGZyYWdDb2xvci54ID0gXzI3NTsKICAgIHZlYzIgcGFyYW1fNiA9IHZlYzIoMC44NjYwMjUzODgyNDA4MTQyMDg5ODQzNzUsIDAuNDk5OTk5OTEwNTkzMDMyODM2OTE0MDYyNSk7CiAgICB2ZWMyIHBhcmFtXzcgPSByYW5kb21WZWM7CiAgICBtYXQyIHBhcmFtXzggPSByb3RNYXQ7CiAgICB2ZWMzIHBhcmFtXzkgPSBjdXJyZW50UG9zOwogICAgdmVjMyBwYXJhbV8xMCA9IG47CiAgICBmbG9hdCBwYXJhbV8xMSA9IGN1cnJlbnREaXN0YW5jZTsKICAgIGZsb2F0IF8yOTEgPSBkb0FPKHBhcmFtXzYsIHBhcmFtXzcsIHBhcmFtXzgsIHBhcmFtXzksIHBhcmFtXzEwLCBwYXJhbV8xMSk7CiAgICBmcmFnQ29sb3IueCArPSBfMjkxOwogICAgdmVjMiBwYXJhbV8xMiA9IHZlYzIoMC41LCAwLjg2NjAyNTM4ODI0MDgxNDIwODk4NDM3NSk7CiAgICB2ZWMyIHBhcmFtXzEzID0gcmFuZG9tVmVjOwogICAgbWF0MiBwYXJhbV8xNCA9IHJvdE1hdDsKICAgIHZlYzMgcGFyYW1fMTUgPSBjdXJyZW50UG9zOwogICAgdmVjMyBwYXJhbV8xNiA9IG47CiAgICBmbG9hdCBwYXJhbV8xNyA9IGN1cnJlbnREaXN0YW5jZTsKICAgIGZsb2F0IF8zMDkgPSBkb0FPKHBhcmFtXzEyLCBwYXJhbV8xMywgcGFyYW1fMTQsIHBhcmFtXzE1LCBwYXJhbV8xNiwgcGFyYW1fMTcpOwogICAgZnJhZ0NvbG9yLnggKz0gXzMwOTsKICAgIHZlYzIgcGFyYW1fMTggPSB2ZWMyKDAuMCwgMS4wKTsKICAgIHZlYzIgcGFyYW1fMTkgPSByYW5kb21WZWM7CiAgICBtYXQyIHBhcmFtXzIwID0gcm90TWF0OwogICAgdmVjMyBwYXJhbV8yMSA9IGN1cnJlbnRQb3M7CiAgICB2ZWMzIHBhcmFtXzIyID0gbjsKICAgIGZsb2F0IHBhcmFtXzIzID0gY3VycmVudERpc3RhbmNlOwogICAgZmxvYXQgXzMyNiA9IGRvQU8ocGFyYW1fMTgsIHBhcmFtXzE5LCBwYXJhbV8yMCwgcGFyYW1fMjEsIHBhcmFtXzIyLCBwYXJhbV8yMyk7CiAgICBmcmFnQ29sb3IueCArPSBfMzI2OwogICAgdmVjMiBwYXJhbV8yNCA9IHZlYzIoLTAuNDk5OTk5OTEwNTkzMDMyODM2OTE0MDYyNSwgMC44NjYwMjUzODgyNDA4MTQyMDg5ODQzNzUpOwogICAgdmVjMiBwYXJhbV8yNSA9IHJhbmRvbVZlYzsKICAgIG1hdDIgcGFyYW1fMjYgPSByb3RNYXQ7CiAgICB2ZWMzIHBhcmFtXzI3ID0gY3VycmVudFBvczsKICAgIHZlYzMgcGFyYW1fMjggPSBuOwogICAgZmxvYXQgcGFyYW1fMjkgPSBjdXJyZW50RGlzdGFuY2U7CiAgICBmbG9hdCBfMzQ0ID0gZG9BTyhwYXJhbV8yNCwgcGFyYW1fMjUsIHBhcmFtXzI2LCBwYXJhbV8yNywgcGFyYW1fMjgsIHBhcmFtXzI5KTsKICAgIGZyYWdDb2xvci54ICs9IF8zNDQ7CiAgICB2ZWMyIHBhcmFtXzMwID0gdmVjMigtMC44NjYwMjUzODgyNDA4MTQyMDg5ODQzNzUsIDAuNSk7CiAgICB2ZWMyIHBhcmFtXzMxID0gcmFuZG9tVmVjOwogICAgbWF0MiBwYXJhbV8zMiA9IHJvdE1hdDsKICAgIHZlYzMgcGFyYW1fMzMgPSBjdXJyZW50UG9zOwogICAgdmVjMyBwYXJhbV8zNCA9IG47CiAgICBmbG9hdCBwYXJhbV8zNSA9IGN1cnJlbnREaXN0YW5jZTsKICAgIGZsb2F0IF8zNjIgPSBkb0FPKHBhcmFtXzMwLCBwYXJhbV8zMSwgcGFyYW1fMzIsIHBhcmFtXzMzLCBwYXJhbV8zNCwgcGFyYW1fMzUpOwogICAgZnJhZ0NvbG9yLnggKz0gXzM2MjsKICAgIHZlYzIgcGFyYW1fMzYgPSB2ZWMyKC0xLjAsIDAuMCk7CiAgICB2ZWMyIHBhcmFtXzM3ID0gcmFuZG9tVmVjOwogICAgbWF0MiBwYXJhbV8zOCA9IHJvdE1hdDsKICAgIHZlYzMgcGFyYW1fMzkgPSBjdXJyZW50UG9zOwogICAgdmVjMyBwYXJhbV80MCA9IG47CiAgICBmbG9hdCBwYXJhbV80MSA9IGN1cnJlbnREaXN0YW5jZTsKICAgIGZsb2F0IF8zNzkgPSBkb0FPKHBhcmFtXzM2LCBwYXJhbV8zNywgcGFyYW1fMzgsIHBhcmFtXzM5LCBwYXJhbV80MCwgcGFyYW1fNDEpOwogICAgZnJhZ0NvbG9yLnggKz0gXzM3OTsKICAgIHZlYzIgcGFyYW1fNDIgPSB2ZWMyKC0wLjg2NjAyNTM4ODI0MDgxNDIwODk4NDM3NSwgLTAuNDk5OTk5OTEwNTkzMDMyODM2OTE0MDYyNSk7CiAgICB2ZWMyIHBhcmFtXzQzID0gcmFuZG9tVmVjOwogICAgbWF0MiBwYXJhbV80NCA9IHJvdE1hdDsKICAgIHZlYzMgcGFyYW1fNDUgPSBjdXJyZW50UG9zOwogICAgdmVjMyBwYXJhbV80NiA9IG47CiAgICBmbG9hdCBwYXJhbV80NyA9IGN1cnJlbnREaXN0YW5jZTsKICAgIGZsb2F0IF8zOTYgPSBkb0FPKHBhcmFtXzQyLCBwYXJhbV80MywgcGFyYW1fNDQsIHBhcmFtXzQ1LCBwYXJhbV80NiwgcGFyYW1fNDcpOwogICAgZnJhZ0NvbG9yLnggKz0gXzM5NjsKICAgIHZlYzIgcGFyYW1fNDggPSB2ZWMyKC0wLjUsIC0wLjg2NjAyNTM4ODI0MDgxNDIwODk4NDM3NSk7CiAgICB2ZWMyIHBhcmFtXzQ5ID0gcmFuZG9tVmVjOwogICAgbWF0MiBwYXJhbV81MCA9IHJvdE1hdDsKICAgIHZlYzMgcGFyYW1fNTEgPSBjdXJyZW50UG9zOwogICAgdmVjMyBwYXJhbV81MiA9IG47CiAgICBmbG9hdCBwYXJhbV81MyA9IGN1cnJlbnREaXN0YW5jZTsKICAgIGZsb2F0IF80MTQgPSBkb0FPKHBhcmFtXzQ4LCBwYXJhbV80OSwgcGFyYW1fNTAsIHBhcmFtXzUxLCBwYXJhbV81MiwgcGFyYW1fNTMpOwogICAgZnJhZ0NvbG9yLnggKz0gXzQxNDsKICAgIHZlYzIgcGFyYW1fNTQgPSB2ZWMyKDAuMCwgLTEuMCk7CiAgICB2ZWMyIHBhcmFtXzU1ID0gcmFuZG9tVmVjOwogICAgbWF0MiBwYXJhbV81NiA9IHJvdE1hdDsKICAgIHZlYzMgcGFyYW1fNTcgPSBjdXJyZW50UG9zOwogICAgdmVjMyBwYXJhbV81OCA9IG47CiAgICBmbG9hdCBwYXJhbV81OSA9IGN1cnJlbnREaXN0YW5jZTsKICAgIGZsb2F0IF80MzEgPSBkb0FPKHBhcmFtXzU0LCBwYXJhbV81NSwgcGFyYW1fNTYsIHBhcmFtXzU3LCBwYXJhbV81OCwgcGFyYW1fNTkpOwogICAgZnJhZ0NvbG9yLnggKz0gXzQzMTsKICAgIHZlYzIgcGFyYW1fNjAgPSB2ZWMyKDAuNDk5OTk5OTEwNTkzMDMyODM2OTE0MDYyNSwgLTAuODY2MDI1Mzg4MjQwODE0MjA4OTg0Mzc1KTsKICAgIHZlYzIgcGFyYW1fNjEgPSByYW5kb21WZWM7CiAgICBtYXQyIHBhcmFtXzYyID0gcm90TWF0OwogICAgdmVjMyBwYXJhbV82MyA9IGN1cnJlbnRQb3M7CiAgICB2ZWMzIHBhcmFtXzY0ID0gbjsKICAgIGZsb2F0IHBhcmFtXzY1ID0gY3VycmVudERpc3RhbmNlOwogICAgZmxvYXQgXzQ0OCA9IGRvQU8ocGFyYW1fNjAsIHBhcmFtXzYxLCBwYXJhbV82MiwgcGFyYW1fNjMsIHBhcmFtXzY0LCBwYXJhbV82NSk7CiAgICBmcmFnQ29sb3IueCArPSBfNDQ4OwogICAgdmVjMiBwYXJhbV82NiA9IHZlYzIoMC44NjYwMjUzODgyNDA4MTQyMDg5ODQzNzUsIC0wLjUpOwogICAgdmVjMiBwYXJhbV82NyA9IHJhbmRvbVZlYzsKICAgIG1hdDIgcGFyYW1fNjggPSByb3RNYXQ7CiAgICB2ZWMzIHBhcmFtXzY5ID0gY3VycmVudFBvczsKICAgIHZlYzMgcGFyYW1fNzAgPSBuOwogICAgZmxvYXQgcGFyYW1fNzEgPSBjdXJyZW50RGlzdGFuY2U7CiAgICBmbG9hdCBfNDY1ID0gZG9BTyhwYXJhbV82NiwgcGFyYW1fNjcsIHBhcmFtXzY4LCBwYXJhbV82OSwgcGFyYW1fNzAsIHBhcmFtXzcxKTsKICAgIGZyYWdDb2xvci54ICs9IF80NjU7CiAgICBmcmFnQ29sb3IueCAqPSAwLjAwODMzMzMzMzc2Nzk1MDUzNDgyMDU1NjY0MDYyNTsKICAgIGZyYWdDb2xvci54ID0gbWF4KDAuMCwgMS4wIC0gZnJhZ0NvbG9yLngpOwp9Cgo";
kha_Shaders.translucent_resolve_fragData0 = "s736:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgp1bmlmb3JtIHNhbXBsZXIyRCBnYnVmZmVyMDsKdW5pZm9ybSBzYW1wbGVyMkQgZ2J1ZmZlcjE7CnVuaWZvcm0gc2FtcGxlcjJEIGdidWZmZXJEOwoKaW4gdmVjMiB0ZXhDb29yZDsKb3V0IHZlYzQgZnJhZ0NvbG9yOwoKdm9pZCBtYWluKCkKewogICAgdmVjNCBhY2N1bSA9IHRleHR1cmUoZ2J1ZmZlcjAsIHRleENvb3JkKTsKICAgIGZsb2F0IHJldmVhbGFnZSA9IGFjY3VtLnc7CiAgICBpZiAocmV2ZWFsYWdlID09IDEuMCkKICAgIHsKICAgICAgICBkaXNjYXJkOwogICAgfQogICAgYWNjdW0udyA9IHRleHR1cmUoZ2J1ZmZlcjEsIHRleENvb3JkKS54OwogICAgZnJhZ0NvbG9yID0gdmVjNChhY2N1bS54eXogLyB2ZWMzKGNsYW1wKGFjY3VtLncsIDkuOTk5OTk5NzQ3Mzc4NzUxNjM1NTUxNDUyNjM2NzE4OGUtMDUsIDUwMDAwLjApKSwgMS4wIC0gcmV2ZWFsYWdlKTsKfQoK";
kha_Shaders.world_pass_fragData0 = "s1655:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgp1bmlmb3JtIHZlYzMgSDsKdW5pZm9ybSB2ZWMzIEE7CnVuaWZvcm0gdmVjMyBCOwp1bmlmb3JtIHZlYzMgQzsKdW5pZm9ybSB2ZWMzIEQ7CnVuaWZvcm0gdmVjMyBFOwp1bmlmb3JtIHZlYzMgRjsKdW5pZm9ybSB2ZWMzIEc7CnVuaWZvcm0gdmVjMyBJOwp1bmlmb3JtIHZlYzMgc3VuRGlyZWN0aW9uOwp1bmlmb3JtIHZlYzMgWjsKdW5pZm9ybSBmbG9hdCBlbnZtYXBTdHJlbmd0aDsKCmluIHZlYzMgbm9ybWFsOwpvdXQgdmVjNCBmcmFnQ29sb3I7Cgp2ZWMzIGhvc2VrV2lsa2llKGZsb2F0IGNvc190aGV0YSwgZmxvYXQgZ2FtbWEsIGZsb2F0IGNvc19nYW1tYSkKewogICAgdmVjMyBjaGkgPSB2ZWMzKDEuMCArIChjb3NfZ2FtbWEgKiBjb3NfZ2FtbWEpKSAvIHBvdygodmVjMygxLjApICsgKEggKiBIKSkgLSAoSCAqICgyLjAgKiBjb3NfZ2FtbWEpKSwgdmVjMygxLjUpKTsKICAgIHJldHVybiAodmVjMygxLjApICsgKEEgKiBleHAoQiAvIHZlYzMoY29zX3RoZXRhICsgMC4wMDk5OTk5OTk3NzY0ODI1ODIwOTIyODUxNTYyNSkpKSkgKiAoKCgoQyArIChEICogZXhwKEUgKiBnYW1tYSkpKSArIChGICogKGNvc19nYW1tYSAqIGNvc19nYW1tYSkpKSArIChHICogY2hpKSkgKyAoSSAqIHNxcnQoY29zX3RoZXRhKSkpOwp9Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMzIG4gPSBub3JtYWxpemUobm9ybWFsKTsKICAgIGZsb2F0IHBoaSA9IGFjb3Mobi56KTsKICAgIGZsb2F0IHRoZXRhID0gYXRhbigtbi55LCBuLngpICsgMy4xNDE1OTI3NDEwMTI1NzMyNDIxODc1OwogICAgZmxvYXQgY29zX3RoZXRhID0gY2xhbXAobi56LCAwLjAsIDEuMCk7CiAgICBmbG9hdCBjb3NfZ2FtbWEgPSBkb3Qobiwgc3VuRGlyZWN0aW9uKTsKICAgIGZsb2F0IGdhbW1hX3ZhbCA9IGFjb3MoY29zX2dhbW1hKTsKICAgIGZsb2F0IHBhcmFtID0gY29zX3RoZXRhOwogICAgZmxvYXQgcGFyYW1fMSA9IGdhbW1hX3ZhbDsKICAgIGZsb2F0IHBhcmFtXzIgPSBjb3NfZ2FtbWE7CiAgICB2ZWMzIF8xMzYgPSAoWiAqIGhvc2VrV2lsa2llKHBhcmFtLCBwYXJhbV8xLCBwYXJhbV8yKSkgKiBlbnZtYXBTdHJlbmd0aDsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzEzNi54LCBfMTM2LnksIF8xMzYueiwgZnJhZ0NvbG9yLncpOwp9Cgo";
kha_Shaders.world_pass_vertData0 = "s386:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgp1bmlmb3JtIG1hdDQgU01WUDsKCm91dCB2ZWMzIG5vcm1hbDsKaW4gdmVjMyBub3I7CmluIHZlYzMgcG9zOwoKdm9pZCBtYWluKCkKewogICAgbm9ybWFsID0gbm9yOwogICAgdmVjNCBwb3NpdGlvbiA9IFNNVlAgKiB2ZWM0KHBvcywgMS4wKTsKICAgIGdsX1Bvc2l0aW9uID0gdmVjNChwb3NpdGlvbik7Cn0KCg";
kha_Shaders.Material_001_shadowmap_fragData0 = "s311:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgp2b2lkIG1haW4oKQp7CiAgICBmbG9hdCBvcGFjaXR5ID0gMC4wOwogICAgaWYgKG9wYWNpdHkgPCAwLjEwMDAwMDAwMTQ5MDExNjExOTM4NDc2NTYyNSkKICAgIHsKICAgICAgICBkaXNjYXJkOwogICAgfQp9Cgo";
kha_Shaders.Material_001_shadowmap_vertData0 = "s320:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgp1bmlmb3JtIG1hdDQgTFdWUDsKCmluIHZlYzMgcG9zOwppbiB2ZWMzIG5vcjsKCnZvaWQgbWFpbigpCnsKICAgIHZlYzQgc3BvcyA9IHZlYzQocG9zLCAxLjApOwogICAgZ2xfUG9zaXRpb24gPSBMV1ZQICogc3BvczsKfQoK";
kha_Shaders.Material_001_translucent_fragData0 = "s13992:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgp1bmlmb3JtIHZlYzQgc2hpcnJbN107CnVuaWZvcm0gdmVjNCBjYXNEYXRhWzIwXTsKdW5pZm9ybSB2ZWMzIGxpZ2h0UG9zOwp1bmlmb3JtIGludCBsaWdodFR5cGU7CnVuaWZvcm0gdmVjMyBsaWdodERpcjsKdW5pZm9ybSBib29sIHJlY2VpdmVTaGFkb3c7CnVuaWZvcm0gaW50IGxpZ2h0U2hhZG93Owp1bmlmb3JtIHZlYzMgZXllOwp1bmlmb3JtIHNhbXBsZXIyRCBzaGFkb3dNYXA7CnVuaWZvcm0gZmxvYXQgc2hhZG93c0JpYXM7CnVuaWZvcm0gc2FtcGxlckN1YmUgc2hhZG93TWFwQ3ViZTsKdW5pZm9ybSB2ZWMyIGxpZ2h0UHJvajsKdW5pZm9ybSB2ZWMyIHNwb3RsaWdodERhdGE7CnVuaWZvcm0gc2FtcGxlcjJEIHNlbnZtYXBCcmRmOwp1bmlmb3JtIGludCBlbnZtYXBOdW1NaXBtYXBzOwp1bmlmb3JtIHNhbXBsZXIyRCBzZW52bWFwUmFkaWFuY2U7CnVuaWZvcm0gZmxvYXQgZW52bWFwU3RyZW5ndGg7CnVuaWZvcm0gdmVjMyBsaWdodENvbG9yOwoKaW4gdmVjMyB3bm9ybWFsOwppbiB2ZWMzIGV5ZURpcjsKaW4gdmVjMyB3cG9zaXRpb247CmluIHZlYzQgbGFtcFBvczsKaW4gdmVjNCB3dnBwb3NpdGlvbjsKb3V0IHZlYzQgZnJhZ0NvbG9yWzJdOwoKZmxvYXQgYXR0ZW51YXRlKGZsb2F0IGRpc3QpCnsKICAgIHJldHVybiAxLjAgLyAoZGlzdCAqIGRpc3QpOwp9CgptYXQ0IGdldENhc2NhZGVNYXQoZmxvYXQgZCwgaW5vdXQgaW50IGNhc2ksIGlub3V0IGludCBjYXNJbmRleCkKewogICAgdmVjNCBjb21wID0gdmVjNChmbG9hdChkID4gY2FzRGF0YVsxNl0ueCksIGZsb2F0KGQgPiBjYXNEYXRhWzE2XS55KSwgZmxvYXQoZCA%IGNhc0RhdGFbMTZdLnopLCBmbG9hdChkID4gY2FzRGF0YVsxNl0udykpOwogICAgY2FzaSA9IGludChtaW4oZG90KHZlYzQoMS4wKSwgY29tcCksIDQuMCkpOwogICAgY2FzSW5kZXggPSBjYXNpICogNDsKICAgIHJldHVybiBtYXQ0KHZlYzQoY2FzRGF0YVtjYXNJbmRleCArIDBdKSwgdmVjNChjYXNEYXRhW2Nhc0luZGV4ICsgMV0pLCB2ZWM0KGNhc0RhdGFbY2FzSW5kZXggKyAyXSksIHZlYzQoY2FzRGF0YVtjYXNJbmRleCArIDNdKSk7Cn0KCmZsb2F0IHNoYWRvd0NvbXBhcmUoc2FtcGxlcjJEIHNoYWRvd01hcF8xLCB2ZWMyIHV2LCBmbG9hdCBjb21wYXJlKQp7CiAgICBmbG9hdCBkZXB0aCA9IHRleHR1cmUoc2hhZG93TWFwXzEsIHV2KS54OwogICAgcmV0dXJuIHN0ZXAoY29tcGFyZSwgZGVwdGgpOwp9CgpmbG9hdCBzaGFkb3dMZXJwKHNhbXBsZXIyRCBzaGFkb3dNYXBfMSwgdmVjMiB1diwgZmxvYXQgY29tcGFyZSwgdmVjMiBzbVNpemUpCnsKICAgIHZlYzIgdGV4ZWxTaXplID0gdmVjMigxLjApIC8gc21TaXplOwogICAgdmVjMiBmID0gZnJhY3QoKHV2ICogc21TaXplKSArIHZlYzIoMC41KSk7CiAgICB2ZWMyIGNlbnRyb2lkVVYgPSBmbG9vcigodXYgKiBzbVNpemUpICsgdmVjMigwLjUpKSAvIHNtU2l6ZTsKICAgIGZsb2F0IGxiID0gc2hhZG93Q29tcGFyZShzaGFkb3dNYXBfMSwgY2VudHJvaWRVViwgY29tcGFyZSk7CiAgICBmbG9hdCBsdCA9IHNoYWRvd0NvbXBhcmUoc2hhZG93TWFwXzEsIGNlbnRyb2lkVVYgKyAodGV4ZWxTaXplICogdmVjMigwLjAsIDEuMCkpLCBjb21wYXJlKTsKICAgIGZsb2F0IHJiID0gc2hhZG93Q29tcGFyZShzaGFkb3dNYXBfMSwgY2VudHJvaWRVViArICh0ZXhlbFNpemUgKiB2ZWMyKDEuMCwgMC4wKSksIGNvbXBhcmUpOwogICAgZmxvYXQgcnQgPSBzaGFkb3dDb21wYXJlKHNoYWRvd01hcF8xLCBjZW50cm9pZFVWICsgdGV4ZWxTaXplLCBjb21wYXJlKTsKICAgIGZsb2F0IGEgPSBtaXgobGIsIGx0LCBmLnkpOwogICAgZmxvYXQgYiA9IG1peChyYiwgcnQsIGYueSk7CiAgICBmbG9hdCBjID0gbWl4KGEsIGIsIGYueCk7CiAgICByZXR1cm4gYzsKfQoKZmxvYXQgUENGKHNhbXBsZXIyRCBzaGFkb3dNYXBfMSwgdmVjMiB1diwgZmxvYXQgY29tcGFyZSwgdmVjMiBzbVNpemUpCnsKICAgIGZsb2F0IHJlc3VsdCA9IHNoYWRvd0xlcnAoc2hhZG93TWFwXzEsIHV2ICsgKHZlYzIoLTEuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAoc2hhZG93TWFwXzEsIHV2ICsgKHZlYzIoLTEuMCwgMC4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycChzaGFkb3dNYXBfMSwgdXYgKyAodmVjMigtMS4wLCAxLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHNoYWRvd01hcF8xLCB1diArICh2ZWMyKDAuMCwgLTEuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAoc2hhZG93TWFwXzEsIHV2LCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAoc2hhZG93TWFwXzEsIHV2ICsgKHZlYzIoMC4wLCAxLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHNoYWRvd01hcF8xLCB1diArICh2ZWMyKDEuMCwgLTEuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAoc2hhZG93TWFwXzEsIHV2ICsgKHZlYzIoMS4wLCAwLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHNoYWRvd01hcF8xLCB1diArICh2ZWMyKDEuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmV0dXJuIHJlc3VsdCAvIDkuMDsKfQoKZmxvYXQgbHBUb0RlcHRoKGlub3V0IHZlYzMgbHAsIHZlYzIgbGlnaHRQcm9qXzEpCnsKICAgIGxwID0gYWJzKGxwKTsKICAgIGZsb2F0IHpjb21wID0gbWF4KGxwLngsIG1heChscC55LCBscC56KSk7CiAgICB6Y29tcCA9IGxpZ2h0UHJval8xLnggLSAobGlnaHRQcm9qXzEueSAvIHpjb21wKTsKICAgIHJldHVybiAoemNvbXAgKiAwLjUpICsgMC41Owp9CgpmbG9hdCBQQ0ZDdWJlKHNhbXBsZXJDdWJlIHNoYWRvd01hcEN1YmVfMSwgdmVjMyBscCwgaW5vdXQgdmVjMyBtbCwgZmxvYXQgYmlhcywgdmVjMiBsaWdodFByb2pfMSwgdmVjMyBuKQp7CiAgICB2ZWMzIHBhcmFtID0gbHAgLSAobiAqIDAuMDAzMDAwMDAwMDI2MDc3MDMyMDg5MjMzMzk4NDM3NSk7CiAgICBmbG9hdCBfNTE2ID0gbHBUb0RlcHRoKHBhcmFtLCBsaWdodFByb2pfMSk7CiAgICBmbG9hdCBjb21wYXJlID0gXzUxNiAtIChiaWFzICogMC40MDAwMDAwMDU5NjA0NjQ0Nzc1MzkwNjI1KTsKICAgIG1sICs9IChuICogMC4wMDMwMDAwMDAwMjYwNzcwMzIwODkyMzMzOTg0Mzc1KTsKICAgIGZsb2F0IHJlc3VsdCA9IHN0ZXAoY29tcGFyZSwgdGV4dHVyZShzaGFkb3dNYXBDdWJlXzEsIG1sKS54KTsKICAgIHJlc3VsdCArPSBzdGVwKGNvbXBhcmUsIHRleHR1cmUoc2hhZG93TWFwQ3ViZV8xLCBtbCArIHZlYzMoMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUpKS54KTsKICAgIHJlc3VsdCArPSBzdGVwKGNvbXBhcmUsIHRleHR1cmUoc2hhZG93TWFwQ3ViZV8xLCBtbCArIHZlYzMoLTAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1LCAwLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUpKS54KTsKICAgIHJlc3VsdCArPSBzdGVwKGNvbXBhcmUsIHRleHR1cmUoc2hhZG93TWFwQ3ViZV8xLCBtbCArIHZlYzMoMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUpKS54KTsKICAgIHJlc3VsdCArPSBzdGVwKGNvbXBhcmUsIHRleHR1cmUoc2hhZG93TWFwQ3ViZV8xLCBtbCArIHZlYzMoMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIDAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1LCAtMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUpKS54KTsKICAgIHJlc3VsdCArPSBzdGVwKGNvbXBhcmUsIHRleHR1cmUoc2hhZG93TWFwQ3ViZV8xLCBtbCArIHZlYzMoLTAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1LCAtMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIDAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1KSkueCk7CiAgICByZXN1bHQgKz0gc3RlcChjb21wYXJlLCB0ZXh0dXJlKHNoYWRvd01hcEN1YmVfMSwgbWwgKyB2ZWMzKDAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1LCAtMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSkpLngpOwogICAgcmVzdWx0ICs9IHN0ZXAoY29tcGFyZSwgdGV4dHVyZShzaGFkb3dNYXBDdWJlXzEsIG1sICsgdmVjMygtMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIDAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1LCAtMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUpKS54KTsKICAgIHJlc3VsdCArPSBzdGVwKGNvbXBhcmUsIHRleHR1cmUoc2hhZG93TWFwQ3ViZV8xLCBtbCArIHZlYzMoLTAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1KSkueCk7CiAgICByZXN1bHQgLz0gOS4wOwogICAgcmV0dXJuIHJlc3VsdDsKfQoKdmVjMyBzdXJmYWNlQWxiZWRvKHZlYzMgYmFzZUNvbG9yLCBmbG9hdCBtZXRhbG5lc3MpCnsKICAgIHJldHVybiBtaXgoYmFzZUNvbG9yLCB2ZWMzKDAuMCksIHZlYzMobWV0YWxuZXNzKSk7Cn0KCnZlYzMgc3VyZmFjZUYwKHZlYzMgYmFzZUNvbG9yLCBmbG9hdCBtZXRhbG5lc3MpCnsKICAgIHJldHVybiBtaXgodmVjMygwLjAzOTk5OTk5OTEwNTkzMDMyODM2OTE0MDYyNSksIGJhc2VDb2xvciwgdmVjMyhtZXRhbG5lc3MpKTsKfQoKdmVjMyBsYW1iZXJ0RGlmZnVzZUJSREYodmVjMyBhbGJlZG8sIGZsb2F0IG5sKQp7CiAgICByZXR1cm4gYWxiZWRvICogbWF4KDAuMCwgbmwpOwp9CgpmbG9hdCBkX2dneChmbG9hdCBuaCwgZmxvYXQgYSkKewogICAgZmxvYXQgYTIgPSBhICogYTsKICAgIGZsb2F0IGRlbm9tID0gcG93KCgobmggKiBuaCkgKiAoYTIgLSAxLjApKSArIDEuMCwgMi4wKTsKICAgIHJldHVybiAoYTIgKiAwLjMxODMwOTg3MzM0MjUxNDAzODA4NTkzNzUpIC8gZGVub207Cn0KCmZsb2F0IHZfc21pdGhzY2hsaWNrKGZsb2F0IG5sLCBmbG9hdCBudiwgZmxvYXQgYSkKewogICAgcmV0dXJuIDEuMCAvICgoKG5sICogKDEuMCAtIGEpKSArIGEpICogKChudiAqICgxLjAgLSBhKSkgKyBhKSk7Cn0KCnZlYzMgZl9zY2hsaWNrKHZlYzMgZjAsIGZsb2F0IHZoKQp7CiAgICByZXR1cm4gZjAgKyAoKHZlYzMoMS4wKSAtIGYwKSAqIGV4cDIoKCgtNS41NTQ3Mjk5Mzg1MDcwODAwNzgxMjUgKiB2aCkgLSA2Ljk4MzE2MDAxODkyMDg5ODQzNzUpICogdmgpKTsKfQoKdmVjMyBzcGVjdWxhckJSREYodmVjMyBmMCwgZmxvYXQgcm91Z2huZXNzLCBmbG9hdCBubCwgZmxvYXQgbmgsIGZsb2F0IG52LCBmbG9hdCB2aCkKewogICAgZmxvYXQgYSA9IHJvdWdobmVzcyAqIHJvdWdobmVzczsKICAgIHJldHVybiAoZl9zY2hsaWNrKGYwLCB2aCkgKiAoZF9nZ3gobmgsIGEpICogY2xhbXAodl9zbWl0aHNjaGxpY2sobmwsIG52LCBhKSwgMC4wLCAxLjApKSkgLyB2ZWMzKDQuMCk7Cn0KCnZlYzMgc2hJcnJhZGlhbmNlKHZlYzMgbm9yKQp7CiAgICB2ZWMzIGNsMDAgPSB2ZWMzKHNoaXJyWzBdLngsIHNoaXJyWzBdLnksIHNoaXJyWzBdLnopOwogICAgdmVjMyBjbDFtMSA9IHZlYzMoc2hpcnJbMF0udywgc2hpcnJbMV0ueCwgc2hpcnJbMV0ueSk7CiAgICB2ZWMzIGNsMTAgPSB2ZWMzKHNoaXJyWzFdLnosIHNoaXJyWzFdLncsIHNoaXJyWzJdLngpOwogICAgdmVjMyBjbDExID0gdmVjMyhzaGlyclsyXS55LCBzaGlyclsyXS56LCBzaGlyclsyXS53KTsKICAgIHZlYzMgY2wybTIgPSB2ZWMzKHNoaXJyWzNdLngsIHNoaXJyWzNdLnksIHNoaXJyWzNdLnopOwogICAgdmVjMyBjbDJtMSA9IHZlYzMoc2hpcnJbM10udywgc2hpcnJbNF0ueCwgc2hpcnJbNF0ueSk7CiAgICB2ZWMzIGNsMjAgPSB2ZWMzKHNoaXJyWzRdLnosIHNoaXJyWzRdLncsIHNoaXJyWzVdLngpOwogICAgdmVjMyBjbDIxID0gdmVjMyhzaGlycls1XS55LCBzaGlycls1XS56LCBzaGlycls1XS53KTsKICAgIHZlYzMgY2wyMiA9IHZlYzMoc2hpcnJbNl0ueCwgc2hpcnJbNl0ueSwgc2hpcnJbNl0ueik7CiAgICByZXR1cm4gKCgoKCgoKCgoKGNsMjIgKiAwLjQyOTA0Mjk5NDk3NjA0MzcwMTE3MTg3NSkgKiAoKG5vci55ICogbm9yLnkpIC0gKC1ub3IueiAqIC1ub3IueikpKSArICgoKGNsMjAgKiAwLjc0MzEyNTAyMTQ1NzY3MjExOTE0MDYyNSkgKiBub3IueCkgKiBub3IueCkpICsgKGNsMDAgKiAwLjg4NjIyNzAxMTY4MDYwMzAyNzM0Mzc1KSkgLSAoY2wyMCAqIDAuMjQ3NzA3OTkyNzkyMTI5NTE2NjAxNTYyNSkpICsgKCgoY2wybTIgKiAwLjg1ODA4NTk4OTk1MjA4NzQwMjM0Mzc1KSAqIG5vci55KSAqIC1ub3IueikpICsgKCgoY2wyMSAqIDAuODU4MDg1OTg5OTUyMDg3NDAyMzQzNzUpICogbm9yLnkpICogbm9yLngpKSArICgoKGNsMm0xICogMC44NTgwODU5ODk5NTIwODc0MDIzNDM3NSkgKiAtbm9yLnopICogbm9yLngpKSArICgoY2wxMSAqIDEuMDIzMzI3OTQ2NjYyOTAyODMyMDMxMjUpICogbm9yLnkpKSArICgoY2wxbTEgKiAxLjAyMzMyNzk0NjY2MjkwMjgzMjAzMTI1KSAqIC1ub3IueikpICsgKChjbDEwICogMS4wMjMzMjc5NDY2NjI5MDI4MzIwMzEyNSkgKiBub3IueCk7Cn0KCmZsb2F0IGdldE1pcEZyb21Sb3VnaG5lc3MoZmxvYXQgcm91Z2huZXNzLCBmbG9hdCBudW1NaXBtYXBzKQp7CiAgICByZXR1cm4gcm91Z2huZXNzICogbnVtTWlwbWFwczsKfQoKdmVjMiBlbnZNYXBFcXVpcmVjdCh2ZWMzIG5vcm1hbCkKewogICAgZmxvYXQgcGhpID0gYWNvcyhub3JtYWwueik7CiAgICBmbG9hdCB0aGV0YSA9IGF0YW4oLW5vcm1hbC55LCBub3JtYWwueCkgKyAzLjE0MTU5Mjc0MTAxMjU3MzI0MjE4NzU7CiAgICByZXR1cm4gdmVjMih0aGV0YSAvIDYuMjgzMTg1NDgyMDI1MTQ2NDg0Mzc1LCBwaGkgLyAzLjE0MTU5Mjc0MTAxMjU3MzI0MjE4NzUpOwp9Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMzIG4gPSBub3JtYWxpemUod25vcm1hbCk7CiAgICB2ZWMzIHZWZWMgPSBub3JtYWxpemUoZXllRGlyKTsKICAgIGZsb2F0IGRvdE5WID0gbWF4KGRvdChuLCB2VmVjKSwgMC4wKTsKICAgIHZlYzMgYmFzZWNvbCA9IHZlYzMoMC44MDAwMDAwMTE5MjA5Mjg5NTUwNzgxMjUpOwogICAgZmxvYXQgcm91Z2huZXNzID0gMC4wOwogICAgZmxvYXQgbWV0YWxsaWMgPSAwLjA7CiAgICBmbG9hdCBvY2NsdXNpb24gPSAxLjA7CiAgICBmbG9hdCBvcGFjaXR5ID0gMC4wOwogICAgZmxvYXQgdmlzaWJpbGl0eSA9IDEuMDsKICAgIHZlYzMgbHAgPSBsaWdodFBvcyAtIHdwb3NpdGlvbjsKICAgIHZlYzMgbDsKICAgIGZsb2F0IGRvdE5MOwogICAgZmxvYXQgZG90Tkg7CiAgICBmbG9hdCBkb3RWSDsKICAgIGlmIChsaWdodFR5cGUgPT0gMCkKICAgIHsKICAgICAgICBsID0gbGlnaHREaXI7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgbCA9IG5vcm1hbGl6ZShscCk7CiAgICAgICAgdmlzaWJpbGl0eSAqPSBhdHRlbnVhdGUoZGlzdGFuY2Uod3Bvc2l0aW9uLCBsaWdodFBvcykpOwogICAgfQogICAgdmVjMyBoID0gbm9ybWFsaXplKHZWZWMgKyBsKTsKICAgIGRvdE5MID0gZG90KG4sIGwpOwogICAgZG90TkggPSBkb3QobiwgaCk7CiAgICBkb3RWSCA9IGRvdCh2VmVjLCBoKTsKICAgIGlmIChyZWNlaXZlU2hhZG93KQogICAgewogICAgICAgIGlmIChsaWdodFNoYWRvdyA9PSAxKQogICAgICAgIHsKICAgICAgICAgICAgdmVjMyBsUG9zOwogICAgICAgICAgICB2ZWMyIHNtU2l6ZTsKICAgICAgICAgICAgaWYgKGxpZ2h0VHlwZSA9PSAwKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpbnQgcGFyYW07CiAgICAgICAgICAgICAgICBpbnQgcGFyYW1fMTsKICAgICAgICAgICAgICAgIG1hdDQgXzc3NyA9IGdldENhc2NhZGVNYXQoZGlzdGFuY2UoZXllLCB3cG9zaXRpb24pLCBwYXJhbSwgcGFyYW1fMSk7CiAgICAgICAgICAgICAgICBpbnQgY2FzaSA9IHBhcmFtOwogICAgICAgICAgICAgICAgaW50IGNhc2luZGV4ID0gcGFyYW1fMTsKICAgICAgICAgICAgICAgIG1hdDQgTFdWUCA9IF83Nzc7CiAgICAgICAgICAgICAgICB2ZWM0IGxhbXBQb3NfMSA9IExXVlAgKiB2ZWM0KHdwb3NpdGlvbiwgMS4wKTsKICAgICAgICAgICAgICAgIGxQb3MgPSBsYW1wUG9zXzEueHl6IC8gdmVjMyhsYW1wUG9zXzEudyk7CiAgICAgICAgICAgICAgICBzbVNpemUgPSB2ZWMyKDQwOTYuMCwgMTAyNC4wKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGxQb3MgPSBsYW1wUG9zLnh5eiAvIHZlYzMobGFtcFBvcy53KTsKICAgICAgICAgICAgICAgIHNtU2l6ZSA9IHZlYzIoMTAyNC4wKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB2aXNpYmlsaXR5ICo9IFBDRihzaGFkb3dNYXAsIGxQb3MueHksIGxQb3MueiAtIHNoYWRvd3NCaWFzLCBzbVNpemUpOwogICAgICAgIH0KICAgICAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgICBpZiAobGlnaHRTaGFkb3cgPT0gMikKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdmVjMyBwYXJhbV8yID0gLWw7CiAgICAgICAgICAgICAgICBmbG9hdCBfODM3ID0gUENGQ3ViZShzaGFkb3dNYXBDdWJlLCBscCwgcGFyYW1fMiwgc2hhZG93c0JpYXMsIGxpZ2h0UHJvaiwgbik7CiAgICAgICAgICAgICAgICB2aXNpYmlsaXR5ICo9IF84Mzc7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICBpZiAobGlnaHRUeXBlID09IDIpCiAgICB7CiAgICAgICAgZmxvYXQgc3BvdEVmZmVjdCA9IGRvdChsaWdodERpciwgbCk7CiAgICAgICAgaWYgKHNwb3RFZmZlY3QgPCBzcG90bGlnaHREYXRhLngpCiAgICAgICAgewogICAgICAgICAgICB2aXNpYmlsaXR5ICo9IHNtb290aHN0ZXAoc3BvdGxpZ2h0RGF0YS55LCBzcG90bGlnaHREYXRhLngsIHNwb3RFZmZlY3QpOwogICAgICAgIH0KICAgIH0KICAgIHZlYzMgYWxiZWRvID0gc3VyZmFjZUFsYmVkbyhiYXNlY29sLCBtZXRhbGxpYyk7CiAgICB2ZWMzIGYwID0gc3VyZmFjZUYwKGJhc2Vjb2wsIG1ldGFsbGljKTsKICAgIHZlYzMgZGlyZWN0ID0gbGFtYmVydERpZmZ1c2VCUkRGKGFsYmVkbywgZG90TkwpOwogICAgZGlyZWN0ICs9IHNwZWN1bGFyQlJERihmMCwgcm91Z2huZXNzLCBkb3ROTCwgZG90TkgsIGRvdE5WLCBkb3RWSCk7CiAgICB2ZWMyIGVudkJSREYgPSB0ZXh0dXJlKHNlbnZtYXBCcmRmLCB2ZWMyKHJvdWdobmVzcywgMS4wIC0gZG90TlYpKS54eTsKICAgIHZlYzMgaW5kaXJlY3QgPSBzaElycmFkaWFuY2Uobik7CiAgICBpbmRpcmVjdCAqPSBhbGJlZG87CiAgICB2ZWMzIHJlZmxlY3Rpb25Xb3JsZCA9IHJlZmxlY3QoLXZWZWMsIG4pOwogICAgZmxvYXQgbG9kID0gZ2V0TWlwRnJvbVJvdWdobmVzcyhyb3VnaG5lc3MsIGZsb2F0KGVudm1hcE51bU1pcG1hcHMpKTsKICAgIHZlYzMgcHJlZmlsdGVyZWRDb2xvciA9IHRleHR1cmVMb2Qoc2Vudm1hcFJhZGlhbmNlLCBlbnZNYXBFcXVpcmVjdChyZWZsZWN0aW9uV29ybGQpLCBsb2QpLnh5ejsKICAgIGluZGlyZWN0ICs9ICgocHJlZmlsdGVyZWRDb2xvciAqICgoZjAgKiBlbnZCUkRGLngpICsgdmVjMyhlbnZCUkRGLnkpKSkgKiAxLjUpOwogICAgaW5kaXJlY3QgKj0gZW52bWFwU3RyZW5ndGg7CiAgICB2ZWM0IHByZW11bHRpcGxpZWRSZWZsZWN0ID0gdmVjNCh2ZWMzKChkaXJlY3QgKiB2aXNpYmlsaXR5KSArIChpbmRpcmVjdCAqIG9jY2x1c2lvbikpLCBvcGFjaXR5KTsKICAgIGZsb2F0IGZyYWdaID0gd3ZwcG9zaXRpb24ueiAvIHd2cHBvc2l0aW9uLnc7CiAgICBmbG9hdCBhID0gKG1pbigxLjAsIHByZW11bHRpcGxpZWRSZWZsZWN0LncpICogOC4wKSArIDAuMDA5OTk5OTk5Nzc2NDgyNTgyMDkyMjg1MTU2MjU7CiAgICBmbG9hdCBiID0gKC1mcmFnWiAqIDAuOTQ5OTk5OTg4MDc5MDcxMDQ0OTIxODc1KSArIDEuMDsKICAgIGZsb2F0IHcgPSBjbGFtcCgoKCgoKGEgKiBhKSAqIGEpICogMTAwMDAwMDAwLjApICogYikgKiBiKSAqIGIsIDAuMDA5OTk5OTk5Nzc2NDgyNTgyMDkyMjg1MTU2MjUsIDMwMC4wKTsKICAgIGZyYWdDb2xvclswXSA9IHZlYzQocHJlbXVsdGlwbGllZFJlZmxlY3QueHl6ICogdywgcHJlbXVsdGlwbGllZFJlZmxlY3Qudyk7CiAgICBmcmFnQ29sb3JbMV0gPSB2ZWM0KHByZW11bHRpcGxpZWRSZWZsZWN0LncgKiB3LCAwLjAsIDAuMCwgMS4wKTsKfQoK";
kha_Shaders.Material_001_translucent_vertData0 = "s836:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgp1bmlmb3JtIG1hdDMgTjsKdW5pZm9ybSBtYXQ0IFdWUDsKdW5pZm9ybSBtYXQ0IFc7CnVuaWZvcm0gdmVjMyBleWU7CnVuaWZvcm0gaW50IGxpZ2h0U2hhZG93Owp1bmlmb3JtIG1hdDQgTFdWUDsKCmluIHZlYzMgcG9zOwpvdXQgdmVjMyB3bm9ybWFsOwppbiB2ZWMzIG5vcjsKb3V0IHZlYzMgd3Bvc2l0aW9uOwpvdXQgdmVjMyBleWVEaXI7Cm91dCB2ZWM0IGxhbXBQb3M7Cm91dCB2ZWM0IHd2cHBvc2l0aW9uOwoKdm9pZCBtYWluKCkKewogICAgdmVjNCBzcG9zID0gdmVjNChwb3MsIDEuMCk7CiAgICB3bm9ybWFsID0gbm9ybWFsaXplKE4gKiBub3IpOwogICAgZ2xfUG9zaXRpb24gPSBXVlAgKiBzcG9zOwogICAgd3Bvc2l0aW9uID0gdmVjNChXICogc3BvcykueHl6OwogICAgZXllRGlyID0gZXllIC0gd3Bvc2l0aW9uOwogICAgaWYgKGxpZ2h0U2hhZG93ID09IDEpCiAgICB7CiAgICAgICAgbGFtcFBvcyA9IExXVlAgKiBzcG9zOwogICAgfQogICAgd3ZwcG9zaXRpb24gPSBnbF9Qb3NpdGlvbjsKfQoK";
kha_Shaders.Material_mesh_fragData0 = "s1371:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgppbiB2ZWMzIHdub3JtYWw7Cm91dCB2ZWM0IGZyYWdDb2xvclsyXTsKCnZlYzIgb2N0YWhlZHJvbldyYXAodmVjMiB2KQp7CiAgICByZXR1cm4gKHZlYzIoMS4wKSAtIGFicyh2Lnl4KSkgKiB2ZWMyKCh2LnggPj0gMC4wKSA:IDEuMCA6IC0xLjAsICh2LnkgPj0gMC4wKSA:IDEuMCA6IC0xLjApOwp9CgpmbG9hdCBwYWNrRmxvYXQoZmxvYXQgZjEsIGZsb2F0IGYyKQp7CiAgICBmbG9hdCBpbmRleCA9IGZsb29yKGYxICogMTAwLjApOwogICAgZmxvYXQgYWxwaGEgPSBjbGFtcChmMiwgMC4wLCAwLjk5OTAwMDAxMjg3NDYwMzI3MTQ4NDM3NSk7CiAgICByZXR1cm4gaW5kZXggKyBhbHBoYTsKfQoKdm9pZCBtYWluKCkKewogICAgdmVjMyBuID0gbm9ybWFsaXplKHdub3JtYWwpOwogICAgdmVjMyBiYXNlY29sID0gdmVjMygwLjgwMDAwMDA3MTUyNTU3MzczMDQ2ODc1LCAwLjEzMzYzOTI0NjIyNTM1NzA1NTY2NDA2MjUsIDAuMDU1NTcxMDkwNDMwMDIxMjg2MDEwNzQyMTg3NSk7CiAgICBmbG9hdCByb3VnaG5lc3MgPSAwLjA7CiAgICBmbG9hdCBtZXRhbGxpYyA9IDAuMDsKICAgIGZsb2F0IG9jY2x1c2lvbiA9IDEuMDsKICAgIG4gLz0gdmVjMygoYWJzKG4ueCkgKyBhYnMobi55KSkgKyBhYnMobi56KSk7CiAgICB2ZWMyIF84MjsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF84MiA9IG4ueHk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzgyID0gb2N0YWhlZHJvbldyYXAobi54eSk7CiAgICB9CiAgICBuID0gdmVjMyhfODIueCwgXzgyLnksIG4ueik7CiAgICBmcmFnQ29sb3JbMF0gPSB2ZWM0KG4ueHksIHBhY2tGbG9hdChtZXRhbGxpYywgcm91Z2huZXNzKSwgMS4wIC0gZ2xfRnJhZ0Nvb3JkLnopOwogICAgZnJhZ0NvbG9yWzFdID0gdmVjNChiYXNlY29sLCBvY2NsdXNpb24pOwp9Cgo";
kha_Shaders.Material_mesh_vertData0 = "s408:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgp1bmlmb3JtIG1hdDMgTjsKdW5pZm9ybSBtYXQ0IFdWUDsKCmluIHZlYzMgcG9zOwpvdXQgdmVjMyB3bm9ybWFsOwppbiB2ZWMzIG5vcjsKCnZvaWQgbWFpbigpCnsKICAgIHZlYzQgc3BvcyA9IHZlYzQocG9zLCAxLjApOwogICAgd25vcm1hbCA9IG5vcm1hbGl6ZShOICogbm9yKTsKICAgIGdsX1Bvc2l0aW9uID0gV1ZQICogc3BvczsKfQoK";
kha_Shaders.Material_shadowmap_fragData0 = "s174:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgp2b2lkIG1haW4oKQp7Cn0KCg";
kha_Shaders.Material_shadowmap_vertData0 = "s320:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgp1bmlmb3JtIG1hdDQgTFdWUDsKCmluIHZlYzMgcG9zOwppbiB2ZWMzIG5vcjsKCnZvaWQgbWFpbigpCnsKICAgIHZlYzQgc3BvcyA9IHZlYzQocG9zLCAxLjApOwogICAgZ2xfUG9zaXRpb24gPSBMV1ZQICogc3BvczsKfQoK";
kha_Shaders.armdefault_mesh_fragData0 = "s1291:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgppbiB2ZWMzIHdub3JtYWw7Cm91dCB2ZWM0IGZyYWdDb2xvclsyXTsKCnZlYzIgb2N0YWhlZHJvbldyYXAodmVjMiB2KQp7CiAgICByZXR1cm4gKHZlYzIoMS4wKSAtIGFicyh2Lnl4KSkgKiB2ZWMyKCh2LnggPj0gMC4wKSA:IDEuMCA6IC0xLjAsICh2LnkgPj0gMC4wKSA:IDEuMCA6IC0xLjApOwp9CgpmbG9hdCBwYWNrRmxvYXQoZmxvYXQgZjEsIGZsb2F0IGYyKQp7CiAgICBmbG9hdCBpbmRleCA9IGZsb29yKGYxICogMTAwLjApOwogICAgZmxvYXQgYWxwaGEgPSBjbGFtcChmMiwgMC4wLCAwLjk5OTAwMDAxMjg3NDYwMzI3MTQ4NDM3NSk7CiAgICByZXR1cm4gaW5kZXggKyBhbHBoYTsKfQoKdm9pZCBtYWluKCkKewogICAgdmVjMyBuID0gbm9ybWFsaXplKHdub3JtYWwpOwogICAgdmVjMyBiYXNlY29sID0gdmVjMygwLjgwMDAwMDAxMTkyMDkyODk1NTA3ODEyNSk7CiAgICBmbG9hdCByb3VnaG5lc3MgPSAwLjA7CiAgICBmbG9hdCBtZXRhbGxpYyA9IDAuMDsKICAgIGZsb2F0IG9jY2x1c2lvbiA9IDEuMDsKICAgIG4gLz0gdmVjMygoYWJzKG4ueCkgKyBhYnMobi55KSkgKyBhYnMobi56KSk7CiAgICB2ZWMyIF84MDsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF84MCA9IG4ueHk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzgwID0gb2N0YWhlZHJvbldyYXAobi54eSk7CiAgICB9CiAgICBuID0gdmVjMyhfODAueCwgXzgwLnksIG4ueik7CiAgICBmcmFnQ29sb3JbMF0gPSB2ZWM0KG4ueHksIHBhY2tGbG9hdChtZXRhbGxpYywgcm91Z2huZXNzKSwgMS4wIC0gZ2xfRnJhZ0Nvb3JkLnopOwogICAgZnJhZ0NvbG9yWzFdID0gdmVjNChiYXNlY29sLCBvY2NsdXNpb24pOwp9Cgo";
kha_Shaders.armdefault_mesh_vertData0 = "s408:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgp1bmlmb3JtIG1hdDMgTjsKdW5pZm9ybSBtYXQ0IFdWUDsKCmluIHZlYzMgcG9zOwpvdXQgdmVjMyB3bm9ybWFsOwppbiB2ZWMzIG5vcjsKCnZvaWQgbWFpbigpCnsKICAgIHZlYzQgc3BvcyA9IHZlYzQocG9zLCAxLjApOwogICAgd25vcm1hbCA9IG5vcm1hbGl6ZShOICogbm9yKTsKICAgIGdsX1Bvc2l0aW9uID0gV1ZQICogc3BvczsKfQoK";
kha_Shaders.line_fragData0 = "s267:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgpvdXQgdmVjNCBmcmFnQ29sb3I7CmluIHZlYzMgY29sb3I7Cgp2b2lkIG1haW4oKQp7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCAxLjApOwp9Cgo";
kha_Shaders.line_deferred_fragData0 = "s426:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgpvdXQgdmVjNCBmcmFnQ29sb3JbMl07CmluIHZlYzMgY29sb3I7CnZlYzQgd3ZwcG9zaXRpb247Cgp2b2lkIG1haW4oKQp7CiAgICBmcmFnQ29sb3JbMF0gPSB2ZWM0KDEuMCwgMS4wLCAwLjAsIDEuMCAtICgoKHd2cHBvc2l0aW9uLnogLyB3dnBwb3NpdGlvbi53KSAqIDAuNSkgKyAwLjUpKTsKICAgIGZyYWdDb2xvclsxXSA9IHZlYzQoY29sb3IsIDEuMCk7Cn0KCg";
kha_Shaders.line_vertData0 = "s400:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgp1bmlmb3JtIG1hdDQgVlA7CgpvdXQgdmVjMyBjb2xvcjsKaW4gdmVjMyBjb2w7CmluIHZlYzMgcG9zOwpvdXQgdmVjNCB3dnBwb3NpdGlvbjsKCnZvaWQgbWFpbigpCnsKICAgIGNvbG9yID0gY29sOwogICAgZ2xfUG9zaXRpb24gPSBWUCAqIHZlYzQocG9zLCAxLjApOwogICAgd3ZwcG9zaXRpb24gPSBnbF9Qb3NpdGlvbjsKfQoK";
kha_Shaders.painter_colored_fragData0 = "s274:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgpvdXQgdmVjNCBGcmFnQ29sb3I7CmluIHZlYzQgZnJhZ21lbnRDb2xvcjsKCnZvaWQgbWFpbigpCnsKICAgIEZyYWdDb2xvciA9IGZyYWdtZW50Q29sb3I7Cn0KCg";
kha_Shaders.painter_colored_vertData0 = "s439:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgp1bmlmb3JtIG1hdDQgcHJvamVjdGlvbk1hdHJpeDsKCmluIHZlYzMgdmVydGV4UG9zaXRpb247Cm91dCB2ZWM0IGZyYWdtZW50Q29sb3I7CmluIHZlYzQgdmVydGV4Q29sb3I7Cgp2b2lkIG1haW4oKQp7CiAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiB2ZWM0KHZlcnRleFBvc2l0aW9uLCAxLjApOwogICAgZnJhZ21lbnRDb2xvciA9IHZlcnRleENvbG9yOwp9Cgo";
kha_Shaders.painter_image_vertData0 = "s508:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgp1bmlmb3JtIG1hdDQgcHJvamVjdGlvbk1hdHJpeDsKCmluIHZlYzMgdmVydGV4UG9zaXRpb247Cm91dCB2ZWMyIHRleENvb3JkOwppbiB2ZWMyIHRleFBvc2l0aW9uOwpvdXQgdmVjNCBjb2xvcjsKaW4gdmVjNCB2ZXJ0ZXhDb2xvcjsKCnZvaWQgbWFpbigpCnsKICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZlYzQodmVydGV4UG9zaXRpb24sIDEuMCk7CiAgICB0ZXhDb29yZCA9IHRleFBvc2l0aW9uOwogICAgY29sb3IgPSB2ZXJ0ZXhDb2xvcjsKfQoK";
kha_Shaders.painter_image_fragData0 = "s506:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgp1bmlmb3JtIHNhbXBsZXIyRCB0ZXg7CgppbiB2ZWMyIHRleENvb3JkOwppbiB2ZWM0IGNvbG9yOwpvdXQgdmVjNCBGcmFnQ29sb3I7Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWM0IHRleGNvbG9yID0gdGV4dHVyZSh0ZXgsIHRleENvb3JkKSAqIGNvbG9yOwogICAgdmVjMyBfMzIgPSB0ZXhjb2xvci54eXogKiBjb2xvci53OwogICAgdGV4Y29sb3IgPSB2ZWM0KF8zMi54LCBfMzIueSwgXzMyLnosIHRleGNvbG9yLncpOwogICAgRnJhZ0NvbG9yID0gdGV4Y29sb3I7Cn0KCg";
kha_Shaders.painter_text_fragData0 = "s402:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgp1bmlmb3JtIHNhbXBsZXIyRCB0ZXg7CgpvdXQgdmVjNCBGcmFnQ29sb3I7CmluIHZlYzQgZnJhZ21lbnRDb2xvcjsKaW4gdmVjMiB0ZXhDb29yZDsKCnZvaWQgbWFpbigpCnsKICAgIEZyYWdDb2xvciA9IHZlYzQoZnJhZ21lbnRDb2xvci54eXosIHRleHR1cmUodGV4LCB0ZXhDb29yZCkueCAqIGZyYWdtZW50Q29sb3Iudyk7Cn0KCg";
kha_Shaders.painter_video_fragData0 = "s506:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgp1bmlmb3JtIHNhbXBsZXIyRCB0ZXg7CgppbiB2ZWMyIHRleENvb3JkOwppbiB2ZWM0IGNvbG9yOwpvdXQgdmVjNCBGcmFnQ29sb3I7Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWM0IHRleGNvbG9yID0gdGV4dHVyZSh0ZXgsIHRleENvb3JkKSAqIGNvbG9yOwogICAgdmVjMyBfMzIgPSB0ZXhjb2xvci54eXogKiBjb2xvci53OwogICAgdGV4Y29sb3IgPSB2ZWM0KF8zMi54LCBfMzIueSwgXzMyLnosIHRleGNvbG9yLncpOwogICAgRnJhZ0NvbG9yID0gdGV4Y29sb3I7Cn0KCg";
kha_Shaders.painter_text_vertData0 = "s530:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgp1bmlmb3JtIG1hdDQgcHJvamVjdGlvbk1hdHJpeDsKCmluIHZlYzMgdmVydGV4UG9zaXRpb247Cm91dCB2ZWMyIHRleENvb3JkOwppbiB2ZWMyIHRleFBvc2l0aW9uOwpvdXQgdmVjNCBmcmFnbWVudENvbG9yOwppbiB2ZWM0IHZlcnRleENvbG9yOwoKdm9pZCBtYWluKCkKewogICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogdmVjNCh2ZXJ0ZXhQb3NpdGlvbiwgMS4wKTsKICAgIHRleENvb3JkID0gdGV4UG9zaXRpb247CiAgICBmcmFnbWVudENvbG9yID0gdmVydGV4Q29sb3I7Cn0KCg";
kha_Shaders.painter_video_vertData0 = "s508:I3ZlcnNpb24gMzMwCiNpZmRlZiBHTF9BUkJfc2hhZGluZ19sYW5ndWFnZV80MjBwYWNrCiNleHRlbnNpb24gR0xfQVJCX3NoYWRpbmdfbGFuZ3VhZ2VfNDIwcGFjayA6IHJlcXVpcmUKI2VuZGlmCgp1bmlmb3JtIG1hdDQgcHJvamVjdGlvbk1hdHJpeDsKCmluIHZlYzMgdmVydGV4UG9zaXRpb247Cm91dCB2ZWMyIHRleENvb3JkOwppbiB2ZWMyIHRleFBvc2l0aW9uOwpvdXQgdmVjNCBjb2xvcjsKaW4gdmVjNCB2ZXJ0ZXhDb2xvcjsKCnZvaWQgbWFpbigpCnsKICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZlYzQodmVydGV4UG9zaXRpb24sIDEuMCk7CiAgICB0ZXhDb29yZCA9IHRleFBvc2l0aW9uOwogICAgY29sb3IgPSB2ZXJ0ZXhDb2xvcjsKfQoK";
kha_System.renderListeners = [];
kha_System.foregroundListeners = [];
kha_System.resumeListeners = [];
kha_System.pauseListeners = [];
kha_System.backgroundListeners = [];
kha_System.shutdownListeners = [];
kha_System.dropFilesListeners = [];
kha_SystemImpl.maxGamepads = 4;
kha_SystemImpl.mouseLockListeners = [];
kha_audio2_Audio1.channelCount = 16;
kha_audio2_ogg_tools_Crc32.POLY = 79764919;
kha_audio2_ogg_vorbis_VorbisDecodeState.INVALID_BITS = -1;
kha_audio2_ogg_vorbis_VorbisTools.EOP = -1;
kha_audio2_ogg_vorbis_VorbisTools.M__PI = 3.14159265358979323846264;
kha_audio2_ogg_vorbis_VorbisTools.DIVTAB_NUMER = 32;
kha_audio2_ogg_vorbis_VorbisTools.DIVTAB_DENOM = 64;
kha_audio2_ogg_vorbis_VorbisTools.INVERSE_DB_TABLE = [1.0649863e-07,1.1341951e-07,1.2079015e-07,1.2863978e-07,1.3699951e-07,1.4590251e-07,1.5538408e-07,1.6548181e-07,1.7623575e-07,1.8768855e-07,1.9988561e-07,2.1287530e-07,2.2670913e-07,2.4144197e-07,2.5713223e-07,2.7384213e-07,2.9163793e-07,3.1059021e-07,3.3077411e-07,3.5226968e-07,3.7516214e-07,3.9954229e-07,4.2550680e-07,4.5315863e-07,4.8260743e-07,5.1396998e-07,5.4737065e-07,5.8294187e-07,6.2082472e-07,6.6116941e-07,7.0413592e-07,7.4989464e-07,7.9862701e-07,8.5052630e-07,9.0579828e-07,9.6466216e-07,1.0273513e-06,1.0941144e-06,1.1652161e-06,1.2409384e-06,1.3215816e-06,1.4074654e-06,1.4989305e-06,1.5963394e-06,1.7000785e-06,1.8105592e-06,1.9282195e-06,2.0535261e-06,2.1869758e-06,2.3290978e-06,2.4804557e-06,2.6416497e-06,2.8133190e-06,2.9961443e-06,3.1908506e-06,3.3982101e-06,3.6190449e-06,3.8542308e-06,4.1047004e-06,4.3714470e-06,4.6555282e-06,4.9580707e-06,5.2802740e-06,5.6234160e-06,5.9888572e-06,6.3780469e-06,6.7925283e-06,7.2339451e-06,7.7040476e-06,8.2047000e-06,8.7378876e-06,9.3057248e-06,9.9104632e-06,1.0554501e-05,1.1240392e-05,1.1970856e-05,1.2748789e-05,1.3577278e-05,1.4459606e-05,1.5399272e-05,1.6400004e-05,1.7465768e-05,1.8600792e-05,1.9809576e-05,2.1096914e-05,2.2467911e-05,2.3928002e-05,2.5482978e-05,2.7139006e-05,2.8902651e-05,3.0780908e-05,3.2781225e-05,3.4911534e-05,3.7180282e-05,3.9596466e-05,4.2169667e-05,4.4910090e-05,4.7828601e-05,5.0936773e-05,5.4246931e-05,5.7772202e-05,6.1526565e-05,6.5524908e-05,6.9783085e-05,7.4317983e-05,7.9147585e-05,8.4291040e-05,8.9768747e-05,9.5602426e-05,0.00010181521,0.00010843174,0.00011547824,0.00012298267,0.00013097477,0.00013948625,0.00014855085,0.00015820453,0.00016848555,0.00017943469,0.00019109536,0.00020351382,0.00021673929,0.00023082423,0.00024582449,0.00026179955,0.00027881276,0.00029693158,0.00031622787,0.00033677814,0.00035866388,0.00038197188,0.00040679456,0.00043323036,0.00046138411,0.00049136745,0.00052329927,0.00055730621,0.00059352311,0.00063209358,0.00067317058,0.00071691700,0.00076350630,0.00081312324,0.00086596457,0.00092223983,0.00098217216,0.0010459992,0.0011139742,0.0011863665,0.0012634633,0.0013455702,0.0014330129,0.0015261382,0.0016253153,0.0017309374,0.0018434235,0.0019632195,0.0020908006,0.0022266726,0.0023713743,0.0025254795,0.0026895994,0.0028643847,0.0030505286,0.0032487691,0.0034598925,0.0036847358,0.0039241906,0.0041792066,0.0044507950,0.0047400328,0.0050480668,0.0053761186,0.0057254891,0.0060975636,0.0064938176,0.0069158225,0.0073652516,0.0078438871,0.0083536271,0.0088964928,0.009474637,0.010090352,0.010746080,0.011444421,0.012188144,0.012980198,0.013823725,0.014722068,0.015678791,0.016697687,0.017782797,0.018938423,0.020169149,0.021479854,0.022875735,0.024362330,0.025945531,0.027631618,0.029427276,0.031339626,0.033376252,0.035545228,0.037855157,0.040315199,0.042935108,0.045725273,0.048696758,0.051861348,0.055231591,0.058820850,0.062643361,0.066714279,0.071049749,0.075666962,0.080584227,0.085821044,0.091398179,0.097337747,0.10366330,0.11039993,0.11757434,0.12521498,0.13335215,0.14201813,0.15124727,0.16107617,0.17154380,0.18269168,0.19456402,0.20720788,0.22067342,0.23501402,0.25028656,0.26655159,0.28387361,0.30232132,0.32196786,0.34289114,0.36517414,0.38890521,0.41417847,0.44109412,0.46975890,0.50028648,0.53279791,0.56742212,0.60429640,0.64356699,0.68538959,0.72993007,0.77736504,0.82788260,0.88168307,0.9389798,1.0];
kha_audio2_ogg_vorbis_data_Codebook.NO_CODE = 255;
kha_audio2_ogg_vorbis_data_Codebook.delay = 0;
kha_audio2_ogg_vorbis_data_Header.PACKET_ID = 1;
kha_audio2_ogg_vorbis_data_Header.PACKET_COMMENT = 3;
kha_audio2_ogg_vorbis_data_Header.PACKET_SETUP = 5;
kha_audio2_ogg_vorbis_data_PageFlag.CONTINUED_PACKET = 1;
kha_audio2_ogg_vorbis_data_PageFlag.FIRST_PAGE = 2;
kha_audio2_ogg_vorbis_data_PageFlag.LAST_PAGE = 4;
kha_audio2_ogg_vorbis_data_Setting.MAX_CHANNELS = 16;
kha_audio2_ogg_vorbis_data_Setting.PUSHDATA_CRC_COUNT = 4;
kha_audio2_ogg_vorbis_data_Setting.FAST_HUFFMAN_LENGTH = 10;
kha_audio2_ogg_vorbis_data_Setting.FAST_HUFFMAN_TABLE_SIZE = 1024;
kha_audio2_ogg_vorbis_data_Setting.FAST_HUFFMAN_TABLE_MASK = 1023;
kha_graphics2_Graphics._glyphs = (function($this) {
	var $r;
	var _g = [];
	{
		var _g1 = 32;
		while(_g1 < 256) {
			var i = _g1++;
			_g.push(i);
		}
	}
	$r = _g;
	return $r;
}(this));
kha_graphics2_truetype_StbTruetype.STBTT_vmove = 1;
kha_graphics2_truetype_StbTruetype.STBTT_vline = 2;
kha_graphics2_truetype_StbTruetype.STBTT_vcurve = 3;
kha_graphics2_truetype_StbTruetype.STBTT_MACSTYLE_DONTCARE = 0;
kha_graphics2_truetype_StbTruetype.STBTT_MACSTYLE_BOLD = 1;
kha_graphics2_truetype_StbTruetype.STBTT_MACSTYLE_ITALIC = 2;
kha_graphics2_truetype_StbTruetype.STBTT_MACSTYLE_UNDERSCORE = 4;
kha_graphics2_truetype_StbTruetype.STBTT_MACSTYLE_NONE = 8;
kha_graphics2_truetype_StbTruetype.STBTT_PLATFORM_ID_UNICODE = 0;
kha_graphics2_truetype_StbTruetype.STBTT_PLATFORM_ID_MAC = 1;
kha_graphics2_truetype_StbTruetype.STBTT_PLATFORM_ID_ISO = 2;
kha_graphics2_truetype_StbTruetype.STBTT_PLATFORM_ID_MICROSOFT = 3;
kha_graphics2_truetype_StbTruetype.STBTT_UNICODE_EID_UNICODE_1_0 = 0;
kha_graphics2_truetype_StbTruetype.STBTT_UNICODE_EID_UNICODE_1_1 = 1;
kha_graphics2_truetype_StbTruetype.STBTT_UNICODE_EID_ISO_10646 = 2;
kha_graphics2_truetype_StbTruetype.STBTT_UNICODE_EID_UNICODE_2_0_BMP = 3;
kha_graphics2_truetype_StbTruetype.STBTT_UNICODE_EID_UNICODE_2_0_FULL = 4;
kha_graphics2_truetype_StbTruetype.STBTT_MS_EID_SYMBOL = 0;
kha_graphics2_truetype_StbTruetype.STBTT_MS_EID_UNICODE_BMP = 1;
kha_graphics2_truetype_StbTruetype.STBTT_MS_EID_SHIFTJIS = 2;
kha_graphics2_truetype_StbTruetype.STBTT_MS_EID_UNICODE_FULL = 10;
kha_graphics2_truetype_StbTruetype.STBTT_MAC_EID_ROMAN = 0;
kha_graphics2_truetype_StbTruetype.STBTT_MAC_EID_ARABIC = 4;
kha_graphics2_truetype_StbTruetype.STBTT_MAC_EID_JAPANESE = 1;
kha_graphics2_truetype_StbTruetype.STBTT_MAC_EID_HEBREW = 5;
kha_graphics2_truetype_StbTruetype.STBTT_MAC_EID_CHINESE_TRAD = 2;
kha_graphics2_truetype_StbTruetype.STBTT_MAC_EID_GREEK = 6;
kha_graphics2_truetype_StbTruetype.STBTT_MAC_EID_KOREAN = 3;
kha_graphics2_truetype_StbTruetype.STBTT_MAC_EID_RUSSIAN = 7;
kha_graphics2_truetype_StbTruetype.STBTT_MS_LANG_ENGLISH = 1033;
kha_graphics2_truetype_StbTruetype.STBTT_MS_LANG_ITALIAN = 1040;
kha_graphics2_truetype_StbTruetype.STBTT_MS_LANG_CHINESE = 2052;
kha_graphics2_truetype_StbTruetype.STBTT_MS_LANG_JAPANESE = 1041;
kha_graphics2_truetype_StbTruetype.STBTT_MS_LANG_DUTCH = 1043;
kha_graphics2_truetype_StbTruetype.STBTT_MS_LANG_KOREAN = 1042;
kha_graphics2_truetype_StbTruetype.STBTT_MS_LANG_FRENCH = 1036;
kha_graphics2_truetype_StbTruetype.STBTT_MS_LANG_RUSSIAN = 1049;
kha_graphics2_truetype_StbTruetype.STBTT_MS_LANG_GERMAN = 1031;
kha_graphics2_truetype_StbTruetype.STBTT_MS_LANG_SPANISH = 1033;
kha_graphics2_truetype_StbTruetype.STBTT_MS_LANG_HEBREW = 1037;
kha_graphics2_truetype_StbTruetype.STBTT_MS_LANG_SWEDISH = 1053;
kha_graphics2_truetype_StbTruetype.STBTT_MAC_LANG_ENGLISH = 0;
kha_graphics2_truetype_StbTruetype.STBTT_MAC_LANG_JAPANESE = 11;
kha_graphics2_truetype_StbTruetype.STBTT_MAC_LANG_ARABIC = 12;
kha_graphics2_truetype_StbTruetype.STBTT_MAC_LANG_KOREAN = 23;
kha_graphics2_truetype_StbTruetype.STBTT_MAC_LANG_DUTCH = 4;
kha_graphics2_truetype_StbTruetype.STBTT_MAC_LANG_RUSSIAN = 32;
kha_graphics2_truetype_StbTruetype.STBTT_MAC_LANG_FRENCH = 1;
kha_graphics2_truetype_StbTruetype.STBTT_MAC_LANG_SPANISH = 6;
kha_graphics2_truetype_StbTruetype.STBTT_MAC_LANG_GERMAN = 2;
kha_graphics2_truetype_StbTruetype.STBTT_MAC_LANG_SWEDISH = 5;
kha_graphics2_truetype_StbTruetype.STBTT_MAC_LANG_HEBREW = 10;
kha_graphics2_truetype_StbTruetype.STBTT_MAC_LANG_CHINESE_SIMPLIFIED = 33;
kha_graphics2_truetype_StbTruetype.STBTT_MAC_LANG_ITALIAN = 3;
kha_graphics2_truetype_StbTruetype.STBTT_MAC_LANG_CHINESE_TRAD = 19;
kha_graphics2_truetype_StbTruetype.STBTT_MAX_OVERSAMPLE = 8;
kha_graphics2_truetype_StbTruetype.STBTT_RASTERIZER_VERSION = 2;
kha_graphics4_ImageShaderPainter.bufferSize = 1500;
kha_graphics4_ImageShaderPainter.vertexSize = 9;
kha_graphics4_ColoredShaderPainter.bufferSize = 100;
kha_graphics4_ColoredShaderPainter.triangleBufferSize = 100;
kha_graphics4_TextShaderPainter.bufferSize = 100;
kha_input_Gamepad.__meta__ = { statics : { sendConnectEvent : { input : null}, sendDisconnectEvent : { input : null}}, fields : { sendAxisEvent : { input : null}, sendButtonEvent : { input : null}}};
kha_input_Gamepad.instances = [];
kha_input_Gamepad.connectListeners = [];
kha_input_Gamepad.disconnectListeners = [];
kha_input_Keyboard.__meta__ = { fields : { sendDownEvent : { input : null}, sendUpEvent : { input : null}, sendPressEvent : { input : null}}};
kha_input_Mouse.__meta__ = { fields : { sendLeaveEvent : { input : null}, sendDownEvent : { input : null}, sendUpEvent : { input : null}, sendMoveEvent : { input : null}, sendWheelEvent : { input : null}}};
kha_internal_BytesBlob.bufferSize = 2000;
kha_math_Matrix3.width = 3;
kha_math_Matrix3.height = 3;
kha_math_Matrix4.width = 4;
kha_math_Matrix4.height = 4;
kha_network_ControllerBuilder.nextId = 0;
kha_network_Session.START = 0;
kha_network_Session.ENTITY_UPDATES = 1;
kha_network_Session.CONTROLLER_UPDATES = 2;
kha_network_Session.REMOTE_CALL = 3;
kha_network_Session.PING = 4;
kha_network_Session.SESSION_ERROR = 5;
kha_network_Session.PLAYER_UPDATES = 6;
kha_network_Session.RPC_SERVER = 0;
kha_network_Session.RPC_ALL = 1;
kha_network_SyncBuilder.nextId = 0;
kha_network_SyncBuilder.objects = [];
zui_Canvas.assetMap = new haxe_ds_IntMap();
zui_Canvas.events = [];
zui_Canvas.screenW = -1;
zui_Canvas.screenH = -1;
zui_Canvas.elemId = -1;
zui_Canvas.assetId = -1;
zui_Id.i = 0;
zui_Themes.dark = { FONT_SIZE : 13, ELEMENT_W : 100, ELEMENT_H : 22, ELEMENT_OFFSET : 2, ARROW_SIZE : 5, BUTTON_H : 17, CHECK_SIZE : 15, CHECK_SELECT_SIZE : 8, SCROLL_W : 8, TEXT_OFFSET : 8, TAB_W : 12, LINE_STRENGTH : 1, FLASH_SPEED : 0.5, TOOLTIP_DELAY : 1.0, FILL_WINDOW_BG : false, FILL_BUTTON_BG : true, FILL_ACCENT_BG : false, WINDOW_BG_COL : -14671840, WINDOW_TINT_COL : -1, ACCENT_COL : -12566464, ACCENT_HOVER_COL : -11513776, ACCENT_SELECT_COL : -10066330, PANEL_BG_COL : -16777216, PANEL_TEXT_COL : -1118482, BUTTON_COL : -13948117, BUTTON_TEXT_COL : -3487289, BUTTON_HOVER_COL : -12895429, BUTTON_PRESSED_COL : -15000805, TEXT_COL : -3487289, LABEL_COL : -5592406, ARROW_COL : -3487289, SEPARATOR_COL : -14277082};
zui_Zui.comboFirst = true;
zui_Handle.global = new zui_Handle();
Main.main();

//# sourceMappingURL=krom.js.temp.map